{
  "version": 3,
  "sources": ["../../../src/lib/classes/navigation.ts"],
  "sourcesContent": ["import type { Panel } from '../controller/panel';\nimport { BaseClass, type AdapterClassDefinition } from '../controller/library';\nimport { Color, type RGB } from '../const/Color';\nimport { Icons } from '../const/icon_mapping';\nimport type { Page } from './Page';\nimport { getPayload, getPayloadRemoveTilde } from '../const/tools';\nimport { genericStateObjects } from '../const/definition';\ntype optionalActionsType = 'notifications';\nexport type NavigationItemConfig = {\n    name: string;\n    left?: {\n        single?: string;\n        double?: string;\n    };\n    right?: {\n        single?: string;\n        double?: string;\n    };\n    page: string;\n    optional?: optionalActionsType;\n} | null;\n\nexport function isNavigationItemConfigArray(a: any[]): a is NavigationItemConfig[] {\n    if (!a) {\n        return false;\n    }\n    for (const n of a) {\n        if (!isNavigationItemConfig(n)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function isNavigationItemConfig(a: any): a is NavigationItemConfig {\n    if (a === undefined) {\n        return false;\n    }\n    if (a === null) {\n        return true;\n    }\n    if (typeof a !== 'object' || !a.name || typeof a.name !== 'string') {\n        return false;\n    }\n    if (a.left && typeof a.left !== 'object') {\n        return false;\n    }\n    if (a.right && typeof a.right !== 'object') {\n        return false;\n    }\n    if (!a.page || typeof a.page !== 'string') {\n        return false;\n    }\n    if (\n        a.right &&\n        ((a.right.single && typeof a.right.single !== 'string') ||\n            (a.right.double && typeof a.right.double !== 'string'))\n    ) {\n        return false;\n    }\n    if (\n        a.left &&\n        ((a.left.single && typeof a.left.single !== 'string') || (a.left.double && typeof a.left.double !== 'string'))\n    ) {\n        return false;\n    }\n\n    return true;\n}\nexport type NavigationItemConfigNonNull = NonNullable<NavigationItemConfig>;\ntype NavigationItem = {\n    left: {\n        single?: number;\n        double?: number;\n    };\n    right: {\n        single?: number;\n        double?: number;\n    };\n    page: Page;\n    index: number;\n} | null;\n\nexport interface NavigationConfig {\n    adapter: AdapterClassDefinition;\n    panel: Panel;\n    navigationConfig: NavigationItemConfig[];\n}\n\nexport class Navigation extends BaseClass {\n    panel: Panel;\n    private database: NavigationItem[] = [];\n    private navigationConfig: NavigationItemConfigNonNull[];\n    private mainPage = 'main';\n    private _currentItem: number = 0;\n    private initDone = false;\n    private infityCounter = 0;\n    public get currentItem(): number {\n        return this._currentItem;\n    }\n    public set currentItem(value: number) {\n        const c = this.navigationConfig[value];\n        if (c) {\n            if (!this.initDone) {\n                const states = this.buildCommonStates();\n                genericStateObjects.panel.panels.cmd.goToNavigationPoint.common.states = states;\n                void this.library\n                    .writedp(\n                        `panels.${this.panel.name}.cmd.goToNavigationPoint`,\n                        c.name,\n                        genericStateObjects.panel.panels.cmd.goToNavigationPoint,\n                    )\n                    .catch();\n                this.initDone = true;\n            } else {\n                void this.library.writedp(`panels.${this.panel.name}.cmd.goToNavigationPoint`, c.name).catch();\n            }\n        }\n        this._currentItem = value;\n    }\n    constructor(config: NavigationConfig) {\n        super(config.adapter, `${config.panel.friendlyName}-navigation`);\n        this.panel = config.panel;\n        this.navigationConfig = config.navigationConfig.filter(a => a !== null && a != null);\n    }\n\n    init(): void {\n        this.database = [];\n        let serviceLeft = '';\n        let serviceRight = '';\n        let serviceID: number | null = null;\n\n        // Sortiere so, dass \"main\" zuerst kommt\n        this.navigationConfig.sort((a, b) => {\n            if (a.name === 'main') {\n                return -1;\n            }\n            if (b.name === 'main') {\n                return 1;\n            }\n            return a.name.localeCompare(b.name);\n        });\n\n        // Erzeuge Datenbank-Eintr\u00E4ge\n        for (let a = 0; a < this.navigationConfig.length; a++) {\n            const c = this.navigationConfig[a];\n            if (!c) {\n                continue;\n            }\n\n            if (c.left?.single === '///service') {\n                serviceRight = c.name;\n            }\n            if (c.right?.single === '///service') {\n                serviceLeft = c.name;\n            }\n            if (c.name === '///service') {\n                if (serviceID !== null) {\n                    this.log.warn(`Multiple \"///service\" nodes detected (at least at indices ${serviceID} and ${a}).`);\n                }\n                serviceID = a;\n            }\n\n            const pageID = this.panel.getPagebyUniqueID(c.page);\n            if (pageID !== null) {\n                this.database[a] = { page: pageID, left: {}, right: {}, index: a };\n            }\n        }\n\n        // Service-Knoten patchen\n        if (serviceID !== null) {\n            const c = this.navigationConfig[serviceID];\n            if (c) {\n                if (serviceLeft) {\n                    c.left = { single: serviceLeft };\n                }\n                if (serviceRight) {\n                    c.right = { single: serviceRight };\n                }\n            }\n        }\n\n        // Verkn\u00FCpfungen aufl\u00F6sen\n        for (let a = 0; a < this.database.length; a++) {\n            const c = this.navigationConfig[a];\n            const i = this.database[a];\n            if (!c || !i) {\n                continue;\n            }\n\n            for (const nk of ['left', 'right'] as const) {\n                const r = c[nk];\n                if (!r) {\n                    continue;\n                }\n\n                for (const nk2 of ['single', 'double'] as const) {\n                    const r2 = r[nk2];\n                    if (!r2) {\n                        continue;\n                    }\n\n                    const found = this.navigationConfig.find(entry => entry && entry.name === r2);\n                    if (found) {\n                        const idx = this.navigationConfig.indexOf(found);\n                        i[nk][nk2] = idx;\n                    } else {\n                        this.log.warn(`Didn't find a navigation node with name \"${r2}\".`);\n                    }\n                }\n            }\n        }\n    }\n    async setPageByIndex(index: number | undefined, d?: 'left' | 'right'): Promise<void> {\n        if (index !== -1 && index !== undefined) {\n            const item = this.database[index];\n            if (item) {\n                this.currentItem = index;\n                if (this.panel.hideCards && item.page.hidden) {\n                    if (d) {\n                        this.infityCounter++;\n                        if (this.infityCounter > 10) {\n                            this.log.error(\n                                `Infinite loop detected in navigation: hidden - ${item.page.id} - ${item.page.name} - set navigation to main page.`,\n                            );\n                            await this.setTargetPageByName(this.mainPage);\n                            this.infityCounter = 0;\n                            return;\n                        }\n                        this.go(d);\n                    }\n                    return;\n                }\n                this.infityCounter = 0;\n                await this.panel.setActivePage(item.page);\n                await this.optionalActions(item);\n            }\n        }\n    }\n    getDatabase(): NavigationItem[] {\n        return this.database;\n    }\n\n    async setTargetPageByName(n: string): Promise<void> {\n        const index = this.navigationConfig.findIndex(a => a && a.name === n);\n        if (index !== -1) {\n            await this.setPageByIndex(index);\n        } else {\n            this.log.warn(`Dont find navigation target for ${n}`);\n        }\n    }\n    setMainPageByName(n: string): void {\n        const index = this.navigationConfig.findIndex(a => a && a.name === n);\n        if (index !== -1 && this.database[index]) {\n            this.mainPage = this.navigationConfig[index].name;\n        } else {\n            this.log.warn(`Dont find navigation main page for ${n}`);\n        }\n    }\n\n    buildCommonStates(): Record<string, string> {\n        const result: Record<string, string> = {};\n        const clone = structuredClone(this.navigationConfig);\n        clone.sort((a, b) => {\n            const aName = a.name.toLowerCase();\n            const bName = b.name.toLowerCase();\n            if (!(bName.startsWith('///') && aName.startsWith('///'))) {\n                if (bName.startsWith('///')) {\n                    return -1;\n                }\n                if (aName.startsWith('///')) {\n                    return 1;\n                }\n            }\n            if (aName > bName) {\n                return 1;\n            }\n            if (aName < bName) {\n                return -1;\n            }\n            return 0;\n        });\n        for (const n of clone) {\n            if (n) {\n                result[n.name] = n.name;\n            }\n        }\n        return result;\n    }\n    goLeft(short: boolean): void {\n        this.go('left', short);\n    }\n    goRight(short: boolean): void {\n        this.go('right', short);\n    }\n    private go(d: 'left' | 'right', single: boolean = false): void {\n        const i = this.database[this.currentItem];\n        if (!i) {\n            this.log.warn(`No navigation item found for current index ${this.currentItem}`);\n            return;\n        }\n        if (!i[d]) {\n            this.log.debug(`No navigation direction ${d} found for current index ${this.currentItem}`);\n            return;\n        }\n        // longpress\n        if (i[d].double !== undefined && i[d].single !== undefined && !single) {\n            const index = i[d].double;\n            void this.setPageByIndex(index, d);\n            // erster Klick und check obs ein Ziel f\u00FCr den 1. und 2. Klick gibt.\n        } else {\n            // shortpress\n            if (i[d].single !== undefined) {\n                const index = i[d].single;\n                void this.setPageByIndex(index, d);\n                this.log.debug(`Navigation single click with target ${i[d].single} done.`);\n                return;\n            } else if (i[d].double !== undefined) {\n                const index = i[d].double;\n                void this.setPageByIndex(index, d);\n                this.log.debug(`Navigation single click (use double target) with target ${i[d].double} done.`);\n                return;\n            }\n            this.log.debug('Navigation single click - failed.');\n        }\n    }\n\n    async optionalActions(item: NavigationItem): Promise<void> {\n        if (!item) {\n            return;\n        }\n        const nItem = this.navigationConfig[item.index];\n        if (!nItem) {\n            return;\n        }\n        if (nItem.optional === 'notifications') {\n            if (this.panel.controller.systemNotification.getCount() !== 0) {\n                await this.panel.statesControler.setInternalState(\n                    `${this.panel.name}/cmd/NotificationNext`,\n                    true,\n                    false,\n                );\n            }\n        }\n    }\n\n    buildNavigationString(side?: 'left' | 'right'): string {\n        const item = this.database[this.currentItem];\n        if (!item) {\n            return '';\n        }\n        let navigationString = '';\n        if (!side || side === 'left') {\n            if (item.left.single !== undefined && item.left.double === undefined) {\n                navigationString = getPayloadRemoveTilde(\n                    'button',\n                    'bSubPrev',\n                    item.left.double === undefined\n                        ? Icons.GetIcon('arrow-left-bold')\n                        : Icons.GetIcon('arrow-top-left-bold-outline'),\n                    item.left.double === undefined\n                        ? String(Color.rgb_dec565(Color.navLeft as RGB))\n                        : String(Color.rgb_dec565(Color.navDownLeft as RGB)),\n                    '',\n                    '',\n                );\n            } else if (item.left.double !== undefined) {\n                navigationString = getPayloadRemoveTilde(\n                    'button',\n                    'bUp',\n                    Icons.GetIcon('arrow-up-bold'),\n                    String(Color.rgb_dec565(Color.navParent as RGB)),\n                    '',\n                    '',\n                );\n            } else {\n                navigationString = getPayload('', '', '', '', '', '');\n            }\n        }\n        let navigationString2 = '';\n        //Right icon\n        if (!side || side === 'right') {\n            if (item.right.single !== undefined && item.right.double === undefined) {\n                navigationString2 = getPayloadRemoveTilde(\n                    'button',\n                    'bSubNext',\n                    item.right.double === undefined\n                        ? Icons.GetIcon('arrow-right-bold')\n                        : Icons.GetIcon('arrow-top-right-bold-outline'),\n                    item.right.double === undefined\n                        ? String(Color.rgb_dec565(Color.navRight as RGB))\n                        : String(Color.rgb_dec565(Color.navDownRight as RGB)),\n                    '',\n                    '',\n                );\n            } else if (item.right.double !== undefined) {\n                navigationString2 = getPayloadRemoveTilde(\n                    'button',\n                    'bHome',\n                    Icons.GetIcon('home'),\n                    String(Color.rgb_dec565(Color.navHome as RGB)),\n                    '',\n                    '',\n                );\n            } else {\n                navigationString2 = getPayload('', '', '', '', '', '');\n            }\n        }\n        if (side === 'left') {\n            return navigationString;\n        } else if (side === 'right') {\n            return navigationString2;\n        }\n        return getPayload(navigationString, navigationString2);\n    }\n\n    resetPosition(force: boolean = false): void {\n        if (!force && this.adapter.config.rememberLastSite === true) {\n            return;\n        }\n        const index = this.navigationConfig.findIndex(a => a && a.name === this.mainPage);\n        if (index !== -1 && this.database[index]) {\n            this.currentItem = index;\n        }\n    }\n    getCurrentMainPoint(): string {\n        const index = this.navigationConfig.findIndex(a => a && a.name === this.mainPage);\n        if (index === -1) {\n            return 'main';\n        }\n        const item = this.navigationConfig[index];\n        return item ? item.name : 'main';\n    }\n    getCurrentMainPage(): Page | undefined {\n        const index = this.navigationConfig.findIndex(a => a && a.name === this.mainPage);\n        if (index === -1 || this.database[index] == null) {\n            if (this.database[0]?.page == null) {\n                return undefined;\n            }\n            return this.database[0]?.page;\n        }\n        return this.database[index]?.page;\n    }\n    getCurrentPage(): Page {\n        const page = this.database[this.currentItem];\n        if (page == null) {\n            const index = this.database.findIndex(a => a && a.page !== null);\n            return this.database[index]!.page;\n        }\n        return page.page;\n    }\n\n    async setCurrentPage(): Promise<void> {\n        let page = this.database[this.currentItem];\n        if (page == null) {\n            const index = this.database.findIndex(a => a && a.page !== null);\n            if (index === -1) {\n                this.log.error('No valid page found in navigation database.');\n                return;\n            }\n            page = this.database[index];\n        }\n        if (page) {\n            await this.setPageByIndex(page.index);\n        }\n    }\n    async delete(): Promise<void> {\n        await super.delete();\n        this.navigationConfig = [];\n        this.database = [];\n        this.panel = {} as Panel;\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
