{
  "version": 3,
  "sources": ["../../../src/lib/pages/pageMedia.ts"],
  "sourcesContent": ["import { Dataitem, isDataItem } from '../classes/data-item';\nimport * as Color from '../const/Color';\nimport { Icons } from '../const/icon_mapping';\nimport { MessageItemMedia, ColorEntryType } from '../types/type-pageItem';\nimport * as pages from '../types/pages';\nimport { BooleanUnion, IncomingEvent } from '../types/types';\nimport { PageInterface, isMediaButtonActionType } from '../classes/Page';\nimport { Page } from '../classes/Page';\nimport { PageItem } from './pageItem';\nimport { getPayload, getPayloadArray } from '../const/tools';\n\nconst PageMediaMessageDefault: pages.PageMediaMessage = {\n    event: 'entityUpd',\n    headline: '',\n    navigation: '~~~~~~~~~',\n    id: '',\n    name: '',\n    titelColor: String(Color.rgb_dec565(Color.White)),\n    artist: '',\n    artistColor: String(Color.rgb_dec565(Color.White)),\n    volume: '',\n    iconplaypause: '',\n    onoffbuttonColor: '',\n    shuffle_icon: '',\n    logo: '',\n    options: ['', '', '', '', ''],\n};\n\n//const steps = 4;\n\nexport class PageMedia extends Page {\n    config: pages.PageBaseConfig['config'];\n    initMode: 'auto' | 'custom';\n    dpInit: string;\n    items: pages.PageBaseConfig['items'];\n    private step: number = 1;\n    private headlinePos: number = 0;\n    private titelPos: number = 0;\n    private nextArrow: boolean = false;\n    tempItem: PageItem | undefined;\n\n    constructor(config: PageInterface, options: pages.PageBaseConfig) {\n        super(config, options.pageItems);\n\n        this.config = options.config;\n        if (this.items && this.items.card === 'cardMedia') this.items = options.items;\n        this.initMode = options.initMode;\n        this.dpInit = options.dpInit;\n        this.minUpdateInterval = 2000;\n    }\n\n    async init(): Promise<void> {\n        const config = { ...this.config };\n        // search states for mode auto\n        const tempConfig: Partial<pages.PageBaseConfig['config']> =\n            this.initMode === 'auto'\n                ? await this.panel.statesControler.getDataItemsFromAuto(this.dpInit, config)\n                : config;\n        // create Dataitems\n        //this.log.debug(JSON.stringify(tempConfig));\n        const tempItem: Partial<pages.PageBaseConfig['items']> = await this.panel.statesControler.createDataItems(\n            tempConfig,\n            this,\n        );\n        if (tempItem) tempItem.card = this.config && this.config.card;\n        this.items = tempItem as pages.PageBaseConfig['items'];\n    }\n    protected async onVisibilityChange(val: boolean): Promise<void> {\n        await super.onVisibilityChange(val);\n        if (val) {\n            this.headlinePos = 0;\n            this.titelPos = 0;\n        }\n    }\n    async update(): Promise<void> {\n        const item = this.items;\n        if (item === undefined) return;\n        const message: Partial<pages.PageMediaMessage> = {};\n        // title\n        {\n            if (item.card !== 'cardMedia') return;\n            const test: Record<string, string> = {};\n            test.bla = 'dd';\n            let duration = '0:00',\n                elapsed = '0:00',\n                title = 'unknown';\n\n            if (item.data.titel && item.data.titel.text) {\n                const v = await item.data.titel.text.getString();\n                if (v !== null) {\n                    title = v;\n                }\n            }\n            if (item.data.artist && item.data.artist.text) {\n                const v = await item.data.artist.text.getString();\n                if (v !== null) {\n                    message.artist = v;\n                }\n            }\n            if (item.data.duration && item.data.elapsed) {\n                const d = await item.data.duration.getNumber(); // medialength in seconds\n                if (d !== null) {\n                    const t = new Date().setHours(0, 0, d, 0);\n                    duration = new Date(t).toLocaleTimeString('de-DE', { minute: '2-digit', second: '2-digit' });\n                }\n                if (item.data.elapsed.type === 'string') {\n                    const e = await item.data.elapsed.getString();\n                    if (e !== null) {\n                        elapsed = e;\n                    }\n                } else if (item.data.elapsed.type === 'number') {\n                    const e = await item.data.elapsed.getNumber();\n                    if (e !== null) {\n                        const t = new Date().setHours(0, 0, e, 0);\n                        elapsed = new Date(t).toLocaleTimeString('de-DE', { minute: '2-digit', second: '2-digit' });\n                    }\n                }\n            }\n\n            message.headline = `${title}`;\n\n            {\n                const maxSize = 18;\n                if (message.headline.length > maxSize) {\n                    const s = message.headline + '        ';\n                    this.headlinePos = this.headlinePos % s.length;\n                    message.headline = (s + message.headline)\n                        .substring(this.headlinePos++ % (message.headline + s).length)\n                        .substring(0, 23);\n                }\n            }\n\n            const maxSize = 35;\n            message.name = `(${elapsed}|${duration})`;\n            if (item.data.album) {\n                const v = await item.data.album.getString();\n                if (v !== null) {\n                    if (`${v} ${message.name}`.length > maxSize) {\n                        const s = v + '          ';\n                        this.titelPos = this.titelPos % s.length;\n                        message.name =\n                            v.substring(this.titelPos++ % (`${v} ${message.name}` + s).length).substring(0, 35) +\n                            ` ${message.name}`;\n                    } else {\n                        message.name = `${v} ${message.name}`;\n                    }\n                }\n            }\n        }\n        message.shuffle_icon = '';\n        if (item.data.shuffle && item.data.shuffle.type) {\n            let value: null | true | false = null;\n            switch (item.data.shuffle.type) {\n                case 'string': {\n                    const v = await item.data.shuffle.getString();\n                    if (v !== null) {\n                        value = ['OFF', 'FALSE'].indexOf(v.toUpperCase()) !== -1;\n                    }\n                    break;\n                }\n                case 'number':\n                case 'boolean': {\n                    value = await item.data.shuffle.getBoolean();\n                    break;\n                }\n                case 'undefined':\n                case 'object':\n                case 'array':\n                case 'mixed':\n                case 'file': {\n                    value = null;\n                    break;\n                }\n            }\n            if (value !== null) {\n                message.shuffle_icon = value ? 'shuffle-variant' : 'shuffle-disabled';\n            }\n        }\n        if (item.data.volume) {\n            const v = await item.data.volume.getNumber();\n            if (v !== null) {\n                message.volume = String(v);\n            }\n        }\n        if (item.data.mediaState) {\n            const v = await item.data.mediaState.getString();\n            if (v !== null) {\n                message.iconplaypause = !(await this.getMediaState()) ? 'play' : 'pause';\n                if (await item.data.stop) {\n                    message.onoffbuttonColor = v.toUpperCase() !== 'STOP' ? '65535' : '1374';\n                } else {\n                    // no stop control so pause is stop\n                    message.onoffbuttonColor = message.iconplaypause !== 'pause' ? '65535' : '1374';\n                }\n            }\n        }\n\n        if (item.data.titel && item.data.titel.color) {\n            const v = await getValueFromBoolean(item.data.titel.color, 'color');\n            if (v !== null) message.titelColor = v;\n        }\n\n        /*message.options = [undefined, undefined, undefined, undefined, undefined];\n        if (item.toolbox && Array.isArray(item.toolbox)) {\n            const localStep = item.toolbox.length > 5 ? steps : 5;\n            if (item.toolbox.length <= localStep * (this.step - 1)) this.step = 1;\n            const maxSteps = localStep * this.step;\n            const minStep = localStep * (this.step - 1);\n\n            for (let a = minStep; a < maxSteps; a++) {\n                message.options[a - minStep] = await this.getToolItem(item.toolbox[a], String(a), (a % localStep) + 1);\n            }\n            if (localStep === 4) {\n                this.nextArrow = true;\n                const color = String(Color.rgb_dec565(Color.White));\n                const icon = 'arrow-right';\n                message.options[4] = {\n                    intNameEntity: `5`,\n                    iconNumber: 5,\n                    icon: Icons.GetIcon(icon),\n                    iconColor: color,\n                    mode: 'nexttool',\n                    type: 'button',\n                    displayName: 'next',\n                };\n            }\n        }*/\n        //Logo\n        if (item.data.logo) {\n            message.logo = '~~~~~'; //await this.getItemMessageMedia(await this.getToolItem(item.logo, 'logo', 0));\n        }\n        {\n        }\n        const opts: string[] = ['~~~~~', '~~~~~', '~~~~~', '~~~~~', '~~~~~'];\n        if (this.pageItems) {\n            for (let a = 0; a < 5; a++) {\n                const temp = this.pageItems[a];\n                if (temp) opts[a] = await temp.getPageItemPayload();\n            }\n        }\n        message.navigation = this.getNavigation();\n        const msg: pages.PageMediaMessage = Object.assign(PageMediaMessageDefault, message, {\n            id: 'media',\n            options: opts,\n        });\n        this.sendToPanel(this.getMessage(msg));\n        //this.log.warn(JSON.stringify(this.getMessage(msg)));\n    }\n    private async getMediaState(): Promise<boolean | null> {\n        if (!this.items || this.items.card !== 'cardMedia') return null;\n        const item = this.items.data.mediaState;\n        if (item) {\n            const v = await item.getString();\n            if (v !== null) {\n                return ['PLAY', '1', 'TRUE'].indexOf(v.toUpperCase()) !== -1;\n            }\n        }\n        return null;\n    }\n    private async getOnOffState(): Promise<boolean | null> {\n        if (!this.items || this.items.card !== 'cardMedia') return null;\n        const item = this.items.data.mediaState;\n        if (item) {\n            const v = await item.getString();\n            if (v !== null) {\n                return ['STOP', '0', 'FALSE'].indexOf(v.toUpperCase()) === -1;\n            }\n        }\n        return null;\n    }\n    private async getToolItem(\n        i: pages.toolboxItemDataItem | undefined,\n        id: string,\n        iconNumber: number,\n    ): Promise<MessageItemMedia | undefined> {\n        if (i) {\n            if (i.on && i.text && i.color && i.icon) {\n                const v = await i.on.getBoolean();\n                const color = await getValueFromBoolean(i.color, 'color', !!v);\n                const icon = await getValueFromBoolean(i.icon, 'string', !!v);\n                const text = await i.text.getString();\n                const list = i.list ? await i.list.getString() : null;\n                if (list) this.log.debug(JSON.stringify(list));\n                if (color && icon && text) {\n                    const tool: MessageItemMedia = {\n                        intNameEntity: `${this.id}?${id}`,\n                        iconNumber: iconNumber as 1 | 2 | 3 | 4 | 5,\n                        icon: Icons.GetIcon(icon),\n                        iconColor: color,\n                        mode: i.action,\n                        type: 'button',\n                        displayName: this.adapter.library.getLocalTranslation('media', text),\n                    };\n                    return tool;\n                }\n            }\n        }\n        return undefined;\n    }\n\n    private getMessage(message: pages.PageMediaMessage): string {\n        return getPayload(\n            'entityUpd',\n            message.headline,\n            message.navigation,\n            message.id,\n            message.name,\n            message.titelColor,\n            message.artist,\n            message.artistColor,\n            message.volume,\n            Icons.GetIcon(message.iconplaypause),\n            message.onoffbuttonColor,\n            Icons.GetIcon(message.shuffle_icon),\n            message.logo, //'~~~~~'\n            getPayloadArray(message.options),\n        );\n    }\n    /**\n     * Create a part of the panel messsage for bottom icons. if event === '' u get '~~~~~~'.\n     * default for event: input_sel\n     * @param msg\n     * @returns string\n\n    private async getItemMessageMedia(msg: Partial<MessageItemMedia> | undefined): Promise<string> {\n        if (!msg || !msg.intNameEntity || !msg.icon) return '~~~~~';\n        msg.type = msg.type === undefined ? 'input_sel' : msg.type;\n        const iconNumber = msg.iconNumber;\n        const temp: Partial<MessageItemMedia> = msg;\n        temp.optionalValue = msg.optionalValue || 'media0';\n        const message: MessageItem = Object.assign(messageItemDefault, temp);\n\n        switch (iconNumber) {\n            case 0: {\n                message.optionalValue = 'media0';\n                break;\n            }\n            case 1: {\n                message.optionalValue = 'media1';\n                break;\n            }\n            case 2: {\n                message.optionalValue = 'media2';\n                break;\n            }\n            case 3: {\n                message.optionalValue = 'media3';\n                break;\n            }\n            case 4: {\n                message.optionalValue = 'media4';\n                break;\n            }\n            case 5: {\n                message.optionalValue = 'media5';\n                break;\n            }\n        }\n        if (!this.tempItem) {\n            const config: PageInterface = {\n                card: 'cardItemSpecial',\n                name: 'test',\n                adapter: this.adapter,\n                panelSend: this.panelSend,\n                panel: this.panel,\n                id: 'irgendwas',\n            };\n            const options: PageItemDataItemsOptions = {\n                role: 'text.list',\n                type: 'input_sel',\n                dpInit: undefined,\n                initMode: 'custom',\n                data: {\n                    color: {\n                        true: {\n                            type: 'const',\n                            constVal: Color.HMIOn,\n                        },\n                        false: undefined,\n                        scale: undefined,\n                    },\n                    icon: {\n                        true: {\n                            value: { type: 'const', constVal: 'home' },\n                            color: { type: 'const', constVal: Color.Green },\n                        },\n                        false: {\n                            value: { type: 'const', constVal: 'fan' },\n                            color: { type: 'const', constVal: Color.Red },\n                        },\n                        scale: undefined,\n                        maxBri: undefined,\n                        minBri: undefined,\n                    },\n                    entity1: {\n                        value: {\n                            type: 'const',\n                            constVal: true,\n                        },\n                        decimal: undefined,\n                        factor: undefined,\n                        unit: undefined,\n                    },\n                    text1: undefined,\n                    setValue1: undefined,\n                    useColor: undefined,\n                },\n            };\n            this.tempItem = new PageItem(config, options);\n            await this.tempItem.init();\n        }\n        return await this.tempItem.getPageItemPayload('test');\n        //return this.getItemMesssage(message);\n    }*/\n\n    onStateTrigger = async (): Promise<void> => {\n        this.update();\n    };\n    async onButtonEvent(event: IncomingEvent): Promise<void> {\n        if (!this.getVisibility()) return;\n        //if (event.mode !== 'media') return;\n        if (isMediaButtonActionType(event.action)) {\n            this.log.debug('Receive event: ' + JSON.stringify(event));\n        } else return;\n        const items = this.items;\n        if (!items || items.card !== 'cardMedia') return;\n        switch (event.action) {\n            case 'media-back': {\n                items.data.backward && (await items.data.backward.setStateTrue());\n                break;\n            }\n            case 'media-pause': {\n                if (items.data.pause && items.data.play) {\n                    if (await this.getMediaState()) await items.data.pause.setStateTrue();\n                    else await items.data.play.setStateTrue();\n                } else if (items.data.mediaState) {\n                }\n                break;\n            }\n            case 'media-next': {\n                items.data.forward && (await items.data.forward.setStateTrue());\n                break;\n            }\n            case 'media-shuffle': {\n                items.data.shuffle && (await items.data.shuffle.setStateTrue());\n                break;\n            }\n            case 'volumeSlider': {\n                if (items.data.volume) {\n                    let v = parseInt(event.opt);\n                    if (v > 100) v = 100;\n                    else if (v < 0) v = 0;\n                    await items.data.volume.setStateAsync(v);\n                } else {\n                    this.log.error(`Missing volumen controller. Report to dev`);\n                }\n                break;\n            }\n            case 'mode-speakerlist': {\n                break;\n            }\n            case 'mode-playlist': {\n                break;\n            }\n            case 'mode-tracklist': {\n                break;\n            }\n            case 'mode-repeat': {\n                break;\n            }\n            case 'mode-equalizer': {\n                break;\n            }\n            case 'mode-seek': {\n                break;\n            }\n            case 'mode-crossfade': {\n                break;\n            }\n            case 'mode-favorites': {\n                break;\n            }\n            case 'mode-insel': {\n                break;\n            }\n            case 'media-OnOff': {\n                if (items.data.stop) {\n                    if (await this.getOnOffState()) await items.data.stop.setStateTrue();\n                }\n                break;\n            }\n            case 'button': {\n                if (event.id === '5' && this.nextArrow) {\n                    this.step++;\n                    this.update();\n                }\n                break;\n            }\n        }\n    }\n}\ntype _SelectValueFromBoolean = 'color' | 'string';\nexport async function getValueFromBoolean(\n    item:\n        | Record<BooleanUnion, Dataitem | undefined>\n        | pages.ChangeTypeOfKeys<ColorEntryType, Dataitem | undefined>\n        | Dataitem\n        | undefined,\n    type: _SelectValueFromBoolean,\n    value: boolean = true,\n): Promise<string | null> {\n    if (item) {\n        if (isDataItem(item)) {\n            const v = await getValueFromData(item, type);\n            if (v !== null) {\n                return v;\n            }\n        } else {\n            const colorOn = item.true && (await getValueFromData(item.true, type));\n            const colorOff = !value && item.false && (await getValueFromData(item.false, type));\n            if (colorOff) {\n                return colorOff;\n            } else {\n                return colorOn || null;\n            }\n        }\n    }\n    return null;\n}\nasync function getValueFromData(item: Dataitem, type: _SelectValueFromBoolean): Promise<string | null> {\n    switch (type) {\n        case 'string': {\n            return item.getString();\n            break;\n        }\n        case 'color': {\n            return item.getRGBDec();\n            break;\n        }\n    }\n}\n"],
  "mappings": "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",
  "names": ["import_Page", "maxSize"]
}
