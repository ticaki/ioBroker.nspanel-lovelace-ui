{
  "version": 3,
  "sources": ["../../../src/lib/pages/pageItem.ts"],
  "sourcesContent": ["import { Color, type RGB } from '../const/Color';\nimport type { Page } from '../classes/Page';\nimport type { PageItemInterface } from '../classes/PageInterface';\nimport * as typePageItem from '../types/type-pageItem';\nimport * as tools from '../const/tools';\nimport type { PopupType } from '../types/types';\nimport { Icons } from '../const/icon_mapping';\nimport type { Dataitem } from '../classes/data-item';\nimport type { ChangeTypeOfKeys, DeviceRole } from '../types/pages';\nimport type { Screensaver } from './screensaver';\nimport { BaseClassTriggerd } from '../classes/baseClassPage';\n\n//light, shutter, delete, text, button, switch, number,input_sel, timer und fan types\nexport class PageItem extends BaseClassTriggerd {\n    defaultOnColor = Color.White;\n    defaultOffColor = Color.Blue;\n    config: typePageItem.PageItemDataItemsOptionsWithOutTemplate | undefined;\n    dataItems: typePageItem.PageItemDataItems | undefined;\n    id: string;\n    lastPopupType: PopupType | undefined = undefined;\n    parent: Page | undefined;\n    tempData: any = undefined; // use this to save some data while object is active\n    tempInterval: ioBroker.Interval | undefined;\n    confirmClick: number | 'lock' | 'unlock' = 'lock';\n    timeouts: Record<string, ioBroker.Timeout | undefined> = {};\n    constructor(\n        config: Omit<PageItemInterface, 'pageItemsConfig'>,\n        options: typePageItem.PageItemDataItemsOptionsWithOutTemplate | undefined,\n    ) {\n        super({ ...config });\n        this.panel = config.panel;\n        this.id = config.id;\n        this.config = options;\n        this.parent = config && config.parent;\n        this.name = this.parent ? `${this.parent.name}.${this.id}` : this.id;\n        this.sleep = false;\n        this.enums = options && 'enums' in options && options.enums ? options.enums : '';\n    }\n\n    static async getPageItem(\n        config: Omit<PageItemInterface, 'pageItemsConfig'>,\n        options: typePageItem.PageItemDataItemsOptions | undefined,\n    ): Promise<PageItem | undefined> {\n        if (options === undefined) {\n            return undefined;\n        }\n        if (config.panel.persistentPageItems[config.id]) {\n            return config.panel.persistentPageItems[config.id];\n        }\n        const p = new PageItem(config, options as typePageItem.PageItemDataItemsOptionsWithOutTemplate);\n        await p.init();\n        return p;\n    }\n    async init(): Promise<void> {\n        if (!this.config) {\n            return;\n        }\n        const config = structuredClone(this.config);\n\n        const tempItem: typePageItem.PageItemDataItems['data'] = (await this.panel.statesControler.createDataItems(\n            config.data,\n            this,\n            {},\n            'data',\n            config.readOptions,\n        )) as typePageItem.PageItemDataItems['data'];\n        this.dataItems = { ...config, data: tempItem } as typePageItem.PageItemDataItems;\n\n        switch (this.dataItems.type) {\n            case 'number':\n            case 'button':\n            case 'input_sel':\n            case 'light':\n            case 'light2':\n            case 'text':\n            case 'fan': {\n                break;\n            }\n\n            case 'shutter': {\n                const data = this.dataItems.data;\n                this.tempData = [];\n                this.tempData[0] = data.up && data.up.writeable;\n                this.tempData[1] = data.stop && data.stop.writeable;\n                this.tempData[2] = data.down && data.down.writeable;\n                this.tempData[3] = data.up2 && data.up2.writeable;\n                this.tempData[4] = data.stop2 && data.stop2.writeable;\n                this.tempData[5] = data.down2 && data.down2.writeable;\n                const list = await this.getListCommands(data.setList);\n                if (list) {\n                    for (let a = 0; a < 6; a++) {\n                        const test =\n                            list &&\n                            list[a] &&\n                            list[a].id &&\n                            (await this.panel.statesControler.getObjectAsync(list[a].id));\n                        if (test && test.common && test.common.write) {\n                            this.tempData[a] = true;\n                        }\n                    }\n                }\n                if (data.entity1 && data.entity1.value) {\n                    if (\n                        (data.entity1.value.type === 'number' &&\n                            data.entity1.minScale &&\n                            data.entity1.maxScale &&\n                            data.entity1.value &&\n                            data.entity1.value.writeable) ||\n                        (data.entity1.value.type === 'boolean' && data.entity1.value && data.entity1.value.writeable)\n                    ) {\n                        this.tempData[1] = true;\n                        this.tempData[3] = true;\n                    }\n                }\n\n                if (data.entity2 && data.entity2.value) {\n                    if (\n                        data.entity2.value.type === 'number' &&\n                        data.entity2.minScale &&\n                        data.entity2.maxScale &&\n                        data.entity2.value &&\n                        data.entity2.value.writeable\n                    ) {\n                        this.tempData[3] = true;\n                        this.tempData[5] = true;\n                    }\n                }\n\n                break;\n            }\n\n            case 'timer': {\n                if (this.dataItems.role === 'timer' && this.tempData === undefined) {\n                    if (this.dataItems.data.entity1?.value?.common?.role) {\n                        if (\n                            ['value.timer', 'level.timer'].indexOf(this.dataItems.data.entity1.value.common.role) !== -1\n                        ) {\n                            this.tempData = { status: 'pause', role: 'ex-timer' };\n                            break;\n                        }\n\n                        this.tempData = { status: 'pause', role: 'ex-alarm' };\n                        break;\n                    }\n                    this.tempData = { status: 'pause', value: 0, role: 'timer' };\n                    if (!this.panel.persistentPageItems[this.id]) {\n                        this.panel.persistentPageItems[this.id] = this;\n                    }\n                }\n                break;\n            }\n        }\n        if (\n            this.parent &&\n            ['screensaver', 'screensaver2', 'screensaver3', 'popupNotify', 'popupNotify2'].indexOf(this.parent.card) !==\n                -1\n        ) {\n            if (!this.panel.persistentPageItems[this.id]) {\n                if (this.config.modeScr) {\n                    switch (this.config.modeScr) {\n                        case 'left':\n                        case 'bottom':\n                        case 'indicator':\n                        case 'alternate':\n                        case 'favorit':\n                            break;\n                        case 'mricon':\n                            break;\n                        case 'time':\n                        case 'date':\n                            this.neverDeactivateTrigger = true;\n                            break;\n                    }\n                }\n\n                this.panel.persistentPageItems[this.id] = this;\n                await this.controller.statesControler.activateTrigger(this);\n            }\n        }\n    }\n\n    async getPageItemPayload(): Promise<string> {\n        await this.controller.statesControler.activateTrigger(this);\n        this.lastPopupType = undefined;\n        if (this.dataItems && this.config) {\n            this.visibility = false;\n            this.triggerParent = true;\n            const entry = this.dataItems;\n            const message: Partial<typePageItem.MessageItem> = {};\n            message.intNameEntity = this.id;\n            switch (entry.type) {\n                case 'light':\n                case 'light2': {\n                    const item = entry.data;\n                    message.type =\n                        this.parent &&\n                        this.parent.card.startsWith('cardGrid') &&\n                        (this.config.role === 'light' || this.config.role === 'socket')\n                            ? 'switch'\n                            : this.panel.overrideLightPopup\n                              ? this.panel.lightPopupV2 && this.panel.meetsVersion('4.7.5')\n                                  ? 'light2'\n                                  : 'light'\n                              : entry.type;\n\n                    const v = await tools.getValueEntryBoolean(item.entity1);\n                    const dimmer = (item.dimmer && item.dimmer.value && (await item.dimmer.value.getNumber())) ?? null;\n                    let rgb: RGB | null =\n                        (await tools.getRGBfromRGBThree(item)) ??\n                        (item.color && item.color.true && (await item.color.true.getRGBValue())) ??\n                        null;\n                    const nhue = (item.hue && (await item.hue.getNumber())) ?? null;\n                    if (rgb === null && nhue) {\n                        rgb = Color.hsv2RGB(nhue, 1, 1) ?? null;\n                    }\n                    message.icon = await tools.getIconEntryValue(item.icon, v, '', '');\n                    let colorMode: 'ct' | 'hue' | 'none' = !item.colorMode\n                        ? 'none'\n                        : (await item.colorMode.getBoolean())\n                          ? 'hue'\n                          : 'ct';\n\n                    if (colorMode === 'none') {\n                        const ctState = item.ct && item.ct.value && (await item.ct.value.getState());\n                        const colorState =\n                            (item.Red && (await item.Red.getState())) ??\n                            (item.Green && (await item.Green.getState())) ??\n                            (item.Blue && (await item.Blue.getState())) ??\n                            (item.color && item.color.true && (await item.color.true.getState())) ??\n                            (item.hue && (await item.hue.getState())) ??\n                            null;\n                        if (ctState && colorState) {\n                            if (ctState.ts > colorState.ts) {\n                                colorMode = 'ct';\n                            } else {\n                                colorMode = 'hue';\n                            }\n                        } else if (ctState) {\n                            colorMode = 'ct';\n                        } else if (colorState) {\n                            colorMode = 'hue';\n                        }\n                    }\n\n                    message.iconColor =\n                        (colorMode === 'hue'\n                            ? await tools.GetIconColor(\n                                  rgb ?? undefined,\n                                  dimmer != null ? (dimmer > 30 ? dimmer : 30) : v,\n                              )\n                            : await tools.getTemperaturColorFromValue(item.ct, dimmer ?? 100)) ??\n                        (await tools.getIconEntryColor(item.icon, dimmer ?? v, Color.Yellow)) ??\n                        '';\n                    if (v) {\n                        message.optionalValue = '1';\n                    } else {\n                        message.optionalValue = '0';\n                    }\n                    message.displayName = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.headline, v)) ?? message.displayName ?? '',\n                    );\n                    return tools.getItemMesssage(message);\n                    break;\n                }\n                case 'shutter': {\n                    const item = entry.data;\n\n                    message.type = 'shutter';\n\n                    let value: boolean | number | null = await tools.getValueEntryNumber(item.entity1);\n                    if (value === null) {\n                        value = await tools.getValueEntryBoolean(item.entity1);\n                    } else {\n                        value = !this.adapter.config.shutterClosedIsZero ? 100 - value : value;\n                    }\n                    if (value === null) {\n                        this.log.warn(`Entity ${this.config.role} has no value! No Actual or Set`);\n                        break;\n                    }\n                    message.icon = await tools.getIconEntryValue(item.icon, value, 'window-open');\n                    message.iconColor = await tools.getIconEntryColor(item.icon, value, Color.White);\n                    const optionalValue = item.valueList\n                        ? await item.valueList.getObject()\n                        : [\n                              'arrow-up', //up\n                              'stop', //stop\n                              'arrow-down', //down\n                          ];\n                    let optionalValueC =\n                        Array.isArray(optionalValue) && optionalValue.every(a => typeof a === 'string')\n                            ? [...optionalValue]\n                            : ['', '', ''];\n                    optionalValueC = optionalValueC.splice(0, 3).map(a => (a ? Icons.GetIcon(a) : a));\n                    optionalValueC.forEach((a, i) => {\n                        if (a) {\n                            optionalValueC[i + 3] = this.tempData[i] ? 'enable' : 'disable';\n                        } else {\n                            optionalValueC[i] = '';\n                            optionalValueC[i + 3] = 'disable';\n                        }\n                    });\n\n                    optionalValueC[3] = value === 0 ? 'disable' : optionalValueC[3];\n                    optionalValueC[5] = value === 100 ? 'disable' : optionalValueC[5];\n                    message.optionalValue = optionalValueC.join('|');\n                    message.displayName = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.headline, !!value)) ?? message.displayName ?? '',\n                    );\n                    return tools.getItemMesssage(message);\n                }\n                case 'shutter2': {\n                    const item = entry.data;\n\n                    message.type = 'shutter2';\n\n                    let value: boolean | number | null = await tools.getValueEntryNumber(item.entity1);\n                    if (value === null) {\n                        value = await tools.getValueEntryBoolean(item.entity1);\n                    } else {\n                        value = !this.adapter.config.shutterClosedIsZero ? 100 - value : value;\n                    }\n                    if (value === null) {\n                        this.log.warn(`Entity ${this.config.role} has no value! No Actual or Set`);\n                        break;\n                    }\n                    message.icon = await tools.getIconEntryValue(item.icon, value, 'window-open');\n                    message.iconColor = await tools.getIconEntryColor(item.icon, value, Color.White);\n                    const optionalValue = [\n                        item?.up ? 'arrow-up' : '', //up\n                        item?.stop ? 'stop' : '', //stop\n                        item?.stop ? 'arrow-down' : '', //down\n                    ];\n                    let optionalValueC =\n                        Array.isArray(optionalValue) && optionalValue.every(a => typeof a === 'string')\n                            ? [...optionalValue]\n                            : ['', '', ''];\n                    optionalValueC = optionalValueC.splice(0, 3).map(a => (a ? Icons.GetIcon(a) : a));\n                    optionalValueC.forEach((a, i) => {\n                        if (a) {\n                            optionalValueC[i + 3] = optionalValueC[i] ? 'enable' : 'disable';\n                        } else {\n                            optionalValueC[i] = '';\n                            optionalValueC[i + 3] = 'disable';\n                        }\n                    });\n\n                    optionalValueC[3] = value === 0 ? 'disable' : optionalValueC[3];\n                    optionalValueC[5] = value === 100 ? 'disable' : optionalValueC[5];\n                    message.optionalValue = optionalValueC.join('|');\n                    message.displayName = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.headline, !!value)) ?? message.displayName ?? '',\n                    );\n                    return tools.getItemMesssage(message);\n                }\n                case 'number': {\n                    if (entry.type === 'number') {\n                        // This code handles the 'number' type entry for the PageItem.\n                        // It retrieves the necessary data and constructs a message payload for the number entry.\n                        // The min and max values are used to define the range for the number display.\n                        const item = entry.data;\n                        message.type = 'number';\n                        const number = (await tools.getValueEntryNumber(item.entity1, false)) ?? 0;\n                        const value = (item.switch1 && (await item.switch1.getBoolean())) ?? null;\n                        message.displayName = this.library.getTranslation(\n                            (await tools.getEntryTextOnOff(item.text, true)) ?? '',\n                        );\n                        message.icon = (await tools.getIconEntryValue(item.icon, value !== true, '')) ?? '';\n                        message.iconColor =\n                            (await tools.getIconEntryColor(item.icon, value !== true, Color.HMIOn)) ?? '';\n                        let min = item.entity1 && item.entity1.value && item.entity1.value.common.min;\n                        let max = item.entity1 && item.entity1.value && item.entity1.value.common.max;\n                        min = (item.minValue1 && (await item.minValue1.getNumber())) ?? min ?? 0;\n                        max = (item.maxValue1 && (await item.maxValue1.getNumber())) ?? max ?? 100;\n                        return tools.getPayload(\n                            message.type,\n                            message.intNameEntity,\n                            message.icon,\n                            message.iconColor,\n                            message.displayName,\n                            `${number}|${min}|${max}`,\n                        );\n                    }\n                    break;\n                }\n                /**\n                 * entity1 is value to calculate color\n                 * entity2 is display value\n                 */\n                case 'text':\n                case 'button':\n                case 'switch': {\n                    /**\n                     * Alles was einen Druckfl\u00E4che sein kann. D\n                     */\n                    if (entry.type === 'text' || entry.type === 'button' || entry.type === 'switch') {\n                        const item = entry.data;\n                        let value: boolean | number | null = await tools.getValueEntryNumber(item.entity1, true);\n                        if (value === null) {\n                            value = await tools.getValueEntryBoolean(item.entity1);\n                        }\n                        if (value === null) {\n                            value = true;\n                        }\n\n                        message.displayName = this.library.getTranslation(\n                            (await tools.getEntryTextOnOff(item.text, !!value)) ?? '',\n                        );\n                        if (entry.type === 'switch') {\n                            message.optionalValue = (value ?? true) ? '1' : '0';\n                        } else if (entry.type === 'button') {\n                            message.optionalValue = (value ?? true) ? '1' : '0';\n                            if (this.parent && this.parent.card === 'cardEntities') {\n                                message.optionalValue =\n                                    this.library.getTranslation(await tools.getEntryTextOnOff(item.text1, !!value)) ??\n                                    message.optionalValue;\n                            }\n                        } else {\n                            switch (entry.role) {\n                                case '2values': {\n                                    message.optionalValue = ``;\n                                    const val1 = await tools.getValueEntryNumber(item.entity1);\n                                    const val2 = await tools.getValueEntryNumber(item.entity2);\n                                    const unit1 =\n                                        item.entity1 && item.entity1.unit && (await item.entity1.unit.getString());\n                                    const unit2 =\n                                        item.entity2 && item.entity2.unit && (await item.entity2.unit.getString());\n                                    if (val1 !== null && val2 !== null) {\n                                        message.optionalValue =\n                                            String(val1) + (unit1 ?? '') + String(val2) + (unit2 ?? '');\n                                        if (typeof value === 'number') {\n                                            value = val1 + val2 / 2;\n                                        }\n                                    }\n\n                                    break;\n                                }\n                                case '4values': {\n                                    let val = await tools.getValueEntryString(item.entity1);\n                                    value = true;\n                                    if (val === null) {\n                                        value = false;\n                                        val = await tools.getValueEntryString(item.entity2);\n                                        if (val === null) {\n                                            value = true;\n                                            val = await tools.getValueEntryString(item.entity3);\n                                            if (val === null) {\n                                                value = false;\n                                                val = await tools.getValueEntryString(item.entity4);\n                                            }\n                                        }\n                                    }\n                                    if (val) {\n                                        message.optionalValue = this.library.getTranslation(val);\n                                    } else {\n                                        message.optionalValue = '';\n                                    }\n                                    break;\n                                }\n                                default: {\n                                    message.optionalValue = this.library.getTranslation(\n                                        (await tools.getValueEntryString(item.entity2)) ??\n                                            (await tools.getEntryTextOnOff(item.text1, value)) ??\n                                            '',\n                                    );\n                                }\n                            }\n                        }\n                        if (entry.type === 'button' && entry.data.confirm) {\n                            if (this.confirmClick === 'unlock') {\n                                if (this.parent && this.parent.card === 'cardEntities') {\n                                    message.optionalValue =\n                                        (await entry.data.confirm.getString()) ?? message.optionalValue;\n                                }\n                                this.confirmClick = Date.now();\n                            } else {\n                                this.confirmClick = 'lock';\n                            }\n                        }\n                        /*if (\n                            this.parent &&\n                            !this.parent.card.startsWith('screensaver') &&\n                            entry.type === 'button' &&\n                            entry.data.entity1 &&\n                            entry.data.entity1.set &&\n                            entry.data.entity1.set.common &&\n                            entry.data.entity1.set.common.role &&\n                            entry.data.entity1.set.common.role.startsWith('switch') &&\n                            entry.data.entity1.set.writeable\n                        ) {\n                            entry.type = 'switch';\n                        }*/\n\n                        message.icon = await tools.getIconEntryValue(item.icon, value, 'home');\n                        switch (entry.role) {\n                            case 'textNotIcon': {\n                                message.icon = (await tools.getIconEntryValue(item.icon, value, '', null, true)) ?? '';\n                                break;\n                            }\n                            case 'iconNotText': {\n                                message.icon = (await tools.getIconEntryValue(item.icon, value, '', null, false)) ?? '';\n                                break;\n                            }\n                            case 'battery': {\n                                const val = (await tools.getValueEntryBoolean(item.entity3)) ?? false;\n                                message.icon = (await tools.getIconEntryValue(item.icon, val, '', '', false)) ?? '';\n\n                                break;\n                            }\n                            case 'combined': {\n                                message.icon = (await tools.getIconEntryValue(item.icon, value, '', null, false)) ?? '';\n                                message.icon += (await tools.getIconEntryValue(item.icon, value, '', null, true)) ?? '';\n                                break;\n                            }\n                            default: {\n                                message.icon =\n                                    (await tools.getIconEntryValue(\n                                        item.icon,\n                                        !!value,\n                                        '',\n                                        null,\n                                        (this.parent &&\n                                            this.parent.card !== 'cardEntities' &&\n                                            !this.parent.card.startsWith('screens')) ??\n                                            false,\n                                    )) ?? '';\n                            }\n                        }\n\n                        message.iconColor = await tools.getIconEntryColor(item.icon, value ?? true, Color.HMIOn);\n                        return tools.getPayload(\n                            entry.type,\n                            message.intNameEntity,\n                            message.icon,\n                            message.iconColor,\n                            message.displayName,\n                            message.optionalValue,\n                        );\n                    }\n\n                    break;\n                }\n\n                case 'input_sel': {\n                    const item = entry.data;\n                    message.type = 'input_sel';\n                    const value =\n                        (await tools.getValueEntryNumber(item.entityInSel)) ??\n                        (await tools.getValueEntryBoolean(item.entityInSel));\n                    message.icon = await tools.getIconEntryValue(item.icon, !!(value ?? true), 'gesture-tap-button');\n\n                    message.iconColor =\n                        (await tools.getIconEntryColor(item.icon, value ?? true, Color.HMIOff)) ?? Color.HMIOn;\n                    message.displayName = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.headline, true)) ?? message.displayName ?? '',\n                    );\n                    message.optionalValue = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.text, !!value, true)) ?? 'PRESS',\n                    );\n                    this.log.debug(JSON.stringify(message));\n                    return tools.getItemMesssage(message);\n\n                    break;\n                }\n                case 'fan':\n                    {\n                        if (entry.type === 'fan') {\n                            const item = entry.data;\n                            message.type = 'fan';\n                            //const speed = (await tools.getValueEntryNumber(item.speed, true)) ?? null;\n                            const value = (await tools.getValueEntryBoolean(item.entity1)) ?? null;\n                            message.displayName = this.library.getTranslation(\n                                (await tools.getEntryTextOnOff(item.headline, true)) ?? message.displayName ?? '',\n                            );\n                            message.icon = (await tools.getIconEntryValue(item.icon, value, '')) ?? '';\n                            message.iconColor = (await tools.getIconEntryColor(item.icon, value, Color.HMIOn)) ?? '';\n                            /*const min =\n                        (item.entity1 && item.entity1.minScale && (await item.entity1.minScale.getNumber())) ?? 0;\n                        const max =\n                        (item.entity1 && item.entity1.maxScale && (await item.entity1.maxScale.getNumber())) ?? 100;\n                        */\n                            return tools.getPayload(\n                                message.type,\n                                message.intNameEntity,\n                                message.icon,\n                                message.iconColor,\n                                message.displayName,\n                                value ? '1' : '0',\n                            );\n                        }\n                    }\n                    break;\n\n                /**\n                 * 3 Funktionen\n                 * 1. Countdown\n                 * 2. Wecker stellen\n                 * 3. Countdown anzeigen\n                 */\n                case 'timer': {\n                    if (entry.type === 'timer') {\n                        const item = entry.data;\n                        message.type = 'timer';\n                        const value: number | null =\n                            (item.entity1 && item.entity1.value && (await tools.getValueEntryNumber(item.entity1))) ??\n                            (this.tempData && this.tempData.time) ??\n                            0;\n\n                        if (value !== null) {\n                            let opt = '';\n                            if (this.tempData) {\n                                switch (this.tempData.role) {\n                                    case 'ex-timer': {\n                                        opt = new Date(new Date().setHours(0, 0, 0, value)).toLocaleTimeString('de', {\n                                            hour: '2-digit',\n                                            minute: '2-digit',\n                                            second: '2-digit',\n                                        });\n                                        break;\n                                    }\n                                    case 'ex-alarm': {\n                                        opt = new Date(new Date().setHours(0, 0, 0, value)).toLocaleTimeString('de', {\n                                            hour: '2-digit',\n                                            minute: '2-digit',\n                                            second: '2-digit',\n                                        });\n                                        break;\n                                    }\n                                    case 'timer': {\n                                        opt = new Date(\n                                            new Date().setHours(0, 0, this.tempData.time || 0, 0),\n                                        ).toLocaleTimeString('de', {\n                                            hour: '2-digit',\n                                            minute: '2-digit',\n                                            second: '2-digit',\n                                        });\n                                        break;\n                                    }\n                                }\n                            }\n                            const s = item.setValue2 && (await item.setValue2.getNumber());\n                            let v = !!value;\n                            if (s != null) {\n                                v = s > 1;\n                            }\n                            message.iconColor = await tools.getIconEntryColor(item.icon, v, Color.White);\n                            message.icon = await tools.getIconEntryValue(item.icon, v, 'gesture-tap-button');\n                            message.optionalValue = this.library.getTranslation(\n                                (await tools.getEntryTextOnOff(item.text, value !== 0)) ?? opt,\n                            );\n\n                            message.displayName = this.library.getTranslation(\n                                (await tools.getEntryTextOnOff(item.headline, true)) ?? message.displayName ?? '',\n                            );\n                            return tools.getPayload(\n                                message.type,\n                                message.intNameEntity,\n                                message.icon,\n                                message.iconColor,\n                                message.displayName,\n                                message.optionalValue,\n                            );\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        this.log.warn(`Something went wrong on ${this.id} type: ${this.config && this.config.type}!`);\n        return '~~~~~';\n    }\n\n    getDetailPayload(message: Partial<typePageItem.entityUpdateDetailMessage>): string {\n        this.triggerParent = false;\n        if (!message.type) {\n            return '';\n        }\n        switch (message.type) {\n            case '2Sliders': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: '2Sliders',\n                    icon: '',\n                    entityName: 'test',\n                    slidersColor: 'disable',\n                    buttonState: 'disable',\n                    slider1Pos: 'disable',\n                    slider2Pos: 'disable',\n                    hueMode: false,\n                    hue_translation: '',\n                    slider2Translation: '',\n                    slider1Translation: '',\n                    popup: false,\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(\n                    'entityUpdateDetail',\n                    result.entityName,\n                    result.icon ?? '',\n                    result.slidersColor,\n                    result.buttonState === 'disable' ? 'disable' : result.buttonState ? '1' : '0',\n                    String(result.slider1Pos),\n                    String(result.slider2Pos),\n                    result.hueMode ? 'enable' : 'disable',\n                    result.hue_translation,\n                    result.slider2Translation,\n                    result.slider1Translation,\n                    result.popup ? 'enable' : 'disable',\n                );\n                break;\n            }\n            case 'insel': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: 'insel',\n                    entityName: '',\n                    headline: '',\n                    textColor: String(Color.rgb_dec565(Color.White)),\n                    currentState: '',\n                    list: '',\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(\n                    'entityUpdateDetail2',\n                    result.entityName,\n                    '',\n                    result.textColor,\n                    result.headline,\n                    result.currentState,\n                    result.list,\n                );\n                break;\n            }\n            case 'popupThermo': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: 'popupThermo',\n                    entityName: '',\n                    headline: '',\n                    currentState: '',\n                    list: '',\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(result.headline, result.entityName, result.currentState, result.list);\n                break;\n            }\n            case 'popupFan': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: 'popupFan',\n                    entityName: '',\n                    icon: '',\n                    iconColor: '',\n                    buttonstate: '',\n                    slider1: '',\n                    slider1Max: '',\n                    speedText: '',\n                    mode: '',\n                    modeList: '',\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(\n                    'entityUpdateDetail',\n                    result.entityName,\n                    result.icon,\n                    result.iconColor,\n                    result.buttonstate,\n                    result.slider1,\n                    result.slider1Max,\n                    result.speedText,\n                    result.mode,\n                    result.modeList,\n                );\n                break;\n            }\n            case 'popupTimer': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: 'popupTimer',\n                    entityName: '',\n                    iconColor: '',\n                    minutes: '',\n                    seconds: '',\n                    editable: '0',\n                    action1: '',\n                    action2: '',\n                    action3: '',\n                    text1: '',\n                    text2: '',\n                    text3: '',\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(\n                    'entityUpdateDetail',\n                    result.entityName,\n                    '',\n                    result.iconColor,\n                    result.entityName,\n                    result.minutes,\n                    result.seconds,\n                    result.editable,\n                    result.action1,\n                    result.action2,\n                    result.action3,\n                    result.text1,\n                    result.text2,\n                    result.text3,\n                );\n                break;\n            }\n            case 'popupShutter': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: 'popupShutter',\n                    entityName: '',\n                    pos1: '',\n                    text2: '',\n                    pos1text: '',\n                    icon: '',\n                    iconL1: '',\n                    iconM1: '',\n                    iconR1: '',\n                    statusL1: 'disable',\n                    statusM1: 'disable',\n                    statusR1: 'disable',\n                    pos2text: '',\n                    iconL2: '',\n                    iconM2: '',\n                    iconR2: '',\n                    statusL2: 'disable',\n                    statusM2: 'disable',\n                    statusR2: 'disable',\n                    pos2: 'disable',\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(\n                    'entityUpdateDetail',\n                    result.entityName,\n                    result.pos1,\n                    result.text2,\n                    result.pos1text,\n                    result.icon,\n                    result.iconL1,\n                    result.iconM1,\n                    result.iconR1,\n                    result.statusL1,\n                    result.statusM1,\n                    result.statusR1,\n                    result.pos2text,\n                    result.iconL2,\n                    result.iconM2,\n                    result.iconR2,\n                    result.statusL2,\n                    result.statusM2,\n                    result.statusR2,\n                    result.pos2,\n                );\n            }\n            case 'popupShutter2': {\n                let result: typePageItem.entityUpdateDetailMessage = {\n                    type: 'popupShutter2',\n                    entityName: '',\n                    pos1: '',\n                    text2: '',\n                    pos1text: '',\n                    icon: '',\n                    iconT1: '',\n                    iconM1: '',\n                    iconB1: '',\n                    statusT1: 'disable',\n                    statusM1: 'disable',\n                    statusB1: 'disable',\n                    iconT2: '',\n                    iconT2Color: '',\n                    iconT2Enable: 'disable',\n                    iconM2: '',\n                    iconM2Color: '',\n                    iconM2Enable: 'disable',\n                    iconB2: '',\n                    iconB2Color: '',\n                    iconB2Enable: 'disable',\n                    shutterTyp: 'shutter',\n                    shutterClosedIsZero: this.adapter.config.shutterClosedIsZero ? '1' : '0',\n                };\n                result = Object.assign(result, message);\n                return tools.getPayload(\n                    'entityUpdateDetail',\n                    result.entityName,\n                    result.pos1,\n                    result.text2,\n                    result.pos1text,\n                    result.icon,\n                    result.iconT1,\n                    result.iconM1,\n                    result.iconB1,\n                    result.statusT1,\n                    result.statusM1,\n                    result.statusB1,\n                    result.iconT2,\n                    result.iconT2Color,\n                    result.iconT2Enable,\n                    result.iconM2,\n                    result.iconM2Color,\n                    result.iconM2Enable,\n                    result.iconB2,\n                    result.iconB2Color,\n                    result.iconB2Enable,\n                    result.shutterTyp,\n                    result.shutterClosedIsZero,\n                );\n            }\n        }\n        return '';\n    }\n\n    async GeneratePopup(mode: PopupType): Promise<string | null> {\n        if (!this.config || !this.dataItems) {\n            return null;\n        }\n        const entry = this.dataItems;\n        let message: Partial<typePageItem.entityUpdateDetailMessage> = {};\n        //const template = templatePageItems[mode][this.config.role];\n        message.entityName = this.id;\n        this.visibility = true;\n        this.lastPopupType = mode;\n        switch (mode) {\n            case 'popupLightNew':\n            case 'popupLight': {\n                switch (this.config.role) {\n                    case 'light':\n                    case 'socket':\n                    case 'dimmer':\n                    case 'hue':\n                    case 'ct':\n                    case 'rgbThree':\n                    case 'rgbSingle':\n                    case 'rgb.hex':\n                    default: {\n                        message.type = '2Sliders';\n                        if (message.type !== '2Sliders' || entry.type !== 'light') {\n                            return null;\n                        }\n                        const item = entry.data;\n                        message.buttonState = (await tools.getValueEntryBoolean(item.entity1)) ?? 'disable';\n                        const dimmer = item.dimmer && item.dimmer.value && (await item.dimmer.value.getNumber());\n                        if (dimmer != null && item.dimmer) {\n                            if (item.dimmer.minScale != undefined && item.dimmer.maxScale) {\n                                message.slider1Pos = Math.trunc(\n                                    Color.scale(\n                                        dimmer,\n                                        await item.dimmer.minScale.getNumber(),\n                                        await item.dimmer.maxScale.getNumber(),\n                                        0,\n                                        100,\n                                    ),\n                                );\n                            } else if (item.dimmer.value?.common?.min !== undefined && item.dimmer.value?.common?.max) {\n                                message.slider1Pos = Math.trunc(\n                                    Color.scale(\n                                        dimmer,\n                                        item.dimmer.value.common.min,\n                                        item.dimmer.value.common.max,\n                                        0,\n                                        100,\n                                    ),\n                                );\n                            } else {\n                                message.slider1Pos = dimmer;\n                            }\n                        }\n                        if (message.buttonState !== 'disable') {\n                            message.icon = await tools.getIconEntryValue(item.icon, message.buttonState, '', '');\n                        }\n\n                        message.slidersColor =\n                            (await tools.getIconEntryColor(\n                                item.icon,\n                                message.slider1Pos === undefined || message.slider1Pos === 'disable'\n                                    ? null\n                                    : (message.slider1Pos ?? message.buttonState === true),\n                                Color.White,\n                            )) ?? 'disable';\n                        let rgb = null;\n                        switch (this.config.role) {\n                            case 'socket':\n                            case 'light':\n                            case 'dimmer':\n                            case 'ct':\n                                break;\n                            case 'hue': {\n                                const nhue = (item.hue && (await item.hue.getNumber())) ?? null;\n                                if (nhue != null) {\n                                    rgb = Color.hsv2RGB(nhue, 1, 1) ?? null;\n                                }\n                                break;\n                            }\n                            case 'rgbThree': {\n                                rgb = (await tools.getRGBfromRGBThree(item)) ?? null;\n                                break;\n                            }\n                            case 'rgbSingle': {\n                                rgb = (item.color && item.color.true && (await item.color.true.getRGBValue())) ?? null;\n                                break;\n                            }\n                            case 'rgb.hex': {\n                                rgb = (item.color && item.color.true && (await item.color.true.getRGBValue())) ?? null;\n                                break;\n                            }\n                        }\n                        message.slider2Pos = 'disable';\n                        if (item.White) {\n                            const val = await tools.getScaledNumber(item.White);\n                            message.slider2Pos = val ?? 'disable';\n                        } else if (item.ct && item.ct.value) {\n                            const ct = await tools.getSliderCTFromValue(item.ct);\n                            if (ct !== null) {\n                                message.slider2Pos = parseInt(ct);\n                            }\n                        }\n                        let colorMode: 'ct' | 'hue' | 'none' = !item.colorMode\n                            ? 'none'\n                            : (await item.colorMode.getBoolean())\n                              ? 'hue'\n                              : 'ct';\n                        if (colorMode === 'none') {\n                            const ctState = item.ct && item.ct.value && (await item.ct.value.getState());\n                            const colorState =\n                                (item.Red && (await item.Red.getState())) ??\n                                (item.Green && (await item.Green.getState())) ??\n                                (item.Blue && (await item.Blue.getState())) ??\n                                (item.color && item.color.true && (await item.color.true.getState())) ??\n                                (item.hue && (await item.hue.getState())) ??\n                                null;\n                            if (ctState && colorState) {\n                                if (ctState.ts > colorState.ts) {\n                                    colorMode = 'ct';\n                                } else {\n                                    colorMode = 'hue';\n                                }\n                            } else if (ctState) {\n                                colorMode = 'ct';\n                            } else if (colorState) {\n                                colorMode = 'hue';\n                            }\n                        }\n                        message.hueMode = rgb !== null;\n                        if (rgb !== null && colorMode === 'hue') {\n                            message.slidersColor = await tools.GetIconColor(\n                                rgb,\n                                message.slider1Pos !== 'disable' && message.slider1Pos != null\n                                    ? message.slider1Pos > 30\n                                        ? message.slider1Pos\n                                        : 30\n                                    : message.buttonState !== 'disable' && message.buttonState !== false,\n                            );\n                        }\n                        if (message.slider2Pos !== 'disable' && colorMode === 'ct') {\n                            message.slidersColor =\n                                (await tools.getTemperaturColorFromValue(item.ct, dimmer ?? 100)) ?? '';\n                        }\n\n                        message.popup = !!item.entityInSel?.value; //message.slider2Pos !== 'disable' && rgb !== null;\n\n                        message.slider1Translation =\n                            (item.text1 && item.text1.true && (await item.text1.true.getString())) ?? undefined;\n                        message.slider2Translation =\n                            (item.text2 && item.text2.true && (await item.text2.true.getString())) ?? undefined;\n                        message.hue_translation =\n                            (item.text3 && item.text3.true && (await item.text3.true.getString())) ?? undefined;\n\n                        if (message.slider1Translation !== undefined) {\n                            message.slider1Translation = this.library.getTranslation(message.slider1Translation);\n                        }\n                        if (message.slider2Translation !== undefined) {\n                            message.slider2Translation = this.library.getTranslation(message.slider2Translation);\n                        }\n                        if (message.hue_translation !== undefined) {\n                            message.hue_translation = this.library.getTranslation(message.hue_translation);\n                        }\n\n                        break;\n                    }\n                }\n                break;\n            }\n\n            case 'popupFan': {\n                if (entry.type === 'fan') {\n                    const item = entry.data;\n                    message.type = 'popupFan';\n                    if (message.type !== 'popupFan') {\n                        break;\n                    }\n                    //const speed = (await tools.getValueEntryNumber(item.speed, true)) ?? null;\n                    const value = (await tools.getValueEntryBoolean(item.entity1)) ?? null;\n                    message.icon = (await tools.getIconEntryValue(item.icon, value, '')) ?? '';\n                    message.iconColor = (await tools.getIconEntryColor(item.icon, value, Color.HMIOn)) ?? '';\n                    /*const min =\n                    (item.entity1 && item.entity1.minScale && (await item.entity1.minScale.getNumber())) ?? 0;*/\n                    message.slider1 = String((await tools.getScaledNumber(item.speed)) ?? '');\n                    message.slider1Max = String(\n                        (item.speed && item.speed.maxScale && (await item.speed.maxScale.getNumber())) ?? '100',\n                    );\n\n                    message.buttonstate = value ? '1' : '0';\n                    message.speedText = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.text, value)) ?? '',\n                    );\n\n                    const sList =\n                        item.entityInSel &&\n                        (await this.getListFromStates(\n                            item.entityInSel,\n                            item.valueList,\n                            entry.role,\n                            'valueList2' in item ? item.valueList2 : undefined,\n                        ));\n                    if (\n                        sList !== undefined &&\n                        sList.list !== undefined &&\n                        sList.value !== undefined &&\n                        sList.states !== undefined\n                    ) {\n                        if (sList.list.length > 0) {\n                            sList.list.splice(48);\n                            message.modeList = Array.isArray(sList.list)\n                                ? sList.list.map((a: string) => tools.formatInSelText(a)).join('?')\n                                : '';\n\n                            message.mode = tools.formatInSelText(this.library.getTranslation(sList.value));\n                        }\n                    } else {\n                        let list =\n                            (item.valueList && (await item.valueList.getObject())) ??\n                            (item.valueList && (await item.valueList.getString())) ??\n                            '';\n                        if (list !== null) {\n                            if (typeof list === 'string') {\n                                list = list.split('?');\n                            }\n                            if (Array.isArray(list)) {\n                                list.splice(48);\n                            }\n                        } else {\n                            list = [];\n                        }\n\n                        list = (list as string[]).map((a: string) =>\n                            tools.formatInSelText(this.library.getTranslation(a)),\n                        );\n\n                        message.modeList = (list as string[]).join('?');\n\n                        if (message.modeList && message.modeList.length > 940) {\n                            message.modeList = message.modeList.slice(0, 940);\n                            this.log.warn('Value list has more as 940 chars!');\n                        }\n                        const n = (await tools.getValueEntryNumber(item.entityInSel)) ?? 0;\n                        if (Array.isArray(list) && n != null && n < list.length) {\n                            message.mode = list[n];\n                        }\n                    }\n                }\n                break;\n            }\n            case 'popupThermo':\n            case 'popupInSel': {\n                if (entry.type !== 'input_sel' && entry.type !== 'light' && entry.type !== 'light2') {\n                    break;\n                }\n                const item = entry.data;\n                message.type = 'insel';\n                if (!(message.type === 'insel')) {\n                    return null;\n                }\n\n                const value = (await tools.getValueEntryBoolean(item.entityInSel)) ?? true;\n\n                message.textColor = await tools.getEntryColor(item.color, value, Color.White);\n\n                message.currentState =\n                    mode === 'popupThermo'\n                        ? this.library.getTranslation((item.headline && (await item.headline.getString())) ?? '')\n                        : 'entity2' in item\n                          ? ((await tools.getValueEntryString(item.entity2)) ?? '')\n                          : '';\n                message.headline = this.library.getTranslation(\n                    (item.headline && (await item.headline.getString())) ?? '',\n                );\n\n                const sList =\n                    item.entityInSel &&\n                    (await this.getListFromStates(\n                        item.entityInSel,\n                        item.valueList,\n                        entry.role,\n                        'valueList2' in item ? item.valueList2 : undefined,\n                    ));\n                if (sList !== undefined && sList.list !== undefined && sList.value !== undefined) {\n                    message.textColor = await tools.getEntryColor(item.color, !!value, Color.White);\n                    if (sList.list.length > 0) {\n                        sList.list.splice(48);\n                        message.list = Array.isArray(sList.list)\n                            ? sList.list.map((a: string) => tools.formatInSelText(a)).join('?')\n                            : '';\n\n                        message.currentState = tools.formatInSelText(this.library.getTranslation(sList.value));\n                        if (mode !== 'popupThermo') {\n                            break;\n                        }\n                        message = { ...message, type: 'popupThermo' };\n                        if (message.type === 'popupThermo') {\n                            message.headline = this.library.getTranslation(\n                                (await tools.getEntryTextOnOff(item.headline, true)) ?? message.headline ?? '',\n                            );\n                        }\n                        break;\n                    }\n                }\n\n                let list = (item.valueList && (await item.valueList.getObject())) ??\n                    (item.valueList && (await item.valueList.getString())) ?? [\n                        '1',\n                        '2',\n                        '3',\n                        '4',\n                        '5',\n                        '6',\n                        '7',\n                        '8',\n                        '9',\n                        '10',\n                        '11',\n                        '12',\n                        '13',\n                    ];\n\n                /**\n                 * die Liste ist entweder ein mit ? getrennt der String oder ein Array\n                 */\n                if (list !== null) {\n                    if (typeof list === 'string') {\n                        list = list.split('?');\n                    }\n                    if (Array.isArray(list)) {\n                        list.splice(48);\n                    }\n                } else {\n                    list = [];\n                }\n\n                list = (list as string[]).map((a: string) => tools.formatInSelText(this.library.getTranslation(a)));\n\n                message.list = (list as string[]).join('?');\n\n                if (message.list && message.list.length > 940) {\n                    message.list = message.list.slice(0, 940);\n                    this.log.warn('Value list has more as 940 chars!');\n                }\n                const n = (await tools.getValueEntryNumber(item.entityInSel)) ?? 0;\n                if (Array.isArray(list) && n != null && n < list.length) {\n                    message.currentState = list[n];\n                }\n\n                if (mode !== 'popupThermo') {\n                    break;\n                }\n                message = { ...message, type: 'popupThermo' };\n                if (message.type === 'popupThermo') {\n                    message.headline = this.library.getTranslation(\n                        (await tools.getEntryTextOnOff(item.headline, true)) ?? message.headline ?? '',\n                    );\n                }\n\n                break;\n            }\n            case 'popupNotify':\n                break;\n            case 'popupShutter': {\n                //entityUpdateDetail~entityName~*sliderPos*~2ndrow~textPosition~icon1~iconUp~iconStop~iconDown~iconUpStatus~iconStopStatus~iconDownStatus\n                //~textTilt~iconTiltLeft~iconTiltStop~iconTiltRight~iconTiltLeftStatus~iconTiltStopStatus~iconTiltLeftStatus~tiltPos\n                if (entry.type !== 'shutter') {\n                    break;\n                }\n                const item = entry.data;\n                message.type = 'popupShutter';\n                if (!(message.type === 'popupShutter')) {\n                    break;\n                }\n                let pos1: 'disable' | number | boolean = (await tools.getValueEntryNumber(item.entity1)) ?? 'disable';\n                if (pos1 === 'disable') {\n                    pos1 = (await tools.getValueEntryBoolean(item.entity1)) ?? 'disable';\n                }\n                message.text2 =\n                    (await tools.getEntryTextOnOff(item.text, typeof pos1 === 'boolean' ? pos1 : true)) ?? '';\n                message.text2 = this.library.getTranslation(message.text2);\n                let pos2 = (await tools.getValueEntryNumber(item.entity2)) ?? 'disable';\n                if (pos1 !== 'disable') {\n                    pos1 = !this.adapter.config.shutterClosedIsZero && typeof pos1 === 'number' ? 100 - pos1 : pos1;\n                    message.icon = (await tools.getIconEntryValue(item.icon, pos1, '')) ?? '';\n                } else if (typeof pos2 !== 'string') {\n                    pos2 = !this.adapter.config.shutterClosedIsZero && typeof pos2 === 'number' ? 100 - pos2 : pos2;\n                    message.icon = (await tools.getIconEntryValue(item.icon, pos2, '')) ?? '';\n                }\n                const optionalValue = item.valueList\n                    ? await item.valueList.getObject()\n                    : [\n                          'arrow-up', //up\n                          'stop', //stop\n                          'arrow-down', //down\n                          'arrow-top-right', //t-up\n                          'stop', //t-stop\n                          'arrow-bottom-left', //t-down\n                      ];\n                const arr = [pos1, pos2];\n                for (let index = 0; index < arr.length; index++) {\n                    const pos = arr[index];\n                    if (pos == 'disable') {\n                        continue;\n                    }\n\n                    const i = index * 3;\n\n                    let optionalValueC =\n                        Array.isArray(optionalValue) && optionalValue.every(a => typeof a === 'string')\n                            ? [...optionalValue]\n                            : ['', '', ''];\n                    optionalValueC = optionalValueC.splice(i, 3).map(a => (a ? Icons.GetIcon(a) : a));\n                    optionalValueC.forEach((a, i) => {\n                        if (a) {\n                            optionalValueC[i + 3] = this.tempData[i] ? 'enable' : 'disable';\n                        } else {\n                            optionalValueC[i] = '';\n                            optionalValueC[i + 3] = 'disable';\n                        }\n                    });\n                    if (index === 0) {\n                        message.pos1 = typeof pos === 'boolean' ? 'disable' : String(pos);\n                        message.pos1text = (await tools.getEntryTextOnOff(item.text1, true)) ?? '';\n                        message.pos1text = this.library.getTranslation(message.pos1text);\n                        message.iconL1 = optionalValueC[0];\n                        message.iconM1 = optionalValueC[1];\n                        message.iconR1 = optionalValueC[2];\n                        message.statusL1 = (typeof pos === 'boolean' ? false : pos === 0)\n                            ? 'disable'\n                            : optionalValueC[3];\n                        message.statusM1 = (typeof pos === 'boolean' ? pos : pos === 'disabled')\n                            ? 'disable'\n                            : optionalValueC[4];\n                        message.statusR1 = (typeof pos === 'boolean' ? !pos : pos === 100)\n                            ? 'disable'\n                            : optionalValueC[5];\n                    } else {\n                        message.pos2 = typeof pos === 'boolean' ? 'disable' : String(pos);\n                        message.pos2text = (await tools.getEntryTextOnOff(item.text2, true)) ?? '';\n                        message.pos2text = this.library.getTranslation(message.pos2text);\n                        message.iconL2 = optionalValueC[0];\n                        message.iconM2 = optionalValueC[1];\n                        message.iconR2 = optionalValueC[2];\n                        message.statusL2 = pos === 0 ? 'disable' : optionalValueC[3];\n                        message.statusM2 = optionalValueC[4];\n                        message.statusR2 = pos === 100 ? 'disable' : optionalValueC[5];\n                    }\n                }\n                break;\n            }\n            case 'popupShutter2': {\n                if (entry.type !== 'shutter2') {\n                    break;\n                }\n                const item = entry.data;\n                message.type = 'popupShutter2';\n                if (!(message.type === 'popupShutter2')) {\n                    break;\n                }\n                let pos1: null | number | boolean = await tools.getValueEntryNumber(item.entity1);\n                if (pos1 == null) {\n                    pos1 = await tools.getValueEntryBoolean(item.entity1);\n                }\n                message.pos1 =\n                    pos1 == null || typeof pos1 === 'boolean'\n                        ? 'disable'\n                        : this.adapter.config.shutterClosedIsZero && typeof pos1 === 'number'\n                          ? (100 - pos1).toFixed()\n                          : pos1.toFixed();\n                message.text2 =\n                    (await tools.getEntryTextOnOff(item.text, typeof pos1 === 'boolean' ? pos1 : true)) ?? '';\n                message.text2 = this.library.getTranslation(message.text2);\n\n                message.iconT1 = Icons.GetIcon('arrow-up');\n                message.iconM1 = Icons.GetIcon('stop');\n                message.iconB1 = Icons.GetIcon('arrow-down');\n                message.statusT1 = item?.up ? 'enable' : 'disable';\n                message.statusM1 = item?.stop ? 'enable' : 'disable';\n                message.statusB1 = item?.down ? 'enable' : 'disable';\n                message.pos1text = this.library.getTranslation(message.pos1text);\n\n                if (item.entity2) {\n                    let val: number | boolean | null = await tools.getValueEntryNumber(item.entity2);\n                    if (val === null || val === undefined) {\n                        val = await tools.getValueEntryBoolean(item.entity2);\n                    }\n                    message.iconT2 = (await tools.getIconEntryValue(item.icon2, val ?? true, 'window-open')) ?? '';\n                    message.iconT2Color = (await tools.getIconEntryColor(item.icon2, pos1, Color.White)) ?? '';\n                    message.iconT2Enable = 'enable';\n                }\n                if (item.entity3) {\n                    let val: number | boolean | null = await tools.getValueEntryNumber(item.entity3);\n                    if (val === null || val === undefined) {\n                        val = await tools.getValueEntryBoolean(item.entity3);\n                    }\n                    if (val === null || val === undefined) {\n                        val = true;\n                    }\n                    message.iconM2 = (await tools.getIconEntryValue(item.icon3, val, 'window-open')) ?? '';\n                    message.iconM2Color = (await tools.getIconEntryColor(item.icon3, val, Color.White)) ?? '';\n                    message.iconM2Enable = 'enable';\n                }\n                if (item.entity4) {\n                    let val: number | boolean | null = await tools.getValueEntryNumber(item.entity4);\n                    if (val === null || val === undefined) {\n                        val = await tools.getValueEntryBoolean(item.entity4);\n                    }\n                    message.iconB2 = (await tools.getIconEntryValue(item.icon4, val, 'window-open')) ?? '';\n                    message.iconB2Color = (await tools.getIconEntryColor(item.icon4, val, Color.White)) ?? '';\n                    message.iconB2Enable = 'enable';\n                }\n                break;\n            }\n            case 'popupTimer': {\n                if (entry.type !== 'timer') {\n                    break;\n                }\n                const item = entry.data;\n                message.type = 'popupTimer';\n                if (!(message.type === 'popupTimer')) {\n                    break;\n                }\n                // alarm/display\n                if (this.tempData) {\n                    let value: number | null = !item.setValue1\n                        ? ((item.entity1 && (await tools.getValueEntryNumber(item.entity1))) ?? null)\n                        : ((this.tempData && this.tempData.time) ?? 0);\n                    if (value == null) {\n                        value = 0;\n                    }\n                    switch (this.tempData.role) {\n                        case 'ex-timer': {\n                            message.iconColor = await tools.GetIconColor(item.icon, value > 0);\n                            message.minutes = new Date(new Date().setHours(0, 0, 0, value)).toLocaleTimeString('de', {\n                                minute: '2-digit',\n                            });\n                            message.seconds = new Date(new Date().setHours(0, 0, 0, value)).toLocaleTimeString('de', {\n                                second: '2-digit',\n                            });\n                            break;\n                        }\n                        case 'ex-alarm': {\n                            message.iconColor = await tools.GetIconColor(item.icon, value > 0);\n                            message.minutes = new Date(new Date().setHours(0, 0, 0, value)).toLocaleTimeString('de', {\n                                hour: '2-digit',\n                            });\n                            message.seconds = new Date(new Date().setHours(0, 0, 0, value)).toLocaleTimeString('de', {\n                                minute: '2-digit',\n                            });\n\n                            break;\n                        }\n                        case 'timer': {\n                            message.iconColor = await tools.GetIconColor(item.icon, this.tempData.status === 'run');\n                            message.minutes = Math.floor(this.tempData.value / 60).toFixed(0);\n                            message.seconds = Math.floor(this.tempData.value % 60).toFixed(0);\n                            break;\n                        }\n                    }\n                    switch (this.tempData.role) {\n                        case 'ex-alarm': {\n                            const status = item.setValue2 && ((await item.setValue2.getNumber()) as 1 | 0 | 2 | null);\n                            if (status == null) {\n                                break;\n                            }\n                            switch (status) {\n                                case 0:\n                                case 1: {\n                                    message.editable = item.entity1?.set?.writeable ? '1' : '0';\n                                    message.action1 = item.setValue2?.writeable ? 'begin' : 'disable';\n                                    message.action3 = item.entity1?.set?.writeable ? 'clear' : 'disable';\n                                    //message.action3 = 'finish';\n                                    message.text1 = this.library.getTranslation('continue');\n                                    message.text3 = this.library.getTranslation('clear');\n                                    //message.text3 = this.library.getTranslation('Finish');\n                                    break;\n                                }\n                                case 2: {\n                                    message.editable = '0';\n                                    message.action2 = item.setValue2?.writeable ? 'pause' : 'disable';\n                                    message.action3 = item.entity1?.set?.writeable ? 'clear' : 'disable';\n                                    //message.action3 = 'finish';\n                                    message.text2 = this.library.getTranslation('stop');\n                                    message.text3 = this.library.getTranslation('clear');\n                                    //message.text3 = this.library.getTranslation('Finish')\n                                    break;\n                                }\n                            }\n                            break;\n                        }\n                        case 'ex-timer': {\n                            const status = item.setValue2 && ((await item.setValue2.getNumber()) as 1 | 0 | 2 | null);\n                            if (status == null) {\n                                break;\n                            }\n                            switch (status) {\n                                case 0:\n                                case 1: {\n                                    message.editable = item.entity1?.set?.writeable ? '1' : '0';\n                                    message.action1 = item.setValue2?.writeable ? 'begin' : 'disable';\n                                    message.action3 = item.entity1?.set?.writeable ? 'clear' : 'disable';\n                                    //message.action3 = 'finish';\n                                    message.text1 = this.library.getTranslation('start');\n                                    message.text3 = this.library.getTranslation('clear');\n                                    break;\n                                }\n                                case 2: {\n                                    message.editable = '0';\n                                    message.action2 = item.setValue2?.writeable ? 'pause' : 'disable';\n                                    message.action3 = item.entity1?.set?.writeable ? 'clear' : 'disable';\n                                    //message.action3 = 'finish';\n                                    message.text2 = this.library.getTranslation('stop');\n                                    message.text3 = this.library.getTranslation('clear');\n                                    break;\n                                }\n                            }\n                            break;\n                        }\n                        case 'timer': {\n                            if (this.tempData.status === 'run') {\n                                message.editable = '0';\n                                message.action2 = 'pause';\n                                //message.action3 = 'clear';\n                                //message.action3 = 'finish';\n                                message.text2 = this.library.getTranslation('pause');\n                                //message.text3 = this.library.getTranslation('clear');\n                                //message.text3 = this.library.getTranslation('Finish');\n                            } else if (this.tempData.value > 0) {\n                                message.editable = '0';\n                                message.action1 = 'begin';\n                                message.action3 = 'clear';\n                                //message.action3 = 'finish';\n                                message.text1 = this.library.getTranslation('continue');\n                                message.text3 = this.library.getTranslation('clear');\n                                //message.text3 = this.library.getTranslation('Finish');\n                            } else {\n                                message.editable = '1';\n                                message.action1 = 'begin';\n                                message.action3 = 'clear';\n                                message.text1 = this.library.getTranslation('Start');\n                                message.text3 = this.library.getTranslation('clear');\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                break;\n            }\n        }\n\n        //if (template.type !== message.type) {\n        //    throw new Error(`Template ${template.type} is not ${message.type} for role: ${this.config.role}`);\n        //}\n        return this.getDetailPayload(message);\n    }\n\n    getLogname(): string {\n        return this.parent ? `${this.parent.name}.${this.id}` : this.id;\n    }\n    async delete(): Promise<void> {\n        this.visibility = false;\n        await this.controller.statesControler.deactivateTrigger(this);\n        if (this.panel.persistentPageItems[this.id]) {\n            if (!this.panel.unload) {\n                return;\n            }\n\n            delete this.panel.persistentPageItems[this.id];\n        }\n        await super.delete();\n        this.controller.statesControler.deletePageLoop();\n        this.parent = undefined;\n    }\n\n    async onCommand(action: string, value: string): Promise<boolean> {\n        if (value === undefined || this.dataItems === undefined) {\n            return false;\n        }\n        const entry = this.dataItems;\n        if (action.startsWith('mode-')) {\n            action = 'mode';\n        }\n        switch (action) {\n            case 'mode-preset_modes':\n            case 'mode':\n                {\n                    if (!('entityInSel' in entry.data)) {\n                        break;\n                    }\n                    await this.setListCommand(entry, value);\n                }\n\n                break;\n\n            case 'button': {\n                if (entry.type === 'button' || entry.type === 'switch') {\n                    if (this.parent && this.parent.isScreensaver) {\n                        if (!(this.parent as Screensaver).screensaverIndicatorButtons) {\n                            this.panel.navigation.resetPosition();\n                            await this.panel.navigation.setCurrentPage();\n                            break;\n                        }\n                    }\n                    if (entry.role === 'indicator') {\n                        if (this.parent && this.parent.card === 'cardThermo') {\n                            this.log.debug(`Button indicator ${this.id} was pressed!`);\n                            await this.parent.update();\n                        }\n                        break;\n                    }\n                    this.log.debug(`Button ${this.id} was pressed!`);\n                    const item = entry.data;\n                    if (item.confirm) {\n                        if (this.confirmClick === 'lock') {\n                            this.confirmClick = 'unlock';\n                            this.parent && (await this.parent.update());\n                            return true;\n                        } else if (this.confirmClick === 'unlock' || this.confirmClick - 300 > Date.now()) {\n                            return true;\n                        }\n                        this.confirmClick = 'lock';\n                        this.parent && (await this.parent.update());\n                    }\n                    if (item.popup) {\n                        const test = (item.popup.isActive && (await item.popup.isActive.getBoolean())) ?? true;\n                        if (test && item.popup.getMessage && item.popup.setMessage) {\n                            const message = await item.popup.getMessage.getString();\n                            const headline =\n                                (item.popup.getHeadline && (await item.popup.getHeadline.getString())) ?? '';\n                            if (message) {\n                                await item.popup.setMessage.setStateAsync(\n                                    JSON.stringify({ headline: headline, message: message }),\n                                );\n                            }\n                        }\n                        break;\n                    }\n                    let value: any = (item.setNavi && (await item.setNavi.getString())) ?? null;\n                    if (value !== null) {\n                        await this.panel.navigation.setTargetPageByName(value);\n                        break;\n                    }\n                    value = (item.entity1 && item.entity1.set && (await item.entity1.set.getBoolean())) ?? null;\n                    if (value !== null && item.entity1 && item.entity1.set) {\n                        await item.entity1.set.setStateFlip();\n                    } else if (item.entity1?.value?.writeable) {\n                        await item.entity1.value.setStateFlip();\n                    }\n                    value = (item.setValue1 && (await item.setValue1.getBoolean())) ?? null;\n                    if (value !== null && item.setValue1) {\n                        await item.setValue1.setStateFlip();\n                    }\n                    if (item.setValue2) {\n                        await item.setValue2.setStateTrue();\n                    }\n                } else if (entry.type === 'light' || entry.type === 'light2') {\n                    const item = entry.data;\n                    item.entity1 && item.entity1.set && (await item.entity1.set.setStateFlip());\n                    item.setValue1 && (await item.setValue1.setStateFlip());\n                } else if (entry.type === 'number') {\n                    const item = entry.data;\n                    if (item && item.switch1 && item.switch1.writeable) {\n                        await item.switch1.setStateFlip();\n                    }\n                } else if (entry.type === 'fan') {\n                    const item = entry.data;\n                    if (item.entity1?.set) {\n                        await item.entity1.set.setStateFlip();\n                    } else if (item.entity1?.value?.writeable) {\n                        await item.entity1.value.setStateFlip();\n                    }\n                }\n                break;\n            }\n            case 'brightnessSlider': {\n                if (entry.type === 'light' || entry.type === 'light2') {\n                    const item = entry.data;\n                    if (this.timeouts.brightnessSlider) {\n                        this.adapter.clearTimeout(this.timeouts.brightnessSlider);\n                    }\n                    this.timeouts.brightnessSlider = this.adapter.setTimeout(\n                        async (item, value) => {\n                            if (item?.dimmer?.value?.writeable || item?.dimmer?.set?.writeable) {\n                                const dimmer = await tools.getScaledNumber(item.dimmer);\n                                if (dimmer !== null && String(dimmer) != value) {\n                                    await tools.setScaledNumber(item.dimmer, parseInt(value));\n                                }\n                            } else {\n                                this.log.warn('Dimmer is not writeable!');\n                            }\n                        },\n                        150,\n                        item,\n                        value,\n                    );\n                }\n                break;\n            }\n            case 'button1Press':\n            case 'button2Press':\n            case 'button3Press': {\n                if (entry.type === 'shutter2') {\n                    const item = entry.data;\n                    let entity = item.entity4;\n                    if (action === 'button1Press') {\n                        entity = item.entity2;\n                    } else if (action === 'button2Press') {\n                        entity = item.entity3;\n                    }\n\n                    if (entity && entity.set && entity.set.writeable) {\n                        if (!Array.isArray(entity.set.options.role) && entity.set.options.role?.startsWith('button')) {\n                            await entity.set.setStateTrue();\n                        } else if (\n                            !Array.isArray(entity.set.options.role) &&\n                            entity.set.options.role?.startsWith('switch')\n                        ) {\n                            await entity.set.setStateFlip();\n                        }\n                    }\n                }\n                break;\n            }\n            case 'colorTempSlider': {\n                if (entry.type === 'light' || entry.type === 'light2') {\n                    const item = entry.data;\n                    if (this.timeouts.colorTempSlider) {\n                        this.adapter.clearTimeout(this.timeouts.colorTempSlider);\n                    }\n                    this.timeouts.colorTempSlider = this.adapter.setTimeout(\n                        async (item: typeof entry.data, value) => {\n                            if (item && item.White && item.White.value) {\n                                await tools.setScaledNumber(item.White, parseInt(value));\n                            }\n                            if (item && item.ct && item.ct.value && item.ct.value.writeable) {\n                                const ct = await tools.getSliderCTFromValue(item.ct);\n                                if (ct !== null && String(ct) != value) {\n                                    await tools.setSliderCTFromValue(item.ct, parseInt(value));\n                                }\n                            } else {\n                                this.log.warn(\n                                    `ct ${item.ct && item.ct.value ? item.ct.value.options.dp : ''} is not writeable!`,\n                                );\n                            }\n                        },\n                        150,\n                        item,\n                        value,\n                    );\n                }\n                break;\n            }\n            case 'OnOff': {\n                if (\n                    entry.type === 'light' ||\n                    entry.type === 'light2' ||\n                    entry.type === 'button' ||\n                    entry.type === 'switch' ||\n                    entry.type === 'fan'\n                ) {\n                    const item = entry.data;\n                    if (item && item.entity1) {\n                        await tools.setValueEntry(item.entity1, value === '1');\n                    } else {\n                        this.log.warn('entity1 is not writeable!');\n                    }\n                }\n                break;\n            }\n            case 'colorWheel': {\n                if (entry.type === 'light' || entry.type === 'light2') {\n                    const item = entry.data;\n                    if (item && this.config) {\n                        switch (this.config.role) {\n                            case 'socket':\n                            case 'light':\n                            case 'dimmer':\n                            case 'ct':\n                                break;\n                            case 'hue':\n                                await tools.setHuefromRGB(item, Color.resultToRgb(value));\n                                break;\n                            case 'rgbThree': {\n                                const rgb = Color.resultToRgb(value);\n                                await tools.setRGBThreefromRGB(item, rgb);\n                                break;\n                            }\n                            case 'rgbSingle': {\n                                const rgb = Color.resultToRgb(value);\n                                if (\n                                    Color.isRGB(rgb) &&\n                                    item?.color?.true &&\n                                    item.color.true.options.role !== 'level.color.rgb'\n                                ) {\n                                    await item.color.true.setStateAsync(JSON.stringify(rgb));\n                                    break;\n                                }\n                                // jump to next case if we have a rgb.hex\n                            }\n                            // eslint-disable-next-line no-fallthrough\n                            case 'rgb.hex': {\n                                const rgb = Color.resultToRgb(value);\n                                if (Color.isRGB(rgb)) {\n                                    item.color &&\n                                        item.color.true &&\n                                        (await item.color.true.setStateAsync(\n                                            Color.ConvertRGBtoHex(rgb.r, rgb.g, rgb.b),\n                                        ));\n                                }\n\n                                break;\n                            }\n                        }\n                    } else {\n                        this.log.warn('color value is not writeable!');\n                    }\n                }\n                break;\n            }\n            case 'tiltOpen': {\n                if (entry.type !== 'shutter') {\n                    break;\n                }\n                if (entry.data.up2 && entry.data.up2.writeable) {\n                    await entry.data.up2.setStateTrue();\n                    break;\n                }\n            }\n\n            // eslint-disable-next-line no-fallthrough\n            case 'tiltClose': {\n                if (entry.type !== 'shutter') {\n                    break;\n                }\n                if (action === 'tiltClose' && entry.data.down2 && entry.data.down2.writeable) {\n                    await entry.data.down2.setStateTrue();\n                    break;\n                }\n            }\n            // eslint-disable-next-line no-fallthrough\n            case 'tiltStop': {\n                if (entry.type !== 'shutter') {\n                    break;\n                }\n                if (action === 'tiltStop' && entry.data.stop2 && entry.data.stop2.writeable) {\n                    await entry.data.stop2.setStateTrue();\n                    break;\n                }\n                const items = entry.data;\n                const list = await this.getListCommands(items.setList);\n                if (list !== null && list.length > 2) {\n                    switch (action) {\n                        case 'tiltOpen': {\n                            await this.adapter.setForeignStateAsync(list[0].id, list[0].value);\n                            break;\n                        }\n                        case 'tiltStop': {\n                            await this.adapter.setForeignStateAsync(list[1].id, list[1].value);\n                            break;\n                        }\n                        case 'tiltClose': {\n                            await this.adapter.setForeignStateAsync(list[2].id, list[2].value);\n                            break;\n                        }\n                    }\n                } else {\n                    if (items.entity2 && items.entity2.value) {\n                        if (items.entity2.value.type === 'number' && items.entity2.minScale && items.entity2.maxScale) {\n                            switch (action) {\n                                case 'tiltOpen': {\n                                    if (tools.ifValueEntryIs(items.entity2, 'number')) {\n                                        const value = await items.entity2.maxScale.getNumber();\n                                        if (value !== null) {\n                                            await tools.setValueEntry(items.entity2, value);\n                                        }\n                                    }\n                                    break;\n                                }\n                                case 'tiltStop': {\n                                    if (tools.ifValueEntryIs(items.entity2, 'number')) {\n                                        const value = await tools.getValueEntryNumber(items.entity2);\n                                        if (value !== null) {\n                                            await tools.setValueEntry(items.entity2, value);\n                                        }\n                                    }\n                                    break;\n                                }\n                                case 'tiltClose': {\n                                    if (tools.ifValueEntryIs(items.entity2, 'number')) {\n                                        const value = await items.entity2.minScale.getNumber();\n                                        if (value !== null) {\n                                            await tools.setValueEntry(items.entity2, value);\n                                        }\n                                    }\n                                    break;\n                                }\n                            }\n                        } else if (items.entity2.value.type === 'boolean') {\n                            if (action !== 'tiltStop') {\n                                await items.entity2.value.setStateFlip();\n                            }\n                        }\n                    }\n                }\n\n                break;\n            }\n\n            case 'up': {\n                if (entry.type !== 'shutter' && entry.type !== 'shutter2') {\n                    break;\n                }\n                if (entry.data.up && entry.data.up.writeable) {\n                    await entry.data.up.setStateTrue();\n                    break;\n                }\n            }\n            // eslint-disable-next-line no-fallthrough\n            case 'stop': {\n                if (entry.type !== 'shutter' && entry.type !== 'shutter2') {\n                    break;\n                }\n                if (action === 'stop' && entry.data.stop && entry.data.stop.writeable) {\n                    await entry.data.stop.setStateTrue();\n                    break;\n                }\n            }\n            // eslint-disable-next-line no-fallthrough\n            case 'down': {\n                if (entry.type === 'shutter' || entry.type === 'shutter2') {\n                    if (action === 'down' && entry.data.down && entry.data.down.writeable) {\n                        await entry.data.down.setStateTrue();\n                        break;\n                    }\n\n                    if (entry.type === 'shutter') {\n                        const items = entry.data;\n                        const list = await this.getListCommands(items.setList);\n                        if (list !== null && list.length > 2) {\n                            switch (action) {\n                                case 'up': {\n                                    await this.adapter.setForeignStateAsync(list[0].id, list[0].value);\n                                    break;\n                                }\n                                case 'stop': {\n                                    await this.adapter.setForeignStateAsync(list[1].id, list[1].value);\n                                    break;\n                                }\n                                case 'down': {\n                                    await this.adapter.setForeignStateAsync(list[2].id, list[2].value);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    const items = entry.data;\n                    if (items.entity1 && items.entity1.value && items.entity1.minScale && items.entity1.maxScale) {\n                        if (items.entity1.value.type === 'number') {\n                            switch (action) {\n                                case 'up': {\n                                    if (tools.ifValueEntryIs(items.entity1, 'number')) {\n                                        const value = await items.entity1.maxScale.getNumber();\n                                        if (value !== null) {\n                                            await tools.setValueEntry(items.entity1, value);\n                                        }\n                                    }\n                                    break;\n                                }\n                                case 'stop': {\n                                    if (tools.ifValueEntryIs(items.entity1, 'number')) {\n                                        const value = await tools.getValueEntryNumber(items.entity1);\n                                        if (value !== null) {\n                                            await tools.setValueEntry(items.entity1, value);\n                                        }\n                                    }\n                                    break;\n                                }\n                                case 'down': {\n                                    if (tools.ifValueEntryIs(items.entity1, 'number')) {\n                                        const value = await items.entity1.minScale.getNumber();\n                                        if (value !== null) {\n                                            await tools.setValueEntry(items.entity1, value);\n                                        }\n                                    }\n                                    break;\n                                }\n                            }\n                        } else if (items.entity1.value.type === 'boolean') {\n                            if (action !== 'stop') {\n                                await items.entity1.value.setStateFlip();\n                            }\n                        }\n                    }\n                }\n                break;\n            }\n            /**\n             * 100 is right 0 left\n             */\n            case 'positionSlider': {\n                if (entry.type === 'shutter') {\n                    const items = entry.data;\n                    if (tools.ifValueEntryIs(items.entity1, 'number')) {\n                        let v = parseInt(value.trim());\n                        v = !this.adapter.config.shutterClosedIsZero ? 100 - v : v;\n                        await tools.setValueEntry(items.entity1, v);\n                    }\n                } else if (entry.type === 'shutter2') {\n                    const items = entry.data;\n                    if (tools.ifValueEntryIs(items.entity1, 'number')) {\n                        let v = parseInt(value.trim());\n                        v = this.adapter.config.shutterClosedIsZero ? 100 - v : v;\n                        await tools.setValueEntry(items.entity1, v);\n                    }\n                }\n                break;\n                break;\n            }\n            /**\n             * zu 100% geschlossen zu 0% geschlossen\n             */\n            case 'tiltSlider': {\n                if (entry.type === 'shutter') {\n                    const items = entry.data;\n                    if (tools.ifValueEntryIs(items.entity2, 'number')) {\n                        let v = parseInt(value.trim());\n                        v = !this.adapter.config.shutterClosedIsZero ? 100 - v : v;\n                        await tools.setValueEntry(items.entity2, v);\n                    }\n                }\n                break;\n            }\n            case 'number-set': {\n                if (this.timeouts['number-set']) {\n                    this.adapter.clearTimeout(this.timeouts['number-set']);\n                }\n                if (entry.type === 'number') {\n                    this.timeouts['number-set'] = this.adapter.setTimeout(\n                        async value => {\n                            await tools.setValueEntry(entry.data.entity1, parseInt(value), false);\n                        },\n                        150,\n                        value,\n                    );\n                } else if (entry.type === 'fan') {\n                    this.timeouts['number-set'] = this.adapter.setTimeout(\n                        async value => {\n                            await tools.setValueEntry(entry.data.speed, parseInt(value), false);\n                        },\n                        150,\n                        value,\n                    );\n                }\n                break;\n            }\n            case 'timer-begin': {\n                if (this.dataItems && this.dataItems.type == 'timer' && this.dataItems.data) {\n                    this.dataItems.data.setValue2 && (await this.dataItems.data.setValue2.setStateAsync(2));\n                }\n                switch (this.tempData.role) {\n                    case 'ex-alarm':\n                    case 'ex-timer': {\n                        break;\n                    }\n                    case 'timer': {\n                        if (this.tempInterval) {\n                            this.adapter.clearInterval(this.tempInterval);\n                        }\n\n                        this.tempData.status = 'run';\n                        if (this.visibility) {\n                            await this.onStateTrigger();\n                        }\n\n                        this.tempInterval = this.adapter.setInterval(async () => {\n                            if (this.unload && this.tempInterval) {\n                                this.adapter.clearInterval(this.tempInterval);\n                            }\n                            if (--this.tempData.value <= 0) {\n                                this.tempData.value = 0;\n                                this.tempData.status = 'stop';\n                                this.dataItems &&\n                                    this.dataItems.type == 'timer' &&\n                                    this.dataItems.data &&\n                                    this.dataItems.data.setValue1 &&\n                                    (await this.dataItems.data.setValue1.setStateTrue());\n                                if (this.visibility) {\n                                    await this.onStateTrigger();\n                                } else if (this.parent && !this.parent.sleep && this.parent.getVisibility()) {\n                                    await this.parent.onStateTriggerSuperDoNotOverride('timer', this);\n                                }\n                                if (this.tempInterval) {\n                                    this.adapter.clearInterval(this.tempInterval);\n                                }\n                                this.tempInterval = undefined;\n                            } else if (this.tempData.value > 0) {\n                                if (this.visibility) {\n                                    await this.onStateTrigger();\n                                } else if (this.parent && !this.parent.sleep && this.parent.getVisibility()) {\n                                    await this.parent.onStateTriggerSuperDoNotOverride('timer', this);\n                                }\n                            }\n                        }, 1000);\n\n                        break;\n                    }\n                }\n                break;\n            }\n\n            case 'timer-start': {\n                switch (this.tempData.role) {\n                    case 'ex-alarm': {\n                        const t = value.split(':').reduce((p, c, i) => {\n                            return String(parseInt(p) + parseInt(c) * 60 ** (2 - i));\n                        });\n                        const r = new Date(new Date().setHours(0, parseInt(t), 0, 0)).getTime();\n                        if (this.dataItems && this.dataItems.type == 'timer' && this.dataItems.data) {\n                            this.dataItems.data.entity1?.set &&\n                                (await this.dataItems.data.entity1.set.setStateAsync(r));\n                        }\n                        break;\n                    }\n                    case 'ex-timer': {\n                        const t = value.split(':').reduce((p, c, i) => {\n                            return String(parseInt(p) + parseInt(c) * 60 ** (2 - i));\n                        });\n                        const r = new Date(new Date().setHours(0, 0, parseInt(t), 0)).getTime();\n                        if (this.dataItems && this.dataItems.type == 'timer' && this.dataItems.data) {\n                            this.dataItems.data.entity1?.set &&\n                                (await this.dataItems.data.entity1.set.setStateAsync(r));\n                        }\n                        break;\n                    }\n                    case 'timer': {\n                        if (this.tempInterval) {\n                            this.adapter.clearInterval(this.tempInterval);\n                        }\n                        if (value) {\n                            this.tempData.value = value.split(':').reduce((p, c, i) => {\n                                return String(parseInt(p) + parseInt(c) * 60 ** (2 - i));\n                            });\n                        }\n                        break;\n                    }\n                }\n                break;\n            }\n            case 'timer-finish': {\n                break;\n            }\n            case 'timer-clear': {\n                if (this.dataItems && this.dataItems.type == 'timer' && this.dataItems.data) {\n                    this.dataItems.data.setValue2 && (await this.dataItems.data.setValue2.setStateAsync(0));\n                }\n\n                if (this.tempData) {\n                    switch (this.tempData.role) {\n                        case 'ex-alarm':\n                        case 'ex-timer': {\n                            const r = new Date(new Date().setHours(0, 0, 0, 0)).getTime();\n                            if (this.dataItems && this.dataItems.type == 'timer' && this.dataItems.data) {\n                                this.dataItems.data.entity1?.set &&\n                                    (await this.dataItems.data.entity1.set.setStateAsync(r));\n                            }\n                            break;\n                        }\n                        case 'timer':\n                            {\n                                this.tempData.value = 0;\n                                this.tempData.status = 'stop';\n                                if (this.visibility) {\n                                    await this.onStateTrigger();\n                                }\n                                if (this.tempInterval) {\n                                    this.adapter.clearInterval(this.tempInterval);\n                                }\n                            }\n                            break;\n                    }\n                }\n\n                break;\n            }\n            case 'timer-pause': {\n                if (this.dataItems && this.dataItems.type == 'timer' && this.dataItems.data) {\n                    this.dataItems.data.setValue2 && (await this.dataItems.data.setValue2.setStateAsync(1));\n                }\n\n                if (this.tempData) {\n                    switch (this.tempData.role) {\n                        case 'ex-alarm':\n                        case 'ex-timer': {\n                            break;\n                        }\n                        case 'timer':\n                            {\n                                this.tempData.status = 'pause';\n                                if (this.visibility) {\n                                    await this.onStateTrigger();\n                                }\n                                if (this.tempInterval) {\n                                    this.adapter.clearInterval(this.tempInterval);\n                                }\n                            }\n                            break;\n                    }\n                }\n\n                break;\n            }\n            default: {\n                return false;\n            }\n        }\n        return true;\n    }\n    protected async onStateTrigger(id: string = '', from?: BaseClassTriggerd): Promise<void> {\n        if (this.lastPopupType) {\n            if (this.lastPopupType === 'popupThermo') {\n                this.parent && (await this.parent.onPopupRequest(this.id, 'popupThermo', '', '', null));\n                return;\n            }\n            const msg = await this.GeneratePopup(this.lastPopupType);\n            if (msg) {\n                this.sendToPanel(msg, false);\n            }\n        }\n        if (from && this.panel.isOnline && this.parent === this.panel.screenSaver && this.panel.screenSaver) {\n            await this.panel.screenSaver.onStateTrigger(id, from);\n        }\n    }\n    async getListCommands(setList: Dataitem | undefined): Promise<typePageItem.listCommand[] | null> {\n        if (!setList) {\n            return null;\n        }\n        let list: typePageItem.listCommand[] | null = (await setList.getObject()) as typePageItem.listCommand[] | null;\n        if (list === null) {\n            const temp = await setList.getString();\n            if (temp === null) {\n                return null;\n            }\n            list = temp.split('|').map((a: string): typePageItem.listCommand => {\n                const t = a.split('?');\n                return typePageItem.islistCommandUnion(t[2])\n                    ? { id: t[0], value: t[1], command: t[2] }\n                    : { id: t[0], value: t[1] };\n            });\n        }\n        return list;\n    }\n\n    /**\n     * Die Setzliste besteht aus 1 Arrays in Stringform mit trenner | und einem json mit trenner ? { id: t[0], value: t[1] }\n     * oder { id: t[0], value: t[1], command: t[2]} command bitte in der funktion nachsehen. Hier sind meist nicht alle beschrieben\n     *\n     * Standardnutzung, NSPanelauswahl von z.B. Eintrag 2 benutzt das Element 2 aus diesem Array und setzt die ID auf den Wert value\n     * 'flip': Liest den State mit ID ein, negiert den Wert und schreibt ihn wieder zur\u00FCck. string, number, boolean m\u00F6glich.\n     */\n\n    async setListCommand(entry: typePageItem.PageItemDataItems, value: string): Promise<boolean> {\n        //if (entry.type !== 'input_sel') return false;\n        const item = entry.data;\n        if (!('entityInSel' in item)) {\n            return false;\n        }\n\n        const sList =\n            item.entityInSel &&\n            (await this.getListFromStates(\n                item.entityInSel,\n                item.valueList,\n                entry.role,\n                'valueList2' in item ? item.valueList2 : undefined,\n            ));\n\n        if (sList) {\n            if (\n                entry.role === 'spotify-playlist' &&\n                sList.list !== undefined &&\n                'setValue1' in item &&\n                sList.list[parseInt(value)] !== undefined &&\n                item.setValue1\n            ) {\n                await item.setValue1.setStateAsync(parseInt(value) + 1);\n\n                return true;\n            } else if (\n                sList.states !== undefined &&\n                sList.states[parseInt(value)] !== undefined &&\n                item.entityInSel &&\n                item.entityInSel.value\n            ) {\n                if (item.entityInSel.value?.common?.type === 'number') {\n                    await item.entityInSel.value.setStateAsync(parseInt(sList.states[parseInt(value)]));\n                } else {\n                    await item.entityInSel.value.setStateAsync(sList.states[parseInt(value)]);\n                }\n                return true;\n            }\n        }\n        if (!item.setList) {\n            if (item.entityInSel && item.entityInSel.value) {\n                let list: string[] | string | object = (item.valueList && (await item.valueList.getObject())) ||\n                    (item.valueList && (await item.valueList.getString())) || [\n                        '1',\n                        '2',\n                        '3',\n                        '4',\n                        '5',\n                        '6',\n                        '7',\n                        '8',\n                        '9',\n                        '10',\n                        '11',\n                        '12',\n                        '13',\n                    ];\n\n                /**\n                 * die Liste ist entweder ein mit ? getrennt der String oder ein Array\n                 */\n                if (list !== null) {\n                    if (typeof list === 'string') {\n                        list = list.split('?');\n                    }\n                    if (Array.isArray(list)) {\n                        list.splice(48);\n                    }\n                } else {\n                    list = [];\n                }\n                if (Array.isArray(list) && list.length > parseInt(value)) {\n                    await item.entityInSel.value.setStateAsync(value);\n                    return true;\n                }\n            }\n            return false;\n        }\n        const list = await this.getListCommands(item.setList);\n        const v = value as keyof typeof list;\n        if (list && list[v]) {\n            try {\n                const obj = await this.panel.statesControler.getObjectAsync(list[v].id);\n                if (!obj || !obj.common || obj.type !== 'state') {\n                    throw new Error('Dont get obj!');\n                }\n\n                const type = obj.common.type;\n                let newValue: any = null;\n                switch (list[v].command) {\n                    case 'flip': {\n                        const state = await this.adapter.getForeignStateAsync(list[v].id);\n                        if (state) {\n                            switch (typeof state.val) {\n                                case 'string': {\n                                    switch (\n                                        state.val as 'ON' | 'OFF' | 'TRUE' | 'FALSE' | 'START' | 'STOP' | '0' | '1'\n                                    ) {\n                                        case 'ON': {\n                                            newValue = 'OFF';\n                                            break;\n                                        }\n                                        case 'OFF': {\n                                            newValue = 'ON';\n                                            break;\n                                        }\n                                        case 'TRUE': {\n                                            newValue = 'FALSE';\n                                            break;\n                                        }\n                                        case 'FALSE': {\n                                            newValue = 'TRUE';\n                                            break;\n                                        }\n                                        case 'START': {\n                                            newValue = 'STOP';\n                                            break;\n                                        }\n                                        case 'STOP': {\n                                            newValue = 'START';\n                                            break;\n                                        }\n                                        case '0': {\n                                            newValue = '1';\n                                            break;\n                                        }\n                                        case '1': {\n                                            newValue = '0';\n                                            break;\n                                        }\n                                    }\n                                    break;\n                                }\n                                case 'number':\n                                case 'bigint': {\n                                    newValue = state.val === 1 ? 0 : 1;\n                                    break;\n                                }\n                                case 'boolean': {\n                                    newValue = !state.val;\n                                    break;\n                                }\n\n                                case 'symbol':\n                                case 'undefined':\n                                case 'object':\n                                case 'function':\n                                    return false;\n                            }\n                        }\n                        break;\n                    }\n                    case undefined: {\n                        newValue = this.adapter.library.convertToType(list[v].value, type);\n                    }\n                }\n\n                if (newValue !== null) {\n                    await this.adapter.setForeignStateAsync(\n                        list[v].id,\n                        newValue,\n                        list[v].id.startsWith(this.adapter.namespace),\n                    );\n                    return true;\n                }\n                this.log.error(`Try to set a null value to ${list[v].id}!`);\n            } catch {\n                this.log.error(`Id ${list[v].id} is not valid!`);\n            }\n        }\n        return false;\n    }\n    async getListFromStates(\n        entityInSel: ChangeTypeOfKeys<typePageItem.ValueEntryType, Dataitem | undefined> | undefined,\n        valueList: Dataitem | undefined,\n        role: DeviceRole | undefined,\n        valueList2: Dataitem | undefined = undefined,\n    ): Promise<{ value?: string | undefined; list?: string[] | undefined; states?: string[] }> {\n        const list: { value?: string | undefined; list?: string[] | undefined; states?: string[] } = {};\n        if (\n            entityInSel &&\n            entityInSel.value &&\n            ['string', 'number'].indexOf(entityInSel.value.type ?? '') !== -1 &&\n            (role == 'spotify-playlist' || (await entityInSel.value.getCommonStates()) || valueList2 != null)\n        ) {\n            let states: Record<string | number, string> | undefined = undefined;\n            const value = await tools.getValueEntryString(entityInSel);\n            if (valueList && valueList2) {\n                role = '2values';\n            }\n            switch (role) {\n                case 'spotify-playlist': {\n                    if (valueList) {\n                        const val = (await valueList.getObject()) as typePageItem.spotifyPlaylist | null;\n                        if (val) {\n                            states = {};\n                            for (let a = 0; a < val.length; a++) {\n                                states[a + 1] = val[a].title;\n                            }\n                            list.value = value ?? undefined;\n                        }\n                    }\n                    break;\n                }\n                case '2values': {\n                    if (!valueList || !valueList2) {\n                        this.log.error('2values without valueList or valueList2!');\n                        return {};\n                    }\n                    const val1: string[] = (await valueList.getObject()) as string[]; //key\n                    const val2: string[] = (await valueList2.getObject()) as string[]; //value\n                    if (!Array.isArray(val1) || !Array.isArray(val2)) {\n                        this.log.error('2values valueList or valueList2 is not a array!');\n                        return {};\n                    }\n                    states = {};\n                    for (let a = 0; a < val1.length; a++) {\n                        states[val1[a]] = val2[a];\n                    }\n                    break;\n                }\n                default: {\n                    states = await entityInSel.value.getCommonStates();\n                }\n            }\n            if (value !== null && states) {\n                list.list = [];\n                list.states = [];\n                for (const a in states) {\n                    list.list.push(this.library.getTranslation(String(states[a])));\n                    list.states.push(a);\n                }\n                if (!list.value) {\n                    list.value = states[value];\n                }\n            }\n        }\n        return list;\n    }\n}\n"],
  "mappings": "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",
  "names": ["i", "value", "item", "_a", "_b", "_c", "_d", "items", "list"]
}
