{
  "version": 3,
  "sources": ["../../../src/lib/pages/pageChart.ts"],
  "sourcesContent": ["import type { ConfigManager } from '../classes/config-manager';\nimport { Page } from '../classes/Page';\nimport { type PageInterface } from '../classes/PageInterface';\nimport { Color } from '../const/Color';\nimport { getIconEntryColor, getPayload } from '../const/tools';\nimport type { NspanelLovelaceUi } from '../types/NspanelLovelaceUi';\nimport type * as pages from '../types/pages';\nimport type { IncomingEvent } from '../types/types';\n\nconst PageChartMessageDefault: pages.PageChartMessage = {\n    event: 'entityUpd',\n    headline: 'Page Chart',\n    navigation: 'button~bSubPrev~~~~~button~bSubNext~~~~',\n    color: '', //Balkenfarbe\n    text: '', //Bezeichnung y Achse\n    ticks: [], //Werte y Achse\n    value: '', //Werte x Achse\n};\n\n/**\n * untested\n */\nexport class PageChart extends Page {\n    items: pages.cardChartDataItems | undefined;\n    index: number = 0;\n    private checkState: boolean = true;\n    private adminConfig = this.adapter.config.pageChartdata[this.index];\n\n    constructor(config: PageInterface, options: pages.PageBaseConfig) {\n        if (config.card !== 'cardChart') {\n            return;\n        }\n        super(config, options);\n        if (options.config && options.config.card == 'cardChart') {\n            this.config = options.config;\n        } else {\n            throw new Error('Missing config!');\n        }\n        this.index = this.config.index;\n        this.minUpdateInterval = 2000;\n    }\n\n    async init(): Promise<void> {\n        const config = structuredClone(this.config);\n        // search states for mode auto\n        const tempConfig: Partial<pages.cardChartDataItemOptions> =\n            this.enums || this.dpInit\n                ? await this.panel.statesControler.getDataItemsFromAuto(this.dpInit, config, undefined, this.enums)\n                : config;\n        // create Dataitems\n        //this.log.debug(JSON.stringify(tempConfig));\n        const tempItem: Partial<pages.cardChartDataItems> = await this.panel.statesControler.createDataItems(\n            tempConfig,\n            this,\n        );\n        if (tempItem) {\n            tempItem.card = 'cardChart';\n        }\n        this.items = tempItem as pages.cardChartDataItems;\n        await super.init();\n    }\n\n    /**\n     *\n     * @returns // TODO: remove this\n     */\n    public async update(): Promise<void> {\n        if (!this.visibility) {\n            return;\n        }\n        if (!this.checkState) {\n            return;\n        }\n        const message: Partial<pages.PageChartMessage> = {};\n        if (this.items && this.adminConfig != null) {\n            const items = this.items;\n            const chartData = await this.getChartData();\n\n            message.headline = (items.data.headline && (await items.data.headline.getTranslatedString())) ?? this.name;\n            message.navigation = this.getNavigation();\n            message.color = await getIconEntryColor(items.data.color, true, Color.White);\n            message.text = (items.data.text && (await items.data.text.getString())) ?? '';\n            message.value = chartData.valuesChart;\n            message.ticks = chartData.ticksChart;\n        }\n        if (message.value) {\n            this.log.debug(message.value);\n        }\n        if (message.ticks) {\n            this.log.debug(`Ticks: ${message.ticks.join(',')}`);\n        }\n        this.sendToPanel(this.getMessage(message), false);\n    }\n\n    static async getChartPageConfig(\n        adapter: NspanelLovelaceUi,\n        index: number,\n        configManager: ConfigManager,\n    ): Promise<pages.PageBaseConfig> {\n        const config = adapter.config.pageChartdata[index];\n        let stateExistValue = '';\n        let stateExistTicks = '';\n        if (config) {\n            if (await configManager.existsState(config.setStateForValues)) {\n                stateExistValue = config.setStateForValues;\n            }\n            if (await configManager.existsState(config.setStateForTicks)) {\n                stateExistTicks = config.setStateForTicks;\n            }\n\n            const result: pages.PageBaseConfig = {\n                uniqueID: config.pageName,\n                alwaysOn: config.alwaysOnDisplay ? 'always' : 'none',\n                config: {\n                    card: 'cardChart',\n                    index: index,\n                    data: {\n                        headline: { type: 'const', constVal: config.headline || '' },\n                        text: { type: 'const', constVal: config.txtlabelYAchse || '' },\n                        color: { true: { color: { type: 'const', constVal: config.chart_color } } },\n                        ticks: { type: 'triggered', dp: stateExistTicks },\n                        value: { type: 'triggered', dp: stateExistValue },\n                    },\n                },\n                pageItems: [],\n            };\n            return result;\n        }\n        throw new Error('No config for cardChart found');\n    }\n\n    private async getChartData(): Promise<{ ticksChart: string[]; valuesChart: string }> {\n        let ticksChart: string[] = [];\n        let valuesChart = '';\n\n        if (this.items && this.adminConfig != null) {\n            const items = this.items;\n\n            switch (this.adminConfig.selInstanceDataSource) {\n                case 0: {\n                    // oldScriptVersion\n                    const tempTicks = (items.data.ticks && (await items.data.ticks.getObject())) ?? [];\n                    const tempValues = (items.data.value && (await items.data.value.getString())) ?? '';\n                    if (tempTicks && Array.isArray(tempTicks)) {\n                        ticksChart = tempTicks;\n                    }\n                    if (tempValues && typeof tempValues === 'string') {\n                        valuesChart = tempValues;\n                    }\n                    break;\n                }\n                case 1: {\n                    // AdapterVersion\n\n                    const rangeHours = this.adminConfig.rangeHours;\n                    const stateValue = this.adminConfig.setStateForValues;\n                    const instance = this.adminConfig.selInstance;\n                    const maxXAxisTicks = this.adminConfig.maxXAxisTicks;\n                    const factor = this.adminConfig.factorCardChart;\n                    const tempScale: number[] = [];\n\n                    try {\n                        const dbDaten = await this.getDataFromDB(stateValue, rangeHours, instance);\n                        if (dbDaten && Array.isArray(dbDaten)) {\n                            this.log.debug(`Data from DB: ${JSON.stringify(dbDaten)}`);\n\n                            const stepXAchsis = rangeHours / maxXAxisTicks;\n\n                            for (let i = 0; i < rangeHours; i++) {\n                                const deltaHour = rangeHours - i;\n                                const targetDate = new Date(Date.now() - deltaHour * 60 * 60 * 1000);\n\n                                //Check history items for requested hours\n                                for (let j = 0, targetValue = 0; j < dbDaten.length; j++) {\n                                    const valueDate = new Date(dbDaten[j].ts);\n                                    const value = Math.round((dbDaten[j].val / factor) * 10);\n                                    tempScale.push(value);\n\n                                    if (valueDate > targetDate) {\n                                        if (targetDate.getHours() % stepXAchsis == 0) {\n                                            valuesChart += `${targetValue}^${targetDate.getHours()}:00` + `~`;\n                                        } else {\n                                            valuesChart += `${targetValue}~`;\n                                        }\n                                        break;\n                                    } else {\n                                        targetValue = value;\n                                    }\n                                }\n                            }\n\n                            valuesChart = valuesChart.substring(0, valuesChart.length - 1);\n\n                            // create ticks\n                            let max = 0;\n                            let min = 0;\n                            let intervall = 0;\n\n                            max = Math.max(...tempScale);\n                            min = Math.min(...tempScale);\n                            this.log.debug(`Scale Min: ${min}, Max: ${max}`);\n\n                            intervall = Math.round(max / 4);\n                            ticksChart.push(String(min));\n\n                            for (let count = 0; count < 4; count++) {\n                                min = Math.round(min + intervall);\n                                ticksChart.push(String(min));\n                            }\n                        }\n                    } catch (error) {\n                        this.log.error(`Error fetching data from DB: ${error}`);\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n        }\n\n        return { ticksChart, valuesChart };\n    }\n\n    private async getDataFromDB(_id: string, _rangeHours: number, _instance: string): Promise<any[]> {\n        return new Promise((resolve, reject) => {\n            this.adapter.sendTo(\n                _instance,\n                'getHistory',\n                {\n                    id: _id,\n                    options: {\n                        start: Date.now() - _rangeHours * 60 * 60 * 1000,\n                        end: Date.now(),\n                        //count: _rangeHours,\n                        //limit: _rangeHours,\n                        //ignoreNull: true,\n                        aggregate: 'onchange',\n                    },\n                },\n                function (result) {\n                    if (result && 'result' in result) {\n                        if (Array.isArray(result.result)) {\n                            for (let i = 0; i < result.result.length; i++) {\n                                console.log(\n                                    `Value: ${result.result[i].val}, ISO-Timestring: ${new Date(result.result[i].ts).toISOString()}`,\n                                );\n                            }\n                            if (Array.isArray(result.result)) {\n                                resolve(result.result);\n                            } else {\n                                reject(new Error('Unexpected result format'));\n                            }\n                        } else {\n                            reject(new Error('No data found'));\n                        }\n                    }\n                },\n            );\n        });\n    }\n\n    private getMessage(_message: Partial<pages.PageChartMessage>): string {\n        let result: pages.PageChartMessage = PageChartMessageDefault;\n        result = Object.assign(result, _message) as pages.PageChartMessage;\n        return getPayload(\n            'entityUpd',\n            result.headline,\n            result.navigation,\n            result.color,\n            result.text,\n            result.ticks.join(':'),\n            result.value,\n        );\n    }\n\n    protected async onVisibilityChange(val: boolean): Promise<void> {\n        // check if value state exists\n        if (val) {\n            this.adapter\n                .getForeignStateAsync(this.adminConfig.setStateForValues)\n                .then(state => {\n                    if (state && state.val) {\n                        this.log.debug(`State ${this.adminConfig.setStateForValues} for Values is exists`);\n                    } else {\n                        this.log.debug(`State ${this.adminConfig.setStateForValues} for Values is not exists`);\n                        this.checkState = false;\n                    }\n                })\n                .catch(e => {\n                    this.log.debug(`State ${this.adminConfig.setStateForValues} not found: ${e}`);\n                    this.checkState = false;\n                });\n        }\n        if (val && this.adminConfig.selInstanceDataSource === 1) {\n            this.adapter\n                .getForeignStateAsync(`system.adapter.${this.adminConfig.selInstance}.alive`)\n                .then(state => {\n                    if (state && state.val) {\n                        this.log.debug(`Instance ${this.adminConfig.selInstance} is alive`);\n                    } else {\n                        this.log.debug(`Instance ${this.adminConfig.selInstance} is not alive`);\n                        this.checkState = false;\n                    }\n                })\n                .catch(e => {\n                    this.log.debug(`Instance ${this.adminConfig.selInstance} not found: ${e}`);\n                    this.checkState = false;\n                });\n        } else if (val && this.adminConfig.selInstanceDataSource === 0) {\n            // check if ticks state exists\n            this.adapter\n                .getForeignStateAsync(this.adminConfig.setStateForTicks)\n                .then(state => {\n                    if (state && state.val) {\n                        this.log.debug(`State ${this.adminConfig.setStateForTicks} for Ticks is exists`);\n                    } else {\n                        this.log.debug(`State ${this.adminConfig.setStateForTicks} for ticks is not exists`);\n                        this.checkState = false;\n                    }\n                })\n                .catch(e => {\n                    this.log.debug(`State ${this.adminConfig.setStateForTicks} not found: ${e}`);\n                    this.checkState = false;\n                });\n        }\n        await super.onVisibilityChange(val);\n    }\n\n    protected async onStateTrigger(_id: string): Promise<void> {\n        if (this.unload) {\n            return;\n        }\n        this.adapter.setTimeout(() => this.update(), 50);\n    }\n\n    async onButtonEvent(_event: IncomingEvent): Promise<void> {\n        //if (event.page && event.id && this.pageItems) {\n        //    this.pageItems[event.id as any].setPopupAction(event.action, event.opt);\n        //}\n    }\n}\n"],
  "mappings": "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",
  "names": []
}
