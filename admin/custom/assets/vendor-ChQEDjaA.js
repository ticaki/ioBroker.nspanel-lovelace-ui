const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../customComponents.js","./virtualExposes-B-ivIdzL.js","./react-vendor-BDxB2YBA.js","./mui-material-Ghzm1UhE.js","./mui-core-BKQsWbb8.js","./d3-lib-D1aNn2Bp.js"])))=>i.map(i=>d[i]);
import{av as getDefaultExportFromCjs,aw as reactIsExports,ax as commonjsGlobal,ay as getAugmentedNamespace,C as ChromePicker,D as Dropzone,az as _default$3}from"./react-vendor-BDxB2YBA.js";import{x as FilledInput,y as blue$1}from"./mui-material-Ghzm1UhE.js";import{L as DatePicker,M as TimePicker}from"./mui-core-BKQsWbb8.js";import{i as identity$5,z as zoom,s as select,p as pointer,d as drag}from"./d3-lib-D1aNn2Bp.js";function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(o,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const JsonConfig=Object.freeze(Object.defineProperty({__proto__:null,get ConfigGeneric(){return ConfigGeneric},get ConfigPanel(){return ConfigPanel},get JsonConfig(){return JsonConfig$1},get JsonConfigComponent(){return JsonConfigComponent}},Symbol.toStringTag,{value:"Module"}));var index_cjs$3={},index_cjs$2={},polyfills_cjs$1={};function _extends$5(){return _extends$5=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},_extends$5.apply(this,arguments)}function _object_without_properties_loose(t,e){if(t==null)return{};var n={},o=Object.keys(t),s,a;for(a=0;a<o.length;a++)s=o[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}polyfills_cjs$1._extends=_extends$5;polyfills_cjs$1._object_without_properties_loose=_object_without_properties_loose;var index_cjs$1={},polyfills_cjs={};function _extends$4(){return _extends$4=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},_extends$4.apply(this,arguments)}polyfills_cjs._=_extends$4;var define_process_env_default={},polyfills$1=polyfills_cjs;const FederationModuleManifest="federation-manifest.json",MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},NameTransformMap={[NameTransformSymbol.AT]:"scope_",[NameTransformSymbol.HYPHEN]:"_",[NameTransformSymbol.SLASH]:"__"},EncodedNameTransformMap={[NameTransformMap[NameTransformSymbol.AT]]:NameTransformSymbol.AT,[NameTransformMap[NameTransformSymbol.HYPHEN]]:NameTransformSymbol.HYPHEN,[NameTransformMap[NameTransformSymbol.SLASH]]:NameTransformSymbol.SLASH},SEPARATOR=":",ManifestFileName="mf-manifest.json",StatsFileName="mf-stats.json",MFModuleType={NPM:"npm",APP:"app"},MODULE_DEVTOOL_IDENTIFIER="__MF_DEVTOOLS_MODULE_INFO__",ENCODE_NAME_PREFIX="ENCODE_NAME_PREFIX",TEMP_DIR=".federation",MFPrefetchCommon={identifier:"MFDataPrefetch",globalKey:"__PREFETCH__",library:"mf-data-prefetch",exportsKey:"__PREFETCH_EXPORTS__",fileName:"bootstrap.js"};var ContainerPlugin=Object.freeze({__proto__:null}),ContainerReferencePlugin=Object.freeze({__proto__:null}),ModuleFederationPlugin=Object.freeze({__proto__:null}),SharePlugin=Object.freeze({__proto__:null});function isBrowserEnv(){return typeof window<"u"&&typeof window.document<"u"}function isReactNativeEnv(){var t;return typeof navigator<"u"&&((t=navigator)==null?void 0:t.product)==="ReactNative"}function isBrowserDebug(){try{if(isBrowserEnv()&&window.localStorage)return!!localStorage.getItem(BROWSER_LOG_KEY)}catch{return!1}return!1}function isDebugMode(){return typeof process<"u"&&define_process_env_default&&define_process_env_default.FEDERATION_DEBUG?!!define_process_env_default.FEDERATION_DEBUG:typeof FEDERATION_DEBUG<"u"&&FEDERATION_DEBUG?!0:isBrowserDebug()}const getProcessEnv=function(){return typeof process<"u"&&define_process_env_default?define_process_env_default:{}},LOG_CATEGORY$1="[ Federation Runtime ]",parseEntry=(t,e,n=SEPARATOR)=>{const o=t.split(n),s=getProcessEnv().NODE_ENV==="development"&&e,a="*",l=d=>d.startsWith("http")||d.includes(MANIFEST_EXT);if(o.length>=2){let[d,...h]=o;t.startsWith(n)&&(d=o.slice(0,2).join(n),h=[s||o.slice(2).join(n)]);let _=s||h.join(n);return l(_)?{name:d,entry:_}:{name:d,version:_||a}}else if(o.length===1){const[d]=o;return s&&l(s)?{name:d,entry:s}:{name:d,version:s||a}}else throw`Invalid entry value: ${t}`},composeKeyWithSeparator=function(...t){return t.length?t.reduce((e,n)=>n?e?`${e}${SEPARATOR}${n}`:n:e,""):""},encodeName=function(t,e="",n=!1){try{const o=n?".js":"";return`${e}${t.replace(new RegExp(`${NameTransformSymbol.AT}`,"g"),NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(`${NameTransformSymbol.HYPHEN}`,"g"),NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(`${NameTransformSymbol.SLASH}`,"g"),NameTransformMap[NameTransformSymbol.SLASH])}${o}`}catch(o){throw o}},decodeName=function(t,e,n){try{let o=t;if(e){if(!o.startsWith(e))return o;o=o.replace(new RegExp(e,"g"),"")}return o=o.replace(new RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]),n&&(o=o.replace(".js","")),o}catch(o){throw o}},generateExposeFilename=(t,e)=>{if(!t)return"";let n=t;return n==="."&&(n="default_export"),n.startsWith("./")&&(n=n.replace("./","")),encodeName(n,"__federation_expose_",e)},generateShareFilename=(t,e)=>t?encodeName(t,"__federation_shared_",e):"",getResourceUrl=(t,e)=>{if("getPublicPath"in t){let n;return t.getPublicPath.startsWith("function")?n=new Function("return "+t.getPublicPath)()():n=new Function(t.getPublicPath)(),`${n}${e}`}else return"publicPath"in t?!isBrowserEnv()&&!isReactNativeEnv()&&"ssrPublicPath"in t?`${t.ssrPublicPath}${e}`:`${t.publicPath}${e}`:(console.warn("Cannot get resource URL. If in debug mode, please ignore.",t,e),"")},assert$1=(t,e)=>{t||error$2(e)},error$2=t=>{throw new Error(`${LOG_CATEGORY$1}: ${t}`)},warn$2=t=>{console.warn(`${LOG_CATEGORY$1}: ${t}`)};function safeToString(t){try{return JSON.stringify(t,null,2)}catch{return""}}const VERSION_PATTERN_REGEXP=/^([\d^=v<>~]|[*xX]$)/;function isRequiredVersion(t){return VERSION_PATTERN_REGEXP.test(t)}const simpleJoinRemoteEntry=(t,e)=>{if(!t)return e;const o=(s=>{if(s===".")return"";if(s.startsWith("./"))return s.replace("./","");if(s.startsWith("/")){const a=s.slice(1);return a.endsWith("/")?a.slice(0,-1):a}return s})(t);return o?o.endsWith("/")?`${o}${e}`:`${o}/${e}`:e};function inferAutoPublicPath(t){return t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")}function generateSnapshotFromManifest(t,e={}){var n,o;const{remotes:s={},overrides:a={},version:l}=e;let d;const h=()=>"publicPath"in t.metaData?t.metaData.publicPath==="auto"&&l?inferAutoPublicPath(l):t.metaData.publicPath:t.metaData.getPublicPath,_=Object.keys(a);let p={};if(!Object.keys(s).length){var u;p=((u=t.remotes)==null?void 0:u.reduce(($,E)=>{let D;const I=E.federationContainerName;return _.includes(I)?D=a[I]:"version"in E?D=E.version:D=E.entry,$[I]={matchedVersion:D},$},{}))||{}}Object.keys(s).forEach($=>p[$]={matchedVersion:_.includes($)?a[$]:s[$]});const{remoteEntry:{path:m,name:g,type:y},types:v,buildInfo:{buildVersion:S},globalName:b,ssrRemoteEntry:C}=t.metaData,{exposes:w}=t;let A={version:l||"",buildVersion:S,globalName:b,remoteEntry:simpleJoinRemoteEntry(m,g),remoteEntryType:y,remoteTypes:simpleJoinRemoteEntry(v.path,v.name),remoteTypesZip:v.zip||"",remoteTypesAPI:v.api||"",remotesInfo:p,shared:t==null?void 0:t.shared.map($=>({assets:$.assets,sharedName:$.name,version:$.version})),modules:w==null?void 0:w.map($=>({moduleName:$.name,modulePath:$.path,assets:$.assets}))};if((n=t.metaData)!=null&&n.prefetchInterface){const $=t.metaData.prefetchInterface;A=polyfills$1._({},A,{prefetchInterface:$})}if((o=t.metaData)!=null&&o.prefetchEntry){const{path:$,name:E,type:D}=t.metaData.prefetchEntry;A=polyfills$1._({},A,{prefetchEntry:simpleJoinRemoteEntry($,E),prefetchEntryType:D})}if("publicPath"in t.metaData?d=polyfills$1._({},A,{publicPath:h(),ssrPublicPath:t.metaData.ssrPublicPath}):d=polyfills$1._({},A,{getPublicPath:h()}),C){const $=simpleJoinRemoteEntry(C.path,C.name);d.ssrRemoteEntry=$,d.ssrRemoteEntryType=C.type||"commonjs-module"}return d}function isManifestProvider(t){return!!("remoteEntry"in t&&t.remoteEntry.includes(MANIFEST_EXT))}const PREFIX$1="[ Module Federation ]";let Logger=class{setPrefix(e){this.prefix=e}log(...e){console.log(this.prefix,...e)}warn(...e){console.log(this.prefix,...e)}error(...e){console.log(this.prefix,...e)}success(...e){console.log(this.prefix,...e)}info(...e){console.log(this.prefix,...e)}ready(...e){console.log(this.prefix,...e)}debug(...e){isDebugMode()&&console.log(this.prefix,...e)}constructor(e){this.prefix=e}};function createLogger(t){return new Logger(t)}const logger$1=createLogger(PREFIX$1);async function safeWrapper$1(t,e){try{return await t()}catch(n){!e&&warn$2(n);return}}function isStaticResourcesEqual$1(t,e){const n=/^(https?:)?\/\//i,o=t.replace(n,"").replace(/\/$/,""),s=e.replace(n,"").replace(/\/$/,"");return o===s}function createScript(t){let e=null,n=!0,o=2e4,s;const a=document.getElementsByTagName("script");for(let d=0;d<a.length;d++){const h=a[d],_=h.getAttribute("src");if(_&&isStaticResourcesEqual$1(_,t.url)){e=h,n=!1;break}}if(!e){const d=t.attrs;e=document.createElement("script"),e.type=(d==null?void 0:d.type)==="module"?"module":"text/javascript";let h;t.createScriptHook&&(h=t.createScriptHook(t.url,t.attrs),h instanceof HTMLScriptElement?e=h:typeof h=="object"&&("script"in h&&h.script&&(e=h.script),"timeout"in h&&h.timeout&&(o=h.timeout))),e.src||(e.src=t.url),d&&!h&&Object.keys(d).forEach(_=>{e&&(_==="async"||_==="defer"?e[_]=d[_]:e.getAttribute(_)||e.setAttribute(_,d[_]))})}const l=async(d,h)=>{clearTimeout(s);const _=()=>{(h==null?void 0:h.type)==="error"?t!=null&&t.onErrorCallback&&(t==null||t.onErrorCallback(h)):t!=null&&t.cb&&(t==null||t.cb())};if(e&&(e.onerror=null,e.onload=null,safeWrapper$1(()=>{const{needDeleteScript:p=!0}=t;p&&e!=null&&e.parentNode&&e.parentNode.removeChild(e)}),d&&typeof d=="function")){const p=d(h);if(p instanceof Promise){const u=await p;return _(),u}return _(),p}_()};return e.onerror=l.bind(null,e.onerror),e.onload=l.bind(null,e.onload),s=setTimeout(()=>{l(null,new Error(`Remote script "${t.url}" time-outed.`))},o),{script:e,needAttach:n}}function createLink(t){let e=null,n=!0;const o=document.getElementsByTagName("link");for(let a=0;a<o.length;a++){const l=o[a],d=l.getAttribute("href"),h=l.getAttribute("rel");if(d&&isStaticResourcesEqual$1(d,t.url)&&h===t.attrs.rel){e=l,n=!1;break}}if(!e){e=document.createElement("link"),e.setAttribute("href",t.url);let a;const l=t.attrs;t.createLinkHook&&(a=t.createLinkHook(t.url,l),a instanceof HTMLLinkElement&&(e=a)),l&&!a&&Object.keys(l).forEach(d=>{e&&!e.getAttribute(d)&&e.setAttribute(d,l[d])})}const s=(a,l)=>{const d=()=>{(l==null?void 0:l.type)==="error"?t!=null&&t.onErrorCallback&&(t==null||t.onErrorCallback(l)):t!=null&&t.cb&&(t==null||t.cb())};if(e&&(e.onerror=null,e.onload=null,safeWrapper$1(()=>{const{needDeleteLink:h=!0}=t;h&&e!=null&&e.parentNode&&e.parentNode.removeChild(e)}),a)){const h=a(l);return d(),h}d()};return e.onerror=s.bind(null,e.onerror),e.onload=s.bind(null,e.onload),{link:e,needAttach:n}}function loadScript$1(t,e){const{attrs:n={},createScriptHook:o}=e;return new Promise((s,a)=>{const{script:l,needAttach:d}=createScript({url:t,cb:s,onErrorCallback:a,attrs:polyfills$1._({fetchpriority:"high"},n),createScriptHook:o,needDeleteScript:!0});d&&document.head.appendChild(l)})}function importNodeModule(t){if(!t)throw new Error("import specifier is required");return new Function("name","return import(name)")(t).then(n=>n).catch(n=>{throw console.error(`Error importing module ${t}:`,n),n})}const loadNodeFetch=async()=>{const t=await importNodeModule("node-fetch");return t.default||t},lazyLoaderHookFetch=async(t,e,n)=>{const s=await((a,l)=>n.lifecycle.fetch.emit(a,l))(t,e||{});return!s||!(s instanceof Response)?(typeof fetch>"u"?await loadNodeFetch():fetch)(t,e||{}):s},createScriptNode=typeof ENV_TARGET>"u"||ENV_TARGET!=="web"?(url,cb,attrs,loaderHook)=>{if(loaderHook!=null&&loaderHook.createScriptHook){const t=loaderHook.createScriptHook(url);t&&typeof t=="object"&&"url"in t&&(url=t.url)}let urlObj;try{urlObj=new URL(url)}catch(t){console.error("Error constructing URL:",t),cb(new Error(`Invalid URL: ${t}`));return}const getFetch=async()=>loaderHook!=null&&loaderHook.fetch?(t,e)=>lazyLoaderHookFetch(t,e,loaderHook):typeof fetch>"u"?loadNodeFetch():fetch,handleScriptFetch=async(f,urlObj)=>{try{var _vm_constants;const res=await f(urlObj.href),data=await res.text(),[path,vm]=await Promise.all([importNodeModule("path"),importNodeModule("vm")]),scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);var _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;const script=new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}
})`,{filename,importModuleDynamically:(_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER=(_vm_constants=vm.constants)==null?void 0:_vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER)!=null?_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER:importNodeModule});script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename);const exportedInterface=scriptContext.module.exports||scriptContext.exports;if(attrs&&exportedInterface&&attrs.globalName){const t=exportedInterface[attrs.globalName]||exportedInterface;cb(void 0,t);return}cb(void 0,exportedInterface)}catch(t){cb(t instanceof Error?t:new Error(`Script execution error: ${t}`))}};getFetch().then(async t=>{if((attrs==null?void 0:attrs.type)==="esm"||(attrs==null?void 0:attrs.type)==="module")return loadModule(urlObj.href,{fetch:t,vm:await importNodeModule("vm")}).then(async e=>{await e.evaluate(),cb(void 0,e.namespace)}).catch(e=>{cb(e instanceof Error?e:new Error(`Script execution error: ${e}`))});handleScriptFetch(t,urlObj)}).catch(t=>{cb(t)})}:(t,e,n,o)=>{e(new Error("createScriptNode is disabled in non-Node.js environment"))},loadScriptNode=typeof ENV_TARGET>"u"||ENV_TARGET!=="web"?(t,e)=>new Promise((n,o)=>{createScriptNode(t,(s,a)=>{if(s)o(s);else{var l,d;const h=(e==null||(l=e.attrs)==null?void 0:l.globalName)||`__FEDERATION_${e==null||(d=e.attrs)==null?void 0:d.name}:custom__`,_=globalThis[h]=a;n(_)}},e.attrs,e.loaderHook)}):(t,e)=>{throw new Error("loadScriptNode is disabled in non-Node.js environment")};async function loadModule(t,e){const{fetch:n,vm:o}=e,a=await(await n(t)).text(),l=new o.SourceTextModule(a,{importModuleDynamically:async(d,h)=>{const _=new URL(d,t).href;return loadModule(_,e)}});return await l.link(async d=>{const h=new URL(d,t).href;return await loadModule(h,e)}),l}function normalizeOptions(t,e,n){return function(o){if(o===!1)return!1;if(typeof o>"u")return t?e:!1;if(o===!0)return e;if(o&&typeof o=="object")return polyfills$1._({},e,o);throw new Error(`Unexpected type for \`${n}\`, expect boolean/undefined/object, got: ${typeof o}`)}}const createModuleFederationConfig=t=>t;index_cjs$1.BROWSER_LOG_KEY=BROWSER_LOG_KEY;index_cjs$1.ENCODE_NAME_PREFIX=ENCODE_NAME_PREFIX;index_cjs$1.EncodedNameTransformMap=EncodedNameTransformMap;index_cjs$1.FederationModuleManifest=FederationModuleManifest;index_cjs$1.MANIFEST_EXT=MANIFEST_EXT;index_cjs$1.MFModuleType=MFModuleType;index_cjs$1.MFPrefetchCommon=MFPrefetchCommon;index_cjs$1.MODULE_DEVTOOL_IDENTIFIER=MODULE_DEVTOOL_IDENTIFIER;index_cjs$1.ManifestFileName=ManifestFileName;index_cjs$1.NameTransformMap=NameTransformMap;index_cjs$1.NameTransformSymbol=NameTransformSymbol;index_cjs$1.SEPARATOR=SEPARATOR;index_cjs$1.StatsFileName=StatsFileName;index_cjs$1.TEMP_DIR=TEMP_DIR;index_cjs$1.assert=assert$1;index_cjs$1.composeKeyWithSeparator=composeKeyWithSeparator;index_cjs$1.containerPlugin=ContainerPlugin;index_cjs$1.containerReferencePlugin=ContainerReferencePlugin;index_cjs$1.createLink=createLink;index_cjs$1.createLogger=createLogger;index_cjs$1.createModuleFederationConfig=createModuleFederationConfig;index_cjs$1.createScript=createScript;index_cjs$1.createScriptNode=createScriptNode;index_cjs$1.decodeName=decodeName;index_cjs$1.encodeName=encodeName;index_cjs$1.error=error$2;index_cjs$1.generateExposeFilename=generateExposeFilename;index_cjs$1.generateShareFilename=generateShareFilename;index_cjs$1.generateSnapshotFromManifest=generateSnapshotFromManifest;index_cjs$1.getProcessEnv=getProcessEnv;index_cjs$1.getResourceUrl=getResourceUrl;index_cjs$1.inferAutoPublicPath=inferAutoPublicPath;index_cjs$1.isBrowserEnv=isBrowserEnv;index_cjs$1.isDebugMode=isDebugMode;index_cjs$1.isManifestProvider=isManifestProvider;index_cjs$1.isReactNativeEnv=isReactNativeEnv;index_cjs$1.isRequiredVersion=isRequiredVersion;index_cjs$1.isStaticResourcesEqual=isStaticResourcesEqual$1;index_cjs$1.loadScript=loadScript$1;index_cjs$1.loadScriptNode=loadScriptNode;index_cjs$1.logger=logger$1;index_cjs$1.moduleFederationPlugin=ModuleFederationPlugin;index_cjs$1.normalizeOptions=normalizeOptions;index_cjs$1.parseEntry=parseEntry;index_cjs$1.safeToString=safeToString;index_cjs$1.safeWrapper=safeWrapper$1;index_cjs$1.sharePlugin=SharePlugin;index_cjs$1.simpleJoinRemoteEntry=simpleJoinRemoteEntry;index_cjs$1.warn=warn$2;var index_cjs={};const RUNTIME_001="RUNTIME-001",RUNTIME_002="RUNTIME-002",RUNTIME_003="RUNTIME-003",RUNTIME_004="RUNTIME-004",RUNTIME_005="RUNTIME-005",RUNTIME_006="RUNTIME-006",RUNTIME_007="RUNTIME-007",RUNTIME_008="RUNTIME-008",RUNTIME_009="RUNTIME-009",TYPE_001="TYPE-001",BUILD_001="BUILD-001",BUILD_002="BUILD-002",getDocsUrl=t=>`View the docs to see how to solve: https://module-federation.io/guide/troubleshooting/${t.split("-")[0].toLowerCase()}/${t}`,getShortErrorMsg=(t,e,n,o)=>{const s=[`${[e[t]]} #${t}`];return n&&s.push(`args: ${JSON.stringify(n)}`),s.push(getDocsUrl(t)),o&&s.push(`Original Error Message:
 ${o}`),s.join(`
`)};function _extends$3(){return _extends$3=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},_extends$3.apply(this,arguments)}const runtimeDescMap={[RUNTIME_001]:"Failed to get remoteEntry exports.",[RUNTIME_002]:'The remote entry interface does not contain "init"',[RUNTIME_003]:"Failed to get manifest.",[RUNTIME_004]:"Failed to locate remote.",[RUNTIME_005]:"Invalid loadShareSync function call from bundler runtime",[RUNTIME_006]:"Invalid loadShareSync function call from runtime",[RUNTIME_007]:"Failed to get remote snapshot.",[RUNTIME_008]:"Failed to load script resources.",[RUNTIME_009]:"Please call createInstance first."},typeDescMap={[TYPE_001]:"Failed to generate type declaration. Execute the below cmd to reproduce and fix the error."},buildDescMap={[BUILD_001]:"Failed to find expose module.",[BUILD_002]:"PublicPath is required in prod mode."},errorDescMap=_extends$3({},runtimeDescMap,typeDescMap,buildDescMap);index_cjs.BUILD_001=BUILD_001;index_cjs.BUILD_002=BUILD_002;index_cjs.RUNTIME_001=RUNTIME_001;index_cjs.RUNTIME_002=RUNTIME_002;index_cjs.RUNTIME_003=RUNTIME_003;index_cjs.RUNTIME_004=RUNTIME_004;index_cjs.RUNTIME_005=RUNTIME_005;index_cjs.RUNTIME_006=RUNTIME_006;index_cjs.RUNTIME_007=RUNTIME_007;index_cjs.RUNTIME_008=RUNTIME_008;index_cjs.RUNTIME_009=RUNTIME_009;index_cjs.TYPE_001=TYPE_001;index_cjs.buildDescMap=buildDescMap;index_cjs.errorDescMap=errorDescMap;index_cjs.getShortErrorMsg=getShortErrorMsg;index_cjs.runtimeDescMap=runtimeDescMap;index_cjs.typeDescMap=typeDescMap;var polyfills=polyfills_cjs$1,sdk=index_cjs$1,errorCodes$1=index_cjs;const LOG_CATEGORY="[ Federation Runtime ]",logger=sdk.createLogger(LOG_CATEGORY);function assert(t,e){t||error$1(e)}function error$1(t){throw t instanceof Error?(t.message.startsWith(LOG_CATEGORY)||(t.message=`${LOG_CATEGORY}: ${t.message}`),t):new Error(`${LOG_CATEGORY}: ${t}`)}function warn$1(t){t instanceof Error&&(t.message.startsWith(LOG_CATEGORY)||(t.message=`${LOG_CATEGORY}: ${t.message}`)),logger.warn(t)}function addUniqueItem(t,e){return t.findIndex(n=>n===e)===-1&&t.push(e),t}function getFMId(t){return"version"in t&&t.version?`${t.name}:${t.version}`:"entry"in t&&t.entry?`${t.name}:${t.entry}`:`${t.name}`}function isRemoteInfoWithEntry(t){return typeof t.entry<"u"}function isPureRemoteEntry(t){return!t.entry.includes(".json")}async function safeWrapper(t,e){try{return await t()}catch(n){!e&&warn$1(n);return}}function isObject$c(t){return t&&typeof t=="object"}const objectToString$5=Object.prototype.toString;function isPlainObject$4(t){return objectToString$5.call(t)==="[object Object]"}function isStaticResourcesEqual(t,e){const n=/^(https?:)?\/\//i,o=t.replace(n,"").replace(/\/$/,""),s=e.replace(n,"").replace(/\/$/,"");return o===s}function arrayOptions(t){return Array.isArray(t)?t:[t]}function getRemoteEntryInfoFromSnapshot(t){const e={url:"",type:"global",globalName:""};return sdk.isBrowserEnv()||sdk.isReactNativeEnv()?"remoteEntry"in t?{url:t.remoteEntry,type:t.remoteEntryType,globalName:t.globalName}:e:"ssrRemoteEntry"in t?{url:t.ssrRemoteEntry||e.url,type:t.ssrRemoteEntryType||e.type,globalName:t.globalName}:e}const processModuleAlias=(t,e)=>{let n;return t.endsWith("/")?n=t.slice(0,-1):n=t,e.startsWith(".")&&(e=e.slice(1)),n=n+e,n},CurrentGlobal=typeof globalThis=="object"?globalThis:window,nativeGlobal=(()=>{try{return document.defaultView}catch{return CurrentGlobal}})(),Global$1=nativeGlobal;function definePropertyGlobalVal(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!1,writable:!0})}function includeOwnProperty(t,e){return Object.hasOwnProperty.call(t,e)}includeOwnProperty(CurrentGlobal,"__GLOBAL_LOADING_REMOTE_ENTRY__")||definePropertyGlobalVal(CurrentGlobal,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});const globalLoading=CurrentGlobal.__GLOBAL_LOADING_REMOTE_ENTRY__;function setGlobalDefaultVal(t){var e,n,o,s,a,l;includeOwnProperty(t,"__VMOK__")&&!includeOwnProperty(t,"__FEDERATION__")&&definePropertyGlobalVal(t,"__FEDERATION__",t.__VMOK__),includeOwnProperty(t,"__FEDERATION__")||(definePropertyGlobalVal(t,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),definePropertyGlobalVal(t,"__VMOK__",t.__FEDERATION__));var d;(d=(e=t.__FEDERATION__).__GLOBAL_PLUGIN__)!=null||(e.__GLOBAL_PLUGIN__=[]);var h;(h=(n=t.__FEDERATION__).__INSTANCES__)!=null||(n.__INSTANCES__=[]);var _;(_=(o=t.__FEDERATION__).moduleInfo)!=null||(o.moduleInfo={});var p;(p=(s=t.__FEDERATION__).__SHARE__)!=null||(s.__SHARE__={});var u;(u=(a=t.__FEDERATION__).__MANIFEST_LOADING__)!=null||(a.__MANIFEST_LOADING__={});var m;(m=(l=t.__FEDERATION__).__PRELOADED_MAP__)!=null||(l.__PRELOADED_MAP__=new Map)}setGlobalDefaultVal(CurrentGlobal);setGlobalDefaultVal(nativeGlobal);function resetFederationGlobalInfo(){CurrentGlobal.__FEDERATION__.__GLOBAL_PLUGIN__=[],CurrentGlobal.__FEDERATION__.__INSTANCES__=[],CurrentGlobal.__FEDERATION__.moduleInfo={},CurrentGlobal.__FEDERATION__.__SHARE__={},CurrentGlobal.__FEDERATION__.__MANIFEST_LOADING__={},Object.keys(globalLoading).forEach(t=>{delete globalLoading[t]})}function setGlobalFederationInstance(t){CurrentGlobal.__FEDERATION__.__INSTANCES__.push(t)}function getGlobalFederationConstructor(){return CurrentGlobal.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function setGlobalFederationConstructor(t,e=sdk.isDebugMode()){e&&(CurrentGlobal.__FEDERATION__.__DEBUG_CONSTRUCTOR__=t,CurrentGlobal.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.17.1")}function getInfoWithoutType(t,e){if(typeof e=="string"){if(t[e])return{value:t[e],key:e};{const o=Object.keys(t);for(const s of o){const[a,l]=s.split(":"),d=`${a}:${e}`,h=t[d];if(h)return{value:h,key:d}}return{value:void 0,key:e}}}else throw new Error("key must be string")}const getGlobalSnapshot=()=>nativeGlobal.__FEDERATION__.moduleInfo,getTargetSnapshotInfoByModuleInfo=(t,e)=>{const n=getFMId(t),o=getInfoWithoutType(e,n).value;if(o&&!o.version&&"version"in t&&t.version&&(o.version=t.version),o)return o;if("version"in t&&t.version){const{version:s}=t,a=polyfills._object_without_properties_loose(t,["version"]),l=getFMId(a),d=getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo,l).value;if((d==null?void 0:d.version)===s)return d}},getGlobalSnapshotInfoByModuleInfo=t=>getTargetSnapshotInfoByModuleInfo(t,nativeGlobal.__FEDERATION__.moduleInfo),setGlobalSnapshotInfoByModuleInfo=(t,e)=>{const n=getFMId(t);return nativeGlobal.__FEDERATION__.moduleInfo[n]=e,nativeGlobal.__FEDERATION__.moduleInfo},addGlobalSnapshot=t=>(nativeGlobal.__FEDERATION__.moduleInfo=polyfills._extends({},nativeGlobal.__FEDERATION__.moduleInfo,t),()=>{const e=Object.keys(t);for(const n of e)delete nativeGlobal.__FEDERATION__.moduleInfo[n]}),getRemoteEntryExports=(t,e)=>{const n=e||`__FEDERATION_${t}:custom__`,o=CurrentGlobal[n];return{remoteEntryKey:n,entryExports:o}},registerGlobalPlugins=t=>{const{__GLOBAL_PLUGIN__:e}=nativeGlobal.__FEDERATION__;t.forEach(n=>{e.findIndex(o=>o.name===n.name)===-1?e.push(n):warn$1(`The plugin ${n.name} has been registered.`)})},getGlobalHostPlugins=()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__,getPreloaded=t=>CurrentGlobal.__FEDERATION__.__PRELOADED_MAP__.get(t),setPreloaded=t=>CurrentGlobal.__FEDERATION__.__PRELOADED_MAP__.set(t,!0),DEFAULT_SCOPE="default",DEFAULT_REMOTE_TYPE="global",buildIdentifier="[0-9A-Za-z-]+",build=`(?:\\+(${buildIdentifier}(?:\\.${buildIdentifier})*))`,numericIdentifier="0|[1-9]\\d*",numericIdentifierLoose="[0-9]+",nonNumericIdentifier="\\d*[a-zA-Z-][a-zA-Z0-9-]*",preReleaseIdentifierLoose=`(?:${numericIdentifierLoose}|${nonNumericIdentifier})`,preReleaseLoose=`(?:-?(${preReleaseIdentifierLoose}(?:\\.${preReleaseIdentifierLoose})*))`,preReleaseIdentifier=`(?:${numericIdentifier}|${nonNumericIdentifier})`,preRelease=`(?:-(${preReleaseIdentifier}(?:\\.${preReleaseIdentifier})*))`,xRangeIdentifier=`${numericIdentifier}|x|X|\\*`,xRangePlain=`[v=\\s]*(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`,hyphenRange=`^\\s*(${xRangePlain})\\s+-\\s+(${xRangePlain})\\s*$`,mainVersionLoose=`(${numericIdentifierLoose})\\.(${numericIdentifierLoose})\\.(${numericIdentifierLoose})`,loosePlain=`[v=\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`,gtlt="((?:<|>)?=?)",comparatorTrim=`(\\s*)${gtlt}\\s*(${loosePlain}|${xRangePlain})`,loneTilde="(?:~>?)",tildeTrim=`(\\s*)${loneTilde}\\s+`,loneCaret="(?:\\^)",caretTrim=`(\\s*)${loneCaret}\\s+`,star="(<|>)?=?\\s*\\*",caret$1=`^${loneCaret}${xRangePlain}$`,mainVersion=`(${numericIdentifier})\\.(${numericIdentifier})\\.(${numericIdentifier})`,fullPlain=`v?${mainVersion}${preRelease}?${build}?`,tilde=`^${loneTilde}${xRangePlain}$`,xRange=`^${gtlt}\\s*${xRangePlain}$`,comparator=`^${gtlt}\\s*(${fullPlain})$|^$`,gte0="^\\s*>=\\s*0.0.0\\s*$";function parseRegex(t){return new RegExp(t)}function isXVersion(t){return!t||t.toLowerCase()==="x"||t==="*"}function pipe(...t){return e=>t.reduce((n,o)=>o(n),e)}function extractComparator(t){return t.match(parseRegex(comparator))}function combineVersion(t,e,n,o){const s=`${t}.${e}.${n}`;return o?`${s}-${o}`:s}function parseHyphen(t){return t.replace(parseRegex(hyphenRange),(e,n,o,s,a,l,d,h,_,p,u,m)=>(isXVersion(o)?n="":isXVersion(s)?n=`>=${o}.0.0`:isXVersion(a)?n=`>=${o}.${s}.0`:n=`>=${n}`,isXVersion(_)?h="":isXVersion(p)?h=`<${Number(_)+1}.0.0-0`:isXVersion(u)?h=`<${_}.${Number(p)+1}.0-0`:m?h=`<=${_}.${p}.${u}-${m}`:h=`<=${h}`,`${n} ${h}`.trim()))}function parseComparatorTrim(t){return t.replace(parseRegex(comparatorTrim),"$1$2$3")}function parseTildeTrim(t){return t.replace(parseRegex(tildeTrim),"$1~")}function parseCaretTrim(t){return t.replace(parseRegex(caretTrim),"$1^")}function parseCarets(t){return t.trim().split(/\s+/).map(e=>e.replace(parseRegex(caret$1),(n,o,s,a,l)=>isXVersion(o)?"":isXVersion(s)?`>=${o}.0.0 <${Number(o)+1}.0.0-0`:isXVersion(a)?o==="0"?`>=${o}.${s}.0 <${o}.${Number(s)+1}.0-0`:`>=${o}.${s}.0 <${Number(o)+1}.0.0-0`:l?o==="0"?s==="0"?`>=${o}.${s}.${a}-${l} <${o}.${s}.${Number(a)+1}-0`:`>=${o}.${s}.${a}-${l} <${o}.${Number(s)+1}.0-0`:`>=${o}.${s}.${a}-${l} <${Number(o)+1}.0.0-0`:o==="0"?s==="0"?`>=${o}.${s}.${a} <${o}.${s}.${Number(a)+1}-0`:`>=${o}.${s}.${a} <${o}.${Number(s)+1}.0-0`:`>=${o}.${s}.${a} <${Number(o)+1}.0.0-0`)).join(" ")}function parseTildes(t){return t.trim().split(/\s+/).map(e=>e.replace(parseRegex(tilde),(n,o,s,a,l)=>isXVersion(o)?"":isXVersion(s)?`>=${o}.0.0 <${Number(o)+1}.0.0-0`:isXVersion(a)?`>=${o}.${s}.0 <${o}.${Number(s)+1}.0-0`:l?`>=${o}.${s}.${a}-${l} <${o}.${Number(s)+1}.0-0`:`>=${o}.${s}.${a} <${o}.${Number(s)+1}.0-0`)).join(" ")}function parseXRanges(t){return t.split(/\s+/).map(e=>e.trim().replace(parseRegex(xRange),(n,o,s,a,l,d)=>{const h=isXVersion(s),_=h||isXVersion(a),p=_||isXVersion(l);return o==="="&&p&&(o=""),d="",h?o===">"||o==="<"?"<0.0.0-0":"*":o&&p?(_&&(a=0),l=0,o===">"?(o=">=",_?(s=Number(s)+1,a=0,l=0):(a=Number(a)+1,l=0)):o==="<="&&(o="<",_?s=Number(s)+1:a=Number(a)+1),o==="<"&&(d="-0"),`${o+s}.${a}.${l}${d}`):_?`>=${s}.0.0${d} <${Number(s)+1}.0.0-0`:p?`>=${s}.${a}.0${d} <${s}.${Number(a)+1}.0-0`:n})).join(" ")}function parseStar(t){return t.trim().replace(parseRegex(star),"")}function parseGTE0(t){return t.trim().replace(parseRegex(gte0),"")}function compareAtom(t,e){return t=Number(t)||t,e=Number(e)||e,t>e?1:t===e?0:-1}function comparePreRelease(t,e){const{preRelease:n}=t,{preRelease:o}=e;if(n===void 0&&o)return 1;if(n&&o===void 0)return-1;if(n===void 0&&o===void 0)return 0;for(let s=0,a=n.length;s<=a;s++){const l=n[s],d=o[s];if(l!==d)return l===void 0&&d===void 0?0:l?d?compareAtom(l,d):-1:1}return 0}function compareVersion(t,e){return compareAtom(t.major,e.major)||compareAtom(t.minor,e.minor)||compareAtom(t.patch,e.patch)||comparePreRelease(t,e)}function eq$6(t,e){return t.version===e.version}function compare(t,e){switch(t.operator){case"":case"=":return eq$6(t,e);case">":return compareVersion(t,e)<0;case">=":return eq$6(t,e)||compareVersion(t,e)<0;case"<":return compareVersion(t,e)>0;case"<=":return eq$6(t,e)||compareVersion(t,e)>0;case void 0:return!0;default:return!1}}function parseComparatorString(t){return pipe(parseCarets,parseTildes,parseXRanges,parseStar)(t)}function parseRange(t){return pipe(parseHyphen,parseComparatorTrim,parseTildeTrim,parseCaretTrim)(t.trim()).split(/\s+/).join(" ")}function satisfy(t,e){if(!t)return!1;const n=extractComparator(t);if(!n)return!1;const[,o,,s,a,l,d]=n,h={operator:o,version:combineVersion(s,a,l,d),major:s,minor:a,patch:l,preRelease:d==null?void 0:d.split(".")},_=e.split("||");for(const p of _){const u=p.trim();if(!u||u==="*"||u==="x")return!0;try{const m=parseRange(u);if(!m.trim())return!0;const g=m.split(" ").map(S=>parseComparatorString(S)).join(" ");if(!g.trim())return!0;const y=g.split(/\s+/).map(S=>parseGTE0(S)).filter(Boolean);if(y.length===0)continue;let v=!0;for(const S of y){const b=extractComparator(S);if(!b){v=!1;break}const[,C,,w,A,$,E]=b,D={operator:C,version:combineVersion(w,A,$,E),major:w,minor:A,patch:$,preRelease:E==null?void 0:E.split(".")};if(!compare(D,h)){v=!1;break}}if(v)return!0}catch(m){console.error(`[semver] Error processing range part "${u}":`,m);continue}}return!1}function formatShare(t,e,n,o){let s;"get"in t?s=t.get:"lib"in t?s=()=>Promise.resolve(t.lib):s=()=>Promise.resolve(()=>{throw new Error(`Can not get shared '${n}'!`)});var a,l,d;return polyfills._extends({deps:[],useIn:[],from:e,loading:null},t,{shareConfig:polyfills._extends({requiredVersion:`^${t.version}`,singleton:!1,eager:!1,strictVersion:!1},t.shareConfig),get:s,loaded:t!=null&&t.loaded||"lib"in t?!0:void 0,version:(a=t.version)!=null?a:"0",scope:Array.isArray(t.scope)?t.scope:[(l=t.scope)!=null?l:"default"],strategy:((d=t.strategy)!=null?d:o)||"version-first"})}function formatShareConfigs(t,e){const n=e.shared||{},o=e.name,s=Object.keys(n).reduce((l,d)=>{const h=arrayOptions(n[d]);return l[d]=l[d]||[],h.forEach(_=>{l[d].push(formatShare(_,o,d,e.shareStrategy))}),l},{}),a=polyfills._extends({},t.shared);return Object.keys(s).forEach(l=>{a[l]?s[l].forEach(d=>{a[l].find(_=>_.version===d.version)||a[l].push(d)}):a[l]=s[l]}),{shared:a,shareInfos:s}}function versionLt(t,e){const n=o=>{if(!Number.isNaN(Number(o))){const a=o.split(".");let l=o;for(let d=0;d<3-a.length;d++)l+=".0";return l}return o};return!!satisfy(n(t),`<=${n(e)}`)}const findVersion=(t,e)=>{const n=e||function(o,s){return versionLt(o,s)};return Object.keys(t).reduce((o,s)=>!o||n(o,s)||o==="0"?s:o,0)},isLoaded=t=>!!t.loaded||typeof t.lib=="function",isLoading=t=>!!t.loading;function findSingletonVersionOrderByVersion(t,e,n){const o=t[e][n],s=function(a,l){return!isLoaded(o[a])&&versionLt(a,l)};return findVersion(t[e][n],s)}function findSingletonVersionOrderByLoaded(t,e,n){const o=t[e][n],s=function(a,l){const d=h=>isLoaded(h)||isLoading(h);return d(o[l])?d(o[a])?!!versionLt(a,l):!0:d(o[a])?!1:versionLt(a,l)};return findVersion(t[e][n],s)}function getFindShareFunction(t){return t==="loaded-first"?findSingletonVersionOrderByLoaded:findSingletonVersionOrderByVersion}function getRegisteredShare(t,e,n,o){if(!t)return;const{shareConfig:s,scope:a=DEFAULT_SCOPE,strategy:l}=n,d=Array.isArray(a)?a:[a];for(const h of d)if(s&&t[h]&&t[h][e]){const{requiredVersion:_}=s,u=getFindShareFunction(l)(t,h,e),m=()=>{if(s.singleton){if(typeof _=="string"&&!satisfy(u,_)){const v=`Version ${u} from ${u&&t[h][e][u].from} of shared singleton module ${e} does not satisfy the requirement of ${n.from} which needs ${_})`;s.strictVersion?error$1(v):warn$1(v)}return t[h][e][u]}else{if(_===!1||_==="*"||satisfy(u,_))return t[h][e][u];for(const[v,S]of Object.entries(t[h][e]))if(satisfy(v,_))return S}},g={shareScopeMap:t,scope:h,pkgName:e,version:u,GlobalFederation:Global$1.__FEDERATION__,resolver:m};return(o.emit(g)||g).resolver()}}function getGlobalShareScope(){return Global$1.__FEDERATION__.__SHARE__}function getTargetSharedOptions(t){const{pkgName:e,extraOptions:n,shareInfos:o}=t,s=d=>{if(!d)return;const h={};d.forEach(u=>{h[u.version]=u});const p=findVersion(h,function(u,m){return!isLoaded(h[u])&&versionLt(u,m)});return h[p]};var a;const l=(a=n==null?void 0:n.resolver)!=null?a:s;return Object.assign({},l(o[e]),n==null?void 0:n.customShareInfo)}function getBuilderId$1(){return typeof FEDERATION_BUILD_IDENTIFIER<"u"?FEDERATION_BUILD_IDENTIFIER:""}function matchRemoteWithNameAndExpose(t,e){for(const n of t){const o=e.startsWith(n.name);let s=e.replace(n.name,"");if(o){if(s.startsWith("/")){const d=n.name;return s=`.${s}`,{pkgNameOrAlias:d,expose:s,remote:n}}else if(s==="")return{pkgNameOrAlias:n.name,expose:".",remote:n}}const a=n.alias&&e.startsWith(n.alias);let l=n.alias&&e.replace(n.alias,"");if(n.alias&&a){if(l&&l.startsWith("/")){const d=n.alias;return l=`.${l}`,{pkgNameOrAlias:d,expose:l,remote:n}}else if(l==="")return{pkgNameOrAlias:n.alias,expose:".",remote:n}}}}function matchRemote(t,e){for(const n of t)if(e===n.name||n.alias&&e===n.alias)return n}function registerPlugins$1(t,e){const n=getGlobalHostPlugins(),o=[e.hooks,e.remoteHandler.hooks,e.sharedHandler.hooks,e.snapshotHandler.hooks,e.loaderHook,e.bridgeHook];return n.length>0&&n.forEach(s=>{t!=null&&t.find(a=>a.name!==s.name)&&t.push(s)}),t&&t.length>0&&t.forEach(s=>{o.forEach(a=>{a.applyPlugin(s,e)})}),t}const importCallback=".then(callbacks[0]).catch(callbacks[1])";async function loadEsmEntry({entry:t,remoteEntryExports:e}){return new Promise((n,o)=>{try{e?n(e):typeof FEDERATION_ALLOW_NEW_FUNCTION<"u"?new Function("callbacks",`import("${t}")${importCallback}`)([n,o]):import(t).then(n).catch(o)}catch(s){o(s)}})}async function loadSystemJsEntry({entry:t,remoteEntryExports:e}){return new Promise((n,o)=>{try{e?n(e):typeof __system_context__>"u"?System.import(t).then(n).catch(o):new Function("callbacks",`System.import("${t}")${importCallback}`)([n,o])}catch(s){o(s)}})}function handleRemoteEntryLoaded(t,e,n){const{remoteEntryKey:o,entryExports:s}=getRemoteEntryExports(t,e);return assert(s,errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_001,errorCodes$1.runtimeDescMap,{remoteName:t,remoteEntryUrl:n,remoteEntryKey:o})),s}async function loadEntryScript({name:t,globalName:e,entry:n,loaderHook:o}){const{entryExports:s}=getRemoteEntryExports(t,e);return s||sdk.loadScript(n,{attrs:{},createScriptHook:(a,l)=>{const d=o.lifecycle.createScript.emit({url:a,attrs:l});if(d&&(d instanceof HTMLScriptElement||"script"in d||"timeout"in d))return d}}).then(()=>handleRemoteEntryLoaded(t,e,n)).catch(a=>{throw assert(void 0,errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_008,errorCodes$1.runtimeDescMap,{remoteName:t,resourceUrl:n})),a})}async function loadEntryDom({remoteInfo:t,remoteEntryExports:e,loaderHook:n}){const{entry:o,entryGlobalName:s,name:a,type:l}=t;switch(l){case"esm":case"module":return loadEsmEntry({entry:o,remoteEntryExports:e});case"system":return loadSystemJsEntry({entry:o,remoteEntryExports:e});default:return loadEntryScript({entry:o,globalName:s,name:a,loaderHook:n})}}async function loadEntryNode({remoteInfo:t,loaderHook:e}){const{entry:n,entryGlobalName:o,name:s,type:a}=t,{entryExports:l}=getRemoteEntryExports(s,o);return l||sdk.loadScriptNode(n,{attrs:{name:s,globalName:o,type:a},loaderHook:{createScriptHook:(d,h={})=>{const _=e.lifecycle.createScript.emit({url:d,attrs:h});if(_&&"url"in _)return _}}}).then(()=>handleRemoteEntryLoaded(s,o,n)).catch(d=>{throw d})}function getRemoteEntryUniqueKey(t){const{entry:e,name:n}=t;return sdk.composeKeyWithSeparator(n,e)}async function getRemoteEntry({origin:t,remoteEntryExports:e,remoteInfo:n}){const o=getRemoteEntryUniqueKey(n);if(e)return e;if(!globalLoading[o]){const s=t.remoteHandler.hooks.lifecycle.loadEntry,a=t.loaderHook;globalLoading[o]=s.emit({loaderHook:a,remoteInfo:n,remoteEntryExports:e}).then(l=>l||((typeof ENV_TARGET<"u"?ENV_TARGET==="web":sdk.isBrowserEnv())?loadEntryDom({remoteInfo:n,remoteEntryExports:e,loaderHook:a}):loadEntryNode({remoteInfo:n,loaderHook:a})))}return globalLoading[o]}function getRemoteInfo(t){return polyfills._extends({},t,{entry:"entry"in t?t.entry:"",type:t.type||DEFAULT_REMOTE_TYPE,entryGlobalName:t.entryGlobalName||t.name,shareScope:t.shareScope||DEFAULT_SCOPE})}function defaultPreloadArgs(t){return polyfills._extends({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},t)}function formatPreloadArgs(t,e){return e.map(n=>{const o=matchRemote(t,n.nameOrAlias);return assert(o,`Unable to preload ${n.nameOrAlias} as it is not included in ${!o&&sdk.safeToString({remoteInfo:o,remotes:t})}`),{remote:o,preloadConfig:defaultPreloadArgs(n)}})}function normalizePreloadExposes(t){return t?t.map(e=>e==="."?e:e.startsWith("./")?e.replace("./",""):e):[]}function preloadAssets(t,e,n,o=!0){const{cssAssets:s,jsAssetsWithoutEntry:a,entryAssets:l}=n;if(e.options.inBrowser){if(l.forEach(d=>{const{moduleInfo:h}=d,_=e.moduleCache.get(t.name);getRemoteEntry(_?{origin:e,remoteInfo:h,remoteEntryExports:_.remoteEntryExports}:{origin:e,remoteInfo:h,remoteEntryExports:void 0})}),o){const d={rel:"preload",as:"style"};s.forEach(h=>{const{link:_,needAttach:p}=sdk.createLink({url:h,cb:()=>{},attrs:d,createLinkHook:(u,m)=>{const g=e.loaderHook.lifecycle.createLink.emit({url:u,attrs:m});if(g instanceof HTMLLinkElement)return g}});p&&document.head.appendChild(_)})}else{const d={rel:"stylesheet",type:"text/css"};s.forEach(h=>{const{link:_,needAttach:p}=sdk.createLink({url:h,cb:()=>{},attrs:d,createLinkHook:(u,m)=>{const g=e.loaderHook.lifecycle.createLink.emit({url:u,attrs:m});if(g instanceof HTMLLinkElement)return g},needDeleteLink:!1});p&&document.head.appendChild(_)})}if(o){const d={rel:"preload",as:"script"};a.forEach(h=>{const{link:_,needAttach:p}=sdk.createLink({url:h,cb:()=>{},attrs:d,createLinkHook:(u,m)=>{const g=e.loaderHook.lifecycle.createLink.emit({url:u,attrs:m});if(g instanceof HTMLLinkElement)return g}});p&&document.head.appendChild(_)})}else{const d={fetchpriority:"high",type:(t==null?void 0:t.type)==="module"?"module":"text/javascript"};a.forEach(h=>{const{script:_,needAttach:p}=sdk.createScript({url:h,cb:()=>{},attrs:d,createScriptHook:(u,m)=>{const g=e.loaderHook.lifecycle.createScript.emit({url:u,attrs:m});if(g instanceof HTMLScriptElement)return g},needDeleteScript:!0});p&&document.head.appendChild(_)})}}}const ShareUtils={getRegisteredShare,getGlobalShareScope},GlobalUtils={Global:Global$1,nativeGlobal,resetFederationGlobalInfo,setGlobalFederationInstance,getGlobalFederationConstructor,setGlobalFederationConstructor,getInfoWithoutType,getGlobalSnapshot,getTargetSnapshotInfoByModuleInfo,getGlobalSnapshotInfoByModuleInfo,setGlobalSnapshotInfoByModuleInfo,addGlobalSnapshot,getRemoteEntryExports,registerGlobalPlugins,getGlobalHostPlugins,getPreloaded,setPreloaded};var helpers={global:GlobalUtils,share:ShareUtils,utils:{matchRemoteWithNameAndExpose,preloadAssets,getRemoteInfo}};let Module=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;let e;try{e=await getRemoteEntry({origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports})}catch{const o=getRemoteEntryUniqueKey(this.remoteInfo);e=await this.host.loaderHook.lifecycle.loadEntryError.emit({getRemoteEntry,origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,globalLoading,uniqueKey:o})}return assert(e,`remoteEntryExports is undefined 
 ${sdk.safeToString(this.remoteInfo)}`),this.remoteEntryExports=e,this.remoteEntryExports}async get(e,n,o,s){const{loadFactory:a=!0}=o||{loadFactory:!0},l=await this.getEntry();if(!this.inited){const u=this.host.shareScopeMap,m=Array.isArray(this.remoteInfo.shareScope)?this.remoteInfo.shareScope:[this.remoteInfo.shareScope];m.length||m.push("default"),m.forEach(b=>{u[b]||(u[b]={})});const g=u[m[0]],y=[],v={version:this.remoteInfo.version||"",shareScopeKeys:Array.isArray(this.remoteInfo.shareScope)?m:this.remoteInfo.shareScope||"default"};Object.defineProperty(v,"shareScopeMap",{value:u,enumerable:!1});const S=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:g,remoteEntryInitOptions:v,initScope:y,remoteInfo:this.remoteInfo,origin:this.host});typeof(l==null?void 0:l.init)>"u"&&error$1(errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_002,errorCodes$1.runtimeDescMap,{hostName:this.host.name,remoteName:this.remoteInfo.name,remoteEntryUrl:this.remoteInfo.entry,remoteEntryKey:this.remoteInfo.entryGlobalName})),await l.init(S.shareScope,S.initScope,S.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(polyfills._extends({},S,{id:e,remoteSnapshot:s,remoteEntryExports:l}))}this.lib=l,this.inited=!0;let d;d=await this.host.loaderHook.lifecycle.getModuleFactory.emit({remoteEntryExports:l,expose:n,moduleInfo:this.remoteInfo}),d||(d=await l.get(n)),assert(d,`${getFMId(this.remoteInfo)} remote don't export ${n}.`);const h=processModuleAlias(this.remoteInfo.name,n),_=this.wraperFactory(d,h);return a?await _():_}wraperFactory(e,n){function o(s,a){s&&typeof s=="object"&&Object.isExtensible(s)&&!Object.getOwnPropertyDescriptor(s,Symbol.for("mf_module_id"))&&Object.defineProperty(s,Symbol.for("mf_module_id"),{value:a,enumerable:!1})}return e instanceof Promise?async()=>{const s=await e();return o(s,n),s}:()=>{const s=e();return o(s,n),s}}constructor({remoteInfo:e,host:n}){this.inited=!1,this.lib=void 0,this.remoteInfo=e,this.host=n}};class SyncHook{on(e){typeof e=="function"&&this.listeners.add(e)}once(e){const n=this;this.on(function o(...s){return n.remove(o),e.apply(null,s)})}emit(...e){let n;return this.listeners.size>0&&this.listeners.forEach(o=>{n=o(...e)}),n}remove(e){this.listeners.delete(e)}removeAll(){this.listeners.clear()}constructor(e){this.type="",this.listeners=new Set,e&&(this.type=e)}}class AsyncHook extends SyncHook{emit(...e){let n;const o=Array.from(this.listeners);if(o.length>0){let s=0;const a=l=>l===!1?!1:s<o.length?Promise.resolve(o[s++].apply(null,e)).then(a):l;n=a()}return Promise.resolve(n)}}function checkReturnData(t,e){if(!isObject$c(e))return!1;if(t!==e){for(const n in t)if(!(n in e))return!1}return!0}class SyncWaterfallHook extends SyncHook{emit(e){isObject$c(e)||error$1(`The data for the "${this.type}" hook should be an object.`);for(const n of this.listeners)try{const o=n(e);if(checkReturnData(e,o))e=o;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(o){warn$1(o),this.onerror(o)}return e}constructor(e){super(),this.onerror=error$1,this.type=e}}class AsyncWaterfallHook extends SyncHook{emit(e){isObject$c(e)||error$1(`The response data for the "${this.type}" hook must be an object.`);const n=Array.from(this.listeners);if(n.length>0){let o=0;const s=l=>(warn$1(l),this.onerror(l),e),a=l=>{if(checkReturnData(e,l)){if(e=l,o<n.length)try{return Promise.resolve(n[o++](e)).then(a,s)}catch(d){return s(d)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return e};return Promise.resolve(a(e))}return Promise.resolve(e)}constructor(e){super(),this.onerror=error$1,this.type=e}}class PluginSystem{applyPlugin(e,n){assert(isPlainObject$4(e),"Plugin configuration is invalid.");const o=e.name;assert(o,"A name must be provided by the plugin."),this.registerPlugins[o]||(this.registerPlugins[o]=e,e.apply==null||e.apply.call(e,n),Object.keys(this.lifecycle).forEach(s=>{const a=e[s];a&&this.lifecycle[s].on(a)}))}removePlugin(e){assert(e,"A name is required.");const n=this.registerPlugins[e];assert(n,`The plugin "${e}" is not registered.`),Object.keys(n).forEach(o=>{o!=="name"&&this.lifecycle[o].remove(n[o])})}constructor(e){this.registerPlugins={},this.lifecycle=e,this.lifecycleKeys=Object.keys(e)}}function assignRemoteInfo(t,e){const n=getRemoteEntryInfoFromSnapshot(e);n.url||error$1(`The attribute remoteEntry of ${t.name} must not be undefined.`);let o=sdk.getResourceUrl(e,n.url);!sdk.isBrowserEnv()&&!o.startsWith("http")&&(o=`https:${o}`),t.type=n.type,t.entryGlobalName=n.globalName,t.entry=o,t.version=e.version,t.buildVersion=e.buildVersion}function snapshotPlugin(){return{name:"snapshot-plugin",async afterResolve(t){const{remote:e,pkgNameOrAlias:n,expose:o,origin:s,remoteInfo:a,id:l}=t;if(!isRemoteInfoWithEntry(e)||!isPureRemoteEntry(e)){const{remoteSnapshot:d,globalSnapshot:h}=await s.snapshotHandler.loadRemoteSnapshotInfo({moduleInfo:e,id:l});assignRemoteInfo(a,d);const _={remote:e,preloadConfig:{nameOrAlias:n,exposes:[o],resourceCategory:"sync",share:!1,depsRemote:!1}},p=await s.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({origin:s,preloadOptions:_,remoteInfo:a,remote:e,remoteSnapshot:d,globalSnapshot:h});return p&&preloadAssets(a,s,p,!1),polyfills._extends({},t,{remoteSnapshot:d})}return t}}}function splitId(t){const e=t.split(":");return e.length===1?{name:e[0],version:void 0}:e.length===2?{name:e[0],version:e[1]}:{name:e[1],version:e[2]}}function traverseModuleInfo(t,e,n,o,s={},a){const l=getFMId(e),{value:d}=getInfoWithoutType(t,l),h=a||d;if(h&&!sdk.isManifestProvider(h)&&(n(h,e,o),h.remotesInfo)){const _=Object.keys(h.remotesInfo);for(const p of _){if(s[p])continue;s[p]=!0;const u=splitId(p),m=h.remotesInfo[p];traverseModuleInfo(t,{name:u.name,version:m.matchedVersion},n,!1,s,void 0)}}}const isExisted=(t,e)=>document.querySelector(`${t}[${t==="link"?"href":"src"}="${e}"]`);function generatePreloadAssets(t,e,n,o,s){const a=[],l=[],d=[],h=new Set,_=new Set,{options:p}=t,{preloadConfig:u}=e,{depsRemote:m}=u;if(traverseModuleInfo(o,n,(S,b,C)=>{let w;if(C)w=u;else if(Array.isArray(m)){const R=m.find(O=>O.nameOrAlias===b.name||O.nameOrAlias===b.alias);if(!R)return;w=defaultPreloadArgs(R)}else if(m===!0)w=u;else return;const A=sdk.getResourceUrl(S,getRemoteEntryInfoFromSnapshot(S).url);A&&d.push({name:b.name,moduleInfo:{name:b.name,entry:A,type:"remoteEntryType"in S?S.remoteEntryType:"global",entryGlobalName:"globalName"in S?S.globalName:b.name,shareScope:"",version:"version"in S?S.version:void 0},url:A});let $="modules"in S?S.modules:[];const E=normalizePreloadExposes(w.exposes);if(E.length&&"modules"in S){var D;$=S==null||(D=S.modules)==null?void 0:D.reduce((R,O)=>((E==null?void 0:E.indexOf(O.moduleName))!==-1&&R.push(O),R),[])}function I(R){const O=R.map(N=>sdk.getResourceUrl(S,N));return w.filter?O.filter(w.filter):O}if($){const R=$.length;for(let O=0;O<R;O++){const N=$[O],M=`${b.name}/${N.moduleName}`;t.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({id:N.moduleName==="."?b.name:M,name:b.name,remoteSnapshot:S,preloadConfig:w,remote:b,origin:t}),!getPreloaded(M)&&(w.resourceCategory==="all"?(a.push(...I(N.assets.css.async)),a.push(...I(N.assets.css.sync)),l.push(...I(N.assets.js.async)),l.push(...I(N.assets.js.sync))):(w.resourceCategory="sync")&&(a.push(...I(N.assets.css.sync)),l.push(...I(N.assets.js.sync))),setPreloaded(M))}}},!0,{},s),s.shared&&s.shared.length>0){const S=(b,C)=>{const w=getRegisteredShare(t.shareScopeMap,C.sharedName,b,t.sharedHandler.hooks.lifecycle.resolveShare);w&&typeof w.lib=="function"&&(C.assets.js.sync.forEach(A=>{h.add(A)}),C.assets.css.sync.forEach(A=>{_.add(A)}))};s.shared.forEach(b=>{var C;const w=(C=p.shared)==null?void 0:C[b.sharedName];if(!w)return;const A=b.version?w.find(E=>E.version===b.version):w;if(!A)return;arrayOptions(A).forEach(E=>{S(E,b)})})}const y=l.filter(S=>!h.has(S)&&!isExisted("script",S));return{cssAssets:a.filter(S=>!_.has(S)&&!isExisted("link",S)),jsAssetsWithoutEntry:y,entryAssets:d.filter(S=>!isExisted("script",S.url))}}const generatePreloadAssetsPlugin=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(t){const{origin:e,preloadOptions:n,remoteInfo:o,remote:s,globalSnapshot:a,remoteSnapshot:l}=t;return sdk.isBrowserEnv()?isRemoteInfoWithEntry(s)&&isPureRemoteEntry(s)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:s.name,url:s.entry,moduleInfo:{name:o.name,entry:s.entry,type:o.type||"global",entryGlobalName:"",shareScope:""}}]}:(assignRemoteInfo(o,l),generatePreloadAssets(e,n,o,a,l)):{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[]}}}};function getGlobalRemoteInfo(t,e){const n=getGlobalSnapshotInfoByModuleInfo({name:e.name,version:e.options.version}),o=n&&"remotesInfo"in n&&n.remotesInfo&&getInfoWithoutType(n.remotesInfo,t.name).value;return o&&o.matchedVersion?{hostGlobalSnapshot:n,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:t.name,version:o.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:t.name,version:"version"in t?t.version:void 0})}}class SnapshotHandler{async loadRemoteSnapshotInfo({moduleInfo:e,id:n,expose:o}){const{options:s}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:s,moduleInfo:e});let a=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version});a||(a={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},addGlobalSnapshot({[this.HostInstance.options.name]:a})),a&&"remotesInfo"in a&&!getInfoWithoutType(a.remotesInfo,e.name).value&&("version"in e||"entry"in e)&&(a.remotesInfo=polyfills._extends({},a==null?void 0:a.remotesInfo,{[e.name]:{matchedVersion:"version"in e?e.version:e.entry}}));const{hostGlobalSnapshot:l,remoteSnapshot:d,globalSnapshot:h}=this.getGlobalRemoteInfo(e),{remoteSnapshot:_,globalSnapshot:p}=await this.hooks.lifecycle.loadSnapshot.emit({options:s,moduleInfo:e,hostGlobalSnapshot:l,remoteSnapshot:d,globalSnapshot:h});let u,m;if(_)if(sdk.isManifestProvider(_)){const g=sdk.isBrowserEnv()?_.remoteEntry:_.ssrRemoteEntry||_.remoteEntry||"",y=await this.getManifestJson(g,e,{}),v=setGlobalSnapshotInfoByModuleInfo(polyfills._extends({},e,{entry:g}),y);u=y,m=v}else{const{remoteSnapshot:g}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:_,from:"global"});u=g,m=p}else if(isRemoteInfoWithEntry(e)){const g=await this.getManifestJson(e.entry,e,{}),y=setGlobalSnapshotInfoByModuleInfo(e,g),{remoteSnapshot:v}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:g,from:"global"});u=v,m=y}else error$1(errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_007,errorCodes$1.runtimeDescMap,{hostName:e.name,hostVersion:e.version,globalSnapshot:JSON.stringify(p)}));return await this.hooks.lifecycle.afterLoadSnapshot.emit({id:n,host:this.HostInstance,options:s,moduleInfo:e,remoteSnapshot:u}),{remoteSnapshot:u,globalSnapshot:m}}getGlobalRemoteInfo(e){return getGlobalRemoteInfo(e,this.HostInstance)}async getManifestJson(e,n,o){const s=async()=>{let l=this.manifestCache.get(e);if(l)return l;try{let d=await this.loaderHook.lifecycle.fetch.emit(e,{});(!d||!(d instanceof Response))&&(d=await fetch(e,{})),l=await d.json()}catch(d){l=await this.HostInstance.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:e,error:d,from:"runtime",lifecycle:"afterResolve",origin:this.HostInstance}),l||(delete this.manifestLoading[e],error$1(errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_003,errorCodes$1.runtimeDescMap,{manifestUrl:e,moduleName:n.name,hostName:this.HostInstance.options.name},`${d}`)))}return assert(l.metaData&&l.exposes&&l.shared,`${e} is not a federation manifest`),this.manifestCache.set(e,l),l},a=async()=>{const l=await s(),d=sdk.generateSnapshotFromManifest(l,{version:e}),{remoteSnapshot:h}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:n,manifestJson:l,remoteSnapshot:d,manifestUrl:e,from:"manifest"});return h};return this.manifestLoading[e]||(this.manifestLoading[e]=a().then(l=>l)),this.manifestLoading[e]}constructor(e){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new PluginSystem({beforeLoadRemoteSnapshot:new AsyncHook("beforeLoadRemoteSnapshot"),loadSnapshot:new AsyncWaterfallHook("loadGlobalSnapshot"),loadRemoteSnapshot:new AsyncWaterfallHook("loadRemoteSnapshot"),afterLoadSnapshot:new AsyncWaterfallHook("afterLoadSnapshot")}),this.manifestLoading=Global$1.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=e,this.loaderHook=e.loaderHook}}class SharedHandler{registerShared(e,n){const{shareInfos:o,shared:s}=formatShareConfigs(e,n);return Object.keys(o).forEach(l=>{o[l].forEach(h=>{!getRegisteredShare(this.shareScopeMap,l,h,this.hooks.lifecycle.resolveShare)&&h&&h.lib&&this.setShared({pkgName:l,lib:h.lib,get:h.get,loaded:!0,shared:h,from:n.name})})}),{shareInfos:o,shared:s}}async loadShare(e,n){const{host:o}=this,s=getTargetSharedOptions({pkgName:e,extraOptions:n,shareInfos:o.options.shared});s!=null&&s.scope&&await Promise.all(s.scope.map(async _=>{await Promise.all(this.initializeSharing(_,{strategy:s.strategy}))}));const a=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:e,shareInfo:s,shared:o.options.shared,origin:o}),{shareInfo:l}=a;assert(l,`Cannot find ${e} Share in the ${o.options.name}. Please ensure that the ${e} Share parameters have been injected`);const d=getRegisteredShare(this.shareScopeMap,e,l,this.hooks.lifecycle.resolveShare),h=_=>{_.useIn||(_.useIn=[]),addUniqueItem(_.useIn,o.options.name)};if(d&&d.lib)return h(d),d.lib;if(d&&d.loading&&!d.loaded){const _=await d.loading;return d.loaded=!0,d.lib||(d.lib=_),h(d),_}else if(d){const p=(async()=>{const u=await d.get();l.lib=u,l.loaded=!0,h(l);const m=getRegisteredShare(this.shareScopeMap,e,l,this.hooks.lifecycle.resolveShare);return m&&(m.lib=u,m.loaded=!0,h(m)),u})();return this.setShared({pkgName:e,loaded:!1,shared:d,from:o.options.name,lib:null,loading:p}),p}else{if(n!=null&&n.customShareInfo)return!1;const p=(async()=>{const u=await l.get();l.lib=u,l.loaded=!0,h(l);const m=getRegisteredShare(this.shareScopeMap,e,l,this.hooks.lifecycle.resolveShare);return m&&(m.lib=u,m.loaded=!0),u})();return this.setShared({pkgName:e,loaded:!1,shared:l,from:o.options.name,lib:null,loading:p}),p}}initializeSharing(e=DEFAULT_SCOPE,n){const{host:o}=this,s=n==null?void 0:n.from,a=n==null?void 0:n.strategy;let l=n==null?void 0:n.initScope;const d=[];if(s!=="build"){const{initTokens:y}=this;l||(l=[]);let v=y[e];if(v||(v=y[e]={from:this.host.name}),l.indexOf(v)>=0)return d;l.push(v)}const h=this.shareScopeMap,_=o.options.name;h[e]||(h[e]={});const p=h[e],u=(y,v)=>{var S;const{version:b,eager:C}=v;p[y]=p[y]||{};const w=p[y],A=w[b],$=!!(A&&(A.eager||(S=A.shareConfig)!=null&&S.eager));(!A||A.strategy!=="loaded-first"&&!A.loaded&&(!C!=!$?C:_>A.from))&&(w[b]=v)},m=y=>y&&y.init&&y.init(h[e],l),g=async y=>{const{module:v}=await o.remoteHandler.getRemoteModuleAndOptions({id:y});if(v.getEntry){let S;try{S=await v.getEntry()}catch(b){S=await o.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:y,error:b,from:"runtime",lifecycle:"beforeLoadShare",origin:o})}v.inited||(await m(S),v.inited=!0)}};return Object.keys(o.options.shared).forEach(y=>{o.options.shared[y].forEach(S=>{S.scope.includes(e)&&u(y,S)})}),(o.options.shareStrategy==="version-first"||a==="version-first")&&o.options.remotes.forEach(y=>{y.shareScope===e&&d.push(g(y.name))}),d}loadShareSync(e,n){const{host:o}=this,s=getTargetSharedOptions({pkgName:e,extraOptions:n,shareInfos:o.options.shared});s!=null&&s.scope&&s.scope.forEach(d=>{this.initializeSharing(d,{strategy:s.strategy})});const a=getRegisteredShare(this.shareScopeMap,e,s,this.hooks.lifecycle.resolveShare),l=d=>{d.useIn||(d.useIn=[]),addUniqueItem(d.useIn,o.options.name)};if(a){if(typeof a.lib=="function")return l(a),a.loaded||(a.loaded=!0,a.from===o.options.name&&(s.loaded=!0)),a.lib;if(typeof a.get=="function"){const d=a.get();if(!(d instanceof Promise))return l(a),this.setShared({pkgName:e,loaded:!0,from:o.options.name,lib:d,shared:a}),d}}if(s.lib)return s.loaded||(s.loaded=!0),s.lib;if(s.get){const d=s.get();if(d instanceof Promise){const h=(n==null?void 0:n.from)==="build"?errorCodes$1.RUNTIME_005:errorCodes$1.RUNTIME_006;throw new Error(errorCodes$1.getShortErrorMsg(h,errorCodes$1.runtimeDescMap,{hostName:o.options.name,sharedPkgName:e}))}return s.lib=d,this.setShared({pkgName:e,loaded:!0,from:o.options.name,lib:s.lib,shared:s}),s.lib}throw new Error(errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_006,errorCodes$1.runtimeDescMap,{hostName:o.options.name,sharedPkgName:e}))}initShareScopeMap(e,n,o={}){const{host:s}=this;this.shareScopeMap[e]=n,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:n,options:s.options,origin:s,scopeName:e,hostShareScopeMap:o.hostShareScopeMap})}setShared({pkgName:e,shared:n,from:o,lib:s,loading:a,loaded:l,get:d}){const{version:h,scope:_="default"}=n,p=polyfills._object_without_properties_loose(n,["version","scope"]);(Array.isArray(_)?_:[_]).forEach(m=>{if(this.shareScopeMap[m]||(this.shareScopeMap[m]={}),this.shareScopeMap[m][e]||(this.shareScopeMap[m][e]={}),!this.shareScopeMap[m][e][h]){this.shareScopeMap[m][e][h]=polyfills._extends({version:h,scope:["default"]},p,{lib:s,loaded:l,loading:a}),d&&(this.shareScopeMap[m][e][h].get=d);return}const g=this.shareScopeMap[m][e][h];a&&!g.loading&&(g.loading=a)})}_setGlobalShareScopeMap(e){const n=getGlobalShareScope(),o=e.id||e.name;o&&!n[o]&&(n[o]=this.shareScopeMap)}constructor(e){this.hooks=new PluginSystem({afterResolve:new AsyncWaterfallHook("afterResolve"),beforeLoadShare:new AsyncWaterfallHook("beforeLoadShare"),loadShare:new AsyncHook,resolveShare:new SyncWaterfallHook("resolveShare"),initContainerShareScopeMap:new SyncWaterfallHook("initContainerShareScopeMap")}),this.host=e,this.shareScopeMap={},this.initTokens={},this._setGlobalShareScopeMap(e.options)}}class RemoteHandler{formatAndRegisterRemote(e,n){return(n.remotes||[]).reduce((s,a)=>(this.registerRemote(a,s,{force:!1}),s),e.remotes)}setIdToRemoteMap(e,n){const{remote:o,expose:s}=n,{name:a,alias:l}=o;if(this.idToRemoteMap[e]={name:o.name,expose:s},l&&e.startsWith(a)){const d=e.replace(a,l);this.idToRemoteMap[d]={name:o.name,expose:s};return}if(l&&e.startsWith(l)){const d=e.replace(l,a);this.idToRemoteMap[d]={name:o.name,expose:s}}}async loadRemote(e,n){const{host:o}=this;try{const{loadFactory:s=!0}=n||{loadFactory:!0},{module:a,moduleOptions:l,remoteMatchInfo:d}=await this.getRemoteModuleAndOptions({id:e}),{pkgNameOrAlias:h,remote:_,expose:p,id:u,remoteSnapshot:m}=d,g=await a.get(u,p,n,m),y=await this.hooks.lifecycle.onLoad.emit({id:u,pkgNameOrAlias:h,expose:p,exposeModule:s?g:void 0,exposeModuleFactory:s?void 0:g,remote:_,options:l,moduleInstance:a,origin:o});return this.setIdToRemoteMap(e,d),typeof y=="function"?y:g}catch(s){const{from:a="runtime"}=n||{from:"runtime"},l=await this.hooks.lifecycle.errorLoadRemote.emit({id:e,error:s,from:a,lifecycle:"onLoad",origin:o});if(!l)throw s;return l}}async preloadRemote(e){const{host:n}=this;await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOps:e,options:n.options,origin:n});const o=formatPreloadArgs(n.options.remotes,e);await Promise.all(o.map(async s=>{const{remote:a}=s,l=getRemoteInfo(a),{globalSnapshot:d,remoteSnapshot:h}=await n.snapshotHandler.loadRemoteSnapshotInfo({moduleInfo:a}),_=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:n,preloadOptions:s,remote:a,remoteInfo:l,globalSnapshot:d,remoteSnapshot:h});_&&preloadAssets(l,n,_)}))}registerRemotes(e,n){const{host:o}=this;e.forEach(s=>{this.registerRemote(s,o.options.remotes,{force:n==null?void 0:n.force})})}async getRemoteModuleAndOptions(e){const{host:n}=this,{id:o}=e;let s;try{s=await this.hooks.lifecycle.beforeRequest.emit({id:o,options:n.options,origin:n})}catch(y){if(s=await this.hooks.lifecycle.errorLoadRemote.emit({id:o,options:n.options,origin:n,from:"runtime",error:y,lifecycle:"beforeRequest"}),!s)throw y}const{id:a}=s,l=matchRemoteWithNameAndExpose(n.options.remotes,a);assert(l,errorCodes$1.getShortErrorMsg(errorCodes$1.RUNTIME_004,errorCodes$1.runtimeDescMap,{hostName:n.options.name,requestId:a}));const{remote:d}=l,h=getRemoteInfo(d),_=await n.sharedHandler.hooks.lifecycle.afterResolve.emit(polyfills._extends({id:a},l,{options:n.options,origin:n,remoteInfo:h})),{remote:p,expose:u}=_;assert(p&&u,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${a}.`);let m=n.moduleCache.get(p.name);const g={host:n,remoteInfo:h};return m||(m=new Module(g),n.moduleCache.set(p.name,m)),{module:m,moduleOptions:g,remoteMatchInfo:_}}registerRemote(e,n,o){const{host:s}=this,a=()=>{if(e.alias){const d=n.find(h=>{var _;return e.alias&&(h.name.startsWith(e.alias)||((_=h.alias)==null?void 0:_.startsWith(e.alias)))});assert(!d,`The alias ${e.alias} of remote ${e.name} is not allowed to be the prefix of ${d&&d.name} name or alias`)}"entry"in e&&sdk.isBrowserEnv()&&!e.entry.startsWith("http")&&(e.entry=new URL(e.entry,window.location.origin).href),e.shareScope||(e.shareScope=DEFAULT_SCOPE),e.type||(e.type=DEFAULT_REMOTE_TYPE)};this.hooks.lifecycle.beforeRegisterRemote.emit({remote:e,origin:s});const l=n.find(d=>d.name===e.name);if(!l)a(),n.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:s});else{const d=[`The remote "${e.name}" is already registered.`,"Please note that overriding it may cause unexpected errors."];o!=null&&o.force&&(this.removeRemote(l),a(),n.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:s}),sdk.warn(d.join(" ")))}}removeRemote(e){try{const{host:o}=this,{name:s}=e,a=o.options.remotes.findIndex(d=>d.name===s);a!==-1&&o.options.remotes.splice(a,1);const l=o.moduleCache.get(e.name);if(l){const d=l.remoteInfo,h=d.entryGlobalName;if(CurrentGlobal[h]){var n;(n=Object.getOwnPropertyDescriptor(CurrentGlobal,h))!=null&&n.configurable?delete CurrentGlobal[h]:CurrentGlobal[h]=void 0}const _=getRemoteEntryUniqueKey(l.remoteInfo);globalLoading[_]&&delete globalLoading[_],o.snapshotHandler.manifestCache.delete(d.entry);let p=d.buildVersion?sdk.composeKeyWithSeparator(d.name,d.buildVersion):d.name;const u=CurrentGlobal.__FEDERATION__.__INSTANCES__.findIndex(g=>d.buildVersion?g.options.id===p:g.name===p);if(u!==-1){const g=CurrentGlobal.__FEDERATION__.__INSTANCES__[u];p=g.options.id||p;const y=getGlobalShareScope();let v=!0;const S=[];Object.keys(y).forEach(b=>{const C=y[b];C&&Object.keys(C).forEach(w=>{const A=C[w];A&&Object.keys(A).forEach($=>{const E=A[$];E&&Object.keys(E).forEach(D=>{const I=E[D];I&&typeof I=="object"&&I.from===d.name&&(I.loaded||I.loading?(I.useIn=I.useIn.filter(R=>R!==d.name),I.useIn.length?v=!1:S.push([b,w,$,D])):S.push([b,w,$,D]))})})})}),v&&(g.shareScopeMap={},delete y[p]),S.forEach(([b,C,w,A])=>{var $,E,D;(D=y[b])==null||(E=D[C])==null||($=E[w])==null||delete $[A]}),CurrentGlobal.__FEDERATION__.__INSTANCES__.splice(u,1)}const{hostGlobalSnapshot:m}=getGlobalRemoteInfo(e,o);if(m){const g=m&&"remotesInfo"in m&&m.remotesInfo&&getInfoWithoutType(m.remotesInfo,e.name).key;g&&(delete m.remotesInfo[g],Global$1.__FEDERATION__.__MANIFEST_LOADING__[g]&&delete Global$1.__FEDERATION__.__MANIFEST_LOADING__[g])}o.moduleCache.delete(e.name)}}catch(o){logger.log("removeRemote fail: ",o)}}constructor(e){this.hooks=new PluginSystem({beforeRegisterRemote:new SyncWaterfallHook("beforeRegisterRemote"),registerRemote:new SyncWaterfallHook("registerRemote"),beforeRequest:new AsyncWaterfallHook("beforeRequest"),onLoad:new AsyncHook("onLoad"),handlePreloadModule:new SyncHook("handlePreloadModule"),errorLoadRemote:new AsyncHook("errorLoadRemote"),beforePreloadRemote:new AsyncHook("beforePreloadRemote"),generatePreloadAssets:new AsyncHook("generatePreloadAssets"),afterPreloadRemote:new AsyncHook,loadEntry:new AsyncHook}),this.host=e,this.idToRemoteMap={}}}const USE_SNAPSHOT=typeof FEDERATION_OPTIMIZE_NO_SNAPSHOT_PLUGIN=="boolean"?!FEDERATION_OPTIMIZE_NO_SNAPSHOT_PLUGIN:!0;class ModuleFederation{initOptions(e){this.registerPlugins(e.plugins);const n=this.formatOptions(this.options,e);return this.options=n,n}async loadShare(e,n){return this.sharedHandler.loadShare(e,n)}loadShareSync(e,n){return this.sharedHandler.loadShareSync(e,n)}initializeSharing(e=DEFAULT_SCOPE,n){return this.sharedHandler.initializeSharing(e,n)}initRawContainer(e,n,o){const s=getRemoteInfo({name:e,entry:n}),a=new Module({host:this,remoteInfo:s});return a.remoteEntryExports=o,this.moduleCache.set(e,a),a}async loadRemote(e,n){return this.remoteHandler.loadRemote(e,n)}async preloadRemote(e){return this.remoteHandler.preloadRemote(e)}initShareScopeMap(e,n,o={}){this.sharedHandler.initShareScopeMap(e,n,o)}formatOptions(e,n){const{shared:o}=formatShareConfigs(e,n),{userOptions:s,options:a}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:n,options:e,shareInfo:o}),l=this.remoteHandler.formatAndRegisterRemote(a,s),{shared:d}=this.sharedHandler.registerShared(a,s),h=[...a.plugins];s.plugins&&s.plugins.forEach(p=>{h.includes(p)||h.push(p)});const _=polyfills._extends({},e,n,{plugins:h,remotes:l,shared:d});return this.hooks.lifecycle.init.emit({origin:this,options:_}),_}registerPlugins(e){const n=registerPlugins$1(e,this);this.options.plugins=this.options.plugins.reduce((o,s)=>(s&&o&&!o.find(a=>a.name===s.name)&&o.push(s),o),n||[])}registerRemotes(e,n){return this.remoteHandler.registerRemotes(e,n)}registerShared(e){this.sharedHandler.registerShared(this.options,polyfills._extends({},this.options,{shared:e}))}constructor(e){this.hooks=new PluginSystem({beforeInit:new SyncWaterfallHook("beforeInit"),init:new SyncHook,beforeInitContainer:new AsyncWaterfallHook("beforeInitContainer"),initContainer:new AsyncWaterfallHook("initContainer")}),this.version="0.17.1",this.moduleCache=new Map,this.loaderHook=new PluginSystem({getModuleInfo:new SyncHook,createScript:new SyncHook,createLink:new SyncHook,fetch:new AsyncHook,loadEntryError:new AsyncHook,getModuleFactory:new AsyncHook}),this.bridgeHook=new PluginSystem({beforeBridgeRender:new SyncHook,afterBridgeRender:new SyncHook,beforeBridgeDestroy:new SyncHook,afterBridgeDestroy:new SyncHook});const n=USE_SNAPSHOT?[snapshotPlugin(),generatePreloadAssetsPlugin()]:[],o={id:getBuilderId$1(),name:e.name,plugins:n,remotes:[],shared:{},inBrowser:sdk.isBrowserEnv()};this.name=e.name,this.options=o,this.snapshotHandler=new SnapshotHandler(this),this.sharedHandler=new SharedHandler(this),this.remoteHandler=new RemoteHandler(this),this.shareScopeMap=this.sharedHandler.shareScopeMap,this.registerPlugins([...o.plugins,...e.plugins||[]]),this.options=this.formatOptions(o,e)}}var index=Object.freeze({__proto__:null});index_cjs$2.loadScript=sdk.loadScript;index_cjs$2.loadScriptNode=sdk.loadScriptNode;index_cjs$2.CurrentGlobal=CurrentGlobal;index_cjs$2.Global=Global$1;index_cjs$2.Module=Module;index_cjs$2.ModuleFederation=ModuleFederation;index_cjs$2.addGlobalSnapshot=addGlobalSnapshot;index_cjs$2.assert=assert;index_cjs$2.getGlobalFederationConstructor=getGlobalFederationConstructor;index_cjs$2.getGlobalSnapshot=getGlobalSnapshot;index_cjs$2.getInfoWithoutType=getInfoWithoutType;index_cjs$2.getRegisteredShare=getRegisteredShare;index_cjs$2.getRemoteEntry=getRemoteEntry;index_cjs$2.getRemoteInfo=getRemoteInfo;index_cjs$2.helpers=helpers;index_cjs$2.isStaticResourcesEqual=isStaticResourcesEqual;index_cjs$2.matchRemoteWithNameAndExpose=matchRemoteWithNameAndExpose;index_cjs$2.registerGlobalPlugins=registerGlobalPlugins;index_cjs$2.resetFederationGlobalInfo=resetFederationGlobalInfo;index_cjs$2.safeWrapper=safeWrapper;index_cjs$2.satisfy=satisfy;index_cjs$2.setGlobalFederationConstructor=setGlobalFederationConstructor;index_cjs$2.setGlobalFederationInstance=setGlobalFederationInstance;index_cjs$2.types=index;var utils_cjs={},runtimeCore$1=index_cjs$2;function getBuilderId(){return typeof FEDERATION_BUILD_IDENTIFIER<"u"?FEDERATION_BUILD_IDENTIFIER:""}function getGlobalFederationInstance(t,e){const n=getBuilderId();return runtimeCore$1.CurrentGlobal.__FEDERATION__.__INSTANCES__.find(o=>!!(n&&o.options.id===n||o.options.name===t&&!o.options.version&&!e||o.options.name===t&&e&&o.options.version===e))}utils_cjs.getGlobalFederationInstance=getGlobalFederationInstance;var runtimeCore=index_cjs$2,errorCodes=index_cjs,utils=utils_cjs;function createInstance(t){const e=runtimeCore.getGlobalFederationConstructor()||runtimeCore.ModuleFederation;return new e(t)}let FederationInstance=null;function init$1(t){const e=utils.getGlobalFederationInstance(t.name,t.version);return e?(e.initOptions(t),FederationInstance||(FederationInstance=e),e):(FederationInstance=createInstance(t),runtimeCore.setGlobalFederationInstance(FederationInstance),FederationInstance)}function loadRemote(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.loadRemote.apply(FederationInstance,t)}function loadShare$6(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.loadShare.apply(FederationInstance,t)}function loadShareSync(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.loadShareSync.apply(FederationInstance,t)}function preloadRemote(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.preloadRemote.apply(FederationInstance,t)}function registerRemotes(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.registerRemotes.apply(FederationInstance,t)}function registerPlugins(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.registerPlugins.apply(FederationInstance,t)}function getInstance(){return FederationInstance}function registerShared(...t){return runtimeCore.assert(FederationInstance,errorCodes.getShortErrorMsg(errorCodes.RUNTIME_009,errorCodes.runtimeDescMap)),FederationInstance.registerShared.apply(FederationInstance,t)}runtimeCore.setGlobalFederationConstructor(runtimeCore.ModuleFederation);index_cjs$3.Module=runtimeCore.Module;index_cjs$3.ModuleFederation=runtimeCore.ModuleFederation;index_cjs$3.getRemoteEntry=runtimeCore.getRemoteEntry;index_cjs$3.getRemoteInfo=runtimeCore.getRemoteInfo;index_cjs$3.loadScript=runtimeCore.loadScript;index_cjs$3.loadScriptNode=runtimeCore.loadScriptNode;index_cjs$3.registerGlobalPlugins=runtimeCore.registerGlobalPlugins;index_cjs$3.createInstance=createInstance;index_cjs$3.getInstance=getInstance;var init_1=index_cjs$3.init=init$1,loadRemote_1=index_cjs$3.loadRemote=loadRemote;index_cjs$3.loadShare=loadShare$6;index_cjs$3.loadShareSync=loadShareSync;index_cjs$3.preloadRemote=preloadRemote;index_cjs$3.registerPlugins=registerPlugins;var registerRemotes_1=index_cjs$3.registerRemotes=registerRemotes;index_cjs$3.registerShared=registerShared;const scriptRel="modulepreload",assetsURL=function(t,e){return new URL(t,e).href},seen={},__vitePreload=function t(e,n,o){let s=Promise.resolve();if(n&&n.length>0){let _=function(p){return Promise.all(p.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const l=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=_(n.map(p=>{if(p=assetsURL(p,o),p in seen)return;seen[p]=!0;const u=p.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(o)for(let y=l.length-1;y>=0;y--){const v=l[y];if(v.href===p&&(!u||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${m}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":scriptRel,u||(g.as="script"),g.crossOrigin="",g.href=p,h&&g.setAttribute("nonce",h),document.head.appendChild(g),u)return new Promise((y,v)=>{g.addEventListener("load",y),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return s.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};let initResolve,initReject;const initPromise$6=new Promise((t,e)=>{initResolve=t,initReject=e});var AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__={initPromise:initPromise$6,initResolve,initReject};const remoteEntryPromise=__vitePreload(()=>import("../customComponents.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);Promise.resolve(remoteEntryPromise).then(t=>Promise.resolve(t.__tla).then(t.init).catch(t.init));const{loadShare:loadShare$5}=index_cjs$3,{initPromise:initPromise$5}=AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__,res$5=initPromise$5.then(t=>loadShare$5("react",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),exportModule$5=await res$5.then(t=>t());var AdminComponentEasyAccessSet__loadShare__react__loadShare__=exportModule$5;const React$2=getDefaultExportFromCjs(AdminComponentEasyAccessSet__loadShare__react__loadShare__),React$3=_mergeNamespaces({__proto__:null,default:React$2},[AdminComponentEasyAccessSet__loadShare__react__loadShare__]);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,B){var H=P.length;P.push(B);e:for(;0<H;){var j=H-1>>>1,W=P[j];if(0<s(W,B))P[j]=B,P[H]=W,H=j;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var B=P[0],H=P.pop();if(H!==B){P[0]=H;e:for(var j=0,W=P.length,U=W>>>1;j<U;){var G=2*(j+1)-1,V=P[G],X=G+1,q=P[X];if(0>s(V,H))X<W&&0>s(q,V)?(P[j]=q,P[X]=H,j=X):(P[j]=V,P[G]=H,j=G);else if(X<W&&0>s(q,H))P[j]=q,P[X]=H,j=X;else break e}}return B}function s(P,B){var H=P.sortIndex-B.sortIndex;return H!==0?H:P.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],_=[],p=1,u=null,m=3,g=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var B=n(_);B!==null;){if(B.callback===null)o(_);else if(B.startTime<=P)o(_),B.sortIndex=B.expirationTime,e(h,B);else break;B=n(_)}}function A(P){if(v=!1,w(P),!y)if(n(h)!==null)y=!0,L($);else{var B=n(_);B!==null&&F(A,B.startTime-P)}}function $(P,B){y=!1,v&&(v=!1,b(I),I=-1),g=!0;var H=m;try{for(w(B),u=n(h);u!==null&&(!(u.expirationTime>B)||P&&!N());){var j=u.callback;if(typeof j=="function"){u.callback=null,m=u.priorityLevel;var W=j(u.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?u.callback=W:u===n(h)&&o(h),w(B)}else o(h);u=n(h)}if(u!==null)var U=!0;else{var G=n(_);G!==null&&F(A,G.startTime-B),U=!1}return U}finally{u=null,m=H,g=!1}}var E=!1,D=null,I=-1,R=5,O=-1;function N(){return!(t.unstable_now()-O<R)}function M(){if(D!==null){var P=t.unstable_now();O=P;var B=!0;try{B=D(!0,P)}finally{B?k():(E=!1,D=null)}}else E=!1}var k;if(typeof C=="function")k=function(){C(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,T=x.port2;x.port1.onmessage=M,k=function(){T.postMessage(null)}}else k=function(){S(M,0)};function L(P){D=P,E||(E=!0,k())}function F(P,B){I=S(function(){P(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,L($))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var H=m;m=B;try{return P()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=m;m=P;try{return B()}finally{m=H}},t.unstable_scheduleCallback=function(P,B,H){var j=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,P={id:p++,callback:B,priorityLevel:P,startTime:H,expirationTime:W,sortIndex:-1},H>j?(P.sortIndex=H,e(_,P),n(h)===null&&P===n(_)&&(v?(b(I),I=-1):v=!0,F(A,H-j))):(P.sortIndex=W,e(h,P),y||g||(y=!0,L($))),P},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(P){var B=m;return function(){var H=m;m=B;try{return P.apply(this,arguments)}finally{m=H}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;const{loadShare:loadShare$4}=index_cjs$3,{initPromise:initPromise$4}=AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__,res$4=initPromise$4.then(t=>loadShare$4("react-dom",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),exportModule$4=await res$4.then(t=>t());var AdminComponentEasyAccessSet__loadShare__react_mf_2_dom__loadShare__=exportModule$4;const ReactDOM=getDefaultExportFromCjs(AdminComponentEasyAccessSet__loadShare__react_mf_2_dom__loadShare__);function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_extends$2.apply(null,arguments)}function sheetForTag(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function createStyleElement(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var StyleSheet=(function(){function t(n){var o=this;this._insertTag=function(s){var a;o.tags.length===0?o.insertionPoint?a=o.insertionPoint.nextSibling:o.prepend?a=o.container.firstChild:a=o.before:a=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,a),o.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(o){o.forEach(this._insertTag)},e.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=sheetForTag(s);try{a.insertRule(o,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},e.flush=function(){this.tags.forEach(function(o){var s;return(s=o.parentNode)==null?void 0:s.removeChild(o)}),this.tags=[],this.ctr=0},t})(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash$2(t,e){return charat(t,0)^45?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,n){return t.replace(e,n)}function indexof(t,e){return t.indexOf(e)}function charat(t,e){return t.charCodeAt(e)|0}function substr(t,e,n){return t.slice(e,n)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}var line$1=1,column$1=1,length=0,position=0,character=0,characters="";function node(t,e,n,o,s,a,l){return{value:t,root:e,parent:n,type:o,props:s,children:a,line:line$1,column:column$1,length:l,return:""}}function copy(t,e){return assign$1(node("",null,null,"",null,null,0),t,{length:-t.length},e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column$1--,character===10&&(column$1=1,line$1--),character}function next(){return character=position<length?charat(characters,position++):0,column$1++,character===10&&(column$1=1,line$1++),character}function peek$1(){return charat(characters,position)}function caret(){return position}function slice$1(t,e){return substr(characters,t,e)}function token$1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line$1=column$1=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim(slice$1(position-1,delimiter(t===91?t+2:t===40?t+1:t)))}function whitespace(t){for(;(character=peek$1())&&character<33;)next();return token$1(t)>2||token$1(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(t,caret()+(e<6&&peek$1()==32&&next()==32))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:t!==34&&t!==39&&delimiter(character);break;case 40:t===41&&delimiter(t);break;case 92:next();break}return position}function commenter(t,e){for(;next()&&t+character!==57;)if(t+character===84&&peek$1()===47)break;return"/*"+slice$1(e,position-1)+"*"+from(t===47?t:next())}function identifier(t){for(;!token$1(peek$1());)next();return slice$1(t,position)}function compile(t){return dealloc(parse$1("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse$1(t,e,n,o,s,a,l,d,h){for(var _=0,p=0,u=l,m=0,g=0,y=0,v=1,S=1,b=1,C=0,w="",A=s,$=a,E=o,D=w;S;)switch(y=C,C=next()){case 40:if(y!=108&&charat(D,u-1)==58){indexof(D+=replace(delimit(C),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:D+=delimit(C);break;case 9:case 10:case 13:case 32:D+=whitespace(y);break;case 92:D+=escaping(caret()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append(comment(commenter(next(),caret()),e,n),h);break;default:D+="/"}break;case 123*v:d[_++]=strlen(D)*b;case 125*v:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+p:b==-1&&(D=replace(D,/\f/g,"")),g>0&&strlen(D)-u&&append(g>32?declaration(D+";",o,n,u-1):declaration(replace(D," ","")+";",o,n,u-2),h);break;case 59:D+=";";default:if(append(E=ruleset(D,e,n,_,p,s,d,w,A=[],$=[],u),a),C===123)if(p===0)parse$1(D,e,E,E,A,a,u,d,$);else switch(m===99&&charat(D,3)===110?100:m){case 100:case 108:case 109:case 115:parse$1(t,E,E,o&&append(ruleset(t,E,E,0,0,s,d,w,s,A=[],u),$),s,$,u,d,o?A:$);break;default:parse$1(D,E,E,E,[""],$,0,d,$)}}_=p=g=0,v=b=1,w=D="",u=l;break;case 58:u=1+strlen(D),g=y;default:if(v<1){if(C==123)--v;else if(C==125&&v++==0&&prev()==125)continue}switch(D+=from(C),C*v){case 38:b=p>0?1:(D+="\f",-1);break;case 44:d[_++]=(strlen(D)-1)*b,b=1;break;case 64:peek$1()===45&&(D+=delimit(next())),m=peek$1(),p=u=strlen(w=D+=identifier(caret())),C++;break;case 45:y===45&&strlen(D)==2&&(v=0)}}return a}function ruleset(t,e,n,o,s,a,l,d,h,_,p){for(var u=s-1,m=s===0?a:[""],g=sizeof(m),y=0,v=0,S=0;y<o;++y)for(var b=0,C=substr(t,u+1,u=abs(v=l[y])),w=t;b<g;++b)(w=trim(v>0?m[b]+" "+C:replace(C,/&\f/g,m[b])))&&(h[S++]=w);return node(t,e,n,s===0?RULESET:d,h,_,p)}function comment(t,e,n){return node(t,e,n,COMMENT,from(char()),substr(t,2,-2),0)}function declaration(t,e,n,o){return node(t,e,n,DECLARATION,substr(t,0,o),substr(t,o+1,-1),o)}function serialize(t,e){for(var n="",o=sizeof(t),s=0;s<o;s++)n+=e(t[s],s,t,e)||"";return n}function stringify$1(t,e,n,o){switch(t.type){case LAYER:if(t.children.length)break;case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,o)+"}";case RULESET:t.value=t.props.join(",")}return strlen(n=serialize(t.children,o))?t.return=t.value+"{"+n+"}":""}function middleware(t){var e=sizeof(t);return function(n,o,s,a){for(var l="",d=0;d<e;d++)l+=t[d](n,o,s,a)||"";return l}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}function memoize$4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var identifierWithPointTracking=function t(e,n,o){for(var s=0,a=0;s=a,a=peek$1(),s===38&&a===12&&(n[o]=1),!token$1(a);)next();return slice$1(e,position)},toRules=function t(e,n){var o=-1,s=44;do switch(token$1(s)){case 0:s===38&&peek$1()===12&&(n[o]=1),e[o]+=identifierWithPointTracking(position-1,n,o);break;case 2:e[o]+=delimit(s);break;case 4:if(s===44){e[++o]=peek$1()===58?"&\f":"",n[o]=e[o].length;break}default:e[o]+=from(s)}while(s=next());return e},getRules=function t(e,n){return dealloc(toRules(alloc(e),n))},fixedElements=new WeakMap,compat=function t(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,o=e.parent,s=e.column===o.column&&e.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!fixedElements.get(o))&&!s){fixedElements.set(e,!0);for(var a=[],l=getRules(n,a),d=o.props,h=0,_=0;h<l.length;h++)for(var p=0;p<d.length;p++,_++)e.props[_]=a[h]?l[h].replace(/&\f/g,d[p]):d[p]+" "+l[h]}}},removeLabel=function t(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function prefix(t,e){switch(hash$2(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 6828:case 4268:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/,"")+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(charat(t,e+4)!==45)break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch")?prefix(replace(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(charat(t,e+1)!==115)break;case 6444:switch(charat(t,strlen(t)-3-(~indexof(t,"!important")&&10))){case 107:return replace(t,":",":"+WEBKIT)+t;case 101:return replace(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(t,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t}break;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return WEBKIT+t+MS+t+t}return t}var prefixer=function t(e,n,o,s){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length);break;case KEYFRAMES:return serialize([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],s);case RULESET:if(e.length)return combine(e.props,function(a){switch(match(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(e,{props:[replace(a,/:(read-\w+)/,":"+MOZ+"$1")]})],s);case"::placeholder":return serialize([copy(e,{props:[replace(a,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(e,{props:[replace(a,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(e,{props:[replace(a,/:(plac\w+)/,MS+"input-$1")]})],s)}return""})}},defaultStylisPlugins=[prefixer],createCache=function t(e){var n=e.key;if(n==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||defaultStylisPlugins,a={},l,d=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),b=1;b<S.length;b++)a[S[b]]=!0;d.push(v)});var h,_=[compat,removeLabel];{var p,u=[stringify$1,rulesheet(function(v){p.insert(v)})],m=middleware(_.concat(s,u)),g=function(S){return serialize(compile(S),m)};h=function(S,b,C,w){p=C,g(S?S+"{"+b.styles+"}":b.styles),w&&(y.inserted[b.name]=!0)}}var y={key:n,sheet:new StyleSheet({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:h};return y.sheet.hydrate(d),y},reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(t){return reactIs.isMemo(t)?MEMO_STATICS:TYPE_STATICS[t.$$typeof]||REACT_STATICS}var defineProperty$3=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(t,e,n){if(typeof e!="string"){if(objectPrototype){var o=getPrototypeOf(e);o&&o!==objectPrototype&&hoistNonReactStatics(t,o,n)}var s=getOwnPropertyNames(e);getOwnPropertySymbols&&(s=s.concat(getOwnPropertySymbols(e)));for(var a=getStatics(t),l=getStatics(e),d=0;d<s.length;++d){var h=s[d];if(!KNOWN_STATICS[h]&&!(n&&n[h])&&!(l&&l[h])&&!(a&&a[h])){var _=getOwnPropertyDescriptor(e,h);try{defineProperty$3(t,h,_)}catch{}}}}return t}var hoistNonReactStatics_cjs=hoistNonReactStatics;const hoistNonReactStatics$1=getDefaultExportFromCjs(hoistNonReactStatics_cjs);var isBrowser=!0;function getRegisteredStyles(t,e,n){var o="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(o+=s+" ")}),o}var registerStyles=function t(e,n,o){var s=e.key+"-"+n.name;(o===!1||isBrowser===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},insertStyles=function t(e,n,o){registerStyles(e,n,o);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function murmur2(t){for(var e=0,n,o=0,s=t.length;s>=4;++o,s-=4)n=t.charCodeAt(o)&255|(t.charCodeAt(++o)&255)<<8|(t.charCodeAt(++o)&255)<<16|(t.charCodeAt(++o)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(o+2)&255)<<16;case 2:e^=(t.charCodeAt(o+1)&255)<<8;case 1:e^=t.charCodeAt(o)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function t(e){return e.charCodeAt(1)===45},isProcessableValue=function t(e){return e!=null&&typeof e!="boolean"},processStyleName=memoize$4(function(t){return isCustomProperty(t)?t:t.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function t(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(animationRegex,function(o,s,a){return cursor={name:s,styles:a,next:cursor},s})}return unitlessKeys[e]!==1&&!isCustomProperty(e)&&typeof n=="number"&&n!==0?n+"px":n};function handleInterpolation(t,e,n){if(n==null)return"";var o=n;if(o.__emotion_styles!==void 0)return o;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;var a=n;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)cursor={name:l.name,styles:l.styles,next:cursor},l=l.next;var d=a.styles+";";return d}return createStringFromObject(t,e,n)}case"function":{if(t!==void 0){var h=cursor,_=n(t);return cursor=h,handleInterpolation(t,e,_)}break}}var p=n;if(e==null)return p;var u=e[p];return u!==void 0?u:p}function createStringFromObject(t,e,n){var o="";if(Array.isArray(n))for(var s=0;s<n.length;s++)o+=handleInterpolation(t,e,n[s])+";";else for(var a in n){var l=n[a];if(typeof l!="object"){var d=l;e!=null&&e[d]!==void 0?o+=a+"{"+e[d]+"}":isProcessableValue(d)&&(o+=processStyleName(a)+":"+processStyleValue(a,d)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var h=0;h<l.length;h++)isProcessableValue(l[h])&&(o+=processStyleName(a)+":"+processStyleValue(a,l[h])+";");else{var _=handleInterpolation(t,e,l);switch(a){case"animation":case"animationName":{o+=processStyleName(a)+":"+_+";";break}default:o+=a+"{"+_+"}"}}}return o}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,s="";cursor=void 0;var a=t[0];if(a==null||a.raw===void 0)o=!1,s+=handleInterpolation(n,e,a);else{var l=a;s+=l[0]}for(var d=1;d<t.length;d++)if(s+=handleInterpolation(n,e,t[d]),o){var h=a;s+=h[d]}labelPattern.lastIndex=0;for(var _="",p;(p=labelPattern.exec(s))!==null;)_+="-"+p[1];var u=murmur2(s)+_;return{name:u,styles:s,next:cursor}}var syncFallback=function t(e){return e()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||AdminComponentEasyAccessSet__loadShare__react__loadShare__.useLayoutEffect,EmotionCacheContext=AdminComponentEasyAccessSet__loadShare__react__loadShare__.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null),CacheProvider=EmotionCacheContext.Provider,withEmotionCache=function t(e){return AdminComponentEasyAccessSet__loadShare__react__loadShare__.forwardRef(function(n,o){var s=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(EmotionCacheContext);return e(n,s,o)})},ThemeContext=AdminComponentEasyAccessSet__loadShare__react__loadShare__.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function t(e,n){var o={};for(var s in n)hasOwn.call(n,s)&&(o[s]=n[s]);return o[typePropName]=e,o},Insertion$1=function t(e){var n=e.cache,o=e.serialized,s=e.isStringTag;return registerStyles(n,o,s),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(n,o,s)}),null},Emotion=withEmotionCache(function(t,e,n){var o=t.css;typeof o=="string"&&e.registered[o]!==void 0&&(o=e.registered[o]);var s=t[typePropName],a=[o],l="";typeof t.className=="string"?l=getRegisteredStyles(e.registered,a,t.className):t.className!=null&&(l=t.className+" ");var d=serializeStyles(a,void 0,AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(ThemeContext));l+=e.key+"-"+d.name;var h={};for(var _ in t)hasOwn.call(t,_)&&_!=="css"&&_!==typePropName&&(h[_]=t[_]);return h.className=l,n&&(h.ref=n),AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement(AdminComponentEasyAccessSet__loadShare__react__loadShare__.Fragment,null,AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement(Insertion$1,{cache:e,serialized:d,isStringTag:typeof s=="string"}),AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement(s,h))}),Emotion$1=Emotion,jsx=function t(e,n){var o=arguments;if(n==null||!hasOwn.call(n,"css"))return AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement.apply(void 0,o);var s=o.length,a=new Array(s);a[0]=Emotion$1,a[1]=createEmotionProps(e,n);for(var l=2;l<s;l++)a[l]=o[l];return AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(t,e){var n=t.styles,o=serializeStyles([n],void 0,AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(ThemeContext)),s=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef();return useInsertionEffectWithLayoutFallback(function(){var a=e.key+"-global",l=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),d=!1,h=document.querySelector('style[data-emotion="'+a+" "+o.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),h!==null&&(d=!0,h.setAttribute("data-emotion",a),l.hydrate([h])),s.current=[l,d],function(){l.flush()}},[e]),useInsertionEffectWithLayoutFallback(function(){var a=s.current,l=a[0],d=a[1];if(d){a[1]=!1;return}if(o.next!==void 0&&insertStyles(e,o.next,!0),l.tags.length){var h=l.tags[l.tags.length-1].nextElementSibling;l.before=h,l.flush()}e.insert("",o,l,!1)},[e,o.name]),null});function css(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return serializeStyles(e)}function keyframes(){var t=css.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$4(function(t){return reactPropsRegex.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function t(e){return e!=="theme"},getDefaultShouldForwardProp=function t(e){return typeof e=="string"&&e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function t(e,n,o){var s;if(n){var a=n.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof s!="function"&&o&&(s=e.__emotion_forwardProp),s},Insertion=function t(e){var n=e.cache,o=e.serialized,s=e.isStringTag;return registerStyles(n,o,s),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(n,o,s)}),null},createStyled=function t(e,n){var o=e.__emotion_real===e,s=o&&e.__emotion_base||e,a,l;n!==void 0&&(a=n.label,l=n.target);var d=composeShouldForwardProps(e,n,o),h=d||getDefaultShouldForwardProp(s),_=!h("as");return function(){var p=arguments,u=o&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&u.push("label:"+a+";"),p[0]==null||p[0].raw===void 0)u.push.apply(u,p);else{var m=p[0];u.push(m[0]);for(var g=p.length,y=1;y<g;y++)u.push(p[y],m[y])}var v=withEmotionCache(function(S,b,C){var w=_&&S.as||s,A="",$=[],E=S;if(S.theme==null){E={};for(var D in S)E[D]=S[D];E.theme=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(ThemeContext)}typeof S.className=="string"?A=getRegisteredStyles(b.registered,$,S.className):S.className!=null&&(A=S.className+" ");var I=serializeStyles(u.concat($),b.registered,E);A+=b.key+"-"+I.name,l!==void 0&&(A+=" "+l);var R=_&&d===void 0?getDefaultShouldForwardProp(w):h,O={};for(var N in S)_&&N==="as"||R(N)&&(O[N]=S[N]);return O.className=A,C&&(O.ref=C),AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement(AdminComponentEasyAccessSet__loadShare__react__loadShare__.Fragment,null,AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement(Insertion,{cache:b,serialized:I,isStringTag:typeof w=="string"}),AdminComponentEasyAccessSet__loadShare__react__loadShare__.createElement(w,O))});return v.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=u,v.__emotion_forwardProp=d,Object.defineProperty(v,"toString",{value:function(){return"."+l}}),v.withComponent=function(S,b){var C=t(S,_extends$2({},n,b,{shouldForwardProp:composeShouldForwardProps(v,b,!0)}));return C.apply(void 0,u)},v}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],styled=createStyled.bind(null);tags.forEach(function(t){styled[t]=styled(t)});var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function t(o,s,a,l,d,h){if(h!==ReactPropTypesSecret){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return n.PropTypes=n,n};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function r(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=r(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function clsx(){for(var t,e,n=0,o="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=r(t))&&(o&&(o+=" "),o+=e);return o}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf(t,e)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function hasClass$1(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function addClass$1(t,e){t.classList?t.classList.add(e):hasClass$1(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function replaceClassName(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=replaceClassName(t.className,e):t.setAttribute("class",replaceClassName(t.className&&t.className.baseVal||"",e))}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(t,e){return t.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(t,e){return t.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read$1="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$1,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(t){return t?(t.nodeName||"").toLowerCase():null}function getWindow(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function isElement$1(t){var e=getWindow(t).Element;return t instanceof e||t instanceof Element}function isHTMLElement(t){var e=getWindow(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function isShadowRoot(t){if(typeof ShadowRoot>"u")return!1;var e=getWindow(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function applyStyles(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var o=e.styles[n]||{},s=e.attributes[n]||{},a=e.elements[n];!isHTMLElement(a)||!getNodeName(a)||(Object.assign(a.style,o),Object.keys(s).forEach(function(l){var d=s[l];d===!1?a.removeAttribute(l):a.setAttribute(l,d===!0?"":d)}))})}function effect$2(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(o){var s=e.elements[o],a=e.attributes[o]||{},l=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:n[o]),d=l.reduce(function(h,_){return h[_]="",h},{});!isHTMLElement(s)||!getNodeName(s)||(Object.assign(s.style,d),Object.keys(a).forEach(function(h){s.removeAttribute(h)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(t){return t.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),s=1,a=1;e&&isHTMLElement(t)&&(s=t.offsetWidth>0&&round(o.width)/t.offsetWidth||1,a=t.offsetHeight>0&&round(o.height)/t.offsetHeight||1);var l=isElement$1(t)?getWindow(t):window,d=l.visualViewport,h=!isLayoutViewport()&&n,_=(o.left+(h&&d?d.offsetLeft:0))/s,p=(o.top+(h&&d?d.offsetTop:0))/a,u=o.width/s,m=o.height/a;return{width:u,height:m,top:p,right:_+u,bottom:p+m,left:_,x:_,y:p}}function getLayoutRect(t){var e=getBoundingClientRect(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function contains(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&isShadowRoot(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function getComputedStyle(t){return getWindow(t).getComputedStyle(t)}function isTableElement(t){return["table","td","th"].indexOf(getNodeName(t))>=0}function getDocumentElement(t){return((isElement$1(t)?t.ownerDocument:t.document)||window.document).documentElement}function getParentNode(t){return getNodeName(t)==="html"?t:t.assignedSlot||t.parentNode||(isShadowRoot(t)?t.host:null)||getDocumentElement(t)}function getTrueOffsetParent(t){return!isHTMLElement(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function getContainingBlock(t){var e=/firefox/i.test(getUAString()),n=/Trident/i.test(getUAString());if(n&&isHTMLElement(t)){var o=getComputedStyle(t);if(o.position==="fixed")return null}var s=getParentNode(t);for(isShadowRoot(s)&&(s=s.host);isHTMLElement(s)&&["html","body"].indexOf(getNodeName(s))<0;){var a=getComputedStyle(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function getOffsetParent(t){for(var e=getWindow(t),n=getTrueOffsetParent(t);n&&isTableElement(n)&&getComputedStyle(n).position==="static";)n=getTrueOffsetParent(n);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle(n).position==="static")?e:n||getContainingBlock(t)||e}function getMainAxisFromPlacement(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function within(t,e,n){return max(t,min(e,n))}function withinMaxClamp(t,e,n){var o=within(t,e,n);return o>n?n:o}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(t){return Object.assign({},getFreshSideObject(),t)}function expandToHashMap(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var toPaddingObject=function t(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(t){var e,n=t.state,o=t.name,s=t.options,a=n.elements.arrow,l=n.modifiersData.popperOffsets,d=getBasePlacement(n.placement),h=getMainAxisFromPlacement(d),_=[left,right].indexOf(d)>=0,p=_?"height":"width";if(!(!a||!l)){var u=toPaddingObject(s.padding,n),m=getLayoutRect(a),g=h==="y"?top:left,y=h==="y"?bottom:right,v=n.rects.reference[p]+n.rects.reference[h]-l[h]-n.rects.popper[p],S=l[h]-n.rects.reference[h],b=getOffsetParent(a),C=b?h==="y"?b.clientHeight||0:b.clientWidth||0:0,w=v/2-S/2,A=u[g],$=C-m[p]-u[y],E=C/2-m[p]/2+w,D=within(A,E,$),I=h;n.modifiersData[o]=(e={},e[I]=D,e.centerOffset=D-E,e)}}function effect$1(t){var e=t.state,n=t.options,o=n.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||contains(e.elements.popper,s)&&(e.elements.arrow=s))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(t){return t.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(t,e){var n=t.x,o=t.y,s=e.devicePixelRatio||1;return{x:round(n*s)/s||0,y:round(o*s)/s||0}}function mapToStyles(t){var e,n=t.popper,o=t.popperRect,s=t.placement,a=t.variation,l=t.offsets,d=t.position,h=t.gpuAcceleration,_=t.adaptive,p=t.roundOffsets,u=t.isFixed,m=l.x,g=m===void 0?0:m,y=l.y,v=y===void 0?0:y,S=typeof p=="function"?p({x:g,y:v}):{x:g,y:v};g=S.x,v=S.y;var b=l.hasOwnProperty("x"),C=l.hasOwnProperty("y"),w=left,A=top,$=window;if(_){var E=getOffsetParent(n),D="clientHeight",I="clientWidth";if(E===getWindow(n)&&(E=getDocumentElement(n),getComputedStyle(E).position!=="static"&&d==="absolute"&&(D="scrollHeight",I="scrollWidth")),E=E,s===top||(s===left||s===right)&&a===end){A=bottom;var R=u&&E===$&&$.visualViewport?$.visualViewport.height:E[D];v-=R-o.height,v*=h?1:-1}if(s===left||(s===top||s===bottom)&&a===end){w=right;var O=u&&E===$&&$.visualViewport?$.visualViewport.width:E[I];g-=O-o.width,g*=h?1:-1}}var N=Object.assign({position:d},_&&unsetSides),M=p===!0?roundOffsetsByDPR({x:g,y:v},getWindow(n)):{x:g,y:v};if(g=M.x,v=M.y,h){var k;return Object.assign({},N,(k={},k[A]=C?"0":"",k[w]=b?"0":"",k.transform=($.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",k))}return Object.assign({},N,(e={},e[A]=C?v+"px":"",e[w]=b?g+"px":"",e.transform="",e))}function computeStyles(t){var e=t.state,n=t.options,o=n.gpuAcceleration,s=o===void 0?!0:o,a=n.adaptive,l=a===void 0?!0:a,d=n.roundOffsets,h=d===void 0?!0:d,_={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},_,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},_,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(t){var e=t.state,n=t.instance,o=t.options,s=o.scroll,a=s===void 0?!0:s,l=o.resize,d=l===void 0?!0:l,h=getWindow(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&_.forEach(function(p){p.addEventListener("scroll",n.update,passive)}),d&&h.addEventListener("resize",n.update,passive),function(){a&&_.forEach(function(p){p.removeEventListener("scroll",n.update,passive)}),d&&h.removeEventListener("resize",n.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function t(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(t){return t.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(t){var e=getWindow(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getWindowScroll(t).scrollLeft}function getViewportRect(t,e){var n=getWindow(t),o=getDocumentElement(t),s=n.visualViewport,a=o.clientWidth,l=o.clientHeight,d=0,h=0;if(s){a=s.width,l=s.height;var _=isLayoutViewport();(_||!_&&e==="fixed")&&(d=s.offsetLeft,h=s.offsetTop)}return{width:a,height:l,x:d+getWindowScrollBarX(t),y:h}}function getDocumentRect(t){var e,n=getDocumentElement(t),o=getWindowScroll(t),s=(e=t.ownerDocument)==null?void 0:e.body,a=max(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=max(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-o.scrollLeft+getWindowScrollBarX(t),h=-o.scrollTop;return getComputedStyle(s||n).direction==="rtl"&&(d+=max(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:d,y:h}}function isScrollParent(t){var e=getComputedStyle(t),n=e.overflow,o=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+o)}function getScrollParent(t){return["html","body","#document"].indexOf(getNodeName(t))>=0?t.ownerDocument.body:isHTMLElement(t)&&isScrollParent(t)?t:getScrollParent(getParentNode(t))}function listScrollParents(t,e){var n;e===void 0&&(e=[]);var o=getScrollParent(t),s=o===((n=t.ownerDocument)==null?void 0:n.body),a=getWindow(o),l=s?[a].concat(a.visualViewport||[],isScrollParent(o)?o:[]):o,d=e.concat(l);return s?d:d.concat(listScrollParents(getParentNode(l)))}function rectToClientRect(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function getInnerBoundingClientRect(t,e){var n=getBoundingClientRect(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function getClientRectFromMixedType(t,e,n){return e===viewport?rectToClientRect(getViewportRect(t,n)):isElement$1(e)?getInnerBoundingClientRect(e,n):rectToClientRect(getDocumentRect(getDocumentElement(t)))}function getClippingParents(t){var e=listScrollParents(getParentNode(t)),n=["absolute","fixed"].indexOf(getComputedStyle(t).position)>=0,o=n&&isHTMLElement(t)?getOffsetParent(t):t;return isElement$1(o)?e.filter(function(s){return isElement$1(s)&&contains(s,o)&&getNodeName(s)!=="body"}):[]}function getClippingRect(t,e,n,o){var s=e==="clippingParents"?getClippingParents(t):[].concat(e),a=[].concat(s,[n]),l=a[0],d=a.reduce(function(h,_){var p=getClientRectFromMixedType(t,_,o);return h.top=max(p.top,h.top),h.right=min(p.right,h.right),h.bottom=min(p.bottom,h.bottom),h.left=max(p.left,h.left),h},getClientRectFromMixedType(t,l,o));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function computeOffsets(t){var e=t.reference,n=t.element,o=t.placement,s=o?getBasePlacement(o):null,a=o?getVariation(o):null,l=e.x+e.width/2-n.width/2,d=e.y+e.height/2-n.height/2,h;switch(s){case top:h={x:l,y:e.y-n.height};break;case bottom:h={x:l,y:e.y+e.height};break;case right:h={x:e.x+e.width,y:d};break;case left:h={x:e.x-n.width,y:d};break;default:h={x:e.x,y:e.y}}var _=s?getMainAxisFromPlacement(s):null;if(_!=null){var p=_==="y"?"height":"width";switch(a){case start:h[_]=h[_]-(e[p]/2-n[p]/2);break;case end:h[_]=h[_]+(e[p]/2-n[p]/2);break}}return h}function detectOverflow(t,e){e===void 0&&(e={});var n=e,o=n.placement,s=o===void 0?t.placement:o,a=n.strategy,l=a===void 0?t.strategy:a,d=n.boundary,h=d===void 0?clippingParents:d,_=n.rootBoundary,p=_===void 0?viewport:_,u=n.elementContext,m=u===void 0?popper:u,g=n.altBoundary,y=g===void 0?!1:g,v=n.padding,S=v===void 0?0:v,b=mergePaddingObject(typeof S!="number"?S:expandToHashMap(S,basePlacements)),C=m===popper?reference:popper,w=t.rects.popper,A=t.elements[y?C:m],$=getClippingRect(isElement$1(A)?A:A.contextElement||getDocumentElement(t.elements.popper),h,p,l),E=getBoundingClientRect(t.elements.reference),D=computeOffsets({reference:E,element:w,placement:s}),I=rectToClientRect(Object.assign({},w,D)),R=m===popper?I:E,O={top:$.top-R.top+b.top,bottom:R.bottom-$.bottom+b.bottom,left:$.left-R.left+b.left,right:R.right-$.right+b.right},N=t.modifiersData.offset;if(m===popper&&N){var M=N[s];Object.keys(O).forEach(function(k){var x=[right,bottom].indexOf(k)>=0?1:-1,T=[top,bottom].indexOf(k)>=0?"y":"x";O[k]+=M[T]*x})}return O}function computeAutoPlacement(t,e){e===void 0&&(e={});var n=e,o=n.placement,s=n.boundary,a=n.rootBoundary,l=n.padding,d=n.flipVariations,h=n.allowedAutoPlacements,_=h===void 0?placements:h,p=getVariation(o),u=p?d?variationPlacements:variationPlacements.filter(function(y){return getVariation(y)===p}):basePlacements,m=u.filter(function(y){return _.indexOf(y)>=0});m.length===0&&(m=u);var g=m.reduce(function(y,v){return y[v]=detectOverflow(t,{placement:v,boundary:s,rootBoundary:a,padding:l})[getBasePlacement(v)],y},{});return Object.keys(g).sort(function(y,v){return g[y]-g[v]})}function getExpandedFallbackPlacements(t){if(getBasePlacement(t)===auto)return[];var e=getOppositePlacement(t);return[getOppositeVariationPlacement(t),e,getOppositeVariationPlacement(e)]}function flip$1(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,l=n.altAxis,d=l===void 0?!0:l,h=n.fallbackPlacements,_=n.padding,p=n.boundary,u=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,y=g===void 0?!0:g,v=n.allowedAutoPlacements,S=e.options.placement,b=getBasePlacement(S),C=b===S,w=h||(C||!y?[getOppositePlacement(S)]:getExpandedFallbackPlacements(S)),A=[S].concat(w).reduce(function(G,V){return G.concat(getBasePlacement(V)===auto?computeAutoPlacement(e,{placement:V,boundary:p,rootBoundary:u,padding:_,flipVariations:y,allowedAutoPlacements:v}):V)},[]),$=e.rects.reference,E=e.rects.popper,D=new Map,I=!0,R=A[0],O=0;O<A.length;O++){var N=A[O],M=getBasePlacement(N),k=getVariation(N)===start,x=[top,bottom].indexOf(M)>=0,T=x?"width":"height",L=detectOverflow(e,{placement:N,boundary:p,rootBoundary:u,altBoundary:m,padding:_}),F=x?k?right:left:k?bottom:top;$[T]>E[T]&&(F=getOppositePlacement(F));var P=getOppositePlacement(F),B=[];if(a&&B.push(L[M]<=0),d&&B.push(L[F]<=0,L[P]<=0),B.every(function(G){return G})){R=N,I=!1;break}D.set(N,B)}if(I)for(var H=y?3:1,j=function(V){var X=A.find(function(q){var Y=D.get(q);if(Y)return Y.slice(0,V).every(function(J){return J})});if(X)return R=X,"break"},W=H;W>0;W--){var U=j(W);if(U==="break")break}e.placement!==R&&(e.modifiersData[o]._skip=!0,e.placement=R,e.reset=!0)}}const flip$2={name:"flip",enabled:!0,phase:"main",fn:flip$1,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function isAnySideFullyClipped(t){return[top,right,bottom,left].some(function(e){return t[e]>=0})}function hide(t){var e=t.state,n=t.name,o=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,l=detectOverflow(e,{elementContext:"reference"}),d=detectOverflow(e,{altBoundary:!0}),h=getSideOffsets(l,o),_=getSideOffsets(d,s,a),p=isAnySideFullyClipped(h),u=isAnySideFullyClipped(_);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:_,isReferenceHidden:p,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":u})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(t,e,n){var o=getBasePlacement(t),s=[left,top].indexOf(o)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=a[0],d=a[1];return l=l||0,d=(d||0)*s,[left,right].indexOf(o)>=0?{x:d,y:l}:{x:l,y:d}}function offset(t){var e=t.state,n=t.options,o=t.name,s=n.offset,a=s===void 0?[0,0]:s,l=placements.reduce(function(p,u){return p[u]=distanceAndSkiddingToXY(u,e.rects,a),p},{}),d=l[e.placement],h=d.x,_=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=_),e.modifiersData[o]=l}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(t){var e=t.state,n=t.name;e.modifiersData[n]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(t){return t==="x"?"y":"x"}function preventOverflow(t){var e=t.state,n=t.options,o=t.name,s=n.mainAxis,a=s===void 0?!0:s,l=n.altAxis,d=l===void 0?!1:l,h=n.boundary,_=n.rootBoundary,p=n.altBoundary,u=n.padding,m=n.tether,g=m===void 0?!0:m,y=n.tetherOffset,v=y===void 0?0:y,S=detectOverflow(e,{boundary:h,rootBoundary:_,padding:u,altBoundary:p}),b=getBasePlacement(e.placement),C=getVariation(e.placement),w=!C,A=getMainAxisFromPlacement(b),$=getAltAxis(A),E=e.modifiersData.popperOffsets,D=e.rects.reference,I=e.rects.popper,R=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,O=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(E){if(a){var k,x=A==="y"?top:left,T=A==="y"?bottom:right,L=A==="y"?"height":"width",F=E[A],P=F+S[x],B=F-S[T],H=g?-I[L]/2:0,j=C===start?D[L]:I[L],W=C===start?-I[L]:-D[L],U=e.elements.arrow,G=g&&U?getLayoutRect(U):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),X=V[x],q=V[T],Y=within(0,D[L],G[L]),J=w?D[L]/2-H-Y-X-O.mainAxis:j-Y-X-O.mainAxis,Q=w?-D[L]/2+H+Y+q+O.mainAxis:W+Y+q+O.mainAxis,ee=e.elements.arrow&&getOffsetParent(e.elements.arrow),re=ee?A==="y"?ee.clientTop||0:ee.clientLeft||0:0,ae=(k=N==null?void 0:N[A])!=null?k:0,se=F+J-ae-re,ie=F+Q-ae,ce=within(g?min(P,se):P,F,g?max(B,ie):B);E[A]=ce,M[A]=ce-F}if(d){var le,ne=A==="x"?top:left,_e=A==="x"?bottom:right,ge=E[$],Te=$==="y"?"height":"width",Oe=ge+S[ne],Me=ge-S[_e],be=[top,left].indexOf(b)!==-1,Le=(le=N==null?void 0:N[$])!=null?le:0,xe=be?Oe:ge-D[Te]-I[Te]-Le+O.altAxis,Ee=be?ge+D[Te]+I[Te]-Le-O.altAxis:Me,$e=g&&be?withinMaxClamp(xe,ge,Ee):within(g?xe:Oe,ge,g?Ee:Me);E[$]=$e,M[$]=$e-ge}e.modifiersData[o]=M}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function getNodeScroll(t){return t===getWindow(t)||!isHTMLElement(t)?getWindowScroll(t):getHTMLElementScroll(t)}function isElementScaled(t){var e=t.getBoundingClientRect(),n=round(e.width)/t.offsetWidth||1,o=round(e.height)/t.offsetHeight||1;return n!==1||o!==1}function getCompositeRect(t,e,n){n===void 0&&(n=!1);var o=isHTMLElement(e),s=isHTMLElement(e)&&isElementScaled(e),a=getDocumentElement(e),l=getBoundingClientRect(t,s,n),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!n)&&((getNodeName(e)!=="body"||isScrollParent(a))&&(d=getNodeScroll(e)),isHTMLElement(e)?(h=getBoundingClientRect(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=getWindowScrollBarX(a))),{x:l.left+d.scrollLeft-h.x,y:l.top+d.scrollTop-h.y,width:l.width,height:l.height}}function order(t){var e=new Map,n=new Set,o=[];t.forEach(function(a){e.set(a.name,a)});function s(a){n.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(d){if(!n.has(d)){var h=e.get(d);h&&s(h)}}),o.push(a)}return t.forEach(function(a){n.has(a.name)||s(a)}),o}function orderModifiers(t){var e=order(t);return modifierPhases.reduce(function(n,o){return n.concat(e.filter(function(s){return s.phase===o}))},[])}function debounce$1(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mergeByName(t){var e=t.reduce(function(n,o){var s=n[o.name];return n[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function popperGenerator(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,s=e.defaultOptions,a=s===void 0?DEFAULT_OPTIONS:s;return function(d,h,_){_===void 0&&(_=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,a),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},u=[],m=!1,g={state:p,setOptions:function(b){var C=typeof b=="function"?b(p.options):b;v(),p.options=Object.assign({},a,p.options,C),p.scrollParents={reference:isElement$1(d)?listScrollParents(d):d.contextElement?listScrollParents(d.contextElement):[],popper:listScrollParents(h)};var w=orderModifiers(mergeByName([].concat(o,p.options.modifiers)));return p.orderedModifiers=w.filter(function(A){return A.enabled}),y(),g.update()},forceUpdate:function(){if(!m){var b=p.elements,C=b.reference,w=b.popper;if(areValidElements(C,w)){p.rects={reference:getCompositeRect(C,getOffsetParent(w),p.options.strategy==="fixed"),popper:getLayoutRect(w)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(O){return p.modifiersData[O.name]=Object.assign({},O.data)});for(var A=0;A<p.orderedModifiers.length;A++){if(p.reset===!0){p.reset=!1,A=-1;continue}var $=p.orderedModifiers[A],E=$.fn,D=$.options,I=D===void 0?{}:D,R=$.name;typeof E=="function"&&(p=E({state:p,options:I,name:R,instance:g})||p)}}}},update:debounce$1(function(){return new Promise(function(S){g.forceUpdate(),S(p)})}),destroy:function(){v(),m=!0}};if(!areValidElements(d,h))return g;g.setOptions(_).then(function(S){!m&&_.onFirstUpdate&&_.onFirstUpdate(S)});function y(){p.orderedModifiers.forEach(function(S){var b=S.name,C=S.options,w=C===void 0?{}:C,A=S.effect;if(typeof A=="function"){var $=A({state:p,name:b,instance:g,options:w}),E=function(){};u.push($||E)}})}function v(){u.forEach(function(S){return S()}),u=[]}return g}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$2,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const{loadShare:loadShare$3}=index_cjs$3,{initPromise:initPromise$3}=AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__,res$3=initPromise$3.then(t=>loadShare$3("@mui/material",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),exportModule$3=await res$3.then(t=>t());var AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__=exportModule$3;function createDeferredPromise(){let t,e;const n=new Promise((o,s)=>{t=o,e=s});return n.resolve=t,n.reject=e,n}function getObjectViewResultToArray(t){return(t==null?void 0:t.rows.map(e=>e.value).filter(e=>!!e))??[]}function normalizeHostId(t){return t!=null&&t.startsWith("system.host.")||(t=`system.host.${t}`),t}function objectIdToHostname(t){return t!=null&&t.startsWith("system.host.")&&(t=t.substring(12)),t}function wait(t){return new Promise(e=>{setTimeout(e,t)})}function pattern2RegEx(t){t=(t||"").toString();const e=t[0]==="*",n=t[t.length-1]==="*";return t=t.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"),(e?"":"^")+t+(n?"":"$")}typeof globalThis.process<"u"&&(globalThis.location||={href:"http://localhost:8081/",protocol:"http:",host:"localhost:8081",pathname:"/",hostname:"localhost",reload:()=>{}},globalThis.localStorage||={_keys:{},setItem:(t,e)=>{globalThis.localStorage._keys[t]=e},getItem:t=>t in globalThis.localStorage._keys?globalThis.localStorage._keys[t]:null,removeItem:t=>{t in globalThis.localStorage._keys&&delete globalThis.localStorage._keys[t]}},globalThis.sessionStorage||=globalThis.localStorage,globalThis.navigator||={language:"en"});var PROGRESS;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.CONNECTED=1]="CONNECTED",t[t.OBJECTS_LOADED=2]="OBJECTS_LOADED",t[t.READY=3]="READY"})(PROGRESS||(PROGRESS={}));var ERRORS;(function(t){t.PERMISSION_ERROR="permissionError",t.NOT_CONNECTED="notConnectedError",t.TIMEOUT="timeout",t.NOT_ADMIN="Allowed only in admin",t.NOT_SUPPORTED="Not supported"})(ERRORS||(ERRORS={}));const PERMISSION_ERROR=ERRORS.PERMISSION_ERROR;ERRORS.NOT_CONNECTED;const ADAPTERS=["material","echarts","vis"];class Connection{props;connId;lastAccessToken=null;ignoreState="";connected=!1;subscribed=!1;firstConnect=!0;waitForRestart=!1;loaded=!1;simStates={};objectViewCached;constructor(e){this.props=this.applyDefaultProps(e),this.connId=`${this.props.name?`${this.props.name}-`:""}${Math.round(Math.random()*1e6).toString().padStart(6,"0")}`,this.waitForSocketLib().then(()=>this.startSocket()).catch(n=>{alert(`Socket connection could not be initialized: ${n}`)})}applyDefaultProps(e){return{...e,protocol:e.protocol||globalThis.location.protocol,host:e.host||globalThis.location.hostname,port:e.port||(globalThis.location.port==="3000"?8081:globalThis.location.port),ioTimeout:Math.max(e.ioTimeout||2e4,2e4),cmdTimeout:Math.max(e.cmdTimeout||5e3,5e3),admin5only:e.admin5only||!1,autoSubscribes:e.autoSubscribes??[],autoSubscribeLog:e.autoSubscribeLog??!1,doNotLoadACL:e.doNotLoadACL??!0,doNotLoadAllObjects:e.doNotLoadAllObjects??!0}}statesSubscribes={};filesSubscribes={};objectsSubscribes={};objects={};states={};acl=null;isSecure=!1;onReadyDone=!1;onConnectionHandlers=[];onLogHandlers=[];onCmdStdoutHandler;onCmdStderrHandler;onCmdExitHandler;onError(e){(this.props.onError??console.error)(e)}_socket;_waitForSocketPromise;_waitForFirstConnectionPromise=createDeferredPromise();_instanceSubscriptions={};_promises={};_authTimer=null;_refreshTimer=null;_systemConfig;get systemConfig(){return this._systemConfig}systemLang="en";static isWeb(){return globalThis.socketUrl!==void 0}waitForSocketLib(){return this._waitForSocketPromise?this._waitForSocketPromise:(this._waitForSocketPromise=new Promise(async(e,n)=>{if(this.props.connect){e();return}if(typeof globalThis.io>"u"&&typeof globalThis.iob>"u")if(typeof globalThis.registerSocketOnLoad=="function")globalThis.registerSocketOnLoad(()=>e());else{for(let o=1;o<=30;o++){if(globalThis.io||globalThis.iob)return e();await wait(100)}n(new Error("Socket library could not be loaded!"))}else e()}),this._waitForSocketPromise)}async startSocket(){if(this._socket)return;let e=this.props.host,n=this.props.port,o=(this.props.protocol||globalThis.location.protocol).replace(":",""),s=globalThis.location.pathname;if(globalThis.location.hostname==="iobroker.net"||globalThis.location.hostname==="iobroker.pro")s="";else{if(globalThis.socketUrl){const h=new globalThis.URL(globalThis.socketUrl);e=h.hostname,n=h.port,o=h.protocol.replace(":","")}const d=s.lastIndexOf("/");if(d!==-1&&(s=s.substring(0,d+1)),Connection.isWeb()){const h=s.split("/");h.length>2&&(h.pop(),h.pop(),ADAPTERS.includes(h[h.length-1])&&h.pop(),s=h.join("/"),s.endsWith("/")||(s+="/"))}}const a=n?`${o}://${e}:${n}`:`${o}://${e}`,l=this.props.connect||(globalThis.io||globalThis.iob).connect;return this._socket=l(a,{path:s.endsWith("/")?`${s}socket.io`:`${s}/socket.io`,query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid,token:this.props.token}),this._socket.on("connect",d=>{var _;(_=globalThis.addEventListener)==null||_.call(globalThis,"storage",this.onAccessTokenUpdated);const h=Connection.readTokens();if(h&&!h.owner){const p=Date.now();this.saveTokens({access_token:h.access_token,refresh_token:h.refresh_token,expires_in:Math.round((h.expires_in.getTime()-p)/1e3),refresh_token_expires_in:Math.round((h.refresh_token_expires_in.getTime()-p)/1e3),token_type:"Bearer"},h.stayLoggedIn)}this.onReadyDone=!1,d!==!0?(this.connected=!0,setTimeout(()=>this.getVersion().then(p=>{const[u,m,g]=p.version.split(".");parseInt(u,10)*1e4+parseInt(m,10)*100+parseInt(g,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",(v,S)=>this.onPreConnect(v,S))}).catch(p=>this.onError({message:p.toString(),operation:"getVersion"})),500)):this._socket.emit("authenticate",(p,u)=>{this.onPreConnect(p,u)})}),this._socket.on("reconnect",()=>{var d,h;this.onReadyDone=!1,(h=(d=this.props).onProgress)==null||h.call(d,PROGRESS.READY),this.connected=!0,this.waitForRestart?globalThis.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach(_=>_(!0)))}),this._socket.on("disconnect",()=>{var d,h;this.onReadyDone=!1,this.connected=!1,this.subscribed=!1,(h=(d=this.props).onProgress)==null||h.call(d,PROGRESS.CONNECTING),this.onConnectionHandlers.forEach(_=>_(!1))}),this._socket.on("reauthenticate",()=>this.authenticate()),this._socket.on("log",d=>{var h,_;(_=(h=this.props).onLog)==null||_.call(h,d),this.onLogHandlers.forEach(p=>p(d))}),this._socket.on("error",d=>{let h;d==null?h="":typeof d.toString=="function"?h=d.toString():(h=JSON.stringify(d),console.error(`Received strange error: ${h}`)),h.includes("User not authorized")?this.authenticate():h.includes("websocket error")?(console.error(`Socket Error => reload: ${d}`),globalThis.location.reload()):console.error(`Socket Error: ${d}`)}),this._socket.on("connect_error",d=>console.error(`Connect error: ${d}`)),this._socket.on("permissionError",d=>this.onError({message:"no permission",operation:d.operation,type:d.type,id:d.id||""})),this._socket.on("objectChange",(d,h)=>{setTimeout(()=>this.objectChange(d,h),0)}),this._socket.on("stateChange",(d,h)=>{setTimeout(()=>this.stateChange(d,h),0)}),this._socket.on("im",(d,h,_)=>{setTimeout(()=>this.instanceMessage(d,h,_),0)}),this._socket.on("fileChange",(d,h,_)=>{setTimeout(()=>this.fileChange(d,h,_),0)}),this._socket.on("cmdStdout",(d,h)=>{var _;(_=this.onCmdStdoutHandler)==null||_.call(this,d,h)}),this._socket.on("cmdStderr",(d,h)=>{var _;(_=this.onCmdStderrHandler)==null||_.call(this,d,h)}),this._socket.on("cmdExit",(d,h)=>{var _;(_=this.onCmdExitHandler)==null||_.call(this,d,h)}),Promise.resolve()}onPreConnect(e,n){var o,s;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=n,this.waitForRestart?globalThis.location.reload():(this.firstConnect?this.loadData().catch(a=>{console.error(`Cannot load data: ${a}`)}):(s=(o=this.props).onProgress)==null||s.call(o,PROGRESS.READY),this._subscribe(!0),this.onConnectionHandlers.forEach(a=>a(!0)),this.checkAccessTokenExpire()),this._waitForFirstConnectionPromise.resolve()}static readTokens(){let e=globalThis.sessionStorage.getItem("iob_tokens");const n=!e;if(e||(e=globalThis.localStorage.getItem("iob_tokens")),!e)return null;const[o,s,a,l,d]=e.split(";"),h=new Date(s);return h.getTime()<Date.now()?null:{refresh_token:o,refresh_token_expires_in:h,access_token:a,expires_in:new Date(l),owner:d,stayLoggedIn:n}}static saveTokensStatic(e,n,o){const s=`${e.refresh_token};${new Date(Date.now()+e.refresh_token_expires_in*1e3).toISOString()};${e.access_token};${new Date(Date.now()+e.expires_in*1e3).toISOString()}${o?`;${o}`:""}`;n?globalThis.localStorage.setItem("iob_tokens",s):globalThis.sessionStorage.setItem("iob_tokens",s)}saveTokens(e,n){Connection.saveTokensStatic(e,n,this.connId)}static deleteTokensStatic(){globalThis.localStorage.removeItem("iob_tokens"),globalThis.sessionStorage.removeItem("iob_tokens")}deleteTokens(e,n){const o=Connection.readTokens();o&&(n?Connection.deleteTokensStatic():o.stayLoggedIn===e&&o.owner===this.connId&&(o.stayLoggedIn?globalThis.localStorage.removeItem("iob_tokens"):globalThis.sessionStorage.removeItem("iob_tokens")))}onAccessTokenUpdated=e=>{if(e.key==="iob_tokens"){const n=Connection.readTokens();n&&(console.log(`Tab ${this.connId} received updated token: ${n.access_token}`),this.updateTokenExpiration(n.access_token))}};updateTokenExpiration(e){this.lastAccessToken!==e&&(this.lastAccessToken=e,this._socket.emit("updateTokenExpiration",e,(n,o)=>{n?(console.error(`[UPDATE/${new Date().toISOString()}] cannot say to server about new token: ${n}`),globalThis.location.reload()):o?console.log(`[UPDATE/${new Date().toISOString()}] server accepted new token: ${e}`):(console.error(`[UPDATE/${new Date().toISOString()}] cannot say to server about new token`),globalThis.location.reload())})),this.checkAccessTokenExpire()}refreshTokens(e,n){if(!e){console.log(`[REFRESH/${new Date().toISOString()}] No token structure found => reloading the page`),setTimeout(()=>globalThis.location.reload(),500);return}n||!e.owner||e.owner===this.connId?(console.log(`[REFRESH/${new Date().toISOString()}] claim ownership of the token`),this.acquireTokenLock()?(console.log(`[REFRESH/${new Date().toISOString()}] refreshing token`),fetch("./oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`grant_type=refresh_token&refresh_token=${e.refresh_token}&client_id=ioBroker&stayloggedin=${e.stayLoggedIn}`}).then(o=>{if(o.ok)return o.json();throw new Error("Cannot refresh access token")}).then(o=>{if(o.access_token)console.log(`[REFRESH/${new Date().toISOString()}] received new token: ${o.access_token}`),this.saveTokens(o,e.stayLoggedIn),this.releaseTokenLock(),this.updateTokenExpiration(o.access_token);else throw new Error("Cannot get access token")}).catch(o=>{console.warn(`[REFRESH/${new Date().toISOString()}] cannot refresh token: ${o}`),this.releaseTokenLock(),this.deleteTokens(e.stayLoggedIn),console.error(o),globalThis.location.reload()})):(console.log(`[REFRESH/${new Date().toISOString()}] Someone else is updating the token, so wait for the next check`),this.checkAccessTokenExpire())):this.lastAccessToken!==e.access_token&&this.updateTokenExpiration(e.access_token)}acquireTokenLock(){const e=Date.now(),n=globalThis.localStorage.getItem("iob_token_semaphore");if(n)try{const s=JSON.parse(n);if(e<s.expiry)return!1}catch{}const o={connId:this.connId,expiry:e+10*1e3};return globalThis.localStorage.setItem("iob_token_semaphore",JSON.stringify(o)),!0}releaseTokenLock(){const e=globalThis.localStorage.getItem("iob_token_semaphore");if(e)try{JSON.parse(e).connId===this.connId&&globalThis.localStorage.removeItem("iob_token_semaphore")}catch{globalThis.localStorage.removeItem("iob_token_semaphore")}}checkAccessTokenExpire(){if(this._refreshTimer&&(clearTimeout(this._refreshTimer),this._refreshTimer=null),this.isSecure){const e=Connection.readTokens();if(e){const n=e.expires_in.getTime();if(n<Date.now()+3e4){const o=n<Date.now()+5500;console.log(`[TOKEN/${new Date().toISOString()}] Updating refresh token ${e.access_token}`),e.refresh_token?e.owner===this.connId||o?(e.owner===this.connId?console.log(`[TOKEN/${new Date().toISOString()}] We are the owner of the token`):console.log(`[TOKEN/${new Date().toISOString()}] We are not the owner of the token, but we will take ownership`),this.props.tokenTimeoutHandler?(console.log(`[TOKEN/${new Date().toISOString()}] Asking GUI if we should prolong the token`),this.props.tokenTimeoutHandler(n).then(s=>{s?(console.log(`[TOKEN/${new Date().toISOString()}] Token will be prolonged`),this.refreshTokens(e,o)):(console.log(`[TOKEN/${new Date().toISOString()}] Token will not be prolonged. Reloading the page`),setTimeout(()=>globalThis.location.reload(),Date.now()>n?500:n-Date.now()))})):(console.log(`[TOKEN/${new Date().toISOString()}] No tokenTimeoutHandler defined. Prolonging the token`),this.refreshTokens(e,o))):this.lastAccessToken!==e.access_token?(console.log(`[TOKEN/${new Date().toISOString()}] We are not the owner of the token, but we will inform the server about new token`),this.refreshTokens(e)):(console.log(`[TOKEN/${new Date().toISOString()}] We are not the owner of the token and the token did not change. Check in 3 seconds if the owner updated the token`),this._refreshTimer=setTimeout(()=>{this._refreshTimer=null,this.checkAccessTokenExpire()},3e3)):(console.log(`[TOKEN/${new Date().toISOString()}] We do not have a refresh token, so we need to reauthenticate`),setTimeout(()=>globalThis.location.reload(),Date.now()>n?500:n-Date.now()))}else this._refreshTimer=setTimeout(()=>{this._refreshTimer=null,this.checkAccessTokenExpire()},n-Date.now()-3e4>12e4?12e4:n-Date.now()-3e4)}}}static isCloud(){return globalThis.location.hostname.includes("amazonaws.com")||globalThis.location.hostname.includes("iobroker.in")?!0:typeof globalThis.socketUrl>"u"?!1:globalThis.socketUrl.includes("iobroker.in")||globalThis.socketUrl.includes("amazonaws")}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnectionPromise}async getUserPermissions(){return this.request({commandTimeout:!1,executor:(e,n)=>{this._socket.emit("getUserPermissions",(o,s)=>{o?n(o):e(s||null)})}})}async loadData(){if(this.loaded)return;const e=10;for(let n=1;n<=e;n++){if(this.doLoadData().catch(o=>console.error(`Cannot load data: ${o}`)),this.loaded)return;await wait(Connection.isCloud()?5e3:1e3)}}async doLoadData(){var e,n,o,s,a,l,d,h,_;if(!this.loaded){if(!this.props.doNotLoadACL)try{this.acl=await this.getUserPermissions()}catch(p){this.onError(`Cannot read user permissions: ${p}`);return}try{this.props.admin5only&&!Connection.isWeb()&&(!globalThis.vendorPrefix||globalThis.vendorPrefix==="@@vendorPrefix@@")?this._systemConfig=await this.getCompactSystemConfig():this._systemConfig=await this.getSystemConfig()}catch(p){this.onError(`Cannot read system config: ${p}`);return}this._systemConfig&&(this.systemLang=(e=this._systemConfig.common)==null?void 0:e.language,this.systemLang||(this.systemLang=globalThis.navigator.userLanguage||globalThis.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substring(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en"),this._systemConfig.common.language=this.systemLang)),(o=(n=this.props).onLanguage)==null||o.call(n,this.systemLang),this.loaded=!0,(a=(s=this.props).onProgress)==null||a.call(s,PROGRESS.CONNECTED),this.firstConnect=!1,this.props.doNotLoadAllObjects?this.props.admin5only?this.objects={}:this.objects={"system.config":this._systemConfig}:this.objects=await this.getObjects(),(d=(l=this.props).onProgress)==null||d.call(l,PROGRESS.READY),this.onReadyDone||(this.onReadyDone=!0,(_=(h=this.props).onReady)==null||_.call(h,this.objects))}}authenticate(){globalThis.location.search.includes("&href=")?globalThis.location.href=`${globalThis.location.protocol}//${globalThis.location.host}${globalThis.location.pathname}${globalThis.location.search}`:globalThis.location.href=`${globalThis.location.protocol}//${globalThis.location.host}${globalThis.location.pathname}?login&href=${encodeURIComponent(globalThis.location.search+globalThis.location.hash)}`}async subscribeState(...e){let n,o,s;e.length===3?[n,o,s]=e:([n,s]=e,o=!1);let a;if(Array.isArray(n)?a=n:a=[n],typeof s!="function")throw new Error("The state change handler must be a function!");const l=[];for(let d=0;d<a.length;d++){const h=a[d];this.statesSubscribes[h]?!this.statesSubscribes[h].cbs.includes(s)&&this.statesSubscribes[h].cbs.push(s):(this.statesSubscribes[h]={reg:new RegExp(pattern2RegEx(h)),cbs:[s]},n!==this.ignoreState&&l.push(h))}if(this.connected)if(l.length&&this._socket.emit("subscribe",l),o){let d;for(let h=0;h<a.length;h++){try{d=await this.getBinaryState(a[h])}catch(_){console.error(`Cannot getBinaryState "${a[h]}": ${JSON.stringify(_)}`),d=void 0}d!=null&&s(a[h],d)}}else if(a.find(d=>d.includes("*"))){let d;for(let h=0;h<a.length;h++){try{d=await this.getForeignStates(a[h])}catch(_){console.error(`Cannot getForeignStates "${a[h]}": ${JSON.stringify(_)}`);return}if(d)for(const[_,p]of Object.entries(d)){const u=s(_,p);u instanceof Promise&&u.catch(m=>console.error(`Cannot call state change handler: ${m}`))}}}else try{const d=await(Connection.isWeb()?this.getStates(a):this.getForeignStates(a));if(d)for(const[h,_]of Object.entries(d)){const p=s(h,_);p instanceof Promise&&p.catch(u=>console.error(`Cannot call state change handler: ${u}`))}}catch(d){console.error(`Cannot getState "${a.join(", ")}": ${d.message}`);return}}async subscribeStateAsync(e,n){return this.subscribeState(e,n)}unsubscribeState(e,n){var a;let o;Array.isArray(e)?o=e:o=[e];const s=[];for(let l=0;l<o.length;l++){const d=o[l];if(this.statesSubscribes[d]){const h=this.statesSubscribes[d];if(n){const _=h.cbs.indexOf(n);_!==-1&&h.cbs.splice(_,1)}else h.cbs=[];(a=h.cbs)!=null&&a.length||(delete this.statesSubscribes[d],d!==this.ignoreState&&s.push(d))}}this.connected&&s.length&&this._socket.emit("unsubscribe",o)}subscribeObject(e,n){let o;if(Array.isArray(e)?o=e:o=[e],typeof n!="function")throw new Error("The object change handler must be a function!");const s=[];for(let a=0;a<o.length;a++){const l=o[a];this.objectsSubscribes[l]?!this.objectsSubscribes[l].cbs.includes(n)&&this.objectsSubscribes[l].cbs.push(n):(this.objectsSubscribes[l]={reg:new RegExp(pattern2RegEx(l)),cbs:[n]},s.push(l))}return this.connected&&s.length&&this._socket.emit("subscribeObjects",s),Promise.resolve()}unsubscribeObject(e,n){var a;let o;Array.isArray(e)?o=e:o=[e];const s=[];for(let l=0;l<o.length;l++){const d=o[l];if(this.objectsSubscribes[d]){const h=this.objectsSubscribes[d];if(n){const _=h.cbs.indexOf(n);_!==-1&&h.cbs.splice(_,1)}else h.cbs=[];(a=h.cbs)!=null&&a.length||(delete this.objectsSubscribes[d],s.push(d))}}return this.connected&&s.length&&this._socket.emit("unsubscribeObjects",s),Promise.resolve()}objectChange(e,n){var a,l;let o;this.objects[e]&&(o={_id:e,type:this.objects[e].type});let s=!1;n?(n._rev&&this.objects[e]&&(this.objects[e]._rev=n._rev),(!this.objects[e]||JSON.stringify(this.objects[e])!==JSON.stringify(n))&&(this.objects[e]=n,s=!0)):this.objects[e]&&(delete this.objects[e],s=!0);for(const[d,h]of Object.entries(this.objectsSubscribes))(d===e||h.reg.test(e))&&h.cbs.forEach(_=>{try{const p=_(e,n,o);p instanceof Promise&&p.catch(u=>console.error(`Cannot call object change handler: ${u}`))}catch(p){console.error(`Error by callback of objectChange: ${p}`)}});if(s){const d=(l=(a=this.props).onObjectChange)==null?void 0:l.call(a,e,n);d instanceof Promise&&d.catch(h=>console.error(`Cannot call object change handler: ${h}`))}}stateChange(e,n){for(const o of Object.values(this.statesSubscribes))if(o.reg.test(e))for(const s of o.cbs)try{const a=s(e,n??null);a instanceof Promise&&a.catch(l=>console.error(`Cannot call state change handler: ${l}`))}catch(a){console.error(`Error by callback of stateChanged: ${a}`)}}instanceMessage(e,n,o){var s;(s=this._instanceSubscriptions[n])==null||s.forEach(a=>{if(a.messageType===e){const l=a.callback(o,n,e);l instanceof Promise&&l.catch(d=>console.error(`Cannot call instance message handler: ${d}`))}})}fileChange(e,n,o){for(const s of Object.values(this.filesSubscribes))if(s.regId.test(e)&&s.regFilePattern.test(n))for(const a of s.cbs)try{a(e,n,o)}catch(l){console.error(`Error by callback of fileChange: ${l}`)}}async subscribeFiles(e,n,o){if(typeof o!="function")throw new Error("The state change handler must be a function!");let s;Array.isArray(n)?s=n:s=[n];const a=[];for(let l=0;l<s.length;l++){const d=s[l],h=`${e}$%$${d}`;this.filesSubscribes[h]?!this.filesSubscribes[h].cbs.includes(o)&&this.filesSubscribes[h].cbs.push(o):(this.filesSubscribes[h]={regId:new RegExp(pattern2RegEx(e)),regFilePattern:new RegExp(pattern2RegEx(d)),cbs:[o]},a.push(d))}return this.connected&&a.length&&this._socket.emit("subscribeFiles",e,a),Promise.resolve()}unsubscribeFiles(e,n,o){var l;let s;Array.isArray(n)?s=n:s=[n];const a=[];for(let d=0;d<s.length;d++){const h=s[d],_=`${e}$%$${h}`;if(this.filesSubscribes[_]){const p=this.filesSubscribes[_];if(o){const u=p.cbs.indexOf(o);u!==-1&&p.cbs.splice(u,1)}else p.cbs=[];(l=p.cbs)!=null&&l.length||(delete this.filesSubscribes[_],a.push(h))}}this.connected&&a.length&&this._socket.emit("unsubscribeFiles",e,a)}async request({cacheKey:e,forceUpdate:n,commandTimeout:o,onTimeout:s,requireAdmin:a,requireFeatures:l,executor:d}){if(a&&Connection.isWeb())return Promise.reject(new Error(ERRORS.NOT_ADMIN));if(e&&!n&&e in this._promises)return this._promises[e];if(!this.connected)return Promise.reject(new Error(ERRORS.NOT_CONNECTED));if(l!=null&&l.length){for(const _ of l)if(!await this.checkFeatureSupported(_))throw new Error(ERRORS.NOT_SUPPORTED)}const h=new Promise(async(_,p)=>{const u={elapsed:!1,clearTimeout:()=>{}};let m;o!==!1&&(m=setTimeout(()=>{u.elapsed=!0,s==null||s(),e&&this._promises[e]instanceof Promise&&delete this._promises[e],p(new Error(ERRORS.TIMEOUT))},o??this.props.cmdTimeout),u.clearTimeout=()=>{clearTimeout(m)});try{await d(_,p,u)}catch(g){e&&this._promises[e]instanceof Promise&&delete this._promises[e],p(new Error(g.toString()))}});return e&&(this._promises[e]=h),h}resetCache(e,n){n?Object.keys(this._promises).filter(o=>o.startsWith(e)).forEach(o=>{delete this._promises[o]}):delete this._promises[e]}getStates(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getStates",e,(s,a)=>{this.states=a??{},s?o(s):n(this.states)})}})}getState(e){return this.request({commandTimeout:!1,executor:(n,o)=>{if(e&&e===this.ignoreState){n(this.simStates[e]||{val:null,ack:!0});return}this._socket.emit("getState",e,(s,a)=>{s?o(s):n(a)})}})}getBinaryState(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getBinaryState",e,(s,a)=>{s?o(s):n(a)})}})}setBinaryState(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("setBinaryState",e,n,a=>{a?s(a):o()})}})}setState(e,n,o){return typeof o=="boolean"&&(n={val:n,ack:o}),this.request({commandTimeout:!1,executor:(s,a)=>{if(e&&e===this.ignoreState){let l;if(typeof o=="boolean"||typeof n=="object"&&n.val!==void 0?l=n:l={val:n,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[e]=l,this.statesSubscribes[e])for(const d of this.statesSubscribes[e].cbs)try{const h=d(e,l);h instanceof Promise&&h.catch(_=>console.error(`Cannot call state change handler: ${_}`))}catch(h){console.error(`Error by callback of stateChanged: ${h}`)}s();return}this._socket.emit("setState",e,n,l=>{l?a(l):s()})}})}getObjects(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{if(!e&&this.objects){o(this.objects);return}this._socket.emit(Connection.isWeb()?"getObjects":"getAllObjects",(a,l)=>{var d,h;n||(h=(d=this.props).onProgress)==null||h.call(d,PROGRESS.OBJECTS_LOADED),a?s(a):(this.objects=l??{},o(this.objects))})}})}getObjectsById(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getObjects",e,(s,a)=>{s?o(s):n(a)})}})}_subscribe(e){var n,o;if(e&&!this.subscribed){this.subscribed=!0,(n=this.props.autoSubscribes)!=null&&n.length&&this._socket.emit("subscribeObjects",this.props.autoSubscribes);const s=Object.keys(this.objectsSubscribes);s.length&&this._socket.emit("subscribeObjects",s),Object.keys(this.objectsSubscribes).forEach(a=>this._socket.emit("subscribeObjects",a)),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach(a=>this._socket.emit("subscribe",a)),Object.keys(this.filesSubscribes).forEach(a=>{const[l,d]=a.split("$%$");this._socket.emit("subscribeFiles",l,d)})}else if(!e&&this.subscribed){this.subscribed=!1,(o=this.props.autoSubscribes)!=null&&o.length&&this._socket.emit("unsubscribeObjects",this.props.autoSubscribes);const s=Object.keys(this.objectsSubscribes);s.length&&this._socket.emit("unsubscribeObjects",s),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(a=>this._socket.emit("unsubscribe",a)),Object.keys(this.filesSubscribes).forEach(a=>{const[l,d]=a.split("$%$");this._socket.emit("unsubscribeFiles",l,d)})}}requireLog(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("requireLog",e,s=>{s?o(s):n()})}})}delObject(e,n=!1){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("delObject",e,{maintenance:n},a=>{a?s(a):o()})}})}delObjects(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("delObjects",e,{maintenance:n},a=>{a?s(a):o()})}})}setObject(e,n){return n?(n=JSON.parse(JSON.stringify(n)),delete n.from,delete n.user,delete n.ts,this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("setObject",e,n,a=>{a?s(a):o()})}})):Promise.reject(new Error("Null object is not allowed"))}getObject(e){return this.request({commandTimeout:!1,executor:(n,o)=>{if(e&&e===this.ignoreState){n({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed"}});return}this._socket.emit("getObject",e,(s,a)=>{s?o(s):n(a)})}})}sendTo(e,n,o){return this.request({commandTimeout:!1,executor:s=>{this._socket.emit("sendTo",e,n,o,a=>{s(a)})}})}extendObject(e,n){return n?(n=JSON.parse(JSON.stringify(n)),delete n.from,delete n.user,delete n.ts,this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("extendObject",e,n,a=>{a?s(a):o()})}})):Promise.reject(new Error("Null object is not allowed"))}registerLogHandler(e){this.onLogHandlers.includes(e)||this.onLogHandlers.push(e)}unregisterLogHandler(e){const n=this.onLogHandlers.indexOf(e);n!==-1&&this.onLogHandlers.splice(n,1)}registerConnectionHandler(e){this.onConnectionHandlers.includes(e)||this.onConnectionHandlers.push(e)}unregisterConnectionHandler(e){const n=this.onConnectionHandlers.indexOf(e);n!==-1&&this.onConnectionHandlers.splice(n,1)}registerCmdStdoutHandler(e){this.onCmdStdoutHandler=e}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(e){this.onCmdStderrHandler=e}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(e){this.onCmdExitHandler=e}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(e,n){return this.request({cacheKey:`enums_${e||"all"}`,forceUpdate:n,commandTimeout:!1,executor:(o,s)=>{this._socket.emit("getObjectView","system","enum",{startkey:`enum.${e||""}`,endkey:e?`enum.${e}.`:"enum."},(a,l)=>{if(a)s(a);else{const d={};if(l)for(let h=0;h<l.rows.length;h++)e&&l.rows[h].id===`enum.${e}`||(d[l.rows[h].id]=l.rows[h].value);o(d)}})}})}getObjectView(e,n,o){return this.getObjectViewCustom("system",o,e,n)}async getObjectViewSystem(e,n,o){var l;const s=`${e}_${n||""}_${o||""}`,a=await this.getObjectViewCustom("system",e,n,o);return(l=this.objectViewCached)!=null&&l[s]&&(this.objectViewCached[s]=a),a}async getObjectViewSystemCached(e,n,o){var l;const s=`${e}_${n||""}_${o||""}`;if((l=this.objectViewCached)!=null&&l[s])return Promise.resolve(this.objectViewCached[s]);const a=await this.getObjectViewCustom("system",e,n,o);return this.objectViewCached||={},this.objectViewCached[s]=a,a}getObjectViewCustom(e,n,o,s){return this.request({commandTimeout:!1,executor:(a,l)=>{o||="",s||="",this._socket.emit("getObjectView",e,n,{startkey:o,endkey:s},(d,h)=>{if(d)l(d);else{const _={};if(h&&h.rows)for(let p=0;p<h.rows.length;p++)_[h.rows[p].id]=h.rows[p].value;a(_)}})}})}readMetaItems(){return this.request({commandTimeout:!1,executor:(e,n)=>{this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:""},(o,s)=>{var a;o?n(o):e((a=s.rows)==null?void 0:a.map(l=>l.value).filter(l=>!!l))})}})}readDir(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("readDir",e,n,(a,l)=>{a?s(a):o(l)})}})}readFile(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{this._socket.emit(o?"readFile64":"readFile",e,n,(l,d,h)=>{l?a(l):s({file:d,mimeType:h})})}})}writeFile64(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{if(typeof o=="string")this._socket.emit("writeFile",e,n,o,l=>{l?a(l):s()});else{const l=btoa(new Uint8Array(o).reduce((d,h)=>d+String.fromCharCode(h),""));this._socket.emit("writeFile64",e,n,l,d=>{d?a(d):s()})}}})}deleteFile(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("deleteFile",e,n,a=>{a?s(a):o()})}})}deleteFolder(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("deleteFolder",e,n,a=>{a?s(a):o()})}})}rename(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{this._socket.emit("rename",e,n,o,l=>{l?a(l):s()})}})}renameFile(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{this._socket.emit("renameFile",e,n,o,l=>{l?a(l):s()})}})}cmdExec(e,n,o,s){return this.request({commandTimeout:s,executor:(a,l,d)=>{e=normalizeHostId(e),this._socket.emit("cmdExec",e,o,n,h=>{d.elapsed||(d.clearTimeout(),h?l(h):a())})}})}getSystemConfig(e){return this.request({cacheKey:"systemConfig",forceUpdate:e,commandTimeout:!1,executor:async n=>{let o=await this.getObject("system.config");o??={},o.common??={},o.native??={},n(o)}})}getCompactSystemConfig(e){return this.request({cacheKey:"systemConfigCommon",forceUpdate:e,commandTimeout:!1,requireAdmin:!0,executor:(n,o)=>{this._socket.emit("getCompactSystemConfig",(s,a)=>{s?o(s):(a??={},a.common??={},a.native??={},n(a))})}})}getForeignStates(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getForeignStates",e||"*",(s,a)=>{s?o(s):n(a??{})})}})}getForeignObjects(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("getForeignObjects",e||"*",n,(a,l)=>{a?s(a):o(l)})}})}setSystemConfig(e){return this.setObject("system.config",e)}getRawSocket(){return this._socket}getHistory(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("getHistory",e,n,(a,l)=>{a?s(a):o(l)})}})}getHistoryEx(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("getHistory",e,n,(a,l,d,h)=>{a?s(a):o({values:l,sessionId:h,step:d})})}})}getIpAddresses(e,n){return e=normalizeHostId(e),this.request({cacheKey:`IPs_${e}`,forceUpdate:n,commandTimeout:!1,executor:async o=>{const s=await this.getObject(e);o((s==null?void 0:s.common.address)??[])}})}getVersion(e){return this.request({cacheKey:"version",forceUpdate:e,commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getVersion",(s,a,l)=>{s&&!a&&typeof s=="string"&&s.match(/\d+\.\d+\.\d+/)?n({version:s,serverName:"socketio"}):s?o(s):n({version:a,serverName:l})})}})}getWebServerName(){return this.request({cacheKey:"webName",commandTimeout:!1,executor:(e,n)=>{this._socket.emit("getAdapterName",(o,s)=>{o?n(o):e(s)})}})}fileExists(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("fileExists",e,n,(a,l)=>{a?s(a):o(!!l)})}})}getCurrentUser(){return this.request({commandTimeout:!1,executor:e=>{this._socket.emit("authEnabled",(n,o)=>{e(o)})}})}getUuid(){return this.request({cacheKey:"uuid",commandTimeout:!1,executor:async e=>{var o;const n=await this.getObject("system.meta.uuid");e((o=n==null?void 0:n.native)==null?void 0:o.uuid)}})}checkFeatureSupported(e,n){return this.request({cacheKey:`supportedFeatures_${e}`,forceUpdate:n,commandTimeout:!1,executor:(o,s)=>{this._socket.emit("checkFeatureSupported",e,(a,l)=>{a?s(a):o(l)})}})}getAdapterInstances(e,n){return typeof e=="boolean"&&(n=e,e=""),e||="",this.request({cacheKey:`instances_${e}`,forceUpdate:n,commandTimeout:!1,executor:async o=>{const s=e?`system.adapter.${e}.`:"system.adapter.",a=`${s}`,l=await this.getObjectViewSystem("instance",s,a),d=Object.values(l);o(e?d.filter(h=>h.common.name===e):d)}})}getAdapters(e,n){return typeof e=="boolean"&&(n=e,e=""),e||="",this.request({cacheKey:`adapter_${e}`,forceUpdate:n,commandTimeout:!1,executor:async o=>{const s=await this.getObjectViewSystem("adapter",`system.adapter.${e||""}`,`system.adapter.${e||""}`),a=Object.values(s);o(e?a.filter(l=>l.common.name===e):a)}})}getGroups(e){return this.request({cacheKey:"groups",forceUpdate:e,commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group."},(s,a)=>{s?o(s):n(getObjectViewResultToArray(a))})}})}logout(){return this.request({commandTimeout:!1,executor:(e,n)=>{this._socket.emit("logout",o=>{o?n(o):e(null)})}})}subscribeOnInstance(e,n,o,s){return this.request({commandTimeout:!1,executor:(a,l)=>{this._socket.emit("clientSubscribe",e,n,o,(d,h)=>{d?l(d):h&&(h.error?l(h.error):(e.startsWith("system.adapter.")||(e=`system.adapter.${e}`),this._instanceSubscriptions[e]=this._instanceSubscriptions[e]||[],this._instanceSubscriptions[e].find(_=>_.messageType===n&&_.callback===s)||this._instanceSubscriptions[e].push({messageType:n,callback:s}),a(h)))})}})}unsubscribeFromInstance(e,n,o){var l;e.startsWith("system.adapter.")||(e=`system.adapter.${e}`);let s;const a=[];do{s=!1;const d=(l=this._instanceSubscriptions[e])==null?void 0:l.findIndex(h=>(!n||h.messageType===n)&&(!o||h.callback===o));if(d!=null&&d!==-1){s=!0;const h=this._instanceSubscriptions[e][d].messageType;this._instanceSubscriptions[e].splice(d,1),this._instanceSubscriptions[e].length||delete this._instanceSubscriptions[e],this._instanceSubscriptions[e]&&this._instanceSubscriptions[e].find(p=>p.messageType===h)||a.push(this.request({commandTimeout:!1,executor:(p,u)=>{this._socket.emit("clientUnsubscribe",e,n,(m,g)=>m?u(m):p(g))}}))}}while(s&&(!o||!n));return a.length?Promise.all(a).then(d=>!!d.find(h=>h)):Promise.resolve(!1)}log(e,n){return e?this.request({commandTimeout:!1,executor:o=>(this._socket.emit("log",e,n),o(null))}):Promise.resolve(null)}setStateToIgnore(e){this.ignoreState=e}}function parseCertificate(t,e){if(!e)return;let n;if(e.length<700&&(e.indexOf("/")!==-1||e.indexOf("\\")!==-1))if(t.toLowerCase().includes("private"))n="private";else if(e.toLowerCase().includes("private"))n="private";else if(t.toLowerCase().includes("public"))n="public";else if(e.toLowerCase().includes("public"))n="public";else if(t.toLowerCase().includes("chain"))n="chained";else if(e.toLowerCase().includes("chain"))n="chained";else return;else n=e.substring(0,26)==="-----BEGIN RSA PRIVATE KEY"||e.substring(0,22)==="-----BEGIN PRIVATE KEY"?"private":"public",n==="public"&&e.split("-----END CERTIFICATE-----").filter(s=>s.replace(/\r\n|\r|\n/,"").trim()).length>1&&(n="chained");return{name:t,type:n}}function parseIPAddresses(t){var o,s,a,l;const e=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],n=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if((s=(o=t.native)==null?void 0:o.hardware)!=null&&s.networkInterfaces){const d=(l=(a=t.native)==null?void 0:a.hardware)==null?void 0:l.networkInterfaces;Object.keys(d).forEach(h=>{var _;(_=d[h])==null||_.forEach(p=>{p.family!=="IPv6"?e.push({name:`[${p.family}] ${p.address} - ${h}`,address:p.address,family:"ipv4"}):n.push({name:`[${p.family}] ${p.address} - ${h}`,address:p.address,family:"ipv6"})})})}return{IPs4:e,IPs6:n}}class AdminConnection extends Connection{constructor(e){super(e)}request(e){return super.request({requireAdmin:!0,...e})}getCertificates(e){return this.request({cacheKey:"cert",forceUpdate:e,commandTimeout:!1,executor:async n=>{var s;const o=await this.getObject("system.certificates");(s=o==null?void 0:o.native)!=null&&s.certificates?n(Object.entries(o.native.certificates).map(([a,l])=>parseCertificate(a,l)).filter(a=>!!a)):n([])}})}getLogs(e,n=200){return this.request({commandTimeout:!1,executor:o=>{this._socket.emit("sendToHost",e,"getLogs",n||200,s=>{o(s)})}})}upgradeAdapterWithWebserver(e,n){return this.request({commandTimeout:!1,executor:o=>{this._socket.emit("sendToHost",e,"upgradeAdapterWithWebserver",n,s=>{o(s)})}})}upgradeController(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{this._socket.emit("sendToHost",e,"upgradeController",{version:n,adminInstance:o},l=>{const d=l;d.error?a(d.error):s(d.result)})}})}updateLicenses(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("updateLicenses",e,n,(a,l)=>{a?s(a):o(l)})}})}upgradeOsPackages(e,n,o){return this.request({commandTimeout:!1,executor:s=>{this._socket.emit("sendToHost",e,"upgradeOsPackages",{packages:n,restart:!!o},a=>{s(a)})}})}getLogsFiles(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("readLogs",e,(s,a)=>{s&&o(s),n(a)})}})}delLogs(e){return this.request({commandTimeout:!1,executor:(n,o)=>{this._socket.emit("sendToHost",e,"delLogs",null,s=>{s&&o(s),n()})}})}deleteFile(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("deleteFile",e,n,a=>{a&&s(a),o()})}})}deleteFolder(e,n){return this.request({commandTimeout:!1,executor:(o,s)=>{this._socket.emit("deleteFolder",e,n,a=>{a&&s(a),o()})}})}rename(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{this._socket.emit("rename",e,n,o,l=>{l&&a(l),s()})}})}renameFile(e,n,o){return this.request({commandTimeout:!1,executor:(s,a)=>{this._socket.emit("renameFile",e,n,o,l=>{l&&a(l),s()})}})}getHosts(e){return this.request({cacheKey:"hosts",forceUpdate:e,commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host."},(s,a)=>{s?o(s):n(getObjectViewResultToArray(a))})}})}getUsers(e){return this.request({cacheKey:"users",forceUpdate:e,commandTimeout:!1,executor:(n,o)=>{this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user."},(s,a)=>{s?o(s):n(getObjectViewResultToArray(a))})}})}renameGroup(e,n,o){return this.request({commandTimeout:!1,executor:async s=>{const a=await this.getGroups(!0),l=a.filter(h=>h._id.startsWith(`${e}.`));for(const h of l){const _=h._id,p=n+h._id.substring(e.length);h._id=p,await this.setObject(p,h),await this.delObject(_)}const d=a.find(h=>h._id===e);if(d){const h=d._id;d._id=n,o!==void 0&&(d.common??={},d.common.name=o),await this.setObject(n,d),await this.delObject(h)}s()}})}getHostInfo(e,n,o){return e=normalizeHostId(e),this.request({cacheKey:`hostInfo_${e}`,forceUpdate:n,commandTimeout:o,executor:(s,a,l)=>{this._socket.emit("sendToHost",e,"getHostInfo",null,d=>{l.elapsed||(l.clearTimeout(),d===ERRORS.PERMISSION_ERROR?a('May not read "getHostInfo"'):d?s(d):a('Cannot read "getHostInfo"'))})}})}getHostInfoShort(e,n,o){return e=normalizeHostId(e),this.request({cacheKey:`hostInfoShort_${e}`,forceUpdate:n,commandTimeout:o,executor:(s,a,l)=>{this._socket.emit("sendToHost",e,"getHostInfoShort",null,d=>{l.elapsed||(l.clearTimeout(),d===ERRORS.PERMISSION_ERROR?a('May not read "getHostInfoShort"'):d?s(d):a('Cannot read "getHostInfoShort"'))})}})}getRepository(e,n,o,s){return this.request({cacheKey:`repository_${e}`,forceUpdate:o,commandTimeout:s,executor:(a,l,d)=>{this._socket.emit("sendToHost",e,"getRepository",n,h=>{d.elapsed||(d.clearTimeout(),h===ERRORS.PERMISSION_ERROR?l('May not read "getRepository"'):h?a(h):l('Cannot read "getRepository"'))})}})}getInstalled(e,n,o){return e=normalizeHostId(e),this.request({cacheKey:`installed_${e}`,forceUpdate:n,commandTimeout:o,executor:(s,a,l)=>{this._socket.emit("sendToHost",e,"getInstalled",null,d=>{l.elapsed||(l.clearTimeout(),d===ERRORS.PERMISSION_ERROR?a('May not read "getInstalled"'):d?s(d):a('Cannot read "getInstalled"'))})}})}cmdExec(e,n,o,s){return this.request({commandTimeout:s,executor:(a,l,d)=>{e=normalizeHostId(e),this._socket.emit("cmdExec",e,o,n,h=>{d.elapsed||(d.clearTimeout(),h&&l(h),a())})}})}readBaseSettings(e){return e=objectIdToHostname(e),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(n,o,s)=>{this._socket.emit("sendToHost",e,"readBaseSettings",null,a=>{s.elapsed||(s.clearTimeout(),a===ERRORS.PERMISSION_ERROR?o('May not read "BaseSettings"'):a?a.error?o(new Error(a.error)):n(a):o('Cannot read "BaseSettings"'))})}})}writeBaseSettings(e,n){return e=objectIdToHostname(e),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(o,s,a)=>{this._socket.emit("sendToHost",e,"writeBaseSettings",n,l=>{a.elapsed||(a.clearTimeout(),l===ERRORS.PERMISSION_ERROR?s('May not write "BaseSettings"'):l?o(l):s('Cannot write "BaseSettings"'))})}})}restartController(e){return e=objectIdToHostname(e),this.request({executor:(n,o,s)=>{this._socket.emit("sendToHost",e,"restartController",null,()=>{s.elapsed||(s.clearTimeout(),n(!0))})}})}getDiagData(e,n){return e=objectIdToHostname(e),this.request({executor:(o,s,a)=>{this._socket.emit("sendToHost",e,"getDiagData",n,l=>{a.elapsed||(a.clearTimeout(),o(l||null))})}})}changePassword(e,n){return this.request({executor:(o,s,a)=>{this._socket.emit("changePassword",e,n,l=>{a.elapsed||(a.clearTimeout(),l&&s(l),o())})}})}getIpAddresses(e,n){return e=normalizeHostId(e),this.request({cacheKey:`IPs_${e}`,forceUpdate:n,commandTimeout:!1,executor:async o=>{const s=await this.getObject(e);o((s==null?void 0:s.common.address)??[])}})}getHostByIp(e,n){return e=objectIdToHostname(e),this.request({cacheKey:`rIPs_${e}`,forceUpdate:n,executor:(o,s,a)=>{this._socket.emit("getHostByIp",e,(l,d)=>{if(a.elapsed)return;a.clearTimeout();const{IPs4:h,IPs6:_}=parseIPAddresses(d);o([...h,..._])})}})}encrypt(e){return this.request({executor:(n,o,s)=>{this._socket.emit("encrypt",e,(a,l)=>{s.elapsed||(s.clearTimeout(),a&&o(a),n(l))})}})}decrypt(e){return this.request({executor:(n,o,s)=>{this._socket.emit("decrypt",e,(a,l)=>{s.elapsed||(s.clearTimeout(),a&&o(a),n(l))})}})}chmodFile(e,n,o){return this.request({executor:(s,a,l)=>{this._socket.emit("chmodFile",e,n,o,(d,h)=>{l.elapsed||(l.clearTimeout(),d&&a(d),s(h))})}})}chownFile(e,n,o){return this.request({executor:(s,a,l)=>{this._socket.emit("chownFile",e,n,o,(d,h)=>{l.elapsed||(l.clearTimeout(),d&&a(d),s(h))})}})}getNotifications(e,n){return this.request({executor:(o,s,a)=>{this._socket.emit("sendToHost",e,"getNotifications",{category:n},l=>{a.elapsed||(a.clearTimeout(),o(l))})}})}clearNotifications(e,n){return this.request({executor:(o,s,a)=>{this._socket.emit("sendToHost",e,"clearNotifications",{category:n},l=>{a.elapsed||(a.clearTimeout(),o(l))})}})}getIsEasyModeStrict(){return this.request({executor:(e,n,o)=>{this._socket.emit("getIsEasyModeStrict",(s,a)=>{o.elapsed||(o.clearTimeout(),s&&n(s),e(!!a))})}})}getEasyMode(){return this.request({executor:(e,n,o)=>{this._socket.emit("getEasyMode",(s,a)=>{o.elapsed||(o.clearTimeout(),s?n(new Error(s)):e(a))})}})}getRatings(e){return this.request({executor:(n,o,s)=>{this._socket.emit("getRatings",!!e,(a,l)=>{s.elapsed||(s.clearTimeout(),a?o(new Error(a)):n(l))})}})}getCurrentSession(e){const n=new AbortController;return this.request({commandTimeout:e||5e3,onTimeout:()=>{n.abort()},executor:async(o,s,a)=>{try{const l=await fetch("./session",{signal:n.signal});if(a.elapsed)return;a.clearTimeout();const d=await l.json();o(d)}catch(l){s(`getCurrentSession: ${l}`)}}})}getCurrentInstance(){return this.request({cacheKey:"currentInstance",executor:(e,n,o)=>{this._socket.emit("getCurrentInstance",(s,a)=>{o.elapsed||(o.clearTimeout(),s?n(s):e(a))})}})}getAdapterInstances(e,n){let o;return typeof e=="boolean"?(n=e,o=""):o=e||"",this.request({cacheKey:`instances_${o}`,forceUpdate:n,executor:(s,a,l)=>{this._socket.emit("getAdapterInstances",o,(d,h)=>{l.elapsed||(l.clearTimeout(),d&&a(d),s(h))})}})}getAdapters(e,n){let o;return typeof e=="boolean"?(n=e,o=""):o=e||"",this.request({cacheKey:`adapter_${o}`,forceUpdate:n,executor:(s,a,l)=>{this._socket.emit("getAdapters",o,(d,h)=>{l.elapsed||(l.clearTimeout(),d&&a(d),s(h))})}})}getCompactAdapters(e){return this.request({cacheKey:"compactAdapters",forceUpdate:e,executor:(n,o,s)=>{this._socket.emit("getCompactAdapters",(a,l)=>{s.elapsed||(s.clearTimeout(),a&&o(a),n(l))})}})}getAdaptersResetCache(e){e=e??"",this.resetCache(`adapter_${e}`),this.resetCache("compactAdapters")}getCompactInstances(e){return this.request({cacheKey:"compactInstances",forceUpdate:e,executor:(n,o,s)=>{this._socket.emit("getCompactInstances",(a,l)=>{s.elapsed||(s.clearTimeout(),a&&o(a),n(l))})}})}getAdapterInstancesResetCache(e){e=e??"",this.resetCache(`instances_${e}`),this.resetCache("compactInstances")}getCompactInstalled(e,n,o){return e=normalizeHostId(e),this.request({cacheKey:`installedCompact_${e}`,forceUpdate:n,commandTimeout:o,executor:(s,a,l)=>{this._socket.emit("getCompactInstalled",e,d=>{l.elapsed||(l.clearTimeout(),d===ERRORS.PERMISSION_ERROR?a('May not read "getCompactInstalled"'):d?s(d):a('Cannot read "getCompactInstalled"'))})}})}getInstalledResetCache(e){e?(this.resetCache(`installedCompact_${e}`),this.resetCache(`installed_${e}`)):(this.resetCache("installedCompact_",!0),this.resetCache("installed_",!0))}getCompactRepository(e,n,o){return e=normalizeHostId(e),this.request({cacheKey:`repositoryCompact_${e}`,forceUpdate:n,commandTimeout:o,executor:(s,a,l)=>{this._socket.emit("getCompactRepository",e,d=>{l.elapsed||(l.clearTimeout(),d===ERRORS.PERMISSION_ERROR?a('May not read "getCompactRepository"'):d?s(d):a('Cannot read "getCompactRepository"'))})}})}getRepositoryResetCache(e){e?(this.resetCache(`repositoryCompact_${e}`),this.resetCache(`repository_${e}`)):(this.resetCache("repositoryCompact_",!0),this.resetCache("repository_",!0))}getCompactHosts(e){return this.request({cacheKey:"hostsCompact",forceUpdate:e,executor:(n,o,s)=>{this._socket.emit("getCompactHosts",(a,l)=>{s.elapsed||(s.clearTimeout(),a&&o(a),n(l))})}})}getCompactSystemRepositories(e){return this.request({cacheKey:"repositoriesCompact",forceUpdate:e,executor:(n,o,s)=>{this._socket.emit("getCompactSystemRepositories",(a,l)=>{s.elapsed||(s.clearTimeout(),a&&o(a),n(l))})}})}}const DEBUG_BUILD$2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,GLOBAL_OBJ=globalThis,SDK_VERSION="10.17.0";function getMainCarrier(){return getSentryCarrier(GLOBAL_OBJ),GLOBAL_OBJ}function getSentryCarrier(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||SDK_VERSION,e[SDK_VERSION]=e[SDK_VERSION]||{}}function getGlobalSingleton(t,e,n=GLOBAL_OBJ){const o=n.__SENTRY__=n.__SENTRY__||{},s=o[SDK_VERSION]=o[SDK_VERSION]||{};return s[t]||(s[t]=e())}const CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],PREFIX="Sentry Logger ",originalConsoleMethods={};function consoleSandbox(t){if(!("console"in GLOBAL_OBJ))return t();const e=GLOBAL_OBJ.console,n={},o=Object.keys(originalConsoleMethods);o.forEach(s=>{const a=originalConsoleMethods[s];n[s]=e[s],e[s]=a});try{return t()}finally{o.forEach(s=>{e[s]=n[s]})}}function enable(){_getLoggerSettings().enabled=!0}function disable(){_getLoggerSettings().enabled=!1}function isEnabled(){return _getLoggerSettings().enabled}function log(...t){_maybeLog("log",...t)}function warn(...t){_maybeLog("warn",...t)}function error(...t){_maybeLog("error",...t)}function _maybeLog(t,...e){DEBUG_BUILD$2&&isEnabled()&&consoleSandbox(()=>{GLOBAL_OBJ.console[t](`${PREFIX}[${t}]:`,...e)})}function _getLoggerSettings(){return DEBUG_BUILD$2?getGlobalSingleton("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const debug={enable,disable,isEnabled,log,warn,error},STACKTRACE_FRAME_LIMIT=50,UNKNOWN_FUNCTION="?",WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/,STRIP_FRAME_REGEXP=/captureMessage|captureException/;function createStackParser(...t){const e=t.sort((n,o)=>n[0]-o[0]).map(n=>n[1]);return(n,o=0,s=0)=>{const a=[],l=n.split(`
`);for(let d=o;d<l.length;d++){let h=l[d];h.length>1024&&(h=h.slice(0,1024));const _=WEBPACK_ERROR_REGEXP.test(h)?h.replace(WEBPACK_ERROR_REGEXP,"$1"):h;if(!_.match(/\S*Error: /)){for(const p of e){const u=p(_);if(u){a.push(u);break}}if(a.length>=STACKTRACE_FRAME_LIMIT+s)break}}return stripSentryFramesAndReverse(a.slice(s))}}function stackParserFromStackParserOptions(t){return Array.isArray(t)?createStackParser(...t):t}function stripSentryFramesAndReverse(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(getLastStackFrame(e).function||"")&&e.pop(),e.reverse(),STRIP_FRAME_REGEXP.test(getLastStackFrame(e).function||"")&&(e.pop(),STRIP_FRAME_REGEXP.test(getLastStackFrame(e).function||"")&&e.pop()),e.slice(0,STACKTRACE_FRAME_LIMIT).map(n=>({...n,filename:n.filename||getLastStackFrame(e).filename,function:n.function||UNKNOWN_FUNCTION}))}function getLastStackFrame(t){return t[t.length-1]||{}}const defaultFunctionName="<anonymous>";function getFunctionName(t){try{return!t||typeof t!="function"?defaultFunctionName:t.name||defaultFunctionName}catch{return defaultFunctionName}}function getFramesFromEvent(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(o=>{o.stacktrace.frames&&n.push(...o.stacktrace.frames)}),n}catch{return}}}const handlers$1={},instrumented={};function addHandler(t,e){handlers$1[t]=handlers$1[t]||[],handlers$1[t].push(e)}function maybeInstrument(t,e){if(!instrumented[t]){instrumented[t]=!0;try{e()}catch(n){DEBUG_BUILD$2&&debug.error(`Error while instrumenting ${t}`,n)}}}function triggerHandlers(t,e){const n=t&&handlers$1[t];if(n)for(const o of n)try{o(e)}catch(s){DEBUG_BUILD$2&&debug.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${getFunctionName(o)}
Error:`,s)}}let _oldOnErrorHandler=null;function addGlobalErrorInstrumentationHandler(t){const e="error";addHandler(e,t),maybeInstrument(e,instrumentError)}function instrumentError(){_oldOnErrorHandler=GLOBAL_OBJ.onerror,GLOBAL_OBJ.onerror=function(t,e,n,o,s){return triggerHandlers("error",{column:o,error:s,line:n,msg:t,url:e}),_oldOnErrorHandler?_oldOnErrorHandler.apply(this,arguments):!1},GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let _oldOnUnhandledRejectionHandler=null;function addGlobalUnhandledRejectionInstrumentationHandler(t){const e="unhandledrejection";addHandler(e,t),maybeInstrument(e,instrumentUnhandledRejection)}function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=GLOBAL_OBJ.onunhandledrejection,GLOBAL_OBJ.onunhandledrejection=function(t){return triggerHandlers("unhandledrejection",t),_oldOnUnhandledRejectionHandler?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0},GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const objectToString$4=Object.prototype.toString;function isError(t){switch(objectToString$4.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return isInstanceOf(t,Error)}}function isBuiltin(t,e){return objectToString$4.call(t)===`[object ${e}]`}function isErrorEvent$1(t){return isBuiltin(t,"ErrorEvent")}function isDOMError(t){return isBuiltin(t,"DOMError")}function isDOMException(t){return isBuiltin(t,"DOMException")}function isString$1(t){return isBuiltin(t,"String")}function isParameterizedString(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function isPrimitive(t){return t===null||isParameterizedString(t)||typeof t!="object"&&typeof t!="function"}function isPlainObject$3(t){return isBuiltin(t,"Object")}function isEvent(t){return typeof Event<"u"&&isInstanceOf(t,Event)}function isElement(t){return typeof Element<"u"&&isInstanceOf(t,Element)}function isRegExp(t){return isBuiltin(t,"RegExp")}function isThenable(t){return!!(t!=null&&t.then&&typeof t.then=="function")}function isSyntheticEvent(t){return isPlainObject$3(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function isInstanceOf(t,e){try{return t instanceof e}catch{return!1}}function isVueViewModel(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function isRequest(t){return typeof Request<"u"&&isInstanceOf(t,Request)}const WINDOW$4=GLOBAL_OBJ,DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString(t,e={}){if(!t)return"<unknown>";try{let n=t;const o=5,s=[];let a=0,l=0;const d=" > ",h=d.length;let _;const p=Array.isArray(e)?e:e.keyAttrs,u=!Array.isArray(e)&&e.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;n&&a++<o&&(_=_htmlElementAsString(n,p),!(_==="html"||a>1&&l+s.length*h+_.length>=u));)s.push(_),l+=_.length,n=n.parentNode;return s.reverse().join(d)}catch{return"<unknown>"}}function _htmlElementAsString(t,e){const n=t,o=[];if(!(n!=null&&n.tagName))return"";if(WINDOW$4.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}o.push(n.tagName.toLowerCase());const s=e!=null&&e.length?e.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(s!=null&&s.length)s.forEach(l=>{o.push(`[${l[0]}="${l[1]}"]`)});else{n.id&&o.push(`#${n.id}`);const l=n.className;if(l&&isString$1(l)){const d=l.split(/\s+/);for(const h of d)o.push(`.${h}`)}}const a=["aria-label","type","name","title","alt"];for(const l of a){const d=n.getAttribute(l);d&&o.push(`[${l}="${d}"]`)}return o.join("")}function getLocationHref(){try{return WINDOW$4.document.location.href}catch{return""}}function getComponentName(t){if(!WINDOW$4.HTMLElement)return null;let e=t;const n=5;for(let o=0;o<n;o++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function truncate(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function safeJoin(t,e){if(!Array.isArray(t))return"";const n=[];for(let o=0;o<t.length;o++){const s=t[o];try{isVueViewModel(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function isMatchingPattern(t,e,n=!1){return isString$1(t)?isRegExp(e)?e.test(t):isString$1(e)?n?t===e:t.includes(e):!1:!1}function stringMatchesSomePattern(t,e=[],n=!1){return e.some(o=>isMatchingPattern(t,o,n))}function fill(t,e,n){if(!(e in t))return;const o=t[e];if(typeof o!="function")return;const s=n(o);typeof s=="function"&&markFunctionWrapped(s,o);try{t[e]=s}catch{DEBUG_BUILD$2&&debug.log(`Failed to replace method "${e}" in object`,t)}}function addNonEnumerableProperty(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{DEBUG_BUILD$2&&debug.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function markFunctionWrapped(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,addNonEnumerableProperty(t,"__sentry_original__",e)}catch{}}function getOriginalFunction(t){return t.__sentry_original__}function convertToPlainObject(t){if(isError(t))return{message:t.message,name:t.name,stack:t.stack,...getOwnProperties(t)};if(isEvent(t)){const e={type:t.type,target:serializeEventTarget(t.target),currentTarget:serializeEventTarget(t.currentTarget),...getOwnProperties(t)};return typeof CustomEvent<"u"&&isInstanceOf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function serializeEventTarget(t){try{return isElement(t)?htmlTreeAsString(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function getOwnProperties(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function extractExceptionKeysForMessage(t,e=40){const n=Object.keys(convertToPlainObject(t));n.sort();const o=n[0];if(!o)return"[object has no keys]";if(o.length>=e)return truncate(o,e);for(let s=n.length;s>0;s--){const a=n.slice(0,s).join(", ");if(!(a.length>e))return s===n.length?a:truncate(a,e)}return""}function getCrypto(){const t=GLOBAL_OBJ;return t.crypto||t.msCrypto}function uuid4(t=getCrypto()){let e=()=>Math.random()*16;try{if(t!=null&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t!=null&&t.getRandomValues&&(e=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(e()&15)>>n/4).toString(16))}function getFirstException(t){var e,n;return(n=(e=t.exception)==null?void 0:e.values)==null?void 0:n[0]}function getEventDescription(t){const{message:e,event_id:n}=t;if(e)return e;const o=getFirstException(t);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function addExceptionTypeValue(t,e,n){const o=t.exception=t.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{};a.value||(a.value=e||""),a.type||(a.type="Error")}function addExceptionMechanism(t,e){const n=getFirstException(t);if(!n)return;const o={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...o,...s,...e},e&&"data"in e){const a={...s==null?void 0:s.data,...e.data};n.mechanism.data=a}}function checkOrSetAlreadyCaught(t){if(isAlreadyCaptured(t))return!0;try{addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch{}return!1}function isAlreadyCaptured(t){try{return t.__sentry_captured__}catch{}}const ONE_SECOND_IN_MS=1e3;function dateTimestampInSeconds(){return Date.now()/ONE_SECOND_IN_MS}function createUnixTimestampInSecondsFunc(){const{performance:t}=GLOBAL_OBJ;if(!(t!=null&&t.now)||!t.timeOrigin)return dateTimestampInSeconds;const e=t.timeOrigin;return()=>(e+t.now())/ONE_SECOND_IN_MS}let _cachedTimestampInSeconds;function timestampInSeconds(){return(_cachedTimestampInSeconds??(_cachedTimestampInSeconds=createUnixTimestampInSecondsFunc()))()}function makeSession(t){const e=timestampInSeconds(),n={sid:uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sessionToJSON(n)};return t&&updateSession(n,t),n}function updateSession(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||timestampInSeconds(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:uuid4()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function closeSession(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),updateSession(t,n)}function sessionToJSON(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function merge$1(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const o={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=merge$1(o[s],e[s],n-1));return o}function generateTraceId(){return uuid4()}function generateSpanId(){return uuid4().substring(16)}const SCOPE_SPAN_FIELD="_sentrySpan";function _setSpanForScope(t,e){e?addNonEnumerableProperty(t,SCOPE_SPAN_FIELD,e):delete t[SCOPE_SPAN_FIELD]}function _getSpanForScope(t){return t[SCOPE_SPAN_FIELD]}const DEFAULT_MAX_BREADCRUMBS=100;class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:generateTraceId(),sampleRand:Math.random()}}clone(){const e=new Scope;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,_setSpanForScope(e,_getSpanForScope(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,o=n instanceof Scope?n.getScopeData():isPlainObject$3(n)?e:void 0,{tags:s,extra:a,user:l,contexts:d,level:h,fingerprint:_=[],propagationContext:p}=o||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...d},l&&Object.keys(l).length&&(this._user=l),h&&(this._level=h),_.length&&(this._fingerprint=_),p&&(this._propagationContext=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,_setSpanForScope(this,void 0),this._attachments=[],this.setPropagationContext({traceId:generateTraceId(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){var a;const o=typeof n=="number"?n:DEFAULT_MAX_BREADCRUMBS;if(o<=0)return this;const s={timestamp:dateTimestampInSeconds(),...e,message:e.message?truncate(e.message,2048):e.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>o&&(this._breadcrumbs=this._breadcrumbs.slice(-o),(a=this._client)==null||a.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_getSpanForScope(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=merge$1(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const o=(n==null?void 0:n.event_id)||uuid4();if(!this._client)return DEBUG_BUILD$2&&debug.warn("No client configured on scope - will not capture exception!"),o;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:o},this),o}captureMessage(e,n,o){const s=(o==null?void 0:o.event_id)||uuid4();if(!this._client)return DEBUG_BUILD$2&&debug.warn("No client configured on scope - will not capture message!"),s;const a=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:a,...o,event_id:s},this),s}captureEvent(e,n){const o=(n==null?void 0:n.event_id)||uuid4();return this._client?(this._client.captureEvent(e,{...n,event_id:o},this),o):(DEBUG_BUILD$2&&debug.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function getDefaultCurrentScope(){return getGlobalSingleton("defaultCurrentScope",()=>new Scope)}function getDefaultIsolationScope(){return getGlobalSingleton("defaultIsolationScope",()=>new Scope)}class AsyncContextStack{constructor(e,n){let o;e?o=e:o=new Scope;let s;n?s=n:s=new Scope,this._stack=[{scope:o}],this._isolationScope=s}withScope(e){const n=this._pushScope();let o;try{o=e(n)}catch(s){throw this._popScope(),s}return isThenable(o)?o.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function getAsyncContextStack(){const t=getMainCarrier(),e=getSentryCarrier(t);return e.stack=e.stack||new AsyncContextStack(getDefaultCurrentScope(),getDefaultIsolationScope())}function withScope$1(t){return getAsyncContextStack().withScope(t)}function withSetScope(t,e){const n=getAsyncContextStack();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function withIsolationScope(t){return getAsyncContextStack().withScope(()=>t(getAsyncContextStack().getIsolationScope()))}function getStackAsyncContextStrategy(){return{withIsolationScope,withScope:withScope$1,withSetScope,withSetIsolationScope:(t,e)=>withIsolationScope(e),getCurrentScope:()=>getAsyncContextStack().getScope(),getIsolationScope:()=>getAsyncContextStack().getIsolationScope()}}function getAsyncContextStrategy(t){const e=getSentryCarrier(t);return e.acs?e.acs:getStackAsyncContextStrategy()}function getCurrentScope(){const t=getMainCarrier();return getAsyncContextStrategy(t).getCurrentScope()}function getIsolationScope(){const t=getMainCarrier();return getAsyncContextStrategy(t).getIsolationScope()}function getGlobalScope(){return getGlobalSingleton("globalScope",()=>new Scope)}function withScope(...t){const e=getMainCarrier(),n=getAsyncContextStrategy(e);if(t.length===2){const[o,s]=t;return o?n.withSetScope(o,s):n.withScope(s)}return n.withScope(t[0])}function getClient(){return getCurrentScope().getClient()}function getTraceContextFromScope(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:o,propagationSpanId:s}=e,a={trace_id:n,span_id:s||generateSpanId()};return o&&(a.parent_span_id=o),a}const SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE="sentry.previous_trace_sample_rate",SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",SEMANTIC_ATTRIBUTE_PROFILE_ID="sentry.profile_id",SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME="sentry.exclusive_time",SPAN_STATUS_UNSET=0,SPAN_STATUS_OK=1,SCOPE_ON_START_SPAN_FIELD="_sentryScope",ISOLATION_SCOPE_ON_START_SPAN_FIELD="_sentryIsolationScope";function unwrapScopeFromWeakRef(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function getCapturedScopesOnSpan(t){const e=t;return{scope:e[SCOPE_ON_START_SPAN_FIELD],isolationScope:unwrapScopeFromWeakRef(e[ISOLATION_SCOPE_ON_START_SPAN_FIELD])}}const SENTRY_BAGGAGE_KEY_PREFIX="sentry-",SENTRY_BAGGAGE_KEY_PREFIX_REGEX=/^sentry-/;function baggageHeaderToDynamicSamplingContext(t){const e=parseBaggageHeader(t);if(!e)return;const n=Object.entries(e).reduce((o,[s,a])=>{if(s.match(SENTRY_BAGGAGE_KEY_PREFIX_REGEX)){const l=s.slice(SENTRY_BAGGAGE_KEY_PREFIX.length);o[l]=a}return o},{});if(Object.keys(n).length>0)return n}function parseBaggageHeader(t){if(!(!t||!isString$1(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const o=baggageHeaderToObject(n);return Object.entries(o).forEach(([s,a])=>{e[s]=a}),e},{}):baggageHeaderToObject(t)}function baggageHeaderToObject(t){return t.split(",").map(e=>e.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((e,[n,o])=>(n&&o&&(e[n]=o),e),{})}const ORG_ID_REGEX=/^o(\d+)\./,DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(t){return t==="http"||t==="https"}function dsnToString(t,e=!1){const{host:n,path:o,pass:s,port:a,projectId:l,protocol:d,publicKey:h}=t;return`${d}://${h}${e&&s?`:${s}`:""}@${n}${a?`:${a}`:""}/${o&&`${o}/`}${l}`}function dsnFromString(t){const e=DSN_REGEX.exec(t);if(!e){consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,o,s="",a="",l="",d=""]=e.slice(1);let h="",_=d;const p=_.split("/");if(p.length>1&&(h=p.slice(0,-1).join("/"),_=p.pop()),_){const u=_.match(/^\d+/);u&&(_=u[0])}return dsnFromComponents({host:a,pass:s,path:h,projectId:_,port:l,protocol:n,publicKey:o})}function dsnFromComponents(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function validateDsn(t){if(!DEBUG_BUILD$2)return!0;const{port:e,projectId:n,protocol:o}=t;return["protocol","publicKey","host","projectId"].find(l=>t[l]?!1:(debug.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:n.match(/^\d+$/)?isValidProtocol(o)?e&&isNaN(parseInt(e,10))?(debug.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(debug.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(debug.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function extractOrgIdFromDsnHost(t){const e=t.match(ORG_ID_REGEX);return e==null?void 0:e[1]}function extractOrgIdFromClient(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let o;return e.orgId?o=String(e.orgId):n&&(o=extractOrgIdFromDsnHost(n)),o}function makeDsn(t){const e=typeof t=="string"?dsnFromString(t):dsnFromComponents(t);if(!(!e||!validateDsn(e)))return e}function parseSampleRate(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const TRACE_FLAG_SAMPLED=1;let hasShownSpanDropWarning=!1;function spanToTraceContext(t){const{spanId:e,traceId:n,isRemote:o}=t.spanContext(),s=o?e:spanToJSON(t).parent_span_id,a=getCapturedScopesOnSpan(t).scope,l=o?(a==null?void 0:a.getPropagationContext().propagationSpanId)||generateSpanId():e;return{parent_span_id:s,span_id:l,trace_id:n}}function convertSpanLinksForEnvelope(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:o,...s},attributes:a})=>({span_id:e,trace_id:n,sampled:o===TRACE_FLAG_SAMPLED,attributes:a,...s}))}function spanTimeInputToSeconds(t){return typeof t=="number"?ensureTimestampInSeconds(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?ensureTimestampInSeconds(t.getTime()):timestampInSeconds()}function ensureTimestampInSeconds(t){return t>9999999999?t/1e3:t}function spanToJSON(t){var o;if(spanIsSentrySpan(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(spanIsOpenTelemetrySdkTraceBaseSpan(t)){const{attributes:s,startTime:a,name:l,endTime:d,status:h,links:_}=t,p="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?(o=t.parentSpanContext)==null?void 0:o.spanId:void 0;return{span_id:e,trace_id:n,data:s,description:l,parent_span_id:p,start_timestamp:spanTimeInputToSeconds(a),timestamp:spanTimeInputToSeconds(d)||void 0,status:getStatusMessage(h),op:s[SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:s[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],links:convertSpanLinksForEnvelope(_)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function spanIsOpenTelemetrySdkTraceBaseSpan(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function spanIsSentrySpan(t){return typeof t.getSpanJSON=="function"}function spanIsSampled(t){const{traceFlags:e}=t.spanContext();return e===TRACE_FLAG_SAMPLED}function getStatusMessage(t){if(!(!t||t.code===SPAN_STATUS_UNSET))return t.code===SPAN_STATUS_OK?"ok":t.message||"unknown_error"}const ROOT_SPAN_FIELD="_sentryRootSpan";function getRootSpan(t){return t[ROOT_SPAN_FIELD]||t}function showSpanDropWarning(){hasShownSpanDropWarning||(consoleSandbox(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),hasShownSpanDropWarning=!0)}function hasSpansEnabled(t){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=(n=getClient())==null?void 0:n.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function logIgnoredSpan(t){debug.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function shouldIgnoreSpan(t,e){if(!(e!=null&&e.length)||!t.description)return!1;for(const n of e){if(isStringOrRegExp(n)){if(isMatchingPattern(t.description,n))return DEBUG_BUILD$2&&logIgnoredSpan(t),!0;continue}if(!n.name&&!n.op)continue;const o=n.name?isMatchingPattern(t.description,n.name):!0,s=n.op?t.op&&isMatchingPattern(t.op,n.op):!0;if(o&&s)return DEBUG_BUILD$2&&logIgnoredSpan(t),!0}return!1}function reparentChildSpans(t,e){const n=e.parent_span_id,o=e.span_id;if(n)for(const s of t)s.parent_span_id===o&&(s.parent_span_id=n)}function isStringOrRegExp(t){return typeof t=="string"||t instanceof RegExp}const DEFAULT_ENVIRONMENT="production",FROZEN_DSC_FIELD="_frozenDsc";function getDynamicSamplingContextFromClient(t,e){const n=e.getOptions(),{publicKey:o}=e.getDsn()||{},s={environment:n.environment||DEFAULT_ENVIRONMENT,release:n.release,public_key:o,trace_id:t,org_id:extractOrgIdFromClient(e)};return e.emit("createDsc",s),s}function getDynamicSamplingContextFromScope(t,e){const n=e.getPropagationContext();return n.dsc||getDynamicSamplingContextFromClient(n.traceId,t)}function getDynamicSamplingContextFromSpan(t){var y;const e=getClient();if(!e)return{};const n=getRootSpan(t),o=spanToJSON(n),s=o.data,a=n.spanContext().traceState,l=(a==null?void 0:a.get("sentry.sample_rate"))??s[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]??s[SEMANTIC_ATTRIBUTE_SENTRY_PREVIOUS_TRACE_SAMPLE_RATE];function d(v){return(typeof l=="number"||typeof l=="string")&&(v.sample_rate=`${l}`),v}const h=n[FROZEN_DSC_FIELD];if(h)return d(h);const _=a==null?void 0:a.get("sentry.dsc"),p=_&&baggageHeaderToDynamicSamplingContext(_);if(p)return d(p);const u=getDynamicSamplingContextFromClient(t.spanContext().traceId,e),m=s[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],g=o.description;return m!=="url"&&g&&(u.transaction=g),hasSpansEnabled()&&(u.sampled=String(spanIsSampled(n)),u.sample_rand=(a==null?void 0:a.get("sentry.sample_rand"))??((y=getCapturedScopesOnSpan(n).scope)==null?void 0:y.getPropagationContext().sampleRand.toString())),d(u),e.emit("createDsc",u,n),u}function normalize(t,e=100,n=1/0){try{return visit("",t,e,n)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function normalizeToSize(t,e=3,n=100*1024){const o=normalize(t,e);return jsonSize(o)>n?normalizeToSize(t,e-1,n):o}function visit(t,e,n=1/0,o=1/0,s=memoBuilder()){const[a,l]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=stringifyValue(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const h=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(h===0)return d.replace("object ","");if(a(e))return"[Circular ~]";const _=e;if(_&&typeof _.toJSON=="function")try{const g=_.toJSON();return visit("",g,h-1,o,s)}catch{}const p=Array.isArray(e)?[]:{};let u=0;const m=convertToPlainObject(e);for(const g in m){if(!Object.prototype.hasOwnProperty.call(m,g))continue;if(u>=o){p[g]="[MaxProperties ~]";break}const y=m[g];p[g]=visit(g,y,h-1,o,s),u++}return l(e),p}function stringifyValue(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(isVueViewModel(e))return"[VueViewModel]";if(isSyntheticEvent(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${getFunctionName(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=getConstructorName(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function getConstructorName(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}function jsonSize(t){return utf8Length(JSON.stringify(t))}function memoBuilder(){const t=new WeakSet;function e(o){return t.has(o)?!0:(t.add(o),!1)}function n(o){t.delete(o)}return[e,n]}function createEnvelope(t,e=[]){return[t,e]}function addItemToEnvelope(t,e){const[n,o]=t;return[n,[...o,e]]}function forEachEnvelopeItem(t,e){const n=t[1];for(const o of n){const s=o[0].type;if(e(o,s))return!0}return!1}function encodeUTF8(t){const e=getSentryCarrier(GLOBAL_OBJ);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function serializeEnvelope(t){const[e,n]=t;let o=JSON.stringify(e);function s(a){typeof o=="string"?o=typeof a=="string"?o+a:[encodeUTF8(o),a]:o.push(typeof a=="string"?encodeUTF8(a):a)}for(const a of n){const[l,d]=a;if(s(`
${JSON.stringify(l)}
`),typeof d=="string"||d instanceof Uint8Array)s(d);else{let h;try{h=JSON.stringify(d)}catch{h=JSON.stringify(normalize(d))}s(h)}}return typeof o=="string"?o:concatBuffers(o)}function concatBuffers(t){const e=t.reduce((s,a)=>s+a.length,0),n=new Uint8Array(e);let o=0;for(const s of t)n.set(s,o),o+=s.length;return n}function createAttachmentEnvelopeItem(t){const e=typeof t.data=="string"?encodeUTF8(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function envelopeItemTypeToDataCategory(t){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[t]}function getSdkMetadataForEnvelopeHeader(t){if(!(t!=null&&t.sdk))return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function createEventEnvelopeHeaders(t,e,n,o){var a;const s=(a=t.sdkProcessingMetadata)==null?void 0:a.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&o&&{dsn:dsnToString(o)},...s&&{trace:s}}}function _enhanceEventWithSdkInfo(t,e){var o,s,a,l;if(!e)return t;const n=t.sdk||{};return t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...((o=t.sdk)==null?void 0:o.integrations)||[],...e.integrations||[]],packages:[...((s=t.sdk)==null?void 0:s.packages)||[],...e.packages||[]],settings:(a=t.sdk)!=null&&a.settings||e.settings?{...(l=t.sdk)==null?void 0:l.settings,...e.settings}:void 0},t}function createSessionEnvelope(t,e,n,o){const s=getSdkMetadataForEnvelopeHeader(n),a={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!o&&e&&{dsn:dsnToString(e)}},l="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return createEnvelope(a,[l])}function createEventEnvelope(t,e,n,o){const s=getSdkMetadataForEnvelopeHeader(n),a=t.type&&t.type!=="replay_event"?t.type:"event";_enhanceEventWithSdkInfo(t,n==null?void 0:n.sdk);const l=createEventEnvelopeHeaders(t,s,o,e);return delete t.sdkProcessingMetadata,createEnvelope(l,[[{type:a},t]])}const STATE_PENDING=0,STATE_RESOLVED=1,STATE_REJECTED=2;function resolvedSyncPromise(t){return new SyncPromise(e=>{e(t)})}function rejectedSyncPromise(t){return new SyncPromise((e,n)=>{n(t)})}class SyncPromise{constructor(e){this._state=STATE_PENDING,this._handlers=[],this._runExecutor(e)}then(e,n){return new SyncPromise((o,s)=>{this._handlers.push([!1,a=>{if(!e)o(a);else try{o(e(a))}catch(l){s(l)}},a=>{if(!n)s(a);else try{o(n(a))}catch(l){s(l)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new SyncPromise((n,o)=>{let s,a;return this.then(l=>{a=!1,s=l,e&&e()},l=>{a=!0,s=l,e&&e()}).then(()=>{if(a){o(s);return}n(s)})})}_executeHandlers(){if(this._state===STATE_PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===STATE_RESOLVED&&n[1](this._value),this._state===STATE_REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=(a,l)=>{if(this._state===STATE_PENDING){if(isThenable(l)){l.then(o,s);return}this._state=a,this._value=l,this._executeHandlers()}},o=a=>{n(STATE_RESOLVED,a)},s=a=>{n(STATE_REJECTED,a)};try{e(o,s)}catch(a){s(a)}}}function notifyEventProcessors(t,e,n,o=0){try{const s=_notifyEventProcessors(e,n,t,o);return isThenable(s)?s:resolvedSyncPromise(s)}catch(s){return rejectedSyncPromise(s)}}function _notifyEventProcessors(t,e,n,o){const s=n[o];if(!t||!s)return t;const a=s({...t},e);return DEBUG_BUILD$2&&a===null&&debug.log(`Event processor "${s.id||"?"}" dropped event`),isThenable(a)?a.then(l=>_notifyEventProcessors(l,e,n,o+1)):_notifyEventProcessors(a,e,n,o+1)}function applyScopeDataToEvent(t,e){const{fingerprint:n,span:o,breadcrumbs:s,sdkProcessingMetadata:a}=e;applyDataToEvent(t,e),o&&applySpanToEvent(t,o),applyFingerprintToEvent(t,n),applyBreadcrumbsToEvent(t,s),applySdkMetadataToEvent(t,a)}function mergeScopeData(t,e){const{extra:n,tags:o,user:s,contexts:a,level:l,sdkProcessingMetadata:d,breadcrumbs:h,fingerprint:_,eventProcessors:p,attachments:u,propagationContext:m,transactionName:g,span:y}=e;mergeAndOverwriteScopeData(t,"extra",n),mergeAndOverwriteScopeData(t,"tags",o),mergeAndOverwriteScopeData(t,"user",s),mergeAndOverwriteScopeData(t,"contexts",a),t.sdkProcessingMetadata=merge$1(t.sdkProcessingMetadata,d,2),l&&(t.level=l),g&&(t.transactionName=g),y&&(t.span=y),h.length&&(t.breadcrumbs=[...t.breadcrumbs,...h]),_.length&&(t.fingerprint=[...t.fingerprint,..._]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),u.length&&(t.attachments=[...t.attachments,...u]),t.propagationContext={...t.propagationContext,...m}}function mergeAndOverwriteScopeData(t,e,n){t[e]=merge$1(t[e],n,1)}function applyDataToEvent(t,e){const{extra:n,tags:o,user:s,contexts:a,level:l,transactionName:d}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(o).length&&(t.tags={...o,...t.tags}),Object.keys(s).length&&(t.user={...s,...t.user}),Object.keys(a).length&&(t.contexts={...a,...t.contexts}),l&&(t.level=l),d&&t.type!=="transaction"&&(t.transaction=d)}function applyBreadcrumbsToEvent(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function applySdkMetadataToEvent(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function applySpanToEvent(t,e){t.contexts={trace:spanToTraceContext(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:getDynamicSamplingContextFromSpan(e),...t.sdkProcessingMetadata};const n=getRootSpan(e),o=spanToJSON(n).description;o&&!t.transaction&&t.type==="transaction"&&(t.transaction=o)}function applyFingerprintToEvent(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let parsedStackResults,lastKeysCount,cachedFilenameDebugIds;function getFilenameToDebugIdMap(t){const e=GLOBAL_OBJ._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return cachedFilenameDebugIds&&n.length===lastKeysCount||(lastKeysCount=n.length,cachedFilenameDebugIds=n.reduce((o,s)=>{parsedStackResults||(parsedStackResults={});const a=parsedStackResults[s];if(a)o[a[0]]=a[1];else{const l=t(s);for(let d=l.length-1;d>=0;d--){const h=l[d],_=h==null?void 0:h.filename,p=e[s];if(_&&p){o[_]=p,parsedStackResults[s]=[_,p];break}}}return o},{})),cachedFilenameDebugIds}function prepareEvent(t,e,n,o,s,a){const{normalizeDepth:l=3,normalizeMaxBreadth:d=1e3}=t,h={...e,event_id:e.event_id||n.event_id||uuid4(),timestamp:e.timestamp||dateTimestampInSeconds()},_=n.integrations||t.integrations.map(S=>S.name);applyClientOptions(h,t),applyIntegrationsMetadata(h,_),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&applyDebugIds(h,t.stackParser);const p=getFinalScope(o,n.captureContext);n.mechanism&&addExceptionMechanism(h,n.mechanism);const u=s?s.getEventProcessors():[],m=getGlobalScope().getScopeData();if(a){const S=a.getScopeData();mergeScopeData(m,S)}if(p){const S=p.getScopeData();mergeScopeData(m,S)}const g=[...n.attachments||[],...m.attachments];g.length&&(n.attachments=g),applyScopeDataToEvent(h,m);const y=[...u,...m.eventProcessors];return notifyEventProcessors(y,h,n).then(S=>(S&&applyDebugMeta(S),typeof l=="number"&&l>0?normalizeEvent(S,l,d):S))}function applyClientOptions(t,e){const{environment:n,release:o,dist:s,maxValueLength:a=250}=e;t.environment=t.environment||n||DEFAULT_ENVIRONMENT,!t.release&&o&&(t.release=o),!t.dist&&s&&(t.dist=s);const l=t.request;l!=null&&l.url&&(l.url=truncate(l.url,a))}function applyDebugIds(t,e){var o,s;const n=getFilenameToDebugIdMap(e);(s=(o=t.exception)==null?void 0:o.values)==null||s.forEach(a=>{var l,d;(d=(l=a.stacktrace)==null?void 0:l.frames)==null||d.forEach(h=>{h.filename&&(h.debug_id=n[h.filename])})})}function applyDebugMeta(t){var o,s;const e={};if((s=(o=t.exception)==null?void 0:o.values)==null||s.forEach(a=>{var l,d;(d=(l=a.stacktrace)==null?void 0:l.frames)==null||d.forEach(h=>{h.debug_id&&(h.abs_path?e[h.abs_path]=h.debug_id:h.filename&&(e[h.filename]=h.debug_id),delete h.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([a,l])=>{n.push({type:"sourcemap",code_file:a,debug_id:l})})}function applyIntegrationsMetadata(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function normalizeEvent(t,e,n){var s,a;if(!t)return null;const o={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(l=>({...l,...l.data&&{data:normalize(l.data,e,n)}}))},...t.user&&{user:normalize(t.user,e,n)},...t.contexts&&{contexts:normalize(t.contexts,e,n)},...t.extra&&{extra:normalize(t.extra,e,n)}};return(s=t.contexts)!=null&&s.trace&&o.contexts&&(o.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(o.contexts.trace.data=normalize(t.contexts.trace.data,e,n))),t.spans&&(o.spans=t.spans.map(l=>({...l,...l.data&&{data:normalize(l.data,e,n)}}))),(a=t.contexts)!=null&&a.flags&&o.contexts&&(o.contexts.flags=normalize(t.contexts.flags,3,n)),o}function getFinalScope(t,e){if(!e)return t;const n=t?t.clone():new Scope;return n.update(e),n}function parseEventHintOrCaptureContext(t){}function captureException(t,e){return getCurrentScope().captureException(t,void 0)}function captureEvent(t,e){return getCurrentScope().captureEvent(t,e)}function startSession(t){const e=getIsolationScope(),n=getCurrentScope(),{userAgent:o}=GLOBAL_OBJ.navigator||{},s=makeSession({user:n.getUser()||e.getUser(),...o&&{userAgent:o},...t}),a=e.getSession();return(a==null?void 0:a.status)==="ok"&&updateSession(a,{status:"exited"}),endSession(),e.setSession(s),s}function endSession(){const t=getIsolationScope(),n=getCurrentScope().getSession()||t.getSession();n&&closeSession(n),_sendSessionUpdate(),t.setSession()}function _sendSessionUpdate(){const t=getIsolationScope(),e=getClient(),n=t.getSession();n&&e&&e.captureSession(n)}function captureSession(t=!1){if(t){endSession();return}_sendSessionUpdate()}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function _getIngestEndpoint(t){return`${getBaseApiEndpoint(t)}${t.projectId}/envelope/`}function _encodedAuth(t,e){const n={sentry_version:SENTRY_API_VERSION};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}function getEnvelopeEndpointWithUrlEncodedAuth(t,e,n){return e||`${_getIngestEndpoint(t)}?${_encodedAuth(t,n)}`}const installedIntegrations=[];function filterDuplicates(t){const e={};return t.forEach(n=>{const{name:o}=n,s=e[o];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[o]=n)}),Object.values(e)}function getIntegrationsToSetup(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let o;if(Array.isArray(n))o=[...e,...n];else if(typeof n=="function"){const s=n(e);o=Array.isArray(s)?s:[s]}else o=e;return filterDuplicates(o)}function setupIntegrations(t,e){const n={};return e.forEach(o=>{o&&setupIntegration(t,o,n)}),n}function afterSetupIntegrations(t,e){for(const n of e)n!=null&&n.afterAllSetup&&n.afterAllSetup(t)}function setupIntegration(t,e,n){if(n[e.name]){DEBUG_BUILD$2&&debug.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,installedIntegrations.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),installedIntegrations.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const o=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,a)=>o(s,a,t))}if(typeof e.processEvent=="function"){const o=e.processEvent.bind(e),s=Object.assign((a,l)=>o(a,l,t),{id:e.name});t.addEventProcessor(s)}DEBUG_BUILD$2&&debug.log(`Integration installed: ${e.name}`)}function defineIntegration(t){return t}function createClientReportEnvelope(t,e,n){const o=[{type:"client_report"},{timestamp:dateTimestampInSeconds(),discarded_events:t}];return createEnvelope(e?{dsn:e}:{},[o])}function getPossibleEventMessages(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n!=null&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function convertTransactionEventToSpanJson(t){var h;const{trace_id:e,parent_span_id:n,span_id:o,status:s,origin:a,data:l,op:d}=((h=t.contexts)==null?void 0:h.trace)??{};return{data:l??{},description:t.transaction,op:d,parent_span_id:n,span_id:o??"",start_timestamp:t.start_timestamp??0,status:s,timestamp:t.timestamp,trace_id:e??"",origin:a,profile_id:l==null?void 0:l[SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:l==null?void 0:l[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:t.measurements,is_segment:!0}}function convertSpanJsonToTransactionEvent(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[SEMANTIC_ATTRIBUTE_PROFILE_ID]:t.profile_id},...t.exclusive_time&&{[SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:t.exclusive_time}}}},measurements:t.measurements}}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.",MISSING_RELEASE_FOR_SESSION_ERROR="Discarded session because of missing or non-string release",INTERNAL_ERROR_SYMBOL=Symbol.for("SentryInternalError"),DO_NOT_SEND_EVENT_SYMBOL=Symbol.for("SentryDoNotSendEventError");function _makeInternalError(t){return{message:t,[INTERNAL_ERROR_SYMBOL]:!0}}function _makeDoNotSendEventError(t){return{message:t,[DO_NOT_SEND_EVENT_SYMBOL]:!0}}function _isInternalError(t){return!!t&&typeof t=="object"&&INTERNAL_ERROR_SYMBOL in t}function _isDoNotSendEventError(t){return!!t&&typeof t=="object"&&DO_NOT_SEND_EVENT_SYMBOL in t}class Client{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=makeDsn(e.dsn):DEBUG_BUILD$2&&debug.warn("No DSN provided, client will not send events."),this._dsn){const n=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,o){const s=uuid4();if(checkOrSetAlreadyCaught(e))return DEBUG_BUILD$2&&debug.log(ALREADY_SEEN_ERROR),s;const a={event_id:s,...n};return this._process(this.eventFromException(e,a).then(l=>this._captureEvent(l,a,o))),a.event_id}captureMessage(e,n,o,s){const a={event_id:uuid4(),...o},l=isParameterizedString(e)?e:String(e),d=isPrimitive(e)?this.eventFromMessage(l,n,a):this.eventFromException(e,a);return this._process(d.then(h=>this._captureEvent(h,a,s))),a.event_id}captureEvent(e,n,o){const s=uuid4();if(n!=null&&n.originalException&&checkOrSetAlreadyCaught(n.originalException))return DEBUG_BUILD$2&&debug.log(ALREADY_SEEN_ERROR),s;const a={event_id:s,...n},l=e.sdkProcessingMetadata||{},d=l.capturedSpanScope,h=l.capturedSpanIsolationScope;return this._process(this._captureEvent(e,a,d||o,h)),a.event_id}captureSession(e){this.sendSession(e),updateSession(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const n=this._transport;if(!n)return!0;this.emit("flush");const o=await this._isClientDoneProcessing(e),s=await n.flush(e);return o&&s}async close(e){const n=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];setupIntegration(this,e,this._integrations),n||afterSetupIntegrations(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let o=createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])o=addItemToEnvelope(o,createAttachmentEnvelopeItem(s));this.sendEnvelope(o).then(s=>this.emit("afterSendEvent",e,s))}sendSession(e){const{release:n,environment:o=DEFAULT_ENVIRONMENT}=this._options;if("aggregates"in e){const a=e.attrs||{};if(!a.release&&!n){DEBUG_BUILD$2&&debug.warn(MISSING_RELEASE_FOR_SESSION_ERROR);return}a.release=a.release||n,a.environment=a.environment||o,e.attrs=a}else{if(!e.release&&!n){DEBUG_BUILD$2&&debug.warn(MISSING_RELEASE_FOR_SESSION_ERROR);return}e.release=e.release||n,e.environment=e.environment||o}this.emit("beforeSendSession",e);const s=createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(e,n,o=1){if(this._options.sendClientReports){const s=`${e}:${n}`;DEBUG_BUILD$2&&debug.log(`Recording outcome: "${s}"${o>1?` (${o} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+o}}on(e,n){const o=this._hooks[e]=this._hooks[e]||new Set,s=(...a)=>n(...a);return o.add(s),()=>{o.delete(s)}}emit(e,...n){const o=this._hooks[e];o&&o.forEach(s=>s(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(n){return DEBUG_BUILD$2&&debug.error("Error while sending envelope:",n),{}}return DEBUG_BUILD$2&&debug.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=setupIntegrations(this,e),afterSetupIntegrations(this,e)}_updateSessionFromEvent(e,n){var h;let o=n.level==="fatal",s=!1;const a=(h=n.exception)==null?void 0:h.values;if(a){s=!0;for(const _ of a){const p=_.mechanism;if((p==null?void 0:p.handled)===!1){o=!0;break}}}const l=e.status==="ok";(l&&e.errors===0||l&&o)&&(updateSession(e,{...o&&{status:"crashed"},errors:e.errors||Number(s||o)}),this.captureSession(e))}async _isClientDoneProcessing(e){let n=0;for(;!e||n<e;){if(await new Promise(o=>setTimeout(o,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,o,s){const a=this.getOptions(),l=Object.keys(this._integrations);return!n.integrations&&(l!=null&&l.length)&&(n.integrations=l),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),prepareEvent(a,e,n,o,this,s).then(d=>{if(d===null)return d;this.emit("postprocessEvent",d,n),d.contexts={trace:getTraceContextFromScope(o),...d.contexts};const h=getDynamicSamplingContextFromScope(this,o);return d.sdkProcessingMetadata={dynamicSamplingContext:h,...d.sdkProcessingMetadata},d})}_captureEvent(e,n={},o=getCurrentScope(),s=getIsolationScope()){return DEBUG_BUILD$2&&isErrorEvent(e)&&debug.log(`Captured error event \`${getPossibleEventMessages(e)[0]||"<unknown>"}\``),this._processEvent(e,n,o,s).then(a=>a.event_id,a=>{DEBUG_BUILD$2&&(_isDoNotSendEventError(a)?debug.log(a.message):_isInternalError(a)?debug.warn(a.message):debug.warn(a))})}_processEvent(e,n,o,s){const a=this.getOptions(),{sampleRate:l}=a,d=isTransactionEvent(e),h=isErrorEvent(e),_=e.type||"error",p=`before send for type \`${_}\``,u=typeof l>"u"?void 0:parseSampleRate(l);if(h&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),rejectedSyncPromise(_makeDoNotSendEventError(`Discarding event because it's not included in the random sample (sampling rate = ${l})`));const m=_==="replay_event"?"replay":_;return this._prepareEvent(e,n,o,s).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",m),_makeDoNotSendEventError("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return g;const v=processBeforeSend(this,a,g,n);return _validateBeforeSendResult(v,p)}).then(g=>{var S;if(g===null){if(this.recordDroppedEvent("before_send",m),d){const C=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",C)}throw _makeDoNotSendEventError(`${p} returned \`null\`, will not send event.`)}const y=o.getSession()||s.getSession();if(h&&y&&this._updateSessionFromEvent(y,g),d){const b=((S=g.sdkProcessingMetadata)==null?void 0:S.spanCountBeforeProcessing)||0,C=g.spans?g.spans.length:0,w=b-C;w>0&&this.recordDroppedEvent("before_send","span",w)}const v=g.transaction_info;if(d&&v&&g.transaction!==e.transaction){const b="custom";g.transaction_info={...v,source:b}}return this.sendEvent(g,n),g}).then(null,g=>{throw _isDoNotSendEventError(g)||_isInternalError(g)?g:(this.captureException(g,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:g}),_makeInternalError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,o])=>{const[s,a]=n.split(":");return{reason:s,category:a,quantity:o}})}_flushOutcomes(){DEBUG_BUILD$2&&debug.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){DEBUG_BUILD$2&&debug.log("No outcomes to send");return}if(!this._dsn){DEBUG_BUILD$2&&debug.log("No dsn provided, will not send outcomes");return}DEBUG_BUILD$2&&debug.log("Sending outcomes:",e);const n=createClientReportEnvelope(e,this._options.tunnel&&dsnToString(this._dsn));this.sendEnvelope(n)}}function _validateBeforeSendResult(t,e){const n=`${e} must return \`null\` or a valid event.`;if(isThenable(t))return t.then(o=>{if(!isPlainObject$3(o)&&o!==null)throw _makeInternalError(n);return o},o=>{throw _makeInternalError(`${e} rejected with ${o}`)});if(!isPlainObject$3(t)&&t!==null)throw _makeInternalError(n);return t}function processBeforeSend(t,e,n,o){const{beforeSend:s,beforeSendTransaction:a,beforeSendSpan:l,ignoreSpans:d}=e;let h=n;if(isErrorEvent(h)&&s)return s(h,o);if(isTransactionEvent(h)){if(l||d){const _=convertTransactionEventToSpanJson(h);if(d!=null&&d.length&&shouldIgnoreSpan(_,d))return null;if(l){const p=l(_);p?h=merge$1(n,convertSpanJsonToTransactionEvent(p)):showSpanDropWarning()}if(h.spans){const p=[],u=h.spans;for(const g of u){if(d!=null&&d.length&&shouldIgnoreSpan(g,d)){reparentChildSpans(u,g);continue}if(l){const y=l(g);y?p.push(y):(showSpanDropWarning(),p.push(g))}else p.push(g)}const m=h.spans.length-p.length;m&&t.recordDroppedEvent("before_send","span",m),h.spans=p}}if(a){if(h.spans){const _=h.spans.length;h.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:_}}return a(h,o)}}return h}function isErrorEvent(t){return t.type===void 0}function isTransactionEvent(t){return t.type==="transaction"}function createLogContainerEnvelopeItem(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function createLogEnvelope(t,e,n,o){const s={};return e!=null&&e.sdk&&(s.sdk={name:e.sdk.name,version:e.sdk.version}),n&&o&&(s.dsn=dsnToString(o)),createEnvelope(s,[createLogContainerEnvelopeItem(t)])}function _INTERNAL_flushLogsBuffer(t,e){const n=_INTERNAL_getLogBuffer(t)??[];if(n.length===0)return;const o=t.getOptions(),s=createLogEnvelope(n,o._metadata,o.tunnel,t.getDsn());_getBufferMap().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(s)}function _INTERNAL_getLogBuffer(t){return _getBufferMap().get(t)}function _getBufferMap(){return getGlobalSingleton("clientToLogBufferMap",()=>new WeakMap)}function initAndBind(t,e){e.debug===!0&&(DEBUG_BUILD$2?debug.enable():consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),getCurrentScope().update(e.initialScope);const o=new t(e);return setCurrentClient(o),o.init(),o}function setCurrentClient(t){getCurrentScope().setClient(t)}const SENTRY_BUFFER_FULL_ERROR=Symbol.for("SentryBufferFullError");function makePromiseBuffer(t=100){const e=new Set;function n(){return e.size<t}function o(l){e.delete(l)}function s(l){if(!n())return rejectedSyncPromise(SENTRY_BUFFER_FULL_ERROR);const d=l();return e.add(d),d.then(()=>o(d),()=>o(d)),d}function a(l){if(!e.size)return resolvedSyncPromise(!0);const d=Promise.allSettled(Array.from(e)).then(()=>!0);if(!l)return d;const h=[d,new Promise(_=>setTimeout(()=>_(!1),l))];return Promise.race(h)}return{get $(){return Array.from(e)},add:s,drain:a}}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const o=Date.parse(`${t}`);return isNaN(o)?DEFAULT_RETRY_AFTER:o-e}function disabledUntil(t,e){return t[e]||t.all||0}function isRateLimited(t,e,n=Date.now()){return disabledUntil(t,e)>n}function updateRateLimits(t,{statusCode:e,headers:n},o=Date.now()){const s={...t},a=n==null?void 0:n["x-sentry-rate-limits"],l=n==null?void 0:n["retry-after"];if(a)for(const d of a.trim().split(",")){const[h,_,,,p]=d.split(":",5),u=parseInt(h,10),m=(isNaN(u)?60:u)*1e3;if(!_)s.all=o+m;else for(const g of _.split(";"))g==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(s[g]=o+m):s[g]=o+m}else l?s.all=o+parseRetryAfterHeader(l,o):e===429&&(s.all=o+60*1e3);return s}const DEFAULT_TRANSPORT_BUFFER_SIZE=64;function createTransport(t,e,n=makePromiseBuffer(t.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let o={};const s=l=>n.drain(l);function a(l){const d=[];if(forEachEnvelopeItem(l,(u,m)=>{const g=envelopeItemTypeToDataCategory(m);isRateLimited(o,g)?t.recordDroppedEvent("ratelimit_backoff",g):d.push(u)}),d.length===0)return Promise.resolve({});const h=createEnvelope(l[0],d),_=u=>{forEachEnvelopeItem(h,(m,g)=>{t.recordDroppedEvent(u,envelopeItemTypeToDataCategory(g))})},p=()=>e({body:serializeEnvelope(h)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&DEBUG_BUILD$2&&debug.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),o=updateRateLimits(o,u),u),u=>{throw _("network_error"),DEBUG_BUILD$2&&debug.error("Encountered error running transport request:",u),u});return n.add(p).then(u=>u,u=>{if(u===SENTRY_BUFFER_FULL_ERROR)return DEBUG_BUILD$2&&debug.error("Skipped sending event because buffer is full."),_("queue_overflow"),Promise.resolve({});throw u})}return{send:a,flush:s}}function parseUrl(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:o,relative:e[5]+n+o}}function addAutoIpAddressToSession(t){var e;"aggregates"in t?((e=t.attrs)==null?void 0:e.ip_address)===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function applySdkMetadata(t,e,n=[e],o="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(a=>({name:`${o}:@sentry/${a}`,version:SDK_VERSION})),version:SDK_VERSION}),t._metadata=s}const DEFAULT_BREADCRUMBS=100;function addBreadcrumb(t,e){const n=getClient(),o=getIsolationScope();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=DEFAULT_BREADCRUMBS}=n.getOptions();if(a<=0)return;const d={timestamp:dateTimestampInSeconds(),...t},h=s?consoleSandbox(()=>s(d,e)):d;h!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",h,e),o.addBreadcrumb(h,a))}let originalFunctionToString;const INTEGRATION_NAME$6="FunctionToString",SETUP_CLIENTS=new WeakMap,_functionToStringIntegration=(()=>({name:INTEGRATION_NAME$6,setupOnce(){originalFunctionToString=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=getOriginalFunction(this),n=SETUP_CLIENTS.has(getClient())&&e!==void 0?e:this;return originalFunctionToString.apply(n,t)}}catch{}},setup(t){SETUP_CLIENTS.set(t,!0)}})),functionToStringIntegration=_functionToStringIntegration,DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],INTEGRATION_NAME$5="EventFilters",eventFiltersIntegration=(t={})=>{let e;return{name:INTEGRATION_NAME$5,setup(n){const o=n.getOptions();e=_mergeOptions(t,o)},processEvent(n,o,s){if(!e){const a=s.getOptions();e=_mergeOptions(t,a)}return _shouldDropEvent$1(n,e)?null:n}}},inboundFiltersIntegration=((t={})=>({...eventFiltersIntegration(t),name:"InboundFilters"}));function _mergeOptions(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:DEFAULT_IGNORE_ERRORS],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function _shouldDropEvent$1(t,e){if(t.type){if(t.type==="transaction"&&_isIgnoredTransaction(t,e.ignoreTransactions))return DEBUG_BUILD$2&&debug.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${getEventDescription(t)}`),!0}else{if(_isIgnoredError(t,e.ignoreErrors))return DEBUG_BUILD$2&&debug.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${getEventDescription(t)}`),!0;if(_isUselessError(t))return DEBUG_BUILD$2&&debug.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${getEventDescription(t)}`),!0;if(_isDeniedUrl(t,e.denyUrls))return DEBUG_BUILD$2&&debug.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${getEventDescription(t)}.
Url: ${_getEventFilterUrl(t)}`),!0;if(!_isAllowedUrl(t,e.allowUrls))return DEBUG_BUILD$2&&debug.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${getEventDescription(t)}.
Url: ${_getEventFilterUrl(t)}`),!0}return!1}function _isIgnoredError(t,e){return e!=null&&e.length?getPossibleEventMessages(t).some(n=>stringMatchesSomePattern(n,e)):!1}function _isIgnoredTransaction(t,e){if(!(e!=null&&e.length))return!1;const n=t.transaction;return n?stringMatchesSomePattern(n,e):!1}function _isDeniedUrl(t,e){if(!(e!=null&&e.length))return!1;const n=_getEventFilterUrl(t);return n?stringMatchesSomePattern(n,e):!1}function _isAllowedUrl(t,e){if(!(e!=null&&e.length))return!0;const n=_getEventFilterUrl(t);return n?stringMatchesSomePattern(n,e):!0}function _getLastValidUrl(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _getEventFilterUrl(t){var e,n;try{const o=[...((e=t.exception)==null?void 0:e.values)??[]].reverse().find(a=>{var l,d,h;return((l=a.mechanism)==null?void 0:l.parent_id)===void 0&&((h=(d=a.stacktrace)==null?void 0:d.frames)==null?void 0:h.length)}),s=(n=o==null?void 0:o.stacktrace)==null?void 0:n.frames;return s?_getLastValidUrl(s):null}catch{return DEBUG_BUILD$2&&debug.error(`Cannot extract url for event ${getEventDescription(t)}`),null}}function _isUselessError(t){var e,n;return(n=(e=t.exception)==null?void 0:e.values)!=null&&n.length?!t.message&&!t.exception.values.some(o=>o.stacktrace||o.type&&o.type!=="Error"||o.value):!1}function applyAggregateErrorsToEvent(t,e,n,o,s,a){var d;if(!((d=s.exception)!=null&&d.values)||!a||!isInstanceOf(a.originalException,Error))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=aggregateExceptionsFromError(t,e,o,a.originalException,n,s.exception.values,l,0))}function aggregateExceptionsFromError(t,e,n,o,s,a,l,d){if(a.length>=n+1)return a;let h=[...a];if(isInstanceOf(o[s],Error)){applyExceptionGroupFieldsForParentException(l,d);const _=t(e,o[s]),p=h.length;applyExceptionGroupFieldsForChildException(_,s,p,d),h=aggregateExceptionsFromError(t,e,n,o[s],s,[_,...h],_,p)}return Array.isArray(o.errors)&&o.errors.forEach((_,p)=>{if(isInstanceOf(_,Error)){applyExceptionGroupFieldsForParentException(l,d);const u=t(e,_),m=h.length;applyExceptionGroupFieldsForChildException(u,`errors[${p}]`,m,d),h=aggregateExceptionsFromError(t,e,n,_,s,[u,...h],u,m)}}),h}function applyExceptionGroupFieldsForParentException(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function applyExceptionGroupFieldsForChildException(t,e,n,o){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:o}}function addConsoleInstrumentationHandler(t){const e="console";addHandler(e,t),maybeInstrument(e,instrumentConsole)}function instrumentConsole(){"console"in GLOBAL_OBJ&&CONSOLE_LEVELS.forEach(function(t){t in GLOBAL_OBJ.console&&fill(GLOBAL_OBJ.console,t,function(e){return originalConsoleMethods[t]=e,function(...n){triggerHandlers("console",{args:n,level:t});const s=originalConsoleMethods[t];s==null||s.apply(GLOBAL_OBJ.console,n)}})})}function severityLevelFromString(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const INTEGRATION_NAME$4="Dedupe",_dedupeIntegration=(()=>{let t;return{name:INTEGRATION_NAME$4,processEvent(e){if(e.type)return e;try{if(_shouldDropEvent(e,t))return DEBUG_BUILD$2&&debug.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),dedupeIntegration=_dedupeIntegration;function _shouldDropEvent(t,e){return e?!!(_isSameMessageEvent(t,e)||_isSameExceptionEvent(t,e)):!1}function _isSameMessageEvent(t,e){const n=t.message,o=e.message;return!(!n&&!o||n&&!o||!n&&o||n!==o||!_isSameFingerprint(t,e)||!_isSameStacktrace(t,e))}function _isSameExceptionEvent(t,e){const n=_getExceptionFromEvent(e),o=_getExceptionFromEvent(t);return!(!n||!o||n.type!==o.type||n.value!==o.value||!_isSameFingerprint(t,e)||!_isSameStacktrace(t,e))}function _isSameStacktrace(t,e){let n=getFramesFromEvent(t),o=getFramesFromEvent(e);if(!n&&!o)return!0;if(n&&!o||!n&&o||(n=n,o=o,o.length!==n.length))return!1;for(let s=0;s<o.length;s++){const a=o[s],l=n[s];if(a.filename!==l.filename||a.lineno!==l.lineno||a.colno!==l.colno||a.function!==l.function)return!1}return!0}function _isSameFingerprint(t,e){let n=t.fingerprint,o=e.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;n=n,o=o;try{return n.join("")===o.join("")}catch{return!1}}function _getExceptionFromEvent(t){var e,n;return(n=(e=t.exception)==null?void 0:e.values)==null?void 0:n[0]}function getBreadcrumbLogLevelFromHttpStatusCode(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const WINDOW$3=GLOBAL_OBJ;function supportsHistory(){return"history"in WINDOW$3&&!!WINDOW$3.history}function _isFetchSupported(){if(!("fetch"in WINDOW$3))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function isNativeFunction(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function supportsNativeFetch(){var n;if(typeof EdgeRuntime=="string")return!0;if(!_isFetchSupported())return!1;if(isNativeFunction(WINDOW$3.fetch))return!0;let t=!1;const e=WINDOW$3.document;if(e&&typeof e.createElement=="function")try{const o=e.createElement("iframe");o.hidden=!0,e.head.appendChild(o),(n=o.contentWindow)!=null&&n.fetch&&(t=isNativeFunction(o.contentWindow.fetch)),e.head.removeChild(o)}catch(o){DEBUG_BUILD$2&&debug.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}return t}function addFetchInstrumentationHandler(t,e){const n="fetch";addHandler(n,t),maybeInstrument(n,()=>instrumentFetch(void 0,e))}function instrumentFetch(t,e=!1){e&&!supportsNativeFetch()||fill(GLOBAL_OBJ,"fetch",function(n){return function(...o){const s=new Error,{method:a,url:l}=parseFetchArgs(o),d={args:o,fetchData:{method:a,url:l},startTimestamp:timestampInSeconds()*1e3,virtualError:s,headers:getHeadersFromFetchArgs(o)};return triggerHandlers("fetch",{...d}),n.apply(GLOBAL_OBJ,o).then(async h=>(triggerHandlers("fetch",{...d,endTimestamp:timestampInSeconds()*1e3,response:h}),h),h=>{if(triggerHandlers("fetch",{...d,endTimestamp:timestampInSeconds()*1e3,error:h}),isError(h)&&h.stack===void 0&&(h.stack=s.stack,addNonEnumerableProperty(h,"framesToPop",1)),h instanceof TypeError&&(h.message==="Failed to fetch"||h.message==="Load failed"||h.message==="NetworkError when attempting to fetch resource."))try{const _=new URL(d.fetchData.url);h.message=`${h.message} (${_.host})`}catch{}throw h})}})}function hasProp(t,e){return!!t&&typeof t=="object"&&!!t[e]}function getUrlFromResource(t){return typeof t=="string"?t:t?hasProp(t,"url")?t.url:t.toString?t.toString():"":""}function parseFetchArgs(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,o]=t;return{url:getUrlFromResource(n),method:hasProp(o,"method")?String(o.method).toUpperCase():"GET"}}const e=t[0];return{url:getUrlFromResource(e),method:hasProp(e,"method")?String(e.method).toUpperCase():"GET"}}function getHeadersFromFetchArgs(t){const[e,n]=t;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(isRequest(e))return new Headers(e.headers)}catch{}}function getSDKSource(){return"npm"}const WINDOW$2=GLOBAL_OBJ;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap(t,e={}){function n(s){return typeof s=="function"}if(!n(t))return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(getOriginalFunction(t))return t}catch{return t}const o=function(...s){try{const a=s.map(l=>wrap(l,e));return t.apply(this,a)}catch(a){throw ignoreNextOnError(),withScope(l=>{l.addEventProcessor(d=>(e.mechanism&&(addExceptionTypeValue(d,void 0),addExceptionMechanism(d,e.mechanism)),d.extra={...d.extra,arguments:s},d)),captureException(a)}),a}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s])}catch{}markFunctionWrapped(o,t),addNonEnumerableProperty(t,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get(){return t.name}})}catch{}return o}function getHttpRequestData(){const t=getLocationHref(),{referrer:e}=WINDOW$2.document||{},{userAgent:n}=WINDOW$2.navigator||{},o={...e&&{Referer:e},...n&&{"User-Agent":n}};return{url:t,headers:o}}function exceptionFromError(t,e){const n=parseStackFrames(t,e),o={type:extractType(e),value:extractMessage(e)};return n.length&&(o.stacktrace={frames:n}),o.type===void 0&&o.value===""&&(o.value="Unrecoverable error caught"),o}function eventFromPlainObject(t,e,n,o){const s=getClient(),a=s==null?void 0:s.getOptions().normalizeDepth,l=getErrorPropertyFromObject(e),d={__serialized__:normalizeToSize(e,a)};if(l)return{exception:{values:[exceptionFromError(t,l)]},extra:d};const h={exception:{values:[{type:isEvent(e)?e.constructor.name:o?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(e,{isUnhandledRejection:o})}]},extra:d};if(n){const _=parseStackFrames(t,n);_.length&&(h.exception.values[0].stacktrace={frames:_})}return h}function eventFromError(t,e){return{exception:{values:[exceptionFromError(t,e)]}}}function parseStackFrames(t,e){const n=e.stacktrace||e.stack||"",o=getSkipFirstStackStringLines(e),s=getPopFirstTopFrames(e);try{return t(n,o,s)}catch{}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getSkipFirstStackStringLines(t){return t&&reactMinifiedRegexp.test(t.message)?1:0}function getPopFirstTopFrames(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function isWebAssemblyException(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function extractType(t){const e=t==null?void 0:t.name;return!e&&isWebAssemblyException(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function extractMessage(t){const e=t==null?void 0:t.message;return isWebAssemblyException(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function eventFromException(t,e,n,o){const s=(n==null?void 0:n.syntheticException)||void 0,a=eventFromUnknownInput(t,e,s,o);return addExceptionMechanism(a),a.level="error",n!=null&&n.event_id&&(a.event_id=n.event_id),resolvedSyncPromise(a)}function eventFromMessage(t,e,n="info",o,s){const a=(o==null?void 0:o.syntheticException)||void 0,l=eventFromString(t,e,a,s);return l.level=n,o!=null&&o.event_id&&(l.event_id=o.event_id),resolvedSyncPromise(l)}function eventFromUnknownInput(t,e,n,o,s){let a;if(isErrorEvent$1(e)&&e.error)return eventFromError(t,e.error);if(isDOMError(e)||isDOMException(e)){const l=e;if("stack"in e)a=eventFromError(t,e);else{const d=l.name||(isDOMError(l)?"DOMError":"DOMException"),h=l.message?`${d}: ${l.message}`:d;a=eventFromString(t,h,n,o),addExceptionTypeValue(a,h)}return"code"in l&&(a.tags={...a.tags,"DOMException.code":`${l.code}`}),a}return isError(e)?eventFromError(t,e):isPlainObject$3(e)||isEvent(e)?(a=eventFromPlainObject(t,e,n,s),addExceptionMechanism(a,{synthetic:!0}),a):(a=eventFromString(t,e,n,o),addExceptionTypeValue(a,`${e}`),addExceptionMechanism(a,{synthetic:!0}),a)}function eventFromString(t,e,n,o){const s={};if(o&&n){const a=parseStackFrames(t,n);a.length&&(s.exception={values:[{value:e,stacktrace:{frames:a}}]}),addExceptionMechanism(s,{synthetic:!0})}if(isParameterizedString(e)){const{__sentry_template_string__:a,__sentry_template_values__:l}=e;return s.logentry={message:a,params:l},s}return s.message=e,s}function getNonErrorObjectExceptionValue(t,{isUnhandledRejection:e}){const n=extractExceptionKeysForMessage(t),o=e?"promise rejection":"exception";return isErrorEvent$1(t)?`Event \`ErrorEvent\` captured as ${o} with message \`${t.message}\``:isEvent(t)?`Event \`${getObjectClassName(t)}\` (type=${t.type}) captured as ${o}`:`Object captured as ${o} with keys: ${n}`}function getObjectClassName(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function getErrorPropertyFromObject(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}const DEFAULT_FLUSH_INTERVAL=5e3;class BrowserClient extends Client{constructor(e){var d;const n=applyDefaultOptions(e),o=WINDOW$2.SENTRY_SDK_SOURCE||getSDKSource();applySdkMetadata(n,"browser",["browser"],o),(d=n._metadata)!=null&&d.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:a,enableLogs:l}=this._options;WINDOW$2.document&&(a||l)&&WINDOW$2.document.addEventListener("visibilitychange",()=>{WINDOW$2.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),l&&_INTERNAL_flushLogsBuffer(this))}),l&&(this.on("flush",()=>{_INTERNAL_flushLogsBuffer(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{_INTERNAL_flushLogsBuffer(this)},DEFAULT_FLUSH_INTERVAL)})),s&&this.on("beforeSendSession",addAutoIpAddressToSession)}eventFromException(e,n){return eventFromException(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",o){return eventFromMessage(this._options.stackParser,e,n,o,this._options.attachStacktrace)}_prepareEvent(e,n,o,s){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,o,s)}}function applyDefaultOptions(t){var e;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(e=WINDOW$2.SENTRY_RELEASE)==null?void 0:e.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const DEBUG_BUILD$1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,WINDOW$1=GLOBAL_OBJ,DEBOUNCE_DURATION=1e3;let debounceTimerID,lastCapturedEventType,lastCapturedEventTargetId;function addClickKeypressInstrumentationHandler(t){addHandler("dom",t),maybeInstrument("dom",instrumentDOM)}function instrumentDOM(){if(!WINDOW$1.document)return;const t=triggerHandlers.bind(null,"dom"),e=makeDOMEventHandler(t,!0);WINDOW$1.document.addEventListener("click",e,!1),WINDOW$1.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{var a,l;const s=(a=WINDOW$1[n])==null?void 0:a.prototype;(l=s==null?void 0:s.hasOwnProperty)!=null&&l.call(s,"addEventListener")&&(fill(s,"addEventListener",function(d){return function(h,_,p){if(h==="click"||h=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},m=u[h]=u[h]||{refCount:0};if(!m.handler){const g=makeDOMEventHandler(t);m.handler=g,d.call(this,h,g,p)}m.refCount++}catch{}return d.call(this,h,_,p)}}),fill(s,"removeEventListener",function(d){return function(h,_,p){if(h==="click"||h=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},m=u[h];m&&(m.refCount--,m.refCount<=0&&(d.call(this,h,m.handler,p),m.handler=void 0,delete u[h]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return d.call(this,h,_,p)}}))})}function isSimilarToLastCapturedEvent(t){if(t.type!==lastCapturedEventType)return!1;try{if(!t.target||t.target._sentryId!==lastCapturedEventTargetId)return!1}catch{}return!0}function shouldSkipDOMEvent(t,e){return t!=="keypress"?!1:e!=null&&e.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function makeDOMEventHandler(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const o=getEventTarget(n);if(shouldSkipDOMEvent(n.type,o))return;addNonEnumerableProperty(n,"_sentryCaptured",!0),o&&!o._sentryId&&addNonEnumerableProperty(o,"_sentryId",uuid4());const s=n.type==="keypress"?"input":n.type;isSimilarToLastCapturedEvent(n)||(t({event:n,name:s,global:e}),lastCapturedEventType=n.type,lastCapturedEventTargetId=o?o._sentryId:void 0),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$1.setTimeout(()=>{lastCapturedEventTargetId=void 0,lastCapturedEventType=void 0},DEBOUNCE_DURATION)}}function getEventTarget(t){try{return t.target}catch{return null}}let lastHref;function addHistoryInstrumentationHandler(t){const e="history";addHandler(e,t),maybeInstrument(e,instrumentHistory)}function instrumentHistory(){if(WINDOW$1.addEventListener("popstate",()=>{const e=WINDOW$1.location.href,n=lastHref;if(lastHref=e,n===e)return;triggerHandlers("history",{from:n,to:e})}),!supportsHistory())return;function t(e){return function(...n){const o=n.length>2?n[2]:void 0;if(o){const s=lastHref,a=getAbsoluteUrl(String(o));if(lastHref=a,s===a)return e.apply(this,n);triggerHandlers("history",{from:s,to:a})}return e.apply(this,n)}}fill(WINDOW$1.history,"pushState",t),fill(WINDOW$1.history,"replaceState",t)}function getAbsoluteUrl(t){try{return new URL(t,WINDOW$1.location.origin).toString()}catch{return t}}const cachedImplementations={};function getNativeImplementation(t){const e=cachedImplementations[t];if(e)return e;let n=WINDOW$1[t];if(isNativeFunction(n))return cachedImplementations[t]=n.bind(WINDOW$1);const o=WINDOW$1.document;if(o&&typeof o.createElement=="function")try{const s=o.createElement("iframe");s.hidden=!0,o.head.appendChild(s);const a=s.contentWindow;a!=null&&a[t]&&(n=a[t]),o.head.removeChild(s)}catch(s){DEBUG_BUILD$1&&debug.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,s)}return n&&(cachedImplementations[t]=n.bind(WINDOW$1))}function clearCachedImplementation(t){cachedImplementations[t]=void 0}const SENTRY_XHR_DATA_KEY="__sentry_xhr_v3__";function addXhrInstrumentationHandler(t){addHandler("xhr",t),maybeInstrument("xhr",instrumentXHR)}function instrumentXHR(){if(!WINDOW$1.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,o){const s=new Error,a=timestampInSeconds()*1e3,l=isString$1(o[0])?o[0].toUpperCase():void 0,d=parseXhrUrlArg(o[1]);if(!l||!d)return e.apply(n,o);n[SENTRY_XHR_DATA_KEY]={method:l,url:d,request_headers:{}},l==="POST"&&d.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const h=()=>{const _=n[SENTRY_XHR_DATA_KEY];if(_&&n.readyState===4){try{_.status_code=n.status}catch{}const p={endTimestamp:timestampInSeconds()*1e3,startTimestamp:a,xhr:n,virtualError:s};triggerHandlers("xhr",p)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(_,p,u){return h(),_.apply(p,u)}}):n.addEventListener("readystatechange",h),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(_,p,u){const[m,g]=u,y=p[SENTRY_XHR_DATA_KEY];return y&&isString$1(m)&&isString$1(g)&&(y.request_headers[m.toLowerCase()]=g),_.apply(p,u)}}),e.apply(n,o)}}),t.send=new Proxy(t.send,{apply(e,n,o){const s=n[SENTRY_XHR_DATA_KEY];if(!s)return e.apply(n,o);o[0]!==void 0&&(s.body=o[0]);const a={startTimestamp:timestampInSeconds()*1e3,xhr:n};return triggerHandlers("xhr",a),e.apply(n,o)}})}function parseXhrUrlArg(t){if(isString$1(t))return t;try{return t.toString()}catch{}}function makeFetchTransport(t,e=getNativeImplementation("fetch")){let n=0,o=0;async function s(a){const l=a.body.length;n+=l,o++;const d={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&o<15,...t.fetchOptions};try{const h=await e(t.url,d);return{statusCode:h.status,headers:{"x-sentry-rate-limits":h.headers.get("X-Sentry-Rate-Limits"),"retry-after":h.headers.get("Retry-After")}}}catch(h){throw clearCachedImplementation("fetch"),h}finally{n-=l,o--}}return createTransport(t,s)}const CHROME_PRIORITY=30,GECKO_PRIORITY=50;function createFrame(t,e,n,o){const s={filename:t,function:e==="<anonymous>"?UNKNOWN_FUNCTION:e,in_app:!0};return n!==void 0&&(s.lineno=n),o!==void 0&&(s.colno=o),s}const chromeRegexNoFnName=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chromeDataUriRegex=/at (.+?) ?\(data:(.+?),/,chromeStackParserFn=t=>{const e=t.match(chromeDataUriRegex);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const n=chromeRegexNoFnName.exec(t);if(n){const[,s,a,l]=n;return createFrame(s,UNKNOWN_FUNCTION,+a,+l)}const o=chromeRegex.exec(t);if(o){if(o[2]&&o[2].indexOf("eval")===0){const d=chromeEvalRegex.exec(o[2]);d&&(o[2]=d[1],o[3]=d[2],o[4]=d[3])}const[a,l]=extractSafariExtensionDetails(o[1]||UNKNOWN_FUNCTION,o[2]);return createFrame(l,a,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chromeStackParserFn],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=t=>{const e=geckoREgex.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const a=geckoEvalRegex.exec(e[3]);a&&(e[1]=e[1]||"eval",e[3]=a[1],e[4]=a[2],e[5]="")}let o=e[3],s=e[1]||UNKNOWN_FUNCTION;return[s,o]=extractSafariExtensionDetails(s,o),createFrame(o,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,o=t.indexOf("safari-web-extension")!==-1;return n||o?[t.indexOf("@")!==-1?t.split("@")[0]:UNKNOWN_FUNCTION,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},DEBUG_BUILD=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,MAX_ALLOWED_STRING_LENGTH=1024,INTEGRATION_NAME$3="Breadcrumbs",_breadcrumbsIntegration=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:INTEGRATION_NAME$3,setup(n){e.console&&addConsoleInstrumentationHandler(_getConsoleBreadcrumbHandler(n)),e.dom&&addClickKeypressInstrumentationHandler(_getDomBreadcrumbHandler(n,e.dom)),e.xhr&&addXhrInstrumentationHandler(_getXhrBreadcrumbHandler(n)),e.fetch&&addFetchInstrumentationHandler(_getFetchBreadcrumbHandler(n)),e.history&&addHistoryInstrumentationHandler(_getHistoryBreadcrumbHandler(n)),e.sentry&&n.on("beforeSendEvent",_getSentryBreadcrumbHandler(n))}}}),breadcrumbsIntegration=_breadcrumbsIntegration;function _getSentryBreadcrumbHandler(t){return function(n){getClient()===t&&addBreadcrumb({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:getEventDescription(n)},{event:n})}}function _getDomBreadcrumbHandler(t,e){return function(o){if(getClient()!==t)return;let s,a,l=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>MAX_ALLOWED_STRING_LENGTH&&(DEBUG_BUILD&&debug.warn(`\`dom.maxStringLength\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${d} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`),d=MAX_ALLOWED_STRING_LENGTH),typeof l=="string"&&(l=[l]);try{const _=o.event,p=_isEvent(_)?_.target:_;s=htmlTreeAsString(p,{keyAttrs:l,maxStringLength:d}),a=getComponentName(p)}catch{s="<unknown>"}if(s.length===0)return;const h={category:`ui.${o.name}`,message:s};a&&(h.data={"ui.component_name":a}),addBreadcrumb(h,{event:o.event,name:o.name,global:o.global})}}function _getConsoleBreadcrumbHandler(t){return function(n){if(getClient()!==t)return;const o={category:"console",data:{arguments:n.args,logger:"console"},level:severityLevelFromString(n.level),message:safeJoin(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)o.message=`Assertion failed: ${safeJoin(n.args.slice(1)," ")||"console.assert"}`,o.data.arguments=n.args.slice(1);else return;addBreadcrumb(o,{input:n.args,level:n.level})}}function _getXhrBreadcrumbHandler(t){return function(n){if(getClient()!==t)return;const{startTimestamp:o,endTimestamp:s}=n,a=n.xhr[SENTRY_XHR_DATA_KEY];if(!o||!s||!a)return;const{method:l,url:d,status_code:h,body:_}=a,p={method:l,url:d,status_code:h},u={xhr:n.xhr,input:_,startTimestamp:o,endTimestamp:s},m={category:"xhr",data:p,type:"http",level:getBreadcrumbLogLevelFromHttpStatusCode(h)};t.emit("beforeOutgoingRequestBreadcrumb",m,u),addBreadcrumb(m,u)}}function _getFetchBreadcrumbHandler(t){return function(n){if(getClient()!==t)return;const{startTimestamp:o,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const a=n.fetchData,l={data:n.error,input:n.args,startTimestamp:o,endTimestamp:s},d={category:"fetch",data:a,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",d,l),addBreadcrumb(d,l)}else{const a=n.response,l={...n.fetchData,status_code:a==null?void 0:a.status};n.fetchData.request_body_size,n.fetchData.response_body_size,a==null||a.status;const d={input:n.args,response:a,startTimestamp:o,endTimestamp:s},h={category:"fetch",data:l,type:"http",level:getBreadcrumbLogLevelFromHttpStatusCode(l.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",h,d),addBreadcrumb(h,d)}}}function _getHistoryBreadcrumbHandler(t){return function(n){if(getClient()!==t)return;let o=n.from,s=n.to;const a=parseUrl(WINDOW$2.location.href);let l=o?parseUrl(o):void 0;const d=parseUrl(s);l!=null&&l.path||(l=a),a.protocol===d.protocol&&a.host===d.host&&(s=d.relative),a.protocol===l.protocol&&a.host===l.host&&(o=l.relative),addBreadcrumb({category:"navigation",data:{from:o,to:s}})}}function _isEvent(t){return!!t&&!!t.target}const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],INTEGRATION_NAME$2="BrowserApiErrors",_browserApiErrorsIntegration=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:INTEGRATION_NAME$2,setupOnce(){e.setTimeout&&fill(WINDOW$2,"setTimeout",_wrapTimeFunction),e.setInterval&&fill(WINDOW$2,"setInterval",_wrapTimeFunction),e.requestAnimationFrame&&fill(WINDOW$2,"requestAnimationFrame",_wrapRAF),e.XMLHttpRequest&&"XMLHttpRequest"in WINDOW$2&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);const n=e.eventTarget;n&&(Array.isArray(n)?n:DEFAULT_EVENT_TARGET).forEach(s=>_wrapEventTarget(s,e))}}}),browserApiErrorsIntegration=_browserApiErrorsIntegration;function _wrapTimeFunction(t){return function(...e){const n=e[0];return e[0]=wrap(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${getFunctionName(t)}`}}),t.apply(this,e)}}function _wrapRAF(t){return function(e){return t.apply(this,[wrap(e,{mechanism:{data:{handler:getFunctionName(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function _wrapXHR(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&fill(n,s,function(a){const l={mechanism:{data:{handler:getFunctionName(a)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},d=getOriginalFunction(a);return d&&(l.mechanism.data.handler=getFunctionName(d)),wrap(a,l)})}),t.apply(this,e)}}function _wrapEventTarget(t,e){var s,a;const o=(s=WINDOW$2[t])==null?void 0:s.prototype;(a=o==null?void 0:o.hasOwnProperty)!=null&&a.call(o,"addEventListener")&&(fill(o,"addEventListener",function(l){return function(d,h,_){try{isEventListenerObject(h)&&(h.handleEvent=wrap(h.handleEvent,{mechanism:{data:{handler:getFunctionName(h),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&unregisterOriginalCallback(this,d,h),l.apply(this,[d,wrap(h,{mechanism:{data:{handler:getFunctionName(h),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),_])}}),fill(o,"removeEventListener",function(l){return function(d,h,_){try{const p=h.__sentry_wrapped__;p&&l.call(this,d,p,_)}catch{}return l.call(this,d,h,_)}}))}function isEventListenerObject(t){return typeof t.handleEvent=="function"}function unregisterOriginalCallback(t,e,n){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,n)}const browserSessionIntegration=()=>({name:"BrowserSession",setupOnce(){if(typeof WINDOW$2.document>"u"){DEBUG_BUILD&&debug.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}startSession({ignoreDuration:!0}),captureSession(),addHistoryInstrumentationHandler(({from:t,to:e})=>{t!==void 0&&t!==e&&(startSession({ignoreDuration:!0}),captureSession())})}}),INTEGRATION_NAME$1="GlobalHandlers",_globalHandlersIntegration=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:INTEGRATION_NAME$1,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(_installGlobalOnErrorHandler(n),globalHandlerLog("onerror")),e.onunhandledrejection&&(_installGlobalOnUnhandledRejectionHandler(n),globalHandlerLog("onunhandledrejection"))}}}),globalHandlersIntegration=_globalHandlersIntegration;function _installGlobalOnErrorHandler(t){addGlobalErrorInstrumentationHandler(e=>{const{stackParser:n,attachStacktrace:o}=getOptions();if(getClient()!==t||shouldIgnoreOnError())return;const{msg:s,url:a,line:l,column:d,error:h}=e,_=_enhanceEventWithInitialFrame(eventFromUnknownInput(n,h||s,void 0,o,!1),a,l,d);_.level="error",captureEvent(_,{originalException:h,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function _installGlobalOnUnhandledRejectionHandler(t){addGlobalUnhandledRejectionInstrumentationHandler(e=>{const{stackParser:n,attachStacktrace:o}=getOptions();if(getClient()!==t||shouldIgnoreOnError())return;const s=_getUnhandledRejectionError(e),a=isPrimitive(s)?_eventFromRejectionWithPrimitive(s):eventFromUnknownInput(n,s,void 0,o,!0);a.level="error",captureEvent(a,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function _getUnhandledRejectionError(t){if(isPrimitive(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function _eventFromRejectionWithPrimitive(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function _enhanceEventWithInitialFrame(t,e,n,o){const s=t.exception=t.exception||{},a=s.values=s.values||[],l=a[0]=a[0]||{},d=l.stacktrace=l.stacktrace||{},h=d.frames=d.frames||[],_=o,p=n,u=getFilenameFromUrl(e)??getLocationHref();return h.length===0&&h.push({colno:_,filename:u,function:UNKNOWN_FUNCTION,in_app:!0,lineno:p}),t}function globalHandlerLog(t){DEBUG_BUILD&&debug.log(`Global Handler attached: ${t}`)}function getOptions(){const t=getClient();return(t==null?void 0:t.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function getFilenameFromUrl(t){if(!(!isString$1(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),n=e?e[1]:"text/javascript",o=t.includes("base64,");return`<data:${n}${o?",base64":""}>`}return t.slice(0,1024)}}const httpContextIntegration=()=>({name:"HttpContext",preprocessEvent(t){var o;if(!WINDOW$2.navigator&&!WINDOW$2.location&&!WINDOW$2.document)return;const e=getHttpRequestData(),n={...e.headers,...(o=t.request)==null?void 0:o.headers};t.request={...e,...t.request,headers:n}}}),DEFAULT_KEY="cause",DEFAULT_LIMIT=5,INTEGRATION_NAME="LinkedErrors",_linkedErrorsIntegration=((t={})=>{const e=t.limit||DEFAULT_LIMIT,n=t.key||DEFAULT_KEY;return{name:INTEGRATION_NAME,preprocessEvent(o,s,a){const l=a.getOptions();applyAggregateErrorsToEvent(exceptionFromError,l.stackParser,n,e,o,s)}}}),linkedErrorsIntegration=_linkedErrorsIntegration;function checkAndWarnIfIsEmbeddedBrowserExtension(){return _isEmbeddedBrowserExtension()?(DEBUG_BUILD&&consoleSandbox(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function _isEmbeddedBrowserExtension(){var a;if(typeof WINDOW$2.window>"u")return!1;const t=WINDOW$2;if(t.nw)return!1;const e=t.chrome||t.browser;if(!((a=e==null?void 0:e.runtime)!=null&&a.id))return!1;const n=getLocationHref(),o=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(WINDOW$2===WINDOW$2.top&&o.some(l=>n.startsWith(`${l}://`)))}function getDefaultIntegrations(t){return[inboundFiltersIntegration(),functionToStringIntegration(),browserApiErrorsIntegration(),breadcrumbsIntegration(),globalHandlersIntegration(),linkedErrorsIntegration(),dedupeIntegration(),httpContextIntegration(),browserSessionIntegration()]}function init(t={}){const e=!t.skipBrowserExtensionCheck&&checkAndWarnIfIsEmbeddedBrowserExtension(),n={...t,enabled:e?!1:t.enabled,stackParser:stackParserFromStackParserOptions(t.stackParser||defaultStackParser),integrations:getIntegrationsToSetup({integrations:t.integrations,defaultIntegrations:t.defaultIntegrations==null?getDefaultIntegrations():t.defaultIntegrations}),transport:t.transport||makeFetchTransport};return initAndBind(BrowserClient,n)}const{loadShare:loadShare$2}=index_cjs$3,{initPromise:initPromise$2}=AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__,res$2=initPromise$2.then(t=>loadShare$2("@mui/icons-material",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),exportModule$2=await res$2.then(t=>t());var AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__=exportModule$2;const AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__$1=getDefaultExportFromCjs(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__),IconsMaterial=_mergeNamespaces({__proto__:null,default:AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__$1},[AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__]);var freeGlobal$3=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$3,freeGlobal$2=_freeGlobal,freeSelf$2=typeof self=="object"&&self&&self.Object===Object&&self,root$b=freeGlobal$2||freeSelf$2||Function("return this")(),_root=root$b,root$a=_root,Symbol$8=root$a.Symbol,_Symbol=Symbol$8,Symbol$7=_Symbol,objectProto$v=Object.prototype,hasOwnProperty$q=objectProto$v.hasOwnProperty,nativeObjectToString$3=objectProto$v.toString,symToStringTag$3=Symbol$7?Symbol$7.toStringTag:void 0;function getRawTag$2(t){var e=hasOwnProperty$q.call(t,symToStringTag$3),n=t[symToStringTag$3];try{t[symToStringTag$3]=void 0;var o=!0}catch{}var s=nativeObjectToString$3.call(t);return o&&(e?t[symToStringTag$3]=n:delete t[symToStringTag$3]),s}var _getRawTag=getRawTag$2,objectProto$u=Object.prototype,nativeObjectToString$2=objectProto$u.toString;function objectToString$3(t){return nativeObjectToString$2.call(t)}var _objectToString=objectToString$3,Symbol$6=_Symbol,getRawTag$1=_getRawTag,objectToString$2=_objectToString,nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$6?Symbol$6.toStringTag:void 0;function baseGetTag$8(t){return t==null?t===void 0?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(t)?getRawTag$1(t):objectToString$2(t)}var _baseGetTag=baseGetTag$8,isArray$d=Array.isArray,isArray_1=isArray$d;function isObjectLike$b(t){return t!=null&&typeof t=="object"}var isObjectLike_1=isObjectLike$b,baseGetTag$7=_baseGetTag,isArray$c=isArray_1,isObjectLike$a=isObjectLike_1,stringTag$6="[object String]";function isString(t){return typeof t=="string"||!isArray$c(t)&&isObjectLike$a(t)&&baseGetTag$7(t)==stringTag$6}var isString_1=isString;function createBaseFor$2(t){return function(e,n,o){for(var s=-1,a=Object(e),l=o(e),d=l.length;d--;){var h=l[t?d:++s];if(n(a[h],h,a)===!1)break}return e}}var _createBaseFor=createBaseFor$2,createBaseFor$1=_createBaseFor,baseFor$2=createBaseFor$1(),_baseFor=baseFor$2;function baseTimes$2(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}var _baseTimes=baseTimes$2,baseGetTag$6=_baseGetTag,isObjectLike$9=isObjectLike_1,argsTag$6="[object Arguments]";function baseIsArguments$2(t){return isObjectLike$9(t)&&baseGetTag$6(t)==argsTag$6}var _baseIsArguments=baseIsArguments$2,baseIsArguments$1=_baseIsArguments,isObjectLike$8=isObjectLike_1,objectProto$t=Object.prototype,hasOwnProperty$p=objectProto$t.hasOwnProperty,propertyIsEnumerable$3=objectProto$t.propertyIsEnumerable,isArguments$3=baseIsArguments$1((function(){return arguments})())?baseIsArguments$1:function(t){return isObjectLike$8(t)&&hasOwnProperty$p.call(t,"callee")&&!propertyIsEnumerable$3.call(t,"callee")},isArguments_1=isArguments$3,isBuffer$4={exports:{}};function stubFalse$1(){return!1}var stubFalse_1=stubFalse$1;isBuffer$4.exports;(function(t,e){var n=_root,o=stubFalse_1,s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===s,d=l?n.Buffer:void 0,h=d?d.isBuffer:void 0,_=h||o;t.exports=_})(isBuffer$4,isBuffer$4.exports);var isBufferExports=isBuffer$4.exports,MAX_SAFE_INTEGER$3=9007199254740991,reIsUint$1=/^(?:0|[1-9]\d*)$/;function isIndex$3(t,e){var n=typeof t;return e=e??MAX_SAFE_INTEGER$3,!!e&&(n=="number"||n!="symbol"&&reIsUint$1.test(t))&&t>-1&&t%1==0&&t<e}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$2=9007199254740991;function isLength$4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER$2}var isLength_1=isLength$4,baseGetTag$5=_baseGetTag,isLength$3=isLength_1,isObjectLike$7=isObjectLike_1,argsTag$5="[object Arguments]",arrayTag$4="[object Array]",boolTag$5="[object Boolean]",dateTag$5="[object Date]",errorTag$4="[object Error]",funcTag$5="[object Function]",mapTag$8="[object Map]",numberTag$5="[object Number]",objectTag$8="[object Object]",regexpTag$5="[object RegExp]",setTag$8="[object Set]",stringTag$5="[object String]",weakMapTag$4="[object WeakMap]",arrayBufferTag$5="[object ArrayBuffer]",dataViewTag$7="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",typedArrayTags$1={};typedArrayTags$1[float32Tag$3]=typedArrayTags$1[float64Tag$3]=typedArrayTags$1[int8Tag$3]=typedArrayTags$1[int16Tag$3]=typedArrayTags$1[int32Tag$3]=typedArrayTags$1[uint8Tag$3]=typedArrayTags$1[uint8ClampedTag$3]=typedArrayTags$1[uint16Tag$3]=typedArrayTags$1[uint32Tag$3]=!0;typedArrayTags$1[argsTag$5]=typedArrayTags$1[arrayTag$4]=typedArrayTags$1[arrayBufferTag$5]=typedArrayTags$1[boolTag$5]=typedArrayTags$1[dataViewTag$7]=typedArrayTags$1[dateTag$5]=typedArrayTags$1[errorTag$4]=typedArrayTags$1[funcTag$5]=typedArrayTags$1[mapTag$8]=typedArrayTags$1[numberTag$5]=typedArrayTags$1[objectTag$8]=typedArrayTags$1[regexpTag$5]=typedArrayTags$1[setTag$8]=typedArrayTags$1[stringTag$5]=typedArrayTags$1[weakMapTag$4]=!1;function baseIsTypedArray$2(t){return isObjectLike$7(t)&&isLength$3(t.length)&&!!typedArrayTags$1[baseGetTag$5(t)]}var _baseIsTypedArray=baseIsTypedArray$2;function baseUnary$4(t){return function(e){return t(e)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports;(function(t,e){var n=_freeGlobal,o=e&&!e.nodeType&&e,s=o&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a&&n.process,d=(function(){try{var h=s&&s.require&&s.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();t.exports=d})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray$1=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$3=_nodeUtilExports,nodeIsTypedArray$1=nodeUtil$3&&nodeUtil$3.isTypedArray,isTypedArray$3=nodeIsTypedArray$1?baseUnary$3(nodeIsTypedArray$1):baseIsTypedArray$1,isTypedArray_1=isTypedArray$3,baseTimes$1=_baseTimes,isArguments$2=isArguments_1,isArray$b=isArray_1,isBuffer$3=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$s=Object.prototype,hasOwnProperty$o=objectProto$s.hasOwnProperty;function arrayLikeKeys$3(t,e){var n=isArray$b(t),o=!n&&isArguments$2(t),s=!n&&!o&&isBuffer$3(t),a=!n&&!o&&!s&&isTypedArray$2(t),l=n||o||s||a,d=l?baseTimes$1(t.length,String):[],h=d.length;for(var _ in t)(e||hasOwnProperty$o.call(t,_))&&!(l&&(_=="length"||s&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||isIndex$2(_,h)))&&d.push(_);return d}var _arrayLikeKeys=arrayLikeKeys$3,objectProto$r=Object.prototype;function isPrototype$4(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||objectProto$r;return t===n}var _isPrototype=isPrototype$4;function overArg$3(t,e){return function(n){return t(e(n))}}var _overArg=overArg$3,overArg$2=_overArg,nativeKeys$2=overArg$2(Object.keys,Object),_nativeKeys=nativeKeys$2,isPrototype$3=_isPrototype,nativeKeys$1=_nativeKeys,objectProto$q=Object.prototype,hasOwnProperty$n=objectProto$q.hasOwnProperty;function baseKeys$2(t){if(!isPrototype$3(t))return nativeKeys$1(t);var e=[];for(var n in Object(t))hasOwnProperty$n.call(t,n)&&n!="constructor"&&e.push(n);return e}var _baseKeys=baseKeys$2;function isObject$b(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var isObject_1=isObject$b,baseGetTag$4=_baseGetTag,isObject$a=isObject_1,asyncTag$1="[object AsyncFunction]",funcTag$4="[object Function]",genTag$3="[object GeneratorFunction]",proxyTag$1="[object Proxy]";function isFunction$5(t){if(!isObject$a(t))return!1;var e=baseGetTag$4(t);return e==funcTag$4||e==genTag$3||e==asyncTag$1||e==proxyTag$1}var isFunction_1=isFunction$5,isFunction$4=isFunction_1,isLength$2=isLength_1;function isArrayLike$5(t){return t!=null&&isLength$2(t.length)&&!isFunction$4(t)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys$2=_arrayLikeKeys,baseKeys$1=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$6(t){return isArrayLike$4(t)?arrayLikeKeys$2(t):baseKeys$1(t)}var keys_1=keys$6,baseFor$1=_baseFor,keys$5=keys_1;function baseForOwn$3(t,e){return t&&baseFor$1(t,e,keys$5)}var _baseForOwn=baseForOwn$3;function identity$4(t){return t}var identity_1=identity$4,identity$3=identity_1;function castFunction$2(t){return typeof t=="function"?t:identity$3}var _castFunction=castFunction$2,baseForOwn$2=_baseForOwn,castFunction$1=_castFunction;function forOwn(t,e){return t&&baseForOwn$2(t,castFunction$1(e))}var forOwn_1=forOwn,overArg$1=_overArg,getPrototype$4=overArg$1(Object.getPrototypeOf,Object),_getPrototype=getPrototype$4,baseGetTag$3=_baseGetTag,getPrototype$3=_getPrototype,isObjectLike$6=isObjectLike_1,objectTag$7="[object Object]",funcProto$6=Function.prototype,objectProto$p=Object.prototype,funcToString$6=funcProto$6.toString,hasOwnProperty$m=objectProto$p.hasOwnProperty,objectCtorString$1=funcToString$6.call(Object);function isPlainObject$2(t){if(!isObjectLike$6(t)||baseGetTag$3(t)!=objectTag$7)return!1;var e=getPrototype$3(t);if(e===null)return!0;var n=hasOwnProperty$m.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&funcToString$6.call(n)==objectCtorString$1}var isPlainObject_1=isPlainObject$2;function arrayMap$3(t,e){for(var n=-1,o=t==null?0:t.length,s=Array(o);++n<o;)s[n]=e(t[n],n,t);return s}var _arrayMap=arrayMap$3;function listCacheClear$3(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$3;function eq$5(t,e){return t===e||t!==t&&e!==e}var eq_1=eq$5,eq$4=eq_1;function assocIndexOf$6(t,e){for(var n=t.length;n--;)if(eq$4(t[n][0],e))return n;return-1}var _assocIndexOf=assocIndexOf$6,assocIndexOf$5=_assocIndexOf,arrayProto$2=Array.prototype,splice$2=arrayProto$2.splice;function listCacheDelete$3(t){var e=this.__data__,n=assocIndexOf$5(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():splice$2.call(e,n,1),--this.size,!0}var _listCacheDelete=listCacheDelete$3,assocIndexOf$4=_assocIndexOf;function listCacheGet$3(t){var e=this.__data__,n=assocIndexOf$4(e,t);return n<0?void 0:e[n][1]}var _listCacheGet=listCacheGet$3,assocIndexOf$3=_assocIndexOf;function listCacheHas$3(t){return assocIndexOf$3(this.__data__,t)>-1}var _listCacheHas=listCacheHas$3,assocIndexOf$2=_assocIndexOf;function listCacheSet$3(t,e){var n=this.__data__,o=assocIndexOf$2(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}var _listCacheSet=listCacheSet$3,listCacheClear$2=_listCacheClear,listCacheDelete$2=_listCacheDelete,listCacheGet$2=_listCacheGet,listCacheHas$2=_listCacheHas,listCacheSet$2=_listCacheSet;function ListCache$6(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ListCache$6.prototype.clear=listCacheClear$2;ListCache$6.prototype.delete=listCacheDelete$2;ListCache$6.prototype.get=listCacheGet$2;ListCache$6.prototype.has=listCacheHas$2;ListCache$6.prototype.set=listCacheSet$2;var _ListCache=ListCache$6,ListCache$5=_ListCache;function stackClear$2(){this.__data__=new ListCache$5,this.size=0}var _stackClear=stackClear$2;function stackDelete$2(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _stackDelete=stackDelete$2;function stackGet$2(t){return this.__data__.get(t)}var _stackGet=stackGet$2;function stackHas$2(t){return this.__data__.has(t)}var _stackHas=stackHas$2,root$9=_root,coreJsData$3=root$9["__core-js_shared__"],_coreJsData=coreJsData$3,coreJsData$2=_coreJsData,maskSrcKey$2=(function(){var t=/[^.]+$/.exec(coreJsData$2&&coreJsData$2.keys&&coreJsData$2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function isMasked$3(t){return!!maskSrcKey$2&&maskSrcKey$2 in t}var _isMasked=isMasked$3,funcProto$5=Function.prototype,funcToString$5=funcProto$5.toString;function toSource$4(t){if(t!=null){try{return funcToString$5.call(t)}catch{}try{return t+""}catch{}}return""}var _toSource=toSource$4,isFunction$3=isFunction_1,isMasked$2=_isMasked,isObject$9=isObject_1,toSource$3=_toSource,reRegExpChar$2=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$2=/^\[object .+?Constructor\]$/,funcProto$4=Function.prototype,objectProto$o=Object.prototype,funcToString$4=funcProto$4.toString,hasOwnProperty$l=objectProto$o.hasOwnProperty,reIsNative$2=RegExp("^"+funcToString$4.call(hasOwnProperty$l).replace(reRegExpChar$2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$3(t){if(!isObject$9(t)||isMasked$2(t))return!1;var e=isFunction$3(t)?reIsNative$2:reIsHostCtor$2;return e.test(toSource$3(t))}var _baseIsNative=baseIsNative$3;function getValue$3(t,e){return t==null?void 0:t[e]}var _getValue=getValue$3,baseIsNative$2=_baseIsNative,getValue$2=_getValue;function getNative$9(t,e){var n=getValue$2(t,e);return baseIsNative$2(n)?n:void 0}var _getNative=getNative$9,getNative$8=_getNative,root$8=_root,Map$6=getNative$8(root$8,"Map"),_Map=Map$6,getNative$7=_getNative,nativeCreate$6=getNative$7(Object,"create"),_nativeCreate=nativeCreate$6,nativeCreate$5=_nativeCreate;function hashClear$3(){this.__data__=nativeCreate$5?nativeCreate$5(null):{},this.size=0}var _hashClear=hashClear$3;function hashDelete$3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _hashDelete=hashDelete$3,nativeCreate$4=_nativeCreate,HASH_UNDEFINED$6="__lodash_hash_undefined__",objectProto$n=Object.prototype,hasOwnProperty$k=objectProto$n.hasOwnProperty;function hashGet$3(t){var e=this.__data__;if(nativeCreate$4){var n=e[t];return n===HASH_UNDEFINED$6?void 0:n}return hasOwnProperty$k.call(e,t)?e[t]:void 0}var _hashGet=hashGet$3,nativeCreate$3=_nativeCreate,objectProto$m=Object.prototype,hasOwnProperty$j=objectProto$m.hasOwnProperty;function hashHas$3(t){var e=this.__data__;return nativeCreate$3?e[t]!==void 0:hasOwnProperty$j.call(e,t)}var _hashHas=hashHas$3,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$5="__lodash_hash_undefined__";function hashSet$3(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nativeCreate$2&&e===void 0?HASH_UNDEFINED$5:e,this}var _hashSet=hashSet$3,hashClear$2=_hashClear,hashDelete$2=_hashDelete,hashGet$2=_hashGet,hashHas$2=_hashHas,hashSet$2=_hashSet;function Hash$3(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Hash$3.prototype.clear=hashClear$2;Hash$3.prototype.delete=hashDelete$2;Hash$3.prototype.get=hashGet$2;Hash$3.prototype.has=hashHas$2;Hash$3.prototype.set=hashSet$2;var _Hash=Hash$3,Hash$2=_Hash,ListCache$4=_ListCache,Map$5=_Map;function mapCacheClear$3(){this.size=0,this.__data__={hash:new Hash$2,map:new(Map$5||ListCache$4),string:new Hash$2}}var _mapCacheClear=mapCacheClear$3;function isKeyable$3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _isKeyable=isKeyable$3,isKeyable$2=_isKeyable;function getMapData$6(t,e){var n=t.__data__;return isKeyable$2(e)?n[typeof e=="string"?"string":"hash"]:n.map}var _getMapData=getMapData$6,getMapData$5=_getMapData;function mapCacheDelete$3(t){var e=getMapData$5(this,t).delete(t);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$3,getMapData$4=_getMapData;function mapCacheGet$3(t){return getMapData$4(this,t).get(t)}var _mapCacheGet=mapCacheGet$3,getMapData$3=_getMapData;function mapCacheHas$3(t){return getMapData$3(this,t).has(t)}var _mapCacheHas=mapCacheHas$3,getMapData$2=_getMapData;function mapCacheSet$3(t,e){var n=getMapData$2(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}var _mapCacheSet=mapCacheSet$3,mapCacheClear$2=_mapCacheClear,mapCacheDelete$2=_mapCacheDelete,mapCacheGet$2=_mapCacheGet,mapCacheHas$2=_mapCacheHas,mapCacheSet$2=_mapCacheSet;function MapCache$5(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}MapCache$5.prototype.clear=mapCacheClear$2;MapCache$5.prototype.delete=mapCacheDelete$2;MapCache$5.prototype.get=mapCacheGet$2;MapCache$5.prototype.has=mapCacheHas$2;MapCache$5.prototype.set=mapCacheSet$2;var _MapCache=MapCache$5,ListCache$3=_ListCache,Map$4=_Map,MapCache$4=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$2(t,e){var n=this.__data__;if(n instanceof ListCache$3){var o=n.__data__;if(!Map$4||o.length<LARGE_ARRAY_SIZE$1-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new MapCache$4(o)}return n.set(t,e),this.size=n.size,this}var _stackSet=stackSet$2,ListCache$2=_ListCache,stackClear$1=_stackClear,stackDelete$1=_stackDelete,stackGet$1=_stackGet,stackHas$1=_stackHas,stackSet$1=_stackSet;function Stack$4(t){var e=this.__data__=new ListCache$2(t);this.size=e.size}Stack$4.prototype.clear=stackClear$1;Stack$4.prototype.delete=stackDelete$1;Stack$4.prototype.get=stackGet$1;Stack$4.prototype.has=stackHas$1;Stack$4.prototype.set=stackSet$1;var _Stack=Stack$4,HASH_UNDEFINED$4="__lodash_hash_undefined__";function setCacheAdd$2(t){return this.__data__.set(t,HASH_UNDEFINED$4),this}var _setCacheAdd=setCacheAdd$2;function setCacheHas$2(t){return this.__data__.has(t)}var _setCacheHas=setCacheHas$2,MapCache$3=_MapCache,setCacheAdd$1=_setCacheAdd,setCacheHas$1=_setCacheHas;function SetCache$2(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new MapCache$3;++e<n;)this.add(t[e])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd$1;SetCache$2.prototype.has=setCacheHas$1;var _SetCache=SetCache$2;function arraySome$2(t,e){for(var n=-1,o=t==null?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(t,e){return t.has(e)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$b=1,COMPARE_UNORDERED_FLAG$7=2;function equalArrays$3(t,e,n,o,s,a){var l=n&COMPARE_PARTIAL_FLAG$b,d=t.length,h=e.length;if(d!=h&&!(l&&h>d))return!1;var _=a.get(t),p=a.get(e);if(_&&p)return _==e&&p==t;var u=-1,m=!0,g=n&COMPARE_UNORDERED_FLAG$7?new SetCache$1:void 0;for(a.set(t,e),a.set(e,t);++u<d;){var y=t[u],v=e[u];if(o)var S=l?o(v,y,u,e,t,a):o(y,v,u,t,e,a);if(S!==void 0){if(S)continue;m=!1;break}if(g){if(!arraySome$1(e,function(b,C){if(!cacheHas$1(g,C)&&(y===b||s(y,b,n,o,a)))return g.push(C)})){m=!1;break}}else if(!(y===v||s(y,v,n,o,a))){m=!1;break}}return a.delete(t),a.delete(e),m}var _equalArrays=equalArrays$3,root$7=_root,Uint8Array$4=root$7.Uint8Array,_Uint8Array=Uint8Array$4;function mapToArray$2(t){var e=-1,n=Array(t.size);return t.forEach(function(o,s){n[++e]=[s,o]}),n}var _mapToArray=mapToArray$2;function setToArray$2(t){var e=-1,n=Array(t.size);return t.forEach(function(o){n[++e]=o}),n}var _setToArray=setToArray$2,Symbol$5=_Symbol,Uint8Array$3=_Uint8Array,eq$3=eq_1,equalArrays$2=_equalArrays,mapToArray$1=_mapToArray,setToArray$1=_setToArray,COMPARE_PARTIAL_FLAG$a=1,COMPARE_UNORDERED_FLAG$6=2,boolTag$4="[object Boolean]",dateTag$4="[object Date]",errorTag$3="[object Error]",mapTag$7="[object Map]",numberTag$4="[object Number]",regexpTag$4="[object RegExp]",setTag$7="[object Set]",stringTag$4="[object String]",symbolTag$6="[object Symbol]",arrayBufferTag$4="[object ArrayBuffer]",dataViewTag$6="[object DataView]",symbolProto$5=Symbol$5?Symbol$5.prototype:void 0,symbolValueOf$2=symbolProto$5?symbolProto$5.valueOf:void 0;function equalByTag$2(t,e,n,o,s,a,l){switch(n){case dataViewTag$6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag$4:return!(t.byteLength!=e.byteLength||!a(new Uint8Array$3(t),new Uint8Array$3(e)));case boolTag$4:case dateTag$4:case numberTag$4:return eq$3(+t,+e);case errorTag$3:return t.name==e.name&&t.message==e.message;case regexpTag$4:case stringTag$4:return t==e+"";case mapTag$7:var d=mapToArray$1;case setTag$7:var h=o&COMPARE_PARTIAL_FLAG$a;if(d||(d=setToArray$1),t.size!=e.size&&!h)return!1;var _=l.get(t);if(_)return _==e;o|=COMPARE_UNORDERED_FLAG$6,l.set(t,e);var p=equalArrays$2(d(t),d(e),o,s,a,l);return l.delete(t),p;case symbolTag$6:if(symbolValueOf$2)return symbolValueOf$2.call(t)==symbolValueOf$2.call(e)}return!1}var _equalByTag=equalByTag$2;function arrayPush$3(t,e){for(var n=-1,o=e.length,s=t.length;++n<o;)t[s+n]=e[n];return t}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$3(t,e,n){var o=e(t);return isArray$a(t)?o:arrayPush$2(o,n(t))}var _baseGetAllKeys=baseGetAllKeys$3;function arrayFilter$2(t,e){for(var n=-1,o=t==null?0:t.length,s=0,a=[];++n<o;){var l=t[n];e(l,n,t)&&(a[s++]=l)}return a}var _arrayFilter=arrayFilter$2;function stubArray$3(){return[]}var stubArray_1=stubArray$3,arrayFilter$1=_arrayFilter,stubArray$2=stubArray_1,objectProto$l=Object.prototype,propertyIsEnumerable$2=objectProto$l.propertyIsEnumerable,nativeGetSymbols$2=Object.getOwnPropertySymbols,getSymbols$4=nativeGetSymbols$2?function(t){return t==null?[]:(t=Object(t),arrayFilter$1(nativeGetSymbols$2(t),function(e){return propertyIsEnumerable$2.call(t,e)}))}:stubArray$2,_getSymbols=getSymbols$4,baseGetAllKeys$2=_baseGetAllKeys,getSymbols$3=_getSymbols,keys$4=keys_1;function getAllKeys$3(t){return baseGetAllKeys$2(t,keys$4,getSymbols$3)}var _getAllKeys=getAllKeys$3,getAllKeys$2=_getAllKeys,COMPARE_PARTIAL_FLAG$9=1,objectProto$k=Object.prototype,hasOwnProperty$i=objectProto$k.hasOwnProperty;function equalObjects$2(t,e,n,o,s,a){var l=n&COMPARE_PARTIAL_FLAG$9,d=getAllKeys$2(t),h=d.length,_=getAllKeys$2(e),p=_.length;if(h!=p&&!l)return!1;for(var u=h;u--;){var m=d[u];if(!(l?m in e:hasOwnProperty$i.call(e,m)))return!1}var g=a.get(t),y=a.get(e);if(g&&y)return g==e&&y==t;var v=!0;a.set(t,e),a.set(e,t);for(var S=l;++u<h;){m=d[u];var b=t[m],C=e[m];if(o)var w=l?o(C,b,m,e,t,a):o(b,C,m,t,e,a);if(!(w===void 0?b===C||s(b,C,n,o,a):w)){v=!1;break}S||(S=m=="constructor")}if(v&&!S){var A=t.constructor,$=e.constructor;A!=$&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof $=="function"&&$ instanceof $)&&(v=!1)}return a.delete(t),a.delete(e),v}var _equalObjects=equalObjects$2,getNative$6=_getNative,root$6=_root,DataView$3=getNative$6(root$6,"DataView"),_DataView=DataView$3,getNative$5=_getNative,root$5=_root,Promise$3=getNative$5(root$5,"Promise"),_Promise=Promise$3,getNative$4=_getNative,root$4=_root,Set$3=getNative$4(root$4,"Set"),_Set=Set$3,getNative$3=_getNative,root$3=_root,WeakMap$3=getNative$3(root$3,"WeakMap"),_WeakMap=WeakMap$3,DataView$2=_DataView,Map$3=_Map,Promise$2=_Promise,Set$2=_Set,WeakMap$2=_WeakMap,baseGetTag$2=_baseGetTag,toSource$2=_toSource,mapTag$6="[object Map]",objectTag$6="[object Object]",promiseTag$1="[object Promise]",setTag$6="[object Set]",weakMapTag$3="[object WeakMap]",dataViewTag$5="[object DataView]",dataViewCtorString$1=toSource$2(DataView$2),mapCtorString$1=toSource$2(Map$3),promiseCtorString$1=toSource$2(Promise$2),setCtorString$1=toSource$2(Set$2),weakMapCtorString$1=toSource$2(WeakMap$2),getTag$5=baseGetTag$2;(DataView$2&&getTag$5(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$5||Map$3&&getTag$5(new Map$3)!=mapTag$6||Promise$2&&getTag$5(Promise$2.resolve())!=promiseTag$1||Set$2&&getTag$5(new Set$2)!=setTag$6||WeakMap$2&&getTag$5(new WeakMap$2)!=weakMapTag$3)&&(getTag$5=function(t){var e=baseGetTag$2(t),n=e==objectTag$6?t.constructor:void 0,o=n?toSource$2(n):"";if(o)switch(o){case dataViewCtorString$1:return dataViewTag$5;case mapCtorString$1:return mapTag$6;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$6;case weakMapCtorString$1:return weakMapTag$3}return e});var _getTag=getTag$5,Stack$3=_Stack,equalArrays$1=_equalArrays,equalByTag$1=_equalByTag,equalObjects$1=_equalObjects,getTag$4=_getTag,isArray$9=isArray_1,isBuffer$2=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$8=1,argsTag$4="[object Arguments]",arrayTag$3="[object Array]",objectTag$5="[object Object]",objectProto$j=Object.prototype,hasOwnProperty$h=objectProto$j.hasOwnProperty;function baseIsEqualDeep$2(t,e,n,o,s,a){var l=isArray$9(t),d=isArray$9(e),h=l?arrayTag$3:getTag$4(t),_=d?arrayTag$3:getTag$4(e);h=h==argsTag$4?objectTag$5:h,_=_==argsTag$4?objectTag$5:_;var p=h==objectTag$5,u=_==objectTag$5,m=h==_;if(m&&isBuffer$2(t)){if(!isBuffer$2(e))return!1;l=!0,p=!1}if(m&&!p)return a||(a=new Stack$3),l||isTypedArray$1(t)?equalArrays$1(t,e,n,o,s,a):equalByTag$1(t,e,h,n,o,s,a);if(!(n&COMPARE_PARTIAL_FLAG$8)){var g=p&&hasOwnProperty$h.call(t,"__wrapped__"),y=u&&hasOwnProperty$h.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,S=y?e.value():e;return a||(a=new Stack$3),s(v,S,n,o,a)}}return m?(a||(a=new Stack$3),equalObjects$1(t,e,n,o,s,a)):!1}var _baseIsEqualDeep=baseIsEqualDeep$2,baseIsEqualDeep$1=_baseIsEqualDeep,isObjectLike$5=isObjectLike_1;function baseIsEqual$3(t,e,n,o,s){return t===e?!0:t==null||e==null||!isObjectLike$5(t)&&!isObjectLike$5(e)?t!==t&&e!==e:baseIsEqualDeep$1(t,e,n,o,baseIsEqual$3,s)}var _baseIsEqual=baseIsEqual$3,Stack$2=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$7=1,COMPARE_UNORDERED_FLAG$5=2;function baseIsMatch$2(t,e,n,o){var s=n.length,a=s,l=!o;if(t==null)return!a;for(t=Object(t);s--;){var d=n[s];if(l&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++s<a;){d=n[s];var h=d[0],_=t[h],p=d[1];if(l&&d[2]){if(_===void 0&&!(h in t))return!1}else{var u=new Stack$2;if(o)var m=o(_,p,h,t,e,u);if(!(m===void 0?baseIsEqual$2(p,_,COMPARE_PARTIAL_FLAG$7|COMPARE_UNORDERED_FLAG$5,o,u):m))return!1}}return!0}var _baseIsMatch=baseIsMatch$2,isObject$8=isObject_1;function isStrictComparable$3(t){return t===t&&!isObject$8(t)}var _isStrictComparable=isStrictComparable$3,isStrictComparable$2=_isStrictComparable,keys$3=keys_1;function getMatchData$2(t){for(var e=keys$3(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,isStrictComparable$2(s)]}return e}var _getMatchData=getMatchData$2;function matchesStrictComparable$3(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var _matchesStrictComparable=matchesStrictComparable$3,baseIsMatch$1=_baseIsMatch,getMatchData$1=_getMatchData,matchesStrictComparable$2=_matchesStrictComparable;function baseMatches$2(t){var e=getMatchData$1(t);return e.length==1&&e[0][2]?matchesStrictComparable$2(e[0][0],e[0][1]):function(n){return n===t||baseIsMatch$1(n,t,e)}}var _baseMatches=baseMatches$2,baseGetTag$1=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$5="[object Symbol]";function isSymbol$5(t){return typeof t=="symbol"||isObjectLike$4(t)&&baseGetTag$1(t)==symbolTag$5}var isSymbol_1=isSymbol$5,isArray$8=isArray_1,isSymbol$4=isSymbol_1,reIsDeepProp$2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp$2=/^\w*$/;function isKey$5(t,e){if(isArray$8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||isSymbol$4(t)?!0:reIsPlainProp$2.test(t)||!reIsDeepProp$2.test(t)||e!=null&&t in Object(e)}var _isKey=isKey$5,MapCache$2=_MapCache,FUNC_ERROR_TEXT$4="Expected a function";function memoize$3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$4);var n=function(){var o=arguments,s=e?e.apply(this,o):o[0],a=n.cache;if(a.has(s))return a.get(s);var l=t.apply(this,o);return n.cache=a.set(s,l)||a,l};return n.cache=new(memoize$3.Cache||MapCache$2),n}memoize$3.Cache=MapCache$2;var memoize_1=memoize$3,memoize$2=memoize_1,MAX_MEMOIZE_SIZE$1=500;function memoizeCapped$2(t){var e=memoize$2(t,function(o){return n.size===MAX_MEMOIZE_SIZE$1&&n.clear(),o}),n=e.cache;return e}var _memoizeCapped=memoizeCapped$2,memoizeCapped$1=_memoizeCapped,rePropName$2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$2=/\\(\\)?/g,stringToPath$3=memoizeCapped$1(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rePropName$2,function(n,o,s,a){e.push(s?a.replace(reEscapeChar$2,"$1"):o||n)}),e}),_stringToPath=stringToPath$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$7=isArray_1,isSymbol$3=isSymbol_1,symbolProto$4=Symbol$4?Symbol$4.prototype:void 0,symbolToString$2=symbolProto$4?symbolProto$4.toString:void 0;function baseToString$3(t){if(typeof t=="string")return t;if(isArray$7(t))return arrayMap$2(t,baseToString$3)+"";if(isSymbol$3(t))return symbolToString$2?symbolToString$2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _baseToString=baseToString$3,baseToString$2=_baseToString;function toString$3(t){return t==null?"":baseToString$2(t)}var toString_1=toString$3,isArray$6=isArray_1,isKey$4=_isKey,stringToPath$2=_stringToPath,toString$2=toString_1;function castPath$4(t,e){return isArray$6(t)?t:isKey$4(t,e)?[t]:stringToPath$2(toString$2(t))}var _castPath=castPath$4,isSymbol$2=isSymbol_1;function toKey$6(t){if(typeof t=="string"||isSymbol$2(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _toKey=toKey$6,castPath$3=_castPath,toKey$5=_toKey;function baseGet$4(t,e){e=castPath$3(e,t);for(var n=0,o=e.length;t!=null&&n<o;)t=t[toKey$5(e[n++])];return n&&n==o?t:void 0}var _baseGet=baseGet$4,baseGet$3=_baseGet;function get$3(t,e,n){var o=t==null?void 0:baseGet$3(t,e);return o===void 0?n:o}var get_1=get$3;function baseHasIn$2(t,e){return t!=null&&e in Object(t)}var _baseHasIn=baseHasIn$2,castPath$2=_castPath,isArguments$1=isArguments_1,isArray$5=isArray_1,isIndex$1=_isIndex,isLength$1=isLength_1,toKey$4=_toKey;function hasPath$2(t,e,n){e=castPath$2(e,t);for(var o=-1,s=e.length,a=!1;++o<s;){var l=toKey$4(e[o]);if(!(a=t!=null&&n(t,l)))break;t=t[l]}return a||++o!=s?a:(s=t==null?0:t.length,!!s&&isLength$1(s)&&isIndex$1(l,s)&&(isArray$5(t)||isArguments$1(t)))}var _hasPath=hasPath$2,baseHasIn$1=_baseHasIn,hasPath$1=_hasPath;function hasIn$2(t,e){return t!=null&&hasPath$1(t,e,baseHasIn$1)}var hasIn_1=hasIn$2,baseIsEqual$1=_baseIsEqual,get$2=get_1,hasIn$1=hasIn_1,isKey$3=_isKey,isStrictComparable$1=_isStrictComparable,matchesStrictComparable$1=_matchesStrictComparable,toKey$3=_toKey,COMPARE_PARTIAL_FLAG$6=1,COMPARE_UNORDERED_FLAG$4=2;function baseMatchesProperty$2(t,e){return isKey$3(t)&&isStrictComparable$1(e)?matchesStrictComparable$1(toKey$3(t),e):function(n){var o=get$2(n,t);return o===void 0&&o===e?hasIn$1(n,t):baseIsEqual$1(e,o,COMPARE_PARTIAL_FLAG$6|COMPARE_UNORDERED_FLAG$4)}}var _baseMatchesProperty=baseMatchesProperty$2;function baseProperty$2(t){return function(e){return e==null?void 0:e[t]}}var _baseProperty=baseProperty$2,baseGet$2=_baseGet;function basePropertyDeep$2(t){return function(e){return baseGet$2(e,t)}}var _basePropertyDeep=basePropertyDeep$2,baseProperty$1=_baseProperty,basePropertyDeep$1=_basePropertyDeep,isKey$2=_isKey,toKey$2=_toKey;function property$2(t){return isKey$2(t)?baseProperty$1(toKey$2(t)):basePropertyDeep$1(t)}var property_1=property$2,baseMatches$1=_baseMatches,baseMatchesProperty$1=_baseMatchesProperty,identity$2=identity_1,isArray$4=isArray_1,property$1=property_1;function baseIteratee$2(t){return typeof t=="function"?t:t==null?identity$2:typeof t=="object"?isArray$4(t)?baseMatchesProperty$1(t[0],t[1]):baseMatches$1(t):property$1(t)}var _baseIteratee=baseIteratee$2,isArrayLike$3=isArrayLike_1;function createBaseEach$2(t,e){return function(n,o){if(n==null)return n;if(!isArrayLike$3(n))return t(n,o);for(var s=n.length,a=e?s:-1,l=Object(n);(e?a--:++a<s)&&o(l[a],a,l)!==!1;);return n}}var _createBaseEach=createBaseEach$2,baseForOwn$1=_baseForOwn,createBaseEach$1=_createBaseEach,baseEach$2=createBaseEach$1(baseForOwn$1),_baseEach=baseEach$2,baseEach$1=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(t,e){var n=-1,o=isArrayLike$2(t)?Array(t.length):[];return baseEach$1(t,function(s,a,l){o[++n]=e(s,a,l)}),o}var _baseMap=baseMap$2,arrayMap$1=_arrayMap,baseIteratee$1=_baseIteratee,baseMap$1=_baseMap,isArray$3=isArray_1;function map$1(t,e){var n=isArray$3(t)?arrayMap$1:baseMap$1;return n(t,baseIteratee$1(e))}var map_1=map$1;function arrayEach$2(t,e){for(var n=-1,o=t==null?0:t.length;++n<o&&e(t[n],n,t)!==!1;);return t}var _arrayEach=arrayEach$2,getNative$2=_getNative,defineProperty$2=(function(){try{var t=getNative$2(Object,"defineProperty");return t({},"",{}),t}catch{}})(),_defineProperty$1=defineProperty$2,defineProperty$1=_defineProperty$1;function baseAssignValue$3(t,e,n){e=="__proto__"&&defineProperty$1?defineProperty$1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _baseAssignValue=baseAssignValue$3,baseAssignValue$2=_baseAssignValue,eq$2=eq_1,objectProto$i=Object.prototype,hasOwnProperty$g=objectProto$i.hasOwnProperty;function assignValue$3(t,e,n){var o=t[e];(!(hasOwnProperty$g.call(t,e)&&eq$2(o,n))||n===void 0&&!(e in t))&&baseAssignValue$2(t,e,n)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue$1=_baseAssignValue;function copyObject$5(t,e,n,o){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var d=e[a],h=o?o(n[d],t[d],d,n,t):void 0;h===void 0&&(h=t[d]),s?baseAssignValue$1(n,d,h):assignValue$2(n,d,h)}return n}var _copyObject=copyObject$5,copyObject$4=_copyObject,keys$2=keys_1;function baseAssign$1(t,e){return t&&copyObject$4(e,keys$2(e),t)}var _baseAssign=baseAssign$1;function nativeKeysIn$2(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _nativeKeysIn=nativeKeysIn$2,isObject$7=isObject_1,isPrototype$2=_isPrototype,nativeKeysIn$1=_nativeKeysIn,objectProto$h=Object.prototype,hasOwnProperty$f=objectProto$h.hasOwnProperty;function baseKeysIn$2(t){if(!isObject$7(t))return nativeKeysIn$1(t);var e=isPrototype$2(t),n=[];for(var o in t)o=="constructor"&&(e||!hasOwnProperty$f.call(t,o))||n.push(o);return n}var _baseKeysIn=baseKeysIn$2,arrayLikeKeys$1=_arrayLikeKeys,baseKeysIn$1=_baseKeysIn,isArrayLike$1=isArrayLike_1;function keysIn$4(t){return isArrayLike$1(t)?arrayLikeKeys$1(t,!0):baseKeysIn$1(t)}var keysIn_1=keysIn$4,copyObject$3=_copyObject,keysIn$3=keysIn_1;function baseAssignIn$1(t,e){return t&&copyObject$3(e,keysIn$3(e),t)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(t,e){var n=_root,o=e&&!e.nodeType&&e,s=o&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===o,l=a?n.Buffer:void 0,d=l?l.allocUnsafe:void 0;function h(_,p){if(p)return _.slice();var u=_.length,m=d?d(u):new _.constructor(u);return _.copy(m),m}t.exports=h})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$2(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}var _copyArray=copyArray$2,copyObject$2=_copyObject,getSymbols$2=_getSymbols;function copySymbols$1(t,e){return copyObject$2(t,getSymbols$2(t),e)}var _copySymbols=copySymbols$1,arrayPush$1=_arrayPush,getPrototype$2=_getPrototype,getSymbols$1=_getSymbols,stubArray$1=stubArray_1,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols$1?function(t){for(var e=[];t;)arrayPush$1(e,getSymbols$1(t)),t=getPrototype$2(t);return e}:stubArray$1,_getSymbolsIn=getSymbolsIn$2,copyObject$1=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(t,e){return copyObject$1(t,getSymbolsIn$1(t),e)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys$1=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$2=keysIn_1;function getAllKeysIn$1(t){return baseGetAllKeys$1(t,keysIn$2,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,objectProto$g=Object.prototype,hasOwnProperty$e=objectProto$g.hasOwnProperty;function initCloneArray$1(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty$e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var _initCloneArray=initCloneArray$1,Uint8Array$2=_Uint8Array;function cloneArrayBuffer$4(t){var e=new t.constructor(t.byteLength);return new Uint8Array$2(e).set(new Uint8Array$2(t)),e}var _cloneArrayBuffer=cloneArrayBuffer$4,cloneArrayBuffer$3=_cloneArrayBuffer;function cloneDataView$1(t,e){var n=e?cloneArrayBuffer$3(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(t){var e=new t.constructor(t.source,reFlags.exec(t));return e.lastIndex=t.lastIndex,e}var _cloneRegExp=cloneRegExp$1,Symbol$3=_Symbol,symbolProto$3=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf$1=symbolProto$3?symbolProto$3.valueOf:void 0;function cloneSymbol$1(t){return symbolValueOf$1?Object(symbolValueOf$1.call(t)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneTypedArray$2(t,e){var n=e?cloneArrayBuffer$2(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var _cloneTypedArray=cloneTypedArray$2,cloneArrayBuffer$1=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray$1=_cloneTypedArray,boolTag$3="[object Boolean]",dateTag$3="[object Date]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$4="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]";function initCloneByTag$1(t,e,n){var o=t.constructor;switch(e){case arrayBufferTag$3:return cloneArrayBuffer$1(t);case boolTag$3:case dateTag$3:return new o(+t);case dataViewTag$4:return cloneDataView(t,n);case float32Tag$2:case float64Tag$2:case int8Tag$2:case int16Tag$2:case int32Tag$2:case uint8Tag$2:case uint8ClampedTag$2:case uint16Tag$2:case uint32Tag$2:return cloneTypedArray$1(t,n);case mapTag$5:return new o;case numberTag$3:case stringTag$3:return new o(t);case regexpTag$3:return cloneRegExp(t);case setTag$5:return new o;case symbolTag$4:return cloneSymbol(t)}}var _initCloneByTag=initCloneByTag$1,isObject$6=isObject_1,objectCreate$1=Object.create,baseCreate$2=(function(){function t(){}return function(e){if(!isObject$6(e))return{};if(objectCreate$1)return objectCreate$1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})(),_baseCreate=baseCreate$2,baseCreate$1=_baseCreate,getPrototype$1=_getPrototype,isPrototype$1=_isPrototype;function initCloneObject$2(t){return typeof t.constructor=="function"&&!isPrototype$1(t)?baseCreate$1(getPrototype$1(t)):{}}var _initCloneObject=initCloneObject$2,getTag$3=_getTag,isObjectLike$3=isObjectLike_1,mapTag$4="[object Map]";function baseIsMap$1(t){return isObjectLike$3(t)&&getTag$3(t)==mapTag$4}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsMap=nodeUtil$2&&nodeUtil$2.isMap,isMap$1=nodeIsMap?baseUnary$2(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$2=_getTag,isObjectLike$2=isObjectLike_1,setTag$4="[object Set]";function baseIsSet$1(t){return isObjectLike$2(t)&&getTag$2(t)==setTag$4}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet$1=nodeIsSet?baseUnary$1(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack$1=_Stack,arrayEach$1=_arrayEach,assignValue$1=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer$1=_cloneBufferExports,copyArray$1=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys$1=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag$1=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject$1=_initCloneObject,isArray$2=isArray_1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject$5=isObject_1,isSet=isSet_1,keys$1=keys_1,keysIn$1=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$2="[object Error]",funcTag$3="[object Function]",genTag$2="[object GeneratorFunction]",mapTag$3="[object Map]",numberTag$2="[object Number]",objectTag$4="[object Object]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$3="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$3]=cloneableTags[arrayTag$2]=cloneableTags[arrayBufferTag$2]=cloneableTags[dataViewTag$3]=cloneableTags[boolTag$2]=cloneableTags[dateTag$2]=cloneableTags[float32Tag$1]=cloneableTags[float64Tag$1]=cloneableTags[int8Tag$1]=cloneableTags[int16Tag$1]=cloneableTags[int32Tag$1]=cloneableTags[mapTag$3]=cloneableTags[numberTag$2]=cloneableTags[objectTag$4]=cloneableTags[regexpTag$2]=cloneableTags[setTag$3]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$3]=cloneableTags[uint8Tag$1]=cloneableTags[uint8ClampedTag$1]=cloneableTags[uint16Tag$1]=cloneableTags[uint32Tag$1]=!0;cloneableTags[errorTag$2]=cloneableTags[funcTag$3]=cloneableTags[weakMapTag$2]=!1;function baseClone$1(t,e,n,o,s,a){var l,d=e&CLONE_DEEP_FLAG$1,h=e&CLONE_FLAT_FLAG,_=e&CLONE_SYMBOLS_FLAG$1;if(n&&(l=s?n(t,o,s,a):n(t)),l!==void 0)return l;if(!isObject$5(t))return t;var p=isArray$2(t);if(p){if(l=initCloneArray(t),!d)return copyArray$1(t,l)}else{var u=getTag$1(t),m=u==funcTag$3||u==genTag$2;if(isBuffer$1(t))return cloneBuffer$1(t,d);if(u==objectTag$4||u==argsTag$3||m&&!s){if(l=h||m?{}:initCloneObject$1(t),!d)return h?copySymbolsIn(t,baseAssignIn(l,t)):copySymbols(t,baseAssign(l,t))}else{if(!cloneableTags[u])return s?t:{};l=initCloneByTag(t,u,d)}}a||(a=new Stack$1);var g=a.get(t);if(g)return g;a.set(t,l),isSet(t)?t.forEach(function(S){l.add(baseClone$1(S,e,n,S,t,a))}):isMap(t)&&t.forEach(function(S,b){l.set(b,baseClone$1(S,e,n,b,t,a))});var y=_?h?getAllKeysIn:getAllKeys$1:h?keysIn$1:keys$1,v=p?void 0:y(t);return arrayEach$1(v||t,function(S,b){v&&(b=S,S=t[b]),assignValue$1(l,b,baseClone$1(S,e,n,b,t,a))}),l}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(t){return baseClone(t,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;function listCacheClear$1(){this.__data__=[],this.size=0}function eq$1(t,e){return t===e||t!==t&&e!==e}function assocIndexOf$1(t,e){for(var n=t.length;n--;)if(eq$1(t[n][0],e))return n;return-1}var arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$1(t){var e=this.__data__,n=assocIndexOf$1(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():splice$1.call(e,n,1),--this.size,!0}function listCacheGet$1(t){var e=this.__data__,n=assocIndexOf$1(e,t);return n<0?void 0:e[n][1]}function listCacheHas$1(t){return assocIndexOf$1(this.__data__,t)>-1}function listCacheSet$1(t,e){var n=this.__data__,o=assocIndexOf$1(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}function ListCache$1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ListCache$1.prototype.clear=listCacheClear$1;ListCache$1.prototype.delete=listCacheDelete$1;ListCache$1.prototype.get=listCacheGet$1;ListCache$1.prototype.has=listCacheHas$1;ListCache$1.prototype.set=listCacheSet$1;function stackClear(){this.__data__=new ListCache$1,this.size=0}function stackDelete(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}var freeGlobal$1=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$2=freeGlobal$1||freeSelf$1||Function("return this")(),Symbol$2=root$2.Symbol,objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty$d.call(t,symToStringTag$1),n=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var o=!0}catch{}var s=nativeObjectToString$1.call(t);return o&&(e?t[symToStringTag$1]=n:delete t[symToStringTag$1]),s}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(t){return nativeObjectToString.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString$1(t)}function isObject$4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(t){if(!isObject$4(t))return!1;var e=baseGetTag(t);return e==funcTag$2||e==genTag$1||e==asyncTag||e==proxyTag}var coreJsData$1=root$2["__core-js_shared__"],maskSrcKey$1=(function(){var t=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function isMasked$1(t){return!!maskSrcKey$1&&maskSrcKey$1 in t}var funcProto$3=Function.prototype,funcToString$3=funcProto$3.toString;function toSource$1(t){if(t!=null){try{return funcToString$3.call(t)}catch{}try{return t+""}catch{}}return""}var reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$2=Function.prototype,objectProto$d=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$c=objectProto$d.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$2.call(hasOwnProperty$c).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(t){if(!isObject$4(t)||isMasked$1(t))return!1;var e=isFunction$2(t)?reIsNative$1:reIsHostCtor$1;return e.test(toSource$1(t))}function getValue$1(t,e){return t==null?void 0:t[e]}function getNative$1(t,e){var n=getValue$1(t,e);return baseIsNative$1(n)?n:void 0}var Map$2=getNative$1(root$2,"Map"),nativeCreate$1=getNative$1(Object,"create");function hashClear$1(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete$1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HASH_UNDEFINED$3="__lodash_hash_undefined__",objectProto$c=Object.prototype,hasOwnProperty$b=objectProto$c.hasOwnProperty;function hashGet$1(t){var e=this.__data__;if(nativeCreate$1){var n=e[t];return n===HASH_UNDEFINED$3?void 0:n}return hasOwnProperty$b.call(e,t)?e[t]:void 0}var objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty;function hashHas$1(t){var e=this.__data__;return nativeCreate$1?e[t]!==void 0:hasOwnProperty$a.call(e,t)}var HASH_UNDEFINED$2="__lodash_hash_undefined__";function hashSet$1(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nativeCreate$1&&e===void 0?HASH_UNDEFINED$2:e,this}function Hash$1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Hash$1.prototype.clear=hashClear$1;Hash$1.prototype.delete=hashDelete$1;Hash$1.prototype.get=hashGet$1;Hash$1.prototype.has=hashHas$1;Hash$1.prototype.set=hashSet$1;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash$1,map:new(Map$2||ListCache$1),string:new Hash$1}}function isKeyable$1(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function getMapData$1(t,e){var n=t.__data__;return isKeyable$1(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mapCacheDelete$1(t){var e=getMapData$1(this,t).delete(t);return this.size-=e?1:0,e}function mapCacheGet$1(t){return getMapData$1(this,t).get(t)}function mapCacheHas$1(t){return getMapData$1(this,t).has(t)}function mapCacheSet$1(t,e){var n=getMapData$1(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}function MapCache$1(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}MapCache$1.prototype.clear=mapCacheClear$1;MapCache$1.prototype.delete=mapCacheDelete$1;MapCache$1.prototype.get=mapCacheGet$1;MapCache$1.prototype.has=mapCacheHas$1;MapCache$1.prototype.set=mapCacheSet$1;var LARGE_ARRAY_SIZE=200;function stackSet(t,e){var n=this.__data__;if(n instanceof ListCache$1){var o=n.__data__;if(!Map$2||o.length<LARGE_ARRAY_SIZE-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new MapCache$1(o)}return n.set(t,e),this.size=n.size,this}function Stack(t){var e=this.__data__=new ListCache$1(t);this.size=e.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=(function(){try{var t=getNative$1(Object,"defineProperty");return t({},"",{}),t}catch{}})();function baseAssignValue(t,e,n){e=="__proto__"&&defineProperty?defineProperty(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function assignMergeValue(t,e,n){(n!==void 0&&!eq$1(t[e],n)||n===void 0&&!(e in t))&&baseAssignValue(t,e,n)}function createBaseFor(t){return function(e,n,o){for(var s=-1,a=Object(e),l=o(e),d=l.length;d--;){var h=l[++s];if(n(a[h],h,a)===!1)break}return e}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$2.Buffer:void 0;Buffer$1&&Buffer$1.allocUnsafe;function cloneBuffer(t,e){return t.slice()}var Uint8Array$1=root$2.Uint8Array;function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(t)),e}function cloneTypedArray(t,e){var n=cloneArrayBuffer(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function copyArray(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}var objectCreate=Object.create,baseCreate=(function(){function t(){}return function(e){if(!isObject$4(e))return{};if(objectCreate)return objectCreate(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function overArg(t,e){return function(n){return t(e(n))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$a=Object.prototype;function isPrototype(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||objectProto$a;return t===n}function initCloneObject(t){return typeof t.constructor=="function"&&!isPrototype(t)?baseCreate(getPrototype(t)):{}}function isObjectLike$1(t){return t!=null&&typeof t=="object"}var argsTag$2="[object Arguments]";function baseIsArguments(t){return isObjectLike$1(t)&&baseGetTag(t)==argsTag$2}var objectProto$9=Object.prototype,hasOwnProperty$9=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments=baseIsArguments((function(){return arguments})())?baseIsArguments:function(t){return isObjectLike$1(t)&&hasOwnProperty$9.call(t,"callee")&&!propertyIsEnumerable$1.call(t,"callee")},isArray$1=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER$1}function isArrayLike(t){return t!=null&&isLength(t.length)&&!isFunction$2(t)}function isArrayLikeObject(t){return isObjectLike$1(t)&&isArrayLike(t)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root$2.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$3="[object Object]",funcProto$1=Function.prototype,objectProto$8=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$8=objectProto$8.hasOwnProperty,objectCtorString=funcToString$1.call(Object);function isPlainObject$1(t){if(!isObjectLike$1(t)||baseGetTag(t)!=objectTag$3)return!1;var e=getPrototype(t);if(e===null)return!0;var n=hasOwnProperty$8.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&funcToString$1.call(n)==objectCtorString}var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(t){return isObjectLike$1(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag(t)]}function baseUnary(t){return function(e){return t(e)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil=(function(){try{var t=freeModule&&freeModule.require&&freeModule.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}})(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function assignValue(t,e,n){var o=t[e];(!(hasOwnProperty$7.call(t,e)&&eq$1(o,n))||n===void 0&&!(e in t))&&baseAssignValue(t,e,n)}function copyObject(t,e,n,o){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var d=e[a],h=void 0;h===void 0&&(h=t[d]),s?baseAssignValue(n,d,h):assignValue(n,d,h)}return n}function baseTimes(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var n=typeof t;return e=e??MAX_SAFE_INTEGER,!!e&&(n=="number"||n!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(t,e){var n=isArray$1(t),o=!n&&isArguments(t),s=!n&&!o&&isBuffer(t),a=!n&&!o&&!s&&isTypedArray(t),l=n||o||s||a,d=l?baseTimes(t.length,String):[],h=d.length;for(var _ in t)(e||hasOwnProperty$6.call(t,_))&&!(l&&(_=="length"||s&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||isIndex(_,h)))&&d.push(_);return d}function nativeKeysIn(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeysIn(t){if(!isObject$4(t))return nativeKeysIn(t);var e=isPrototype(t),n=[];for(var o in t)o=="constructor"&&(e||!hasOwnProperty$5.call(t,o))||n.push(o);return n}function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}function toPlainObject(t){return copyObject(t,keysIn(t))}function baseMergeDeep(t,e,n,o,s,a,l){var d=safeGet(t,n),h=safeGet(e,n),_=l.get(h);if(_){assignMergeValue(t,n,_);return}var p=a?a(d,h,n+"",t,e,l):void 0,u=p===void 0;if(u){var m=isArray$1(h),g=!m&&isBuffer(h),y=!m&&!g&&isTypedArray(h);p=h,m||g||y?isArray$1(d)?p=d:isArrayLikeObject(d)?p=copyArray(d):g?(u=!1,p=cloneBuffer(h)):y?(u=!1,p=cloneTypedArray(h)):p=[]:isPlainObject$1(h)||isArguments(h)?(p=d,isArguments(d)?p=toPlainObject(d):(!isObject$4(d)||isFunction$2(d))&&(p=initCloneObject(h))):u=!1}u&&(l.set(h,p),s(p,h,o,a,l),l.delete(h)),assignMergeValue(t,n,p)}function baseMerge(t,e,n,o,s){t!==e&&baseFor(e,function(a,l){if(s||(s=new Stack),isObject$4(a))baseMergeDeep(t,e,l,n,baseMerge,o,s);else{var d=o?o(safeGet(t,l),a,l+"",t,e,s):void 0;d===void 0&&(d=a),assignMergeValue(t,l,d)}},keysIn)}function identity$1(t){return t}function apply(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var nativeMax$1=Math.max;function overRest(t,e,n){return e=nativeMax$1(e===void 0?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=nativeMax$1(o.length-e,0),l=Array(a);++s<a;)l[s]=o[e+s];s=-1;for(var d=Array(e+1);++s<e;)d[s]=o[s];return d[e]=n(l),apply(t,this,d)}}function constant(t){return function(){return t}}var baseSetToString=defineProperty?function(t,e){return defineProperty(t,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(t){var e=0,n=0;return function(){var o=nativeNow(),s=HOT_SPAN-(o-n);if(n=o,s>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(t,e){return setToString(overRest(t,e,identity$1),t+"")}function isIterateeCall(t,e,n){if(!isObject$4(n))return!1;var o=typeof e;return(o=="number"?isArrayLike(n)&&isIndex(e,n.length):o=="string"&&e in n)?eq$1(n[e],t):!1}function createAssigner(t){return baseRest(function(e,n){var o=-1,s=n.length,a=s>1?n[s-1]:void 0,l=s>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,l&&isIterateeCall(n[0],n[1],l)&&(a=s<3?void 0:a,s=1),e=Object(e);++o<s;){var d=n[o];d&&t(e,d,o,a)}return e})}var merge=createAssigner(function(t,e,n){baseMerge(t,e,n)}),now=function(){return root$2.Date.now()},reWhitespace=/\s/;function trimmedEndIndex(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}var symbolTag$2="[object Symbol]";function isSymbol$1(t){return typeof t=="symbol"||isObjectLike$1(t)&&baseGetTag(t)==symbolTag$2}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(t){if(typeof t=="number")return t;if(isSymbol$1(t))return NAN;if(isObject$4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=isObject$4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=baseTrim(t);var n=reIsBinary.test(t);return n||reIsOctal.test(t)?freeParseInt(t.slice(2),n?2:8):reIsBadHex.test(t)?NAN:+t}var FUNC_ERROR_TEXT$3="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(t,e,n){var o,s,a,l,d,h,_=0,p=!1,u=!1,m=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$3);e=toNumber(e)||0,isObject$4(n)&&(p=!!n.leading,u="maxWait"in n,a=u?nativeMax(toNumber(n.maxWait)||0,e):a,m="trailing"in n?!!n.trailing:m);function g(E){var D=o,I=s;return o=s=void 0,_=E,l=t.apply(I,D),l}function y(E){return _=E,d=setTimeout(b,e),p?g(E):l}function v(E){var D=E-h,I=E-_,R=e-D;return u?nativeMin(R,a-I):R}function S(E){var D=E-h,I=E-_;return h===void 0||D>=e||D<0||u&&I>=a}function b(){var E=now();if(S(E))return C(E);d=setTimeout(b,v(E))}function C(E){return d=void 0,m&&o?g(E):(o=s=void 0,l)}function w(){d!==void 0&&clearTimeout(d),_=0,o=h=s=d=void 0}function A(){return d===void 0?l:C(now())}function $(){var E=now(),D=S(E);if(o=arguments,s=this,h=E,D){if(d===void 0)return y(h);if(u)return clearTimeout(d),d=setTimeout(b,e),g(h)}return d===void 0&&(d=setTimeout(b,e)),l}return $.cancel=w,$.flush=A,$}var FUNC_ERROR_TEXT$2="Expected a function";function throttle(t,e,n){var o=!0,s=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$2);return isObject$4(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),debounce(t,e,{leading:o,maxWait:e,trailing:s})}function arrayEach(t,e){for(var n=-1,o=t==null?0:t.length;++n<o&&e(t[n],n,t)!==!1;);return t}var nativeKeys=overArg(Object.keys,Object),objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys(t);var e=[];for(var n in Object(t))hasOwnProperty$4.call(t,n)&&n!="constructor"&&e.push(n);return e}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function baseForOwn(t,e){return t&&baseFor(t,e,keys)}function createBaseEach(t,e){return function(n,o){if(n==null)return n;if(!isArrayLike(n))return t(n,o);for(var s=n.length,a=-1,l=Object(n);++a<s&&o(l[a],a,l)!==!1;);return n}}var baseEach=createBaseEach(baseForOwn);function castFunction(t){return typeof t=="function"?t:identity$1}function forEach$1(t,e){var n=isArray$1(t)?arrayEach:baseEach;return n(t,castFunction(e))}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(t,e){if(t=t||"",e=e||{},t instanceof tinycolor)return t;if(!(this instanceof tinycolor))return new tinycolor(t,e);var n=inputToRGB(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}tinycolor.prototype={isDark:function t(){return this.getBrightness()<128},isLight:function t(){return!this.isDark()},isValid:function t(){return this._ok},getOriginalInput:function t(){return this._originalInput},getFormat:function t(){return this._format},getAlpha:function t(){return this._a},getBrightness:function t(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function t(){var e=this.toRgb(),n,o,s,a,l,d;return n=e.r/255,o=e.g/255,s=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),s<=.03928?d=s/12.92:d=Math.pow((s+.055)/1.055,2.4),.2126*a+.7152*l+.0722*d},setAlpha:function t(e){return this._a=boundAlpha(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function t(){var e=rgbToHsv(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function t(){var e=rgbToHsv(this._r,this._g,this._b),n=Math.round(e.h*360),o=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+o+"%, "+s+"%)":"hsva("+n+", "+o+"%, "+s+"%, "+this._roundA+")"},toHsl:function t(){var e=rgbToHsl(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function t(){var e=rgbToHsl(this._r,this._g,this._b),n=Math.round(e.h*360),o=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+o+"%, "+s+"%)":"hsla("+n+", "+o+"%, "+s+"%, "+this._roundA+")"},toHex:function t(e){return rgbToHex(this._r,this._g,this._b,e)},toHexString:function t(e){return"#"+this.toHex(e)},toHex8:function t(e){return rgbaToHex(this._r,this._g,this._b,this._a,e)},toHex8String:function t(e){return"#"+this.toHex8(e)},toRgb:function t(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function t(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function t(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function t(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function t(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function t(e){var n="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),o=n,s=this._gradientType?"GradientType = 1, ":"";if(e){var a=tinycolor(e);o="#"+rgbaToArgbHex(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+o+")"},toString:function t(e){var n=!!e;e=e||this._format;var o=!1,s=this._a<1&&this._a>=0,a=!n&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(o=this.toRgbString()),e==="prgb"&&(o=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(o=this.toHexString()),e==="hex3"&&(o=this.toHexString(!0)),e==="hex4"&&(o=this.toHex8String(!0)),e==="hex8"&&(o=this.toHex8String()),e==="name"&&(o=this.toName()),e==="hsl"&&(o=this.toHslString()),e==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},clone:function t(){return tinycolor(this.toString())},_applyModification:function t(e,n){var o=e.apply(null,[this].concat([].slice.call(n)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function t(){return this._applyModification(_lighten,arguments)},brighten:function t(){return this._applyModification(_brighten,arguments)},darken:function t(){return this._applyModification(_darken,arguments)},desaturate:function t(){return this._applyModification(_desaturate,arguments)},saturate:function t(){return this._applyModification(_saturate,arguments)},greyscale:function t(){return this._applyModification(_greyscale,arguments)},spin:function t(){return this._applyModification(_spin,arguments)},_applyCombination:function t(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function t(){return this._applyCombination(_analogous,arguments)},complement:function t(){return this._applyCombination(_complement,arguments)},monochromatic:function t(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function t(){return this._applyCombination(_splitcomplement,arguments)},triad:function t(){return this._applyCombination(polyad,[3])},tetrad:function t(){return this._applyCombination(polyad,[4])}};tinycolor.fromRatio=function(t,e){if(_typeof$1(t)=="object"){var n={};for(var o in t)t.hasOwnProperty(o)&&(o==="a"?n[o]=t[o]:n[o]=convertToPercentage(t[o]));t=n}return tinycolor(t,e)};function inputToRGB(t){var e={r:0,g:0,b:0},n=1,o=null,s=null,a=null,l=!1,d=!1;return typeof t=="string"&&(t=stringInputToObject(t)),_typeof$1(t)=="object"&&(isValidCSSUnit(t.r)&&isValidCSSUnit(t.g)&&isValidCSSUnit(t.b)?(e=rgbToRgb(t.r,t.g,t.b),l=!0,d=String(t.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.v)?(o=convertToPercentage(t.s),s=convertToPercentage(t.v),e=hsvToRgb(t.h,o,s),l=!0,d="hsv"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.l)&&(o=convertToPercentage(t.s),a=convertToPercentage(t.l),e=hslToRgb(t.h,o,a),l=!0,d="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=boundAlpha(n),{ok:l,format:t.format||d,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function rgbToRgb(t,e,n){return{r:bound01(t,255)*255,g:bound01(e,255)*255,b:bound01(n,255)*255}}function rgbToHsl(t,e,n){t=bound01(t,255),e=bound01(e,255),n=bound01(n,255);var o=Math.max(t,e,n),s=Math.min(t,e,n),a,l,d=(o+s)/2;if(o==s)a=l=0;else{var h=o-s;switch(l=d>.5?h/(2-o-s):h/(o+s),o){case t:a=(e-n)/h+(e<n?6:0);break;case e:a=(n-t)/h+2;break;case n:a=(t-e)/h+4;break}a/=6}return{h:a,s:l,l:d}}function hslToRgb(t,e,n){var o,s,a;t=bound01(t,360),e=bound01(e,100),n=bound01(n,100);function l(_,p,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?_+(p-_)*6*u:u<1/2?p:u<2/3?_+(p-_)*(2/3-u)*6:_}if(e===0)o=s=a=n;else{var d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=l(h,d,t+1/3),s=l(h,d,t),a=l(h,d,t-1/3)}return{r:o*255,g:s*255,b:a*255}}function rgbToHsv(t,e,n){t=bound01(t,255),e=bound01(e,255),n=bound01(n,255);var o=Math.max(t,e,n),s=Math.min(t,e,n),a,l,d=o,h=o-s;if(l=o===0?0:h/o,o==s)a=0;else{switch(o){case t:a=(e-n)/h+(e<n?6:0);break;case e:a=(n-t)/h+2;break;case n:a=(t-e)/h+4;break}a/=6}return{h:a,s:l,v:d}}function hsvToRgb(t,e,n){t=bound01(t,360)*6,e=bound01(e,100),n=bound01(n,100);var o=Math.floor(t),s=t-o,a=n*(1-e),l=n*(1-s*e),d=n*(1-(1-s)*e),h=o%6,_=[n,l,a,a,d,n][h],p=[d,n,n,l,a,a][h],u=[a,a,d,n,n,l][h];return{r:_*255,g:p*255,b:u*255}}function rgbToHex(t,e,n,o){var s=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(n).toString(16))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function rgbaToHex(t,e,n,o,s){var a=[pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(n).toString(16)),pad2(convertDecimalToHex(o))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function rgbaToArgbHex(t,e,n,o){var s=[pad2(convertDecimalToHex(o)),pad2(Math.round(t).toString(16)),pad2(Math.round(e).toString(16)),pad2(Math.round(n).toString(16))];return s.join("")}tinycolor.equals=function(t,e){return!t||!e?!1:tinycolor(t).toRgbString()==tinycolor(e).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(t,e){e=e===0?0:e||10;var n=tinycolor(t).toHsl();return n.s-=e/100,n.s=clamp01(n.s),tinycolor(n)}function _saturate(t,e){e=e===0?0:e||10;var n=tinycolor(t).toHsl();return n.s+=e/100,n.s=clamp01(n.s),tinycolor(n)}function _greyscale(t){return tinycolor(t).desaturate(100)}function _lighten(t,e){e=e===0?0:e||10;var n=tinycolor(t).toHsl();return n.l+=e/100,n.l=clamp01(n.l),tinycolor(n)}function _brighten(t,e){e=e===0?0:e||10;var n=tinycolor(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),tinycolor(n)}function _darken(t,e){e=e===0?0:e||10;var n=tinycolor(t).toHsl();return n.l-=e/100,n.l=clamp01(n.l),tinycolor(n)}function _spin(t,e){var n=tinycolor(t).toHsl(),o=(n.h+e)%360;return n.h=o<0?360+o:o,tinycolor(n)}function _complement(t){var e=tinycolor(t).toHsl();return e.h=(e.h+180)%360,tinycolor(e)}function polyad(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=tinycolor(t).toHsl(),o=[tinycolor(t)],s=360/e,a=1;a<e;a++)o.push(tinycolor({h:(n.h+a*s)%360,s:n.s,l:n.l}));return o}function _splitcomplement(t){var e=tinycolor(t).toHsl(),n=e.h;return[tinycolor(t),tinycolor({h:(n+72)%360,s:e.s,l:e.l}),tinycolor({h:(n+216)%360,s:e.s,l:e.l})]}function _analogous(t,e,n){e=e||6,n=n||30;var o=tinycolor(t).toHsl(),s=360/n,a=[tinycolor(t)];for(o.h=(o.h-(s*e>>1)+720)%360;--e;)o.h=(o.h+s)%360,a.push(tinycolor(o));return a}function _monochromatic(t,e){e=e||6;for(var n=tinycolor(t).toHsv(),o=n.h,s=n.s,a=n.v,l=[],d=1/e;e--;)l.push(tinycolor({h:o,s,v:a})),a=(a+d)%1;return l}tinycolor.mix=function(t,e,n){n=n===0?0:n||50;var o=tinycolor(t).toRgb(),s=tinycolor(e).toRgb(),a=n/100,l={r:(s.r-o.r)*a+o.r,g:(s.g-o.g)*a+o.g,b:(s.b-o.b)*a+o.b,a:(s.a-o.a)*a+o.a};return tinycolor(l)};tinycolor.readability=function(t,e){var n=tinycolor(t),o=tinycolor(e);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)};tinycolor.isReadable=function(t,e,n){var o=tinycolor.readability(t,e),s,a;switch(a=!1,s=validateWCAG2Parms(n),s.level+s.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7;break}return a};tinycolor.mostReadable=function(t,e,n){var o=null,s=0,a,l,d,h;n=n||{},l=n.includeFallbackColors,d=n.level,h=n.size;for(var _=0;_<e.length;_++)a=tinycolor.readability(t,e[_]),a>s&&(s=a,o=tinycolor(e[_]));return tinycolor.isReadable(t,o,{level:d,size:h})||!l?o:(n.includeFallbackColors=!1,tinycolor.mostReadable(t,["#fff","#000"],n))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names);function flip(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function boundAlpha(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function bound01(t,e){isOnePointZero(t)&&(t="100%");var n=isPercentage(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function clamp01(t){return Math.min(1,Math.max(0,t))}function parseIntFromHex(t){return parseInt(t,16)}function isOnePointZero(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function isPercentage(t){return typeof t=="string"&&t.indexOf("%")!=-1}function pad2(t){return t.length==1?"0"+t:""+t}function convertToPercentage(t){return t<=1&&(t=t*100+"%"),t}function convertDecimalToHex(t){return Math.round(parseFloat(t)*255).toString(16)}function convertHexToDecimal(t){return parseIntFromHex(t)/255}var matchers=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+o),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+o),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+o),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function isValidCSSUnit(t){return!!matchers.CSS_UNIT.exec(t)}function stringInputToObject(t){t=t.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var e=!1;if(names[t])t=names[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=matchers.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=matchers.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=matchers.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=matchers.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=matchers.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=matchers.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=matchers.hex8.exec(t))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:e?"name":"hex8"}:(n=matchers.hex6.exec(t))?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:e?"name":"hex"}:(n=matchers.hex4.exec(t))?{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),a:convertHexToDecimal(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=matchers.hex3.exec(t))?{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function validateWCAG2Parms(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function arrayMap(t,e){for(var n=-1,o=t==null?0:t.length,s=Array(o);++n<o;)s[n]=e(t[n],n,t);return s}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function setCacheAdd(t){return this.__data__.set(t,HASH_UNDEFINED$1),this}function setCacheHas(t){return this.__data__.has(t)}function SetCache(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new MapCache$1;++e<n;)this.add(t[e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(t,e){for(var n=-1,o=t==null?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function cacheHas(t,e){return t.has(e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(t,e,n,o,s,a){var l=n&COMPARE_PARTIAL_FLAG$5,d=t.length,h=e.length;if(d!=h&&!(l&&h>d))return!1;var _=a.get(t),p=a.get(e);if(_&&p)return _==e&&p==t;var u=-1,m=!0,g=n&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(a.set(t,e),a.set(e,t);++u<d;){var y=t[u],v=e[u];if(o)var S=l?o(v,y,u,e,t,a):o(y,v,u,t,e,a);if(S!==void 0){if(S)continue;m=!1;break}if(g){if(!arraySome(e,function(b,C){if(!cacheHas(g,C)&&(y===b||s(y,b,n,o,a)))return g.push(C)})){m=!1;break}}else if(!(y===v||s(y,v,n,o,a))){m=!1;break}}return a.delete(t),a.delete(e),m}function mapToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(o,s){n[++e]=[s,o]}),n}function setToArray(t){var e=-1,n=Array(t.size);return t.forEach(function(o){n[++e]=o}),n}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(t,e,n,o,s,a,l){switch(n){case dataViewTag$1:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag:return!(t.byteLength!=e.byteLength||!a(new Uint8Array$1(t),new Uint8Array$1(e)));case boolTag:case dateTag:case numberTag:return eq$1(+t,+e);case errorTag:return t.name==e.name&&t.message==e.message;case regexpTag:case stringTag:return t==e+"";case mapTag$1:var d=mapToArray;case setTag$1:var h=o&COMPARE_PARTIAL_FLAG$4;if(d||(d=setToArray),t.size!=e.size&&!h)return!1;var _=l.get(t);if(_)return _==e;o|=COMPARE_UNORDERED_FLAG$2,l.set(t,e);var p=equalArrays(d(t),d(e),o,s,a,l);return l.delete(t),p;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(e)}return!1}function arrayPush(t,e){for(var n=-1,o=e.length,s=t.length;++n<o;)t[s+n]=e[n];return t}function baseGetAllKeys(t,e,n){var o=e(t);return isArray$1(t)?o:arrayPush(o,n(t))}function arrayFilter(t,e){for(var n=-1,o=t==null?0:t.length,s=0,a=[];++n<o;){var l=t[n];e(l,n,t)&&(a[s++]=l)}return a}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols(t),function(e){return propertyIsEnumerable.call(t,e)}))}:stubArray;function getAllKeys(t){return baseGetAllKeys(t,keys,getSymbols)}var COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects(t,e,n,o,s,a){var l=n&COMPARE_PARTIAL_FLAG$3,d=getAllKeys(t),h=d.length,_=getAllKeys(e),p=_.length;if(h!=p&&!l)return!1;for(var u=h;u--;){var m=d[u];if(!(l?m in e:hasOwnProperty$3.call(e,m)))return!1}var g=a.get(t),y=a.get(e);if(g&&y)return g==e&&y==t;var v=!0;a.set(t,e),a.set(e,t);for(var S=l;++u<h;){m=d[u];var b=t[m],C=e[m];if(o)var w=l?o(C,b,m,e,t,a):o(b,C,m,t,e,a);if(!(w===void 0?b===C||s(b,C,n,o,a):w)){v=!1;break}S||(S=m=="constructor")}if(v&&!S){var A=t.constructor,$=e.constructor;A!=$&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof $=="function"&&$ instanceof $)&&(v=!1)}return a.delete(t),a.delete(e),v}var DataView$1=getNative$1(root$2,"DataView"),Promise$1=getNative$1(root$2,"Promise"),Set$1=getNative$1(root$2,"Set"),WeakMap$1=getNative$1(root$2,"WeakMap"),mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource$1(DataView$1),mapCtorString=toSource$1(Map$2),promiseCtorString=toSource$1(Promise$1),setCtorString=toSource$1(Set$1),weakMapCtorString=toSource$1(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$2&&getTag(new Map$2)!=mapTag||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(t){var e=baseGetTag(t),n=e==objectTag$1?t.constructor:void 0,o=n?toSource$1(n):"";if(o)switch(o){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return e});var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep(t,e,n,o,s,a){var l=isArray$1(t),d=isArray$1(e),h=l?arrayTag:getTag(t),_=d?arrayTag:getTag(e);h=h==argsTag?objectTag:h,_=_==argsTag?objectTag:_;var p=h==objectTag,u=_==objectTag,m=h==_;if(m&&isBuffer(t)){if(!isBuffer(e))return!1;l=!0,p=!1}if(m&&!p)return a||(a=new Stack),l||isTypedArray(t)?equalArrays(t,e,n,o,s,a):equalByTag(t,e,h,n,o,s,a);if(!(n&COMPARE_PARTIAL_FLAG$2)){var g=p&&hasOwnProperty$2.call(t,"__wrapped__"),y=u&&hasOwnProperty$2.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,S=y?e.value():e;return a||(a=new Stack),s(v,S,n,o,a)}}return m?(a||(a=new Stack),equalObjects(t,e,n,o,s,a)):!1}function baseIsEqual(t,e,n,o,s){return t===e?!0:t==null||e==null||!isObjectLike$1(t)&&!isObjectLike$1(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,n,o,baseIsEqual,s)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(t,e,n,o){var s=n.length,a=s;if(t==null)return!a;for(t=Object(t);s--;){var l=n[s];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){l=n[s];var d=l[0],h=t[d],_=l[1];if(l[2]){if(h===void 0&&!(d in t))return!1}else{var p=new Stack,u;if(!(u===void 0?baseIsEqual(_,h,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,o,p):u))return!1}}return!0}function isStrictComparable(t){return t===t&&!isObject$4(t)}function getMatchData(t){for(var e=keys(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,isStrictComparable(s)]}return e}function matchesStrictComparable(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function baseMatches(t){var e=getMatchData(t);return e.length==1&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(n){return n===t||baseIsMatch(n,t,e)}}var reIsDeepProp$1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp$1=/^\w*$/;function isKey$1(t,e){if(isArray$1(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||isSymbol$1(t)?!0:reIsPlainProp$1.test(t)||!reIsDeepProp$1.test(t)||e!=null&&t in Object(e)}var FUNC_ERROR_TEXT$1="Expected a function";function memoize$1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var n=function(){var o=arguments,s=e?e.apply(this,o):o[0],a=n.cache;if(a.has(s))return a.get(s);var l=t.apply(this,o);return n.cache=a.set(s,l)||a,l};return n.cache=new(memoize$1.Cache||MapCache$1),n}memoize$1.Cache=MapCache$1;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var e=memoize$1(t,function(o){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),o}),n=e.cache;return e}var rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rePropName$1,function(n,o,s,a){e.push(s?a.replace(reEscapeChar$1,"$1"):o||n)}),e}),symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolToString$1=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(t){if(typeof t=="string")return t;if(isArray$1(t))return arrayMap(t,baseToString$1)+"";if(isSymbol$1(t))return symbolToString$1?symbolToString$1.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function toString$1(t){return t==null?"":baseToString$1(t)}function castPath$1(t,e){return isArray$1(t)?t:isKey$1(t,e)?[t]:stringToPath$1(toString$1(t))}function toKey$1(t){if(typeof t=="string"||isSymbol$1(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function baseGet$1(t,e){e=castPath$1(e,t);for(var n=0,o=e.length;t!=null&&n<o;)t=t[toKey$1(e[n++])];return n&&n==o?t:void 0}function get$1(t,e,n){var o=t==null?void 0:baseGet$1(t,e);return o===void 0?n:o}function baseHasIn(t,e){return t!=null&&e in Object(t)}function hasPath(t,e,n){e=castPath$1(e,t);for(var o=-1,s=e.length,a=!1;++o<s;){var l=toKey$1(e[o]);if(!(a=t!=null&&n(t,l)))break;t=t[l]}return a||++o!=s?a:(s=t==null?0:t.length,!!s&&isLength(s)&&isIndex(l,s)&&(isArray$1(t)||isArguments(t)))}function hasIn(t,e){return t!=null&&hasPath(t,e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(t,e){return isKey$1(t)&&isStrictComparable(e)?matchesStrictComparable(toKey$1(t),e):function(n){var o=get$1(n,t);return o===void 0&&o===e?hasIn(n,t):baseIsEqual(e,o,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(t){return function(e){return e==null?void 0:e[t]}}function basePropertyDeep(t){return function(e){return baseGet$1(e,t)}}function property(t){return isKey$1(t)?baseProperty(toKey$1(t)):basePropertyDeep(t)}function baseIteratee(t){return typeof t=="function"?t:t==null?identity$1:typeof t=="object"?isArray$1(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function baseMap(t,e){var n=-1,o=isArrayLike(t)?Array(t.length):[];return baseEach(t,function(s,a,l){o[++n]=e(s,a,l)}),o}function map(t,e){var n=isArray$1(t)?arrayMap:baseMap;return n(t,baseIteratee(e))}var red={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},pink={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},purple={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},deepPurple={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},indigo={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},blue={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},lightBlue={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},cyan={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},teal={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},green={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},lightGreen={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},lime={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},yellow={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},amber={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},orange={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},deepOrange={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},brown={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},blueGrey={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"};function isUndefined$1(t){return t===void 0}var UnfoldMoreHorizontalIcon={};Object.defineProperty(UnfoldMoreHorizontalIcon,"__esModule",{value:!0});var _extends$1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_react$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__,_react2$1=_interopRequireDefault$1(_react$1);function _interopRequireDefault$1(t){return t&&t.__esModule?t:{default:t}}function _objectWithoutProperties$1(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var DEFAULT_SIZE$1=24,_default$2=UnfoldMoreHorizontalIcon.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,o=t.width,s=o===void 0?DEFAULT_SIZE$1:o,a=t.height,l=a===void 0?DEFAULT_SIZE$1:a,d=t.style,h=d===void 0?{}:d,_=_objectWithoutProperties$1(t,["fill","width","height","style"]);return _react2$1.default.createElement("svg",_extends$1({viewBox:"0 0 "+DEFAULT_SIZE$1+" "+DEFAULT_SIZE$1,style:_extends$1({fill:n,width:s,height:l},h)},_),_react2$1.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},CheckIcon={};Object.defineProperty(CheckIcon,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_react=AdminComponentEasyAccessSet__loadShare__react__loadShare__,_react2=_interopRequireDefault(_react);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _objectWithoutProperties(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var DEFAULT_SIZE=24,_default$1=CheckIcon.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,o=t.width,s=o===void 0?DEFAULT_SIZE:o,a=t.height,l=a===void 0?DEFAULT_SIZE:a,d=t.style,h=d===void 0?{}:d,_=_objectWithoutProperties(t,["fill","width","height","style"]);return _react2.default.createElement("svg",_extends({viewBox:"0 0 "+DEFAULT_SIZE+" "+DEFAULT_SIZE,style:_extends({fill:n,width:s,height:l},h)},_),_react2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},cronstrue$1={exports:{}};(function(t,e){(function(o,s){t.exports=s()})(globalThis,()=>(()=>{var n={949:((l,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CronParser=void 0;var _=h(515),p=(function(){function u(m,g,y){g===void 0&&(g=!0),y===void 0&&(y=!1),this.expression=m,this.dayOfWeekStartIndexZero=g,this.monthStartIndexZero=y}return u.prototype.parse=function(){var m,g,y=(m=this.expression)!==null&&m!==void 0?m:"";if(y==="@reboot")return g=["@reboot","","","","","",""],g;if(y.startsWith("@")){var v=this.parseSpecial(this.expression);g=this.extractParts(v)}else g=this.extractParts(this.expression);return this.normalize(g),this.validate(g),g},u.prototype.parseSpecial=function(m){var g={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *","@reboot":"@reboot"},y=g[m];if(!y)throw new Error("Unknown special expression.");return y},u.prototype.extractParts=function(m){if(!this.expression)throw new Error("cron expression is empty");for(var g=m.trim().split(/[ ]+/),y=0;y<g.length;y++)if(g[y].includes(",")){var v=g[y].split(",").map(function(b){return b.trim()}).filter(function(b){return b!==""}).map(function(b){return isNaN(Number(b))?b:Number(b)}).filter(function(b){return b!==null&&b!==""});v.length===0&&v.push("*"),v.sort(function(b,C){return b!==null&&C!==null?b-C:0}),g[y]=v.map(function(b){return b!==null?b.toString():""}).join(",")}if(g.length<5)throw new Error("Expression has only ".concat(g.length," part").concat(g.length==1?"":"s",". At least 5 parts are required."));if(g.length==5)g.unshift(""),g.push("");else if(g.length==6){var S=/\d{4}$/.test(g[5])||g[4]=="?"||g[2]=="?";S?g.unshift(""):g.push("")}else if(g.length>7)throw new Error("Expression has ".concat(g.length," parts; too many!"));return g},u.prototype.normalize=function(m){var g=this;if(m[3]=m[3].replace("?","*"),m[5]=m[5].replace("?","*"),m[2]=m[2].replace("?","*"),m[0].indexOf("0/")==0&&(m[0]=m[0].replace("0/","*/")),m[1].indexOf("0/")==0&&(m[1]=m[1].replace("0/","*/")),m[2].indexOf("0/")==0&&(m[2]=m[2].replace("0/","*/")),m[3].indexOf("1/")==0&&(m[3]=m[3].replace("1/","*/")),m[4].indexOf("1/")==0&&(m[4]=m[4].replace("1/","*/")),m[6].indexOf("1/")==0&&(m[6]=m[6].replace("1/","*/")),m[5]=m[5].replace(/(^\d)|([^#/\s]\d)/g,function($){var E=$.replace(/\D/,""),D=E;return g.dayOfWeekStartIndexZero?E=="7"&&(D="0"):D=(parseInt(E)-1).toString(),$.replace(E,D)}),m[5]=="L"&&(m[5]="6"),m[3]=="?"&&(m[3]="*"),m[3].indexOf("W")>-1&&(m[3].indexOf(",")>-1||m[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var y={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var v in y)m[5]=m[5].replace(new RegExp(v,"gi"),y[v].toString());m[4]=m[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function($){var E=$.replace(/\D/,""),D=E;return g.monthStartIndexZero&&(D=(parseInt(E)+1).toString()),$.replace(E,D)});var S={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var b in S)m[4]=m[4].replace(new RegExp(b,"gi"),S[b].toString());m[0]=="0"&&(m[0]=""),!/\*|\-|\,|\//.test(m[2])&&(/\*|\//.test(m[1])||/\*|\//.test(m[0]))&&(m[2]+="-".concat(m[2]));for(var C=0;C<m.length;C++)if(m[C].indexOf(",")!=-1&&(m[C]=m[C].split(",").filter(function($){return $!==""}).join(",")||"*"),m[C]=="*/1"&&(m[C]="*"),m[C].indexOf("/")>-1&&!/^\*|\-|\,/.test(m[C])){var w=null;switch(C){case 4:w="12";break;case 5:w="6";break;case 6:w="9999";break;default:w=null;break}if(w!==null){var A=m[C].split("/");m[C]="".concat(A[0],"-").concat(w,"/").concat(A[1])}}},u.prototype.validate=function(m){var g="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(m[0],g),this.validateOnlyExpectedCharactersFound(m[1],g),this.validateOnlyExpectedCharactersFound(m[2],g),this.validateOnlyExpectedCharactersFound(m[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(m[4],g),this.validateOnlyExpectedCharactersFound(m[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(m[6],g),this.validateAnyRanges(m)},u.prototype.validateAnyRanges=function(m){_.default.secondRange(m[0]),_.default.minuteRange(m[1]),_.default.hourRange(m[2]),_.default.dayOfMonthRange(m[3]),_.default.monthRange(m[4],this.monthStartIndexZero),_.default.dayOfWeekRange(m[5],this.dayOfWeekStartIndexZero)},u.prototype.validateOnlyExpectedCharactersFound=function(m,g){var y=m.match(new RegExp("[^".concat(g,"]+"),"gi"));if(y&&y.length)throw new Error("Expression contains invalid values: '".concat(y.toString(),"'"))},u})();d.CronParser=p}),333:((l,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExpressionDescriptor=void 0;var _=h(823),p=h(949),u=(function(){function m(g,y){if(this.expression=g,this.options=y,this.expressionParts=new Array(5),!this.options.locale&&m.defaultLocale&&(this.options.locale=m.defaultLocale),!m.locales[this.options.locale]){var v=Object.keys(m.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(v,"'.")),this.options.locale=v}this.i18n=m.locales[this.options.locale],y.use24HourTimeFormat===void 0&&(y.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return m.toString=function(g,y){var v=y===void 0?{}:y,S=v.throwExceptionOnParseError,b=S===void 0?!0:S,C=v.verbose,w=C===void 0?!1:C,A=v.dayOfWeekStartIndexZero,$=A===void 0?!0:A,E=v.monthStartIndexZero,D=E===void 0?!1:E,I=v.use24HourTimeFormat,R=v.locale,O=R===void 0?null:R,N={throwExceptionOnParseError:b,verbose:w,dayOfWeekStartIndexZero:$,monthStartIndexZero:D,use24HourTimeFormat:I,locale:O};N.tzOffset&&console.warn("'tzOffset' option has been deprecated and is no longer supported.");var M=new m(g,N);return M.getFullDescription()},m.initialize=function(g,y){y===void 0&&(y="en"),m.specialCharacters=["/","-",",","*"],m.defaultLocale=y,g.load(m.locales)},m.prototype.getFullDescription=function(){var g,y,v="";try{var S=new p.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);if(this.expressionParts=S.parse(),this.expressionParts[0]==="@reboot")return((y=(g=this.i18n).atReboot)===null||y===void 0?void 0:y.call(g))||"Run once, at startup";var b=this.getTimeOfDayDescription(),C=this.getDayOfMonthDescription(),w=this.getMonthDescription(),A=this.getDayOfWeekDescription(),$=this.getYearDescription();v+=b+C+A+w+$,v=this.transformVerbosity(v,!!this.options.verbose),v=v.charAt(0).toLocaleUpperCase()+v.substr(1)}catch(E){if(!this.options.throwExceptionOnParseError)v=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(E)}return v},m.prototype.getTimeOfDayDescription=function(){var g=this.expressionParts[0],y=this.expressionParts[1],v=this.expressionParts[2],S="";if(!_.StringUtilities.containsAny(y,m.specialCharacters)&&!_.StringUtilities.containsAny(v,m.specialCharacters)&&!_.StringUtilities.containsAny(g,m.specialCharacters))S+=this.i18n.atSpace()+this.formatTime(v,y,g);else if(!g&&y.indexOf("-")>-1&&!(y.indexOf(",")>-1)&&!(y.indexOf("/")>-1)&&!_.StringUtilities.containsAny(v,m.specialCharacters)){var b=y.split("-");S+=_.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(v,b[0],""),this.formatTime(v,b[1],""))}else if(!g&&v.indexOf(",")>-1&&v.indexOf("-")==-1&&v.indexOf("/")==-1&&!_.StringUtilities.containsAny(y,m.specialCharacters)){var C=v.split(",");S+=this.i18n.at();for(var w=0;w<C.length;w++)S+=" ",S+=this.formatTime(C[w],y,""),w<C.length-2&&(S+=","),w==C.length-2&&(S+=this.i18n.spaceAnd())}else{var A=this.getSecondsDescription(),$=this.getMinutesDescription(),E=this.getHoursDescription();if(S+=A,S&&$&&(S+=", "),S+=$,$===E)return S;S&&E&&(S+=", "),S+=E}return S},m.prototype.getSecondsDescription=function(){var g=this,y=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(v){return v},function(v){return _.StringUtilities.format(g.i18n.everyX0Seconds(v),v)},function(v){return g.i18n.secondsX0ThroughX1PastTheMinute()},function(v){return v=="0"?"":parseInt(v)<20?g.i18n.atX0SecondsPastTheMinute(v):g.i18n.atX0SecondsPastTheMinuteGt20()||g.i18n.atX0SecondsPastTheMinute(v)});return y},m.prototype.getMinutesDescription=function(){var g=this,y=this.expressionParts[0],v=this.expressionParts[2],S=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(b){return b},function(b){return _.StringUtilities.format(g.i18n.everyX0Minutes(b),b)},function(b){return g.i18n.minutesX0ThroughX1PastTheHour()},function(b){try{return b=="0"&&v.indexOf("/")==-1&&y==""?g.i18n.everyHour():parseInt(b)<20?g.i18n.atX0MinutesPastTheHour(b):g.i18n.atX0MinutesPastTheHourGt20()||g.i18n.atX0MinutesPastTheHour(b)}catch{return g.i18n.atX0MinutesPastTheHour(b)}});return S},m.prototype.getHoursDescription=function(){var g=this,y=this.expressionParts[2],v=0,S=[];y.split("/")[0].split(",").forEach(function(w){var A=w.split("-");A.length===2&&S.push({value:A[1],index:v+1}),v+=A.length});var b=0,C=this.getSegmentDescription(y,this.i18n.everyHour(),function(w){var A=S.find(function(E){return E.value===w&&E.index===b}),$=A&&g.expressionParts[1]!=="0";return b++,$?g.formatTime(w,"59",""):g.formatTime(w,"0","")},function(w){return _.StringUtilities.format(g.i18n.everyX0Hours(w),w)},function(w){return g.i18n.betweenX0AndX1()},function(w){return g.i18n.atX0()});return C},m.prototype.getDayOfWeekDescription=function(){var g=this,y=this.i18n.daysOfTheWeek(),v=null;return this.expressionParts[5]=="*"?v="":v=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(S,b){var C=S;S.indexOf("#")>-1?C=S.substring(0,S.indexOf("#")):S.indexOf("L")>-1&&(C=C.replace("L",""));var w=parseInt(C),A=g.i18n.daysOfTheWeekInCase?g.i18n.daysOfTheWeekInCase(b)[w]:y[w];if(S.indexOf("#")>-1){var $=null,E=S.substring(S.indexOf("#")+1),D=S.substring(0,S.indexOf("#"));switch(E){case"1":$=g.i18n.first(D);break;case"2":$=g.i18n.second(D);break;case"3":$=g.i18n.third(D);break;case"4":$=g.i18n.fourth(D);break;case"5":$=g.i18n.fifth(D);break}A=$+" "+A}return A},function(S){return parseInt(S)==1?"":_.StringUtilities.format(g.i18n.commaEveryX0DaysOfTheWeek(S),S)},function(S){var b=S.substring(0,S.indexOf("-")),C=g.expressionParts[3]!="*";return C?g.i18n.commaAndX0ThroughX1(b):g.i18n.commaX0ThroughX1(b)},function(S){var b=null;if(S.indexOf("#")>-1){var C=S.substring(S.indexOf("#")+1),w=S.substring(0,S.indexOf("#"));b=g.i18n.commaOnThe(C,w).trim()+g.i18n.spaceX0OfTheMonth()}else if(S.indexOf("L")>-1)b=g.i18n.commaOnTheLastX0OfTheMonth(S.replace("L",""));else{var A=g.expressionParts[3]!="*";b=A?g.i18n.commaAndOnX0():g.i18n.commaOnlyOnX0(S)}return b}),v},m.prototype.getMonthDescription=function(){var g=this,y=this.i18n.monthsOfTheYear(),v=this.getSegmentDescription(this.expressionParts[4],"",function(S,b){return b&&g.i18n.monthsOfTheYearInCase?g.i18n.monthsOfTheYearInCase(b)[parseInt(S)-1]:y[parseInt(S)-1]},function(S){return parseInt(S)==1?"":_.StringUtilities.format(g.i18n.commaEveryX0Months(S),S)},function(S){return g.i18n.commaMonthX0ThroughMonthX1()||g.i18n.commaX0ThroughX1()},function(S){return g.i18n.commaOnlyInMonthX0?g.i18n.commaOnlyInMonthX0():g.i18n.commaOnlyInX0()});return v},m.prototype.getDayOfMonthDescription=function(){var g=this,y=null,v=this.expressionParts[3];switch(v){case"L":y=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":y=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var S=v.match(/(\d{1,2}W)|(W\d{1,2})/);if(S){var b=parseInt(S[0].replace("W","")),C=b==1?this.i18n.firstWeekday():_.StringUtilities.format(this.i18n.weekdayNearestDayX0(),b.toString());y=_.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),C);break}else{var w=v.match(/L-(\d{1,2})/);if(w){var A=w[1];y=_.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(A),A);break}else{if(v=="*"&&this.expressionParts[5]!="*")return"";y=this.getSegmentDescription(v,this.i18n.commaEveryDay(),function($){return $=="L"?g.i18n.lastDay():g.i18n.dayX0?_.StringUtilities.format(g.i18n.dayX0(),$):$},function($){return $=="1"?g.i18n.commaEveryDay():g.i18n.commaEveryX0Days($)},function($){return g.i18n.commaBetweenDayX0AndX1OfTheMonth($)},function($){return g.i18n.commaOnDayX0OfTheMonth($)})}break}}return y},m.prototype.getYearDescription=function(){var g=this,y=this.getSegmentDescription(this.expressionParts[6],"",function(v){return/^\d+$/.test(v)?new Date(parseInt(v),1).getFullYear().toString():v},function(v){return _.StringUtilities.format(g.i18n.commaEveryX0Years(v),v)},function(v){return g.i18n.commaYearX0ThroughYearX1()||g.i18n.commaX0ThroughX1()},function(v){return g.i18n.commaOnlyInYearX0?g.i18n.commaOnlyInYearX0():g.i18n.commaOnlyInX0()});return y},m.prototype.getSegmentDescription=function(g,y,v,S,b,C){var w=null,A=g.indexOf("/")>-1,$=g.indexOf("-")>-1,E=g.indexOf(",")>-1;if(!g)w="";else if(g==="*")w=y;else if(!A&&!$&&!E)w=_.StringUtilities.format(C(g),v(g));else if(E){for(var D=g.split(","),I="",R=0;R<D.length;R++)if(R>0&&D.length>2&&(I+=",",R<D.length-1&&(I+=" ")),R>0&&D.length>1&&(R==D.length-1||D.length==2)&&(I+="".concat(this.i18n.spaceAnd()," ")),D[R].indexOf("/")>-1||D[R].indexOf("-")>-1){var O=D[R].indexOf("-")>-1&&D[R].indexOf("/")==-1,N=this.getSegmentDescription(D[R],y,v,S,O?this.i18n.commaX0ThroughX1:b,C);O&&(N=N.replace(", ","")),I+=N}else A?I+=this.getSegmentDescription(D[R],y,v,S,b,C):I+=v(D[R]);A?w=I:w=_.StringUtilities.format(C(g),I)}else if(A){var D=g.split("/");if(w=_.StringUtilities.format(S(D[1]),D[1]),D[0].indexOf("-")>-1){var M=this.generateRangeSegmentDescription(D[0],b,v);M.indexOf(", ")!=0&&(w+=", "),w+=M}else if(D[0].indexOf("*")==-1){var k=_.StringUtilities.format(C(D[0]),v(D[0]));k=k.replace(", ",""),w+=_.StringUtilities.format(this.i18n.commaStartingX0(),k)}}else $&&(w=this.generateRangeSegmentDescription(g,b,v));return w},m.prototype.generateRangeSegmentDescription=function(g,y,v){var S="",b=g.split("-"),C=v(b[0],1),w=v(b[1],2),A=y(g);return S+=_.StringUtilities.format(A,C,w),S},m.prototype.formatTime=function(g,y,v){var S=0,b=0,C=parseInt(g)+S,w=parseInt(y)+b;w>=60?(w-=60,C+=1):w<0&&(w+=60,C-=1),C>=24?C=C-24:C<0&&(C=24+C);var A="",$=!1;this.options.use24HourTimeFormat||($=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),A=$?"".concat(this.getPeriod(C)," "):" ".concat(this.getPeriod(C)),C>12&&(C-=12),C===0&&(C=12));var E="";return v&&(E=":".concat(("00"+v).substring(v.length))),"".concat($?A:"").concat(("00"+C.toString()).substring(C.toString().length),":").concat(("00"+w.toString()).substring(w.toString().length)).concat(E).concat($?"":A)},m.prototype.transformVerbosity=function(g,y){if(!y&&(g=g.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),g=g.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),g=g.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),g=g.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var v=0,S=Object.entries(this.i18n.conciseVerbosityReplacements());v<S.length;v++){var b=S[v],C=b[0],w=b[1];g=g.replace(new RegExp(C,"g"),w)}return g},m.prototype.getPeriod=function(g){return g>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},m.locales={},m})();d.ExpressionDescriptor=u}),747:((l,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.enLocaleLoader=void 0;var _=h(486),p=(function(){function u(){}return u.prototype.load=function(m){m.en=new _.en},u})();d.enLocaleLoader=p}),486:((l,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.en=void 0;var h=(function(){function _(){}return _.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},_.prototype.atX0MinutesPastTheHourGt20=function(){return null},_.prototype.commaMonthX0ThroughMonthX1=function(){return null},_.prototype.commaYearX0ThroughYearX1=function(){return null},_.prototype.use24HourTimeFormatByDefault=function(){return!1},_.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},_.prototype.everyMinute=function(){return"every minute"},_.prototype.everyHour=function(){return"every hour"},_.prototype.atSpace=function(){return"At "},_.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},_.prototype.at=function(){return"At"},_.prototype.spaceAnd=function(){return" and"},_.prototype.everySecond=function(){return"every second"},_.prototype.everyX0Seconds=function(){return"every %s seconds"},_.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},_.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},_.prototype.everyX0Minutes=function(){return"every %s minutes"},_.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},_.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},_.prototype.everyX0Hours=function(){return"every %s hours"},_.prototype.betweenX0AndX1=function(){return"between %s and %s"},_.prototype.atX0=function(){return"at %s"},_.prototype.commaEveryDay=function(){return", every day"},_.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},_.prototype.commaX0ThroughX1=function(){return", %s through %s"},_.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},_.prototype.first=function(){return"first"},_.prototype.second=function(){return"second"},_.prototype.third=function(){return"third"},_.prototype.fourth=function(){return"fourth"},_.prototype.fifth=function(){return"fifth"},_.prototype.commaOnThe=function(){return", on the "},_.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},_.prototype.lastDay=function(){return"the last day"},_.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},_.prototype.commaOnlyOnX0=function(){return", only on %s"},_.prototype.commaAndOnX0=function(){return", and on %s"},_.prototype.commaEveryX0Months=function(){return", every %s months"},_.prototype.commaOnlyInX0=function(){return", only in %s"},_.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},_.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},_.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},_.prototype.firstWeekday=function(){return"first weekday"},_.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},_.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},_.prototype.commaEveryX0Days=function(){return", every %s days"},_.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},_.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},_.prototype.commaEveryHour=function(){return", every hour"},_.prototype.commaEveryX0Years=function(){return", every %s years"},_.prototype.commaStartingX0=function(){return", starting %s"},_.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},_.prototype.atReboot=function(){return"Run once, at startup"},_})();d.en=h}),515:((l,d)=>{Object.defineProperty(d,"__esModule",{value:!0});function h(p,u){if(!p)throw new Error(u)}var _=(function(){function p(){}return p.secondRange=function(u){for(var m=u.split(","),g=0;g<m.length;g++)if(!isNaN(parseInt(m[g],10))){var y=parseInt(m[g],10);h(y>=0&&y<=59,"seconds part must be >= 0 and <= 59")}},p.minuteRange=function(u){for(var m=u.split(","),g=0;g<m.length;g++)if(!isNaN(parseInt(m[g],10))){var y=parseInt(m[g],10);h(y>=0&&y<=59,"minutes part must be >= 0 and <= 59")}},p.hourRange=function(u){for(var m=u.split(","),g=0;g<m.length;g++)if(!isNaN(parseInt(m[g],10))){var y=parseInt(m[g],10);h(y>=0&&y<=23,"hours part must be >= 0 and <= 23")}},p.dayOfMonthRange=function(u){for(var m=u.split(","),g=0;g<m.length;g++)if(!isNaN(parseInt(m[g],10))){var y=parseInt(m[g],10);h(y>=1&&y<=31,"DOM part must be >= 1 and <= 31")}},p.monthRange=function(u,m){for(var g=u.split(","),y=0;y<g.length;y++)if(!isNaN(parseInt(g[y],10))){var v=parseInt(g[y],10);h(v>=1&&v<=12,m?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},p.dayOfWeekRange=function(u,m){for(var g=u.split(","),y=0;y<g.length;y++)if(!isNaN(parseInt(g[y],10))){var v=parseInt(g[y],10);h(v>=0&&v<=6,m?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},p})();d.default=_}),823:((l,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StringUtilities=void 0;var h=(function(){function _(){}return _.format=function(p){for(var u=[],m=1;m<arguments.length;m++)u[m-1]=arguments[m];return p.replace(/%s/g,function(g){return u.shift()})},_.containsAny=function(p,u){return u.some(function(m){return p.indexOf(m)>-1})},_})();d.StringUtilities=h})},o={};function s(l){var d=o[l];if(d!==void 0)return d.exports;var h=o[l]={exports:{}};return n[l](h,h.exports,s),h.exports}var a={};return(()=>{var l=a;Object.defineProperty(l,"__esModule",{value:!0}),l.toString=void 0;var d=s(333),h=s(747);d.ExpressionDescriptor.initialize(new h.enLocaleLoader),l.default=d.ExpressionDescriptor;var _=d.ExpressionDescriptor.toString;l.toString=_})(),a})())})(cronstrue$1);var cronstrueExports=cronstrue$1.exports;const cronstrue=getDefaultExportFromCjs(cronstrueExports);var fr={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.fr=void 0;var p=(function(){function u(){}return u.prototype.conciseVerbosityReplacements=function(){return{"de le":"du"}},u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"Une erreur est survenue en gnrant la description de l'expression cron. Vrifiez sa syntaxe."},u.prototype.everyMinute=function(){return"toutes les minutes"},u.prototype.everyHour=function(){return"toutes les heures"},u.prototype.atSpace=function(){return" "},u.prototype.everyMinuteBetweenX0AndX1=function(){return"Toutes les minutes entre %s et %s"},u.prototype.at=function(){return""},u.prototype.spaceAnd=function(){return" et"},u.prototype.everySecond=function(){return"toutes les secondes"},u.prototype.everyX0Seconds=function(){return"toutes les %s secondes"},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return"les secondes entre %s et %s aprs la minute"},u.prototype.atX0SecondsPastTheMinute=function(){return"%s secondes aprs la minute"},u.prototype.everyX0Minutes=function(){return"toutes les %s minutes"},u.prototype.minutesX0ThroughX1PastTheHour=function(){return"les minutes entre %s et %s aprs l'heure"},u.prototype.atX0MinutesPastTheHour=function(){return"%s minutes aprs l'heure"},u.prototype.everyX0Hours=function(){return"toutes les %s heures"},u.prototype.betweenX0AndX1=function(){return"de %s  %s"},u.prototype.atX0=function(){return"%s"},u.prototype.commaEveryDay=function(){return", tous les jours"},u.prototype.commaEveryX0DaysOfTheWeek=function(){return", tous les %s jours de la semaine"},u.prototype.commaX0ThroughX1=function(){return", de %s  %s"},u.prototype.commaAndX0ThroughX1=function(){return", et de %s  %s"},u.prototype.first=function(){return"premier"},u.prototype.second=function(){return"second"},u.prototype.third=function(){return"troisime"},u.prototype.fourth=function(){return"quatrime"},u.prototype.fifth=function(){return"cinquime"},u.prototype.commaOnThe=function(){return", le "},u.prototype.spaceX0OfTheMonth=function(){return" %s du mois"},u.prototype.lastDay=function(){return"le dernier jour"},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", le dernier %s du mois"},u.prototype.commaOnlyOnX0=function(){return", uniquement le %s"},u.prototype.commaAndOnX0=function(){return", et %s"},u.prototype.commaEveryX0Months=function(){return", tous les %s mois"},u.prototype.commaOnlyInX0=function(){return", uniquement en %s"},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", le dernier jour du mois"},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", le dernier jour ouvrable du mois"},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s jours avant le dernier jour du mois"},u.prototype.firstWeekday=function(){return"premier jour ouvrable"},u.prototype.weekdayNearestDayX0=function(){return"jour ouvrable le plus proche du %s"},u.prototype.commaOnTheX0OfTheMonth=function(){return", le %s du mois"},u.prototype.commaEveryX0Days=function(){return", tous les %s jours"},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", du %s au %s du mois"},u.prototype.commaOnDayX0OfTheMonth=function(){return", le %s du mois"},u.prototype.commaEveryHour=function(){return", chaque heure"},u.prototype.commaEveryX0Years=function(){return", tous les %s ans"},u.prototype.commaDaysX0ThroughX1=function(){return", du %s au %s"},u.prototype.commaStartingX0=function(){return",  partir de %s"},u.prototype.daysOfTheWeek=function(){return["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},u.prototype.monthsOfTheYear=function(){return["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},u})();return _.fr=p,h().locales.fr=new p,l})())})(fr);var es={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.es=void 0;var p=(function(){function u(){}return u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"Ocurri un error mientras se generaba la descripcin de la expresin. Revise la sintaxis de la expresin de cron."},u.prototype.at=function(){return"A las"},u.prototype.atSpace=function(){return"A las "},u.prototype.atX0=function(){return"a las %s"},u.prototype.atX0MinutesPastTheHour=function(){return"a los %s minutos de la hora"},u.prototype.atX0SecondsPastTheMinute=function(){return"a los %s segundos del minuto"},u.prototype.betweenX0AndX1=function(){return"entre las %s y las %s"},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", entre los das %s y %s del mes"},u.prototype.commaEveryDay=function(){return", cada da"},u.prototype.commaEveryX0Days=function(){return", cada %s das"},u.prototype.commaEveryX0DaysOfTheWeek=function(){return", cada %s das de la semana"},u.prototype.commaEveryX0Months=function(){return", cada %s meses"},u.prototype.commaOnDayX0OfTheMonth=function(){return", el da %s del mes"},u.prototype.commaOnlyInX0=function(){return", slo en %s"},u.prototype.commaOnlyOnX0=function(){return", slo el %s"},u.prototype.commaAndOnX0=function(){return", y el %s"},u.prototype.commaOnThe=function(){return", en el "},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", en el ltimo da del mes"},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", en el ltimo da de la semana del mes"},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s das antes del ltimo da del mes"},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", en el ltimo %s del mes"},u.prototype.commaOnTheX0OfTheMonth=function(){return", en el %s del mes"},u.prototype.commaX0ThroughX1=function(){return", de %s a %s"},u.prototype.commaAndX0ThroughX1=function(){return", y de %s a %s"},u.prototype.everyHour=function(){return"cada hora"},u.prototype.everyMinute=function(){return"cada minuto"},u.prototype.everyMinuteBetweenX0AndX1=function(){return"cada minuto entre las %s y las %s"},u.prototype.everySecond=function(){return"cada segundo"},u.prototype.everyX0Hours=function(){return"cada %s horas"},u.prototype.everyX0Minutes=function(){return"cada %s minutos"},u.prototype.everyX0Seconds=function(){return"cada %s segundos"},u.prototype.fifth=function(){return"quinto"},u.prototype.first=function(){return"primero"},u.prototype.firstWeekday=function(){return"primer da de la semana"},u.prototype.fourth=function(){return"cuarto"},u.prototype.minutesX0ThroughX1PastTheHour=function(){return"del minuto %s al %s pasada la hora"},u.prototype.second=function(){return"segundo"},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return"En los segundos %s al %s de cada minuto"},u.prototype.spaceAnd=function(){return" y"},u.prototype.spaceX0OfTheMonth=function(){return" %s del mes"},u.prototype.lastDay=function(){return"el ltimo da"},u.prototype.third=function(){return"tercer"},u.prototype.weekdayNearestDayX0=function(){return"da de la semana ms prximo al %s"},u.prototype.commaEveryX0Years=function(){return", cada %s aos"},u.prototype.commaStartingX0=function(){return", comenzando %s"},u.prototype.daysOfTheWeek=function(){return["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},u.prototype.monthsOfTheYear=function(){return["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},u})();return _.es=p,h().locales.es=new p,l})())})(es);var de={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.de=void 0;var p=(function(){function u(){}return u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.everyMinute=function(){return"jede Minute"},u.prototype.everyHour=function(){return"jede Stunde"},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"Beim Generieren der Ausdrucksbeschreibung ist ein Fehler aufgetreten. berprfen Sie die Syntax des Cron-Ausdrucks."},u.prototype.atSpace=function(){return"Um "},u.prototype.everyMinuteBetweenX0AndX1=function(){return"Jede Minute zwischen %s und %s"},u.prototype.at=function(){return"Um"},u.prototype.spaceAnd=function(){return" und"},u.prototype.everySecond=function(){return"Jede Sekunde"},u.prototype.everyX0Seconds=function(){return"alle %s Sekunden"},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return"Sekunden %s bis %s"},u.prototype.atX0SecondsPastTheMinute=function(){return"bei Sekunde %s"},u.prototype.everyX0Minutes=function(){return"alle %s Minuten"},u.prototype.minutesX0ThroughX1PastTheHour=function(){return"Minuten %s bis %s"},u.prototype.atX0MinutesPastTheHour=function(){return"bei Minute %s"},u.prototype.everyX0Hours=function(){return"alle %s Stunden"},u.prototype.betweenX0AndX1=function(){return"zwischen %s und %s"},u.prototype.atX0=function(){return"um %s"},u.prototype.commaEveryDay=function(){return", jeden Tag"},u.prototype.commaEveryX0DaysOfTheWeek=function(){return", alle %s Tage der Woche"},u.prototype.commaX0ThroughX1=function(){return", %s bis %s"},u.prototype.commaAndX0ThroughX1=function(){return", und %s bis %s"},u.prototype.first=function(){return"ersten"},u.prototype.second=function(){return"zweiten"},u.prototype.third=function(){return"dritten"},u.prototype.fourth=function(){return"vierten"},u.prototype.fifth=function(){return"fnften"},u.prototype.commaOnThe=function(){return", am "},u.prototype.spaceX0OfTheMonth=function(){return" %s des Monats"},u.prototype.lastDay=function(){return"der letzte Tag"},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", am letzten %s des Monats"},u.prototype.commaOnlyOnX0=function(){return", nur jeden %s"},u.prototype.commaAndOnX0=function(){return", und jeden %s"},u.prototype.commaEveryX0Months=function(){return", alle %s Monate"},u.prototype.commaOnlyInX0=function(){return", nur im %s"},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", am letzten Tag des Monats"},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", am letzten Werktag des Monats"},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s tage vor dem letzten Tag des Monats"},u.prototype.firstWeekday=function(){return"ersten Werktag"},u.prototype.weekdayNearestDayX0=function(){return"Werktag am nchsten zum %s Tag"},u.prototype.commaOnTheX0OfTheMonth=function(){return", am %s des Monats"},u.prototype.commaEveryX0Days=function(){return", alle %s Tage"},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", zwischen Tag %s und %s des Monats"},u.prototype.commaOnDayX0OfTheMonth=function(){return", an Tag %s des Monats"},u.prototype.commaEveryX0Years=function(){return", alle %s Jahre"},u.prototype.commaStartingX0=function(){return", beginnend %s"},u.prototype.daysOfTheWeek=function(){return["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},u.prototype.monthsOfTheYear=function(){return["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},u})();return _.de=p,h().locales.de=new p,l})())})(de);var it={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.it=void 0;var p=(function(){function u(){}return u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return" verificato un errore durante la generazione la descrizione espressione. Controllare la sintassi delle espressioni cron."},u.prototype.at=function(){return"Alle"},u.prototype.atSpace=function(){return"Alle "},u.prototype.atX0=function(){return"alle %s"},u.prototype.atX0MinutesPastTheHour=function(){return"al %s minuto passata l'ora"},u.prototype.atX0SecondsPastTheMinute=function(){return"al %s secondo passato il minuto"},u.prototype.betweenX0AndX1=function(){return"tra le %s e le %s"},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", tra il giorno %s e %s del mese"},u.prototype.commaEveryDay=function(){return", ogni giorno"},u.prototype.commaEveryX0Days=function(){return", ogni %s giorni"},u.prototype.commaEveryX0DaysOfTheWeek=function(){return", ogni %s giorni della settimana"},u.prototype.commaEveryX0Months=function(){return", ogni %s mesi"},u.prototype.commaEveryX0Years=function(){return", ogni %s anni"},u.prototype.commaOnDayX0OfTheMonth=function(){return", il giorno %s del mese"},u.prototype.commaOnlyInX0=function(){return", solo in %s"},u.prototype.commaOnlyOnX0=function(){return", solo il %s"},u.prototype.commaAndOnX0=function(){return", e il %s"},u.prototype.commaOnThe=function(){return", il "},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", l'ultimo giorno del mese"},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", nell'ultima settimana del mese"},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s giorni prima dell'ultimo giorno del mese"},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", l'ultimo %s del mese"},u.prototype.commaOnTheX0OfTheMonth=function(){return", il %s del mese"},u.prototype.commaX0ThroughX1=function(){return", %s al %s"},u.prototype.commaAndX0ThroughX1=function(){return", e %s al %s"},u.prototype.everyHour=function(){return"ogni ora"},u.prototype.everyMinute=function(){return"ogni minuto"},u.prototype.everyMinuteBetweenX0AndX1=function(){return"Ogni minuto tra le %s e le %s"},u.prototype.everySecond=function(){return"ogni secondo"},u.prototype.everyX0Hours=function(){return"ogni %s ore"},u.prototype.everyX0Minutes=function(){return"ogni %s minuti"},u.prototype.everyX0Seconds=function(){return"ogni %s secondi"},u.prototype.fifth=function(){return"quinto"},u.prototype.first=function(){return"primo"},u.prototype.firstWeekday=function(){return"primo giorno della settimana"},u.prototype.fourth=function(){return"quarto"},u.prototype.minutesX0ThroughX1PastTheHour=function(){return"minuti %s al %s dopo l'ora"},u.prototype.second=function(){return"secondo"},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return"secondi %s al %s oltre il minuto"},u.prototype.spaceAnd=function(){return" e"},u.prototype.spaceX0OfTheMonth=function(){return" %s del mese"},u.prototype.lastDay=function(){return"l'ultimo giorno"},u.prototype.third=function(){return"terzo"},u.prototype.weekdayNearestDayX0=function(){return"giorno della settimana pi vicino al %s"},u.prototype.commaStartingX0=function(){return", a partire %s"},u.prototype.daysOfTheWeek=function(){return["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},u.prototype.monthsOfTheYear=function(){return["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},u})();return _.it=p,h().locales.it=new p,l})())})(it);var ru={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(g=>{g.exports=n})},s={};function a(g){var y=s[g];if(y!==void 0)return y.exports;var v=s[g]={exports:{}};return o[g](v,v.exports,a),v.exports}a.n=g=>{var y=g&&g.__esModule?()=>g.default:()=>g;return a.d(y,{a:y}),y},a.d=(g,y)=>{for(var v in y)a.o(y,v)&&!a.o(g,v)&&Object.defineProperty(g,v,{enumerable:!0,get:y[v]})},a.o=(g,y)=>Object.prototype.hasOwnProperty.call(g,y),a.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.ru=void 0;var p=function(g,y){var v=Number(g);return v!==void 0?y[v%100>4&&v%100<20?2:[2,0,1,1,1,2][v%10<5?Math.abs(v)%10:5]]:y[2]},u=function(g,y){var v=Number(g);return v!==void 0?y[v===0?0:v===1||v===2||v===4?1:2]:y[1]},m=(function(){function g(){}return g.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},g.prototype.atX0MinutesPastTheHourGt20=function(){return null},g.prototype.commaMonthX0ThroughMonthX1=function(){return null},g.prototype.commaYearX0ThroughYearX1=function(){return null},g.prototype.use24HourTimeFormatByDefault=function(){return!0},g.prototype.everyMinute=function(){return" "},g.prototype.everyHour=function(){return" "},g.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"      .   -."},g.prototype.atSpace=function(){return" "},g.prototype.everyMinuteBetweenX0AndX1=function(){return"   %s  %s"},g.prototype.at=function(){return""},g.prototype.spaceAnd=function(){return" "},g.prototype.everySecond=function(){return" "},g.prototype.everyX0Seconds=function(y){return p(y,[" %s "," %s "," %s "])},g.prototype.secondsX0ThroughX1PastTheMinute=function(){return"  %s  %s"},g.prototype.atX0SecondsPastTheMinute=function(y){return p(y,[" %s "," %s "," %s "])},g.prototype.everyX0Minutes=function(y){return p(y,[" %s "," %s "," %s "])},g.prototype.minutesX0ThroughX1PastTheHour=function(){return"  %s  %s"},g.prototype.atX0MinutesPastTheHour=function(y){return p(y,[" %s "," %s "," %s "])},g.prototype.everyX0Hours=function(y){return p(y,[" %s "," %s "," %s "])},g.prototype.betweenX0AndX1=function(){return" %s  %s"},g.prototype.atX0=function(){return" %s"},g.prototype.commaEveryDay=function(){return",  "},g.prototype.commaEveryX0DaysOfTheWeek=function(y){return p(y,["",",  %s  ",",  %s  "])},g.prototype.commaX0ThroughX1=function(y){return y&&(y[0]=="2"||y[0]=="3")?",  %s  %s":",  %s  %s"},g.prototype.commaAndX0ThroughX1=function(y){return y&&(y[0]=="2"||y[0]=="3")?"   %s  %s":"   %s  %s"},g.prototype.first=function(y){return u(y,["","",""])},g.prototype.second=function(y){return u(y,["","",""])},g.prototype.third=function(y){return u(y,["","",""])},g.prototype.fourth=function(y){return u(y,["","",""])},g.prototype.fifth=function(y){return u(y,["","",""])},g.prototype.commaOnThe=function(y){return y==="2"?",  ":",  "},g.prototype.spaceX0OfTheMonth=function(){return" %s "},g.prototype.lastDay=function(){return" "},g.prototype.commaOnTheLastX0OfTheMonth=function(y){return u(y,[",   %s ",",   %s ",",   %s "])},g.prototype.commaOnlyOnX0=function(y){return y&&y[0]==="2"?",   %s":",   %s"},g.prototype.commaAndOnX0=function(){return",  %s"},g.prototype.commaEveryX0Months=function(y){return p(y,["","  %s ","  %s "])},g.prototype.commaOnlyInMonthX0=function(){return",  %s"},g.prototype.commaOnlyInX0=function(){return",   %s"},g.prototype.commaOnTheLastDayOfTheMonth=function(){return",    "},g.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return",     "},g.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(y){return p(y,[",  %s    ",",  %s    ",",  %s    "])},g.prototype.firstWeekday=function(){return"  "},g.prototype.weekdayNearestDayX0=function(){return"    %s "},g.prototype.commaOnTheX0OfTheMonth=function(){return",  %s "},g.prototype.commaEveryX0Days=function(y){return p(y,[",  %s ",",  %s ",",  %s "])},g.prototype.commaBetweenDayX0AndX1OfTheMonth=function(y){return y&&y.substring(0,y.indexOf("-"))=="2"?",  %s  %s  ":",  %s  %s  "},g.prototype.commaOnDayX0OfTheMonth=function(y){return y&&y[0]=="2"?",  %s  ":",  %s  "},g.prototype.commaEveryX0Years=function(y){return p(y,[",  %s ",",  %s ",",  %s "])},g.prototype.commaStartingX0=function(){return",  %s"},g.prototype.daysOfTheWeek=function(){return["","","","","","",""]},g.prototype.daysOfTheWeekInCase=function(y){return y===void 0&&(y=2),y==1?["","","","","","",""]:["","","","","","",""]},g.prototype.monthsOfTheYear=function(){return["","","","","","","","","","","",""]},g.prototype.monthsOfTheYearInCase=function(y){return y==1?["","","","","","","","","","","",""]:this.monthsOfTheYear()},g})();return _.ru=m,h().locales.ru=new m,l})())})(ru);var zh_CN={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.zh_CN=void 0;var p=(function(){function u(){}return u.prototype.setPeriodBeforeTime=function(){return!0},u.prototype.pm=function(){return""},u.prototype.am=function(){return""},u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return", %s%s"},u.prototype.use24HourTimeFormatByDefault=function(){return!1},u.prototype.everyMinute=function(){return""},u.prototype.everyHour=function(){return""},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"cron"},u.prototype.atSpace=function(){return""},u.prototype.everyMinuteBetweenX0AndX1=function(){return" %s  %s "},u.prototype.at=function(){return""},u.prototype.spaceAnd=function(){return" "},u.prototype.everySecond=function(){return""},u.prototype.everyX0Seconds=function(){return" %s "},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return" %s  %s "},u.prototype.atX0SecondsPastTheMinute=function(){return" %s "},u.prototype.everyX0Minutes=function(){return" %s "},u.prototype.minutesX0ThroughX1PastTheHour=function(){return" %s  %s "},u.prototype.atX0MinutesPastTheHour=function(){return" %s "},u.prototype.everyX0Hours=function(){return" %s "},u.prototype.betweenX0AndX1=function(){return" %s  %s "},u.prototype.atX0=function(){return"%s"},u.prototype.commaEveryDay=function(){return", "},u.prototype.commaEveryX0DaysOfTheWeek=function(){return",  %s "},u.prototype.commaX0ThroughX1=function(){return", %s%s"},u.prototype.commaAndX0ThroughX1=function(){return", %s%s"},u.prototype.first=function(){return""},u.prototype.second=function(){return""},u.prototype.third=function(){return""},u.prototype.fourth=function(){return""},u.prototype.fifth=function(){return""},u.prototype.commaOnThe=function(){return", "},u.prototype.spaceX0OfTheMonth=function(){return"%s"},u.prototype.lastDay=function(){return""},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", %s"},u.prototype.commaOnlyOnX0=function(){return", %s"},u.prototype.commaAndOnX0=function(){return", %s"},u.prototype.commaEveryX0Months=function(){return",  %s "},u.prototype.commaOnlyInX0=function(){return", %s"},u.prototype.commaOnlyInMonthX0=function(){return", %s"},u.prototype.commaOnlyInYearX0=function(){return",  %s "},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", "},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", "},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s"},u.prototype.firstWeekday=function(){return""},u.prototype.weekdayNearestDayX0=function(){return" %s "},u.prototype.commaOnTheX0OfTheMonth=function(){return", %s"},u.prototype.commaEveryX0Days=function(){return",  %s "},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return",  %s  %s "},u.prototype.commaOnDayX0OfTheMonth=function(){return", %s"},u.prototype.commaEveryX0Years=function(){return",  %s "},u.prototype.commaStartingX0=function(){return", %s"},u.prototype.dayX0=function(){return" %s "},u.prototype.daysOfTheWeek=function(){return["","","","","","",""]},u.prototype.monthsOfTheYear=function(){return["","","","","","","","","","","",""]},u})();return _.zh_CN=p,h().locales.zh_CN=new p,l})())})(zh_CN);var uk={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.uk=void 0;var p=(function(){function u(){}return u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.everyMinute=function(){return""},u.prototype.everyHour=function(){return""},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"    .    cron ."},u.prototype.atSpace=function(){return" "},u.prototype.everyMinuteBetweenX0AndX1=function(){return"  %s  %s"},u.prototype.at=function(){return""},u.prototype.spaceAnd=function(){return" "},u.prototype.everySecond=function(){return""},u.prototype.everyX0Seconds=function(){return" %s "},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return" %s  %s "},u.prototype.atX0SecondsPastTheMinute=function(){return" %s "},u.prototype.everyX0Minutes=function(){return" %s "},u.prototype.minutesX0ThroughX1PastTheHour=function(){return" %s  %s "},u.prototype.atX0MinutesPastTheHour=function(){return" %s "},u.prototype.everyX0Hours=function(){return" %s "},u.prototype.betweenX0AndX1=function(){return" %s  %s"},u.prototype.atX0=function(){return" %s"},u.prototype.commaEveryDay=function(){return", "},u.prototype.commaEveryX0DaysOfTheWeek=function(){return",  %s  "},u.prototype.commaX0ThroughX1=function(){return", %s  %s"},u.prototype.commaAndX0ThroughX1=function(){return",  %s  %s"},u.prototype.first=function(){return""},u.prototype.second=function(){return""},u.prototype.third=function(){return""},u.prototype.fourth=function(){return""},u.prototype.fifth=function(){return"'"},u.prototype.commaOnThe=function(){return",  "},u.prototype.spaceX0OfTheMonth=function(){return" %s "},u.prototype.lastDay=function(){return" "},u.prototype.commaOnTheLastX0OfTheMonth=function(){return",   %s "},u.prototype.commaOnlyOnX0=function(){return",   %s"},u.prototype.commaAndOnX0=function(){return",   %s"},u.prototype.commaEveryX0Months=function(){return",  %s "},u.prototype.commaOnlyInX0=function(){return",   %s"},u.prototype.commaOnTheLastDayOfTheMonth=function(){return",    "},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return",    "},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s     "},u.prototype.firstWeekday=function(){return" "},u.prototype.weekdayNearestDayX0=function(){return"   %s "},u.prototype.commaOnTheX0OfTheMonth=function(){return",  %s "},u.prototype.commaEveryX0Days=function(){return",  %s "},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return",  %s  %s  "},u.prototype.commaOnDayX0OfTheMonth=function(){return",  %s  "},u.prototype.commaEveryX0Years=function(){return",  %s "},u.prototype.commaStartingX0=function(){return",  %s"},u.prototype.daysOfTheWeek=function(){return["","","","","","'",""]},u.prototype.monthsOfTheYear=function(){return["","","","","","","","","","","",""]},u})();return _.uk=p,h().locales.uk=new p,l})())})(uk);var pt_BR={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.pt_BR=void 0;var p=(function(){function u(){}return u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"Ocorreu um erro ao gerar a descrio da expresso Cron."},u.prototype.at=function(){return"s"},u.prototype.atSpace=function(){return"s "},u.prototype.atX0=function(){return"s %s"},u.prototype.atX0MinutesPastTheHour=function(){return"aos %s minutos da hora"},u.prototype.atX0SecondsPastTheMinute=function(){return"aos %s segundos do minuto"},u.prototype.betweenX0AndX1=function(){return"entre %s e %s"},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", entre os dias %s e %s do ms"},u.prototype.commaEveryDay=function(){return", a cada dia"},u.prototype.commaEveryX0Days=function(){return", a cada %s dias"},u.prototype.commaEveryX0DaysOfTheWeek=function(){return", a cada %s dias de semana"},u.prototype.commaEveryX0Months=function(){return", a cada %s meses"},u.prototype.commaOnDayX0OfTheMonth=function(){return", no dia %s do ms"},u.prototype.commaOnlyInX0=function(m){return m&&m.length>1&&m[1]==="-"?"somente %s":", somente em %s"},u.prototype.commaOnlyOnX0=function(m){return m&&m.length>1&&m[1]==="-"?", somente %s":", somente de %s"},u.prototype.commaAndOnX0=function(){return", e de %s"},u.prototype.commaOnThe=function(m,g){return g==="6"||g==="0"?", no":", na "},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", no ltimo dia do ms"},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", no ltimo dia da semana do ms"},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s dias antes do ltimo dia do ms"},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", na ltima %s do ms"},u.prototype.commaOnTheX0OfTheMonth=function(){return", no %s do ms"},u.prototype.commaX0ThroughX1=function(){return", de %s a %s"},u.prototype.commaAndX0ThroughX1=function(){return", e de %s a %s"},u.prototype.everyHour=function(){return"a cada hora"},u.prototype.everyMinute=function(){return"a cada minuto"},u.prototype.everyMinuteBetweenX0AndX1=function(){return"a cada minuto entre %s e %s"},u.prototype.everySecond=function(){return"a cada segundo"},u.prototype.everyX0Hours=function(){return"a cada %s horas"},u.prototype.everyX0Minutes=function(){return"a cada %s minutos"},u.prototype.everyX0Seconds=function(){return"a cada %s segundos"},u.prototype.fifth=function(m){return m==="6"||m==="0"?"quinto":"quinta"},u.prototype.first=function(m){return m==="6"||m==="0"?"primeiro":"primeira"},u.prototype.firstWeekday=function(){return"primeiro dia da semana"},u.prototype.fourth=function(m){return m==="6"||m==="0"?"quarto":"quarta"},u.prototype.minutesX0ThroughX1PastTheHour=function(){return"do minuto %s at %s de cada hora"},u.prototype.second=function(m){return m==="6"||m==="0"?"segundo":"segunda"},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return"No segundo %s at %s de cada minuto"},u.prototype.spaceAnd=function(){return" e"},u.prototype.spaceX0OfTheMonth=function(){return" %s do ms"},u.prototype.lastDay=function(){return"o ltimo dia"},u.prototype.third=function(m){return m==="6"||m==="0"?"terceiro":"terceira"},u.prototype.weekdayNearestDayX0=function(){return"dia da semana mais prximo do dia %s"},u.prototype.commaEveryX0Years=function(){return", a cada %s anos"},u.prototype.commaStartingX0=function(){return", iniciando %s"},u.prototype.daysOfTheWeek=function(){return["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},u.prototype.monthsOfTheYear=function(){return["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},u})();return _.pt_BR=p,h().locales.pt_BR=new p,l})())})(pt_BR);var pl={exports:{}};(function(t,e){(function(o,s){t.exports=s(cronstrueExports)})(globalThis,n=>(()=>{var o={93:(u=>{u.exports=n})},s={};function a(u){var m=s[u];if(m!==void 0)return m.exports;var g=s[u]={exports:{}};return o[u](g,g.exports,a),g.exports}a.n=u=>{var m=u&&u.__esModule?()=>u.default:()=>u;return a.d(m,{a:m}),m},a.d=(u,m)=>{for(var g in m)a.o(m,g)&&!a.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},a.o=(u,m)=>Object.prototype.hasOwnProperty.call(u,m),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};a.r(l);var d=a(93),h=a.n(d),_=l;Object.defineProperty(_,"__esModule",{value:!0}),_.pl=void 0;var p=(function(){function u(){}return u.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},u.prototype.atX0MinutesPastTheHourGt20=function(){return null},u.prototype.commaMonthX0ThroughMonthX1=function(){return null},u.prototype.commaYearX0ThroughYearX1=function(){return null},u.prototype.use24HourTimeFormatByDefault=function(){return!0},u.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"Wystpi bd podczas generowania opisu wyraenia cron. Sprawd skadni wyraenia cron."},u.prototype.at=function(){return"O"},u.prototype.atSpace=function(){return"O "},u.prototype.atX0=function(){return"o %s"},u.prototype.atX0MinutesPastTheHour=function(){return"w %s minucie"},u.prototype.atX0SecondsPastTheMinute=function(){return"w %s sekundzie"},u.prototype.betweenX0AndX1=function(){return"od %s do %s"},u.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", od %s-ego do %s-ego dnia miesica"},u.prototype.commaEveryDay=function(){return", co dzie"},u.prototype.commaEveryX0Days=function(){return", co %s dni"},u.prototype.commaEveryX0DaysOfTheWeek=function(){return", co %s dni tygodnia"},u.prototype.commaEveryX0Months=function(){return", co %s miesicy"},u.prototype.commaEveryX0Years=function(){return", co %s lat"},u.prototype.commaOnDayX0OfTheMonth=function(){return", %s-ego dnia miesica"},u.prototype.commaOnlyInX0=function(){return", tylko %s"},u.prototype.commaOnlyOnX0=function(){return", tylko %s"},u.prototype.commaAndOnX0=function(){return", i %s"},u.prototype.commaOnThe=function(){return", "},u.prototype.commaOnTheLastDayOfTheMonth=function(){return", ostatni dzie miesica"},u.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", ostatni dzie roboczy miesica"},u.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s dni przed ostatnim dniem miesica"},u.prototype.commaOnTheLastX0OfTheMonth=function(){return", ostatni %s miesica"},u.prototype.commaOnTheX0OfTheMonth=function(){return", %s miesica"},u.prototype.commaX0ThroughX1=function(){return", od %s do %s"},u.prototype.commaAndX0ThroughX1=function(){return", i od %s do %s"},u.prototype.everyHour=function(){return"co godzin"},u.prototype.everyMinute=function(){return"co minut"},u.prototype.everyMinuteBetweenX0AndX1=function(){return"Co minut od %s do %s"},u.prototype.everySecond=function(){return"co sekund"},u.prototype.everyX0Hours=function(){return"co %s godzin"},u.prototype.everyX0Minutes=function(){return"co %s minut"},u.prototype.everyX0Seconds=function(){return"co %s sekund"},u.prototype.fifth=function(){return"pity"},u.prototype.first=function(){return"pierwszy"},u.prototype.firstWeekday=function(){return"pierwszy dzie roboczy"},u.prototype.fourth=function(){return"czwarty"},u.prototype.minutesX0ThroughX1PastTheHour=function(){return"minuty od %s do %s"},u.prototype.second=function(){return"drugi"},u.prototype.secondsX0ThroughX1PastTheMinute=function(){return"sekundy od %s do %s"},u.prototype.spaceAnd=function(){return" i"},u.prototype.spaceX0OfTheMonth=function(){return" %s miesica"},u.prototype.lastDay=function(){return"ostatni dzie"},u.prototype.third=function(){return"trzeci"},u.prototype.weekdayNearestDayX0=function(){return"dzie roboczy najbliszy %s-ego dnia"},u.prototype.commaStartingX0=function(){return", startowy %s"},u.prototype.daysOfTheWeek=function(){return["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"]},u.prototype.monthsOfTheYear=function(){return["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"]},u})();return _.pl=p,h().locales.pl=new p,l})())})(pl);function __awaiter(t,e,n,o){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function d(p){try{_(o.next(p))}catch(u){l(u)}}function h(p){try{_(o.throw(p))}catch(u){l(u)}}function _(p){p.done?a(p.value):s(p.value).then(d,h)}_((o=o.apply(t,e||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(t,e,n){const o=withMimeType(t),{webkitRelativePath:s}=t,a=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${t.name}`;return typeof o.path!="string"&&setObjProp(o,"path",a),setObjProp(o,"relativePath",a),o}function withMimeType(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const o=e.split(".").pop().toLowerCase(),s=COMMON_MIME_TYPES.get(o);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}function setObjProp(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(t){return __awaiter(this,void 0,void 0,function*(){return isObject$3(t)&&isDataTransfer(t.dataTransfer)?getDataTransferFiles(t.dataTransfer,t.type):isChangeEvt(t)?getInputFiles(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?getFsHandleFiles(t):[]})}function isDataTransfer(t){return isObject$3(t)}function isChangeEvt(t){return isObject$3(t)&&isObject$3(t.target)}function isObject$3(t){return typeof t=="object"&&t!==null}function getInputFiles(t){return fromList(t.target.files).map(e=>toFileWithPath(e))}function getFsHandleFiles(t){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>toFileWithPath(n))})}function getDataTransferFiles(t,e){return __awaiter(this,void 0,void 0,function*(){if(t.items){const n=fromList(t.items).filter(s=>s.kind==="file");if(e!=="drop")return n;const o=yield Promise.all(n.map(toFilePromises));return noIgnoredFiles(flatten(o))}return noIgnoredFiles(fromList(t.files).map(n=>toFileWithPath(n)))})}function noIgnoredFiles(t){return t.filter(e=>FILES_TO_IGNORE.indexOf(e.name)===-1)}function fromList(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const o=t[n];e.push(o)}return e}function toFilePromises(t){if(typeof t.webkitGetAsEntry!="function")return fromDataTransferItem(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?fromDirEntry(e):fromDataTransferItem(t,e)}function flatten(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?flatten(n):[n]],[])}function fromDataTransferItem(t,e){return __awaiter(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const l=yield a.getFile();return l.handle=a,toFileWithPath(l)}}const o=t.getAsFile();if(!o)throw new Error(`${t} is not a File`);return toFileWithPath(o,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function fromEntry(t){return __awaiter(this,void 0,void 0,function*(){return t.isDirectory?fromDirEntry(t):fromFileEntry(t)})}function fromDirEntry(t){const e=t.createReader();return new Promise((n,o)=>{const s=[];function a(){e.readEntries(l=>__awaiter(this,void 0,void 0,function*(){if(l.length){const d=Promise.all(l.map(fromEntry));s.push(d),a()}else try{const d=yield Promise.all(s);n(d)}catch(d){o(d)}}),l=>{o(l)})}a()})}function fromFileEntry(t){return __awaiter(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(o=>{const s=toFileWithPath(o,t.fullPath);e(s)},o=>{n(o)})})})}var _default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var o=t.name||"",s=(t.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(l){var d=l.trim().toLowerCase();return d.charAt(0)==="."?o.toLowerCase().endsWith(d):d.endsWith("/*")?a===d.replace(/\/.*$/,""):s===d})}return!0},typeDetector={},ChannelDetector$1={},types={};Object.defineProperty(types,"__esModule",{value:!0});types.StateType=types.Types=void 0;var Types;(function(t){t.unknown="unknown",t.airCondition="airCondition",t.blind="blind",t.blindButtons="blindButtons",t.button="button",t.buttonSensor="buttonSensor",t.camera="camera",t.chart="chart",t.cie="cie",t.ct="ct",t.dimmer="dimmer",t.door="door",t.fireAlarm="fireAlarm",t.floodAlarm="floodAlarm",t.gate="gate",t.hue="hue",t.humidity="humidity",t.illuminance="illuminance",t.image="image",t.info="info",t.instance="instance",t.light="light",t.location="location",t.locationOne="locationOne",t.lock="lock",t.media="media",t.motion="motion",t.rgb="rgb",t.rgbSingle="rgbSingle",t.rgbwSingle="rgbwSingle",t.slider="slider",t.socket="socket",t.temperature="temperature",t.thermostat="thermostat",t.vacuumCleaner="vacuumCleaner",t.volume="volume",t.volumeGroup="volumeGroup",t.warning="warning",t.weatherCurrent="weatherCurrent",t.weatherForecast="weatherForecast",t.window="window",t.windowTilt="windowTilt"})(Types||(types.Types=Types={}));var StateType;(function(t){t.Number="number",t.String="string",t.Boolean="boolean"})(StateType||(types.StateType=StateType={}));var roleEnumUtils={};Object.defineProperty(roleEnumUtils,"__esModule",{value:!0});roleEnumUtils.checkEnum=checkEnum;roleEnumUtils.roleOrEnum=roleOrEnum;roleEnumUtils.roleOrEnumLight=roleOrEnumLight;roleEnumUtils.roleOrEnumBlind=roleOrEnumBlind;roleEnumUtils.roleOrEnumGate=roleOrEnumGate;roleEnumUtils.roleOrEnumWindow=roleOrEnumWindow;roleEnumUtils.roleOrEnumDoor=roleOrEnumDoor;roleEnumUtils.getEnums=getEnums;roleEnumUtils.getAllStatesInChannel=getAllStatesInChannel;roleEnumUtils.getAllStatesInDevice=getAllStatesInDevice;roleEnumUtils.getObjectsBelowId=getObjectsBelowId;roleEnumUtils.getFunctionEnums=getFunctionEnums;roleEnumUtils.getParentId=getParentId;function checkEnum(t,e){let n=!1;return t&&t.forEach(o=>{const s=o.lastIndexOf(".");s!==-1&&(o=o.substring(s+1));for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a].find(l=>l.test(o)))return n=!0,!1}),n}function roleOrEnum(t,e,n,o){return t.common.role&&(n!=null&&n.includes(t.common.role))?!0:checkEnum(e,o)}const lightWords={en:[/lights?/i,/lamps?/i,/ceilings?/i],de:[/licht(er)?/i,/lampen?/i,/beleuchtung(en)?/i],ru:[//i,/[]/i,/?/,/[]/i,/[]/i,/?/i]},lightRoles=["switch.light","dimmer","value.dimmer","level.dimmer","sensor.light","state.light"];function roleOrEnumLight(t,e){return roleOrEnum(t,e,lightRoles,lightWords)}const blindWords={en:[/blinds?/i,/windows?/i,/shutters?/i],de:[/rollladen?/i,/fenstern?/i,/beschattung(en)?/i,/jalousien?/i],ru:[//i,//i,/|/,//i]},blindRoles=["blind","level.blind","value.blind","action.stop","button.stop","button.stop.blind","button.open.blind","button.close.blind","level.tilt","value.tilt","button.tilt.open","button.tilt.close","button.tilt.stop"];function roleOrEnumBlind(t,e){return roleOrEnum(t,e,blindRoles,blindWords)}const gateWords={en:[/gates?/i],de:[/^toren$/i,/^tor$/i],ru:[//i]},gateRoles=["gate","value.gate","switch.gate","action.stop","button.stop"];function roleOrEnumGate(t,e){return roleOrEnum(t,e,gateRoles,gateWords)}const windowRoles=["window","state.window","sensor.window","value.window"];function roleOrEnumWindow(t,e){return roleOrEnum(t,e,windowRoles,blindWords)}const doorsWords={en:[/doors?/i,/gates?/i,/wickets?/i,/entry|entries/i],de:[/^tre?/i,/^tuere?/i,/^tore?$/i,/einfahrt(en)?/i,/pforten?/i],ru:[/|/i,//i,/|/,/?/i,/?/i]},doorsRoles=["door","state.door","sensor.door"];function roleOrEnumDoor(t,e){return roleOrEnum(t,e,doorsRoles,doorsWords)}function getEnums(){return{door:{roles:doorsRoles,words:doorsWords},window:{roles:windowRoles,words:blindWords},blind:{roles:blindRoles,words:blindWords},gate:{roles:gateRoles,words:gateWords},light:{roles:lightRoles,words:lightWords}}}function getAllStatesInChannel(t,e){const n=[],o=new RegExp(`^${e.replace(/([$^.)([\]{}])/g,"\\$1")}\\.[^.]+$`);return t.forEach(s=>o.test(s)&&n.push(s)),n}function getAllStatesInDevice(t,e){const n=[],o=new RegExp(`^${e.replace(/([$^.)([\]{}])/g,"\\$1")}\\.[^.]+\\.[^.]+$`);return t.forEach(s=>o.test(s)&&n.push(s)),n}function getObjectsBelowId(t,e){const n=[];e+=".";let o=0,s=t.length-1,a=-1;for(;o<=s;){const l=Math.floor((o+s)/2);t[l]<e?o=l+1:(a=l,s=l-1)}if(a===-1||a>=t.length)return n;for(let l=a;l<t.length;l++){const d=t[l];if(d===e||d.startsWith(e))n.push(d);else break}return n}function getFunctionEnums(t,e){var n,o,s;const a=[],l=/^enum\.functions\./,d=getObjectsBelowId(e,"enum");for(const h of d)Object.prototype.hasOwnProperty.call(t,h)&&l.test(h)&&((n=t[h])===null||n===void 0?void 0:n.type)==="enum"&&(!((s=(o=t[h].common)===null||o===void 0?void 0:o.members)===null||s===void 0)&&s.length)&&a.push(h);return a}function getParentId(t){const e=t.lastIndexOf(".");return e!==-1?t.substring(0,e):t}var typePatterns={};Object.defineProperty(typePatterns,"__esModule",{value:!0});typePatterns.patterns=void 0;const types_1$1=types,roleEnumUtils_1$1=roleEnumUtils,IGNORE_SETTINGS_REGEX=/^[^.]+\.setting\./,SharedPatterns={working:{role:/^indicator\.working$/,indicator:!0,notSingle:!0,name:"WORKING",required:!1,defaultRole:"indicator.working",defaultType:types_1$1.StateType.Boolean},unreach:{role:/^indicator(\.maintenance)?\.unreach$/,indicator:!0,type:types_1$1.StateType.Boolean,notSingle:!0,name:"UNREACH",required:!1,defaultRole:"indicator.maintenance.unreach"},lowbat:{role:/^indicator(\.maintenance)?\.(lowbat|battery)$/,indicator:!0,type:types_1$1.StateType.Boolean,notSingle:!0,name:"LOWBAT",required:!1,defaultRole:"indicator.maintenance.lowbat"},maintain:{role:/^indicator\.maintenance$/,indicator:!0,type:types_1$1.StateType.Boolean,notSingle:!0,name:"MAINTAIN",required:!1,defaultRole:"indicator.maintenance"},error:{role:/^indicator\.error$/,indicator:!0,notSingle:!0,name:"ERROR",required:!1,defaultRole:"indicator.error",defaultType:types_1$1.StateType.String},direction:{role:/^indicator\.direction$/,indicator:!0,type:types_1$1.StateType.Boolean,notSingle:!0,name:"DIRECTION",required:!1,defaultRole:"indicator.direction"},direction_enum:{role:/^(indicator|value)\.direction$/,type:types_1$1.StateType.Number,notSingle:!0,name:"DIRECTION",required:!1,defaultStates:{0:"None",1:"Up/Open",2:"Down/Close",3:"Unknown"},defaultRole:"value.direction"},reachable:{role:/^indicator\.reachable$/,indicator:!0,type:types_1$1.StateType.Boolean,notSingle:!0,name:"CONNECTED",required:!1,defaultRole:"indicator.reachable",inverted:!0},battery:{role:/^value\.battery$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"BATTERY",required:!1,defaultRole:"value.battery",defaultUnit:"%"}},ElectricityPatterns={power:{role:/^value\.power$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"ELECTRIC_POWER",required:!1,defaultRole:"value.power",defaultUnit:"W"},current:{role:/^value\.current$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"CURRENT",required:!1,defaultRole:"value.current",defaultUnit:"mA"},voltage:{role:/^value\.voltage$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"VOLTAGE",required:!1,defaultRole:"value.voltage",defaultUnit:"V"},consumption:{role:/^value\.power\.consumption$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"CONSUMPTION",required:!1,defaultRole:"value.power.consumption",defaultUnit:"Wh"},frequency:{role:/^value\.frequency$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"FREQUENCY",required:!1,defaultRole:"value.frequency",defaultUnit:"Hz"}};typePatterns.patterns={chart:{states:[{objectType:"chart",name:"CHART"}],type:types_1$1.Types.chart},mediaPlayer:{states:[{role:/^media\.state(\..*)?$/,indicator:!1,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],name:"STATE",required:!0,defaultRole:"media.state"},{role:/^(button|action)\.play(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,name:"PLAY",required:!1,noSubscribe:!0,defaultRole:"button.play"},{role:/^(button|action)\.pause(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,name:"PAUSE",required:!1,noSubscribe:!0,defaultRole:"button.pause"},{role:/^(button|action)\.stop(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,name:"STOP",required:!1,noSubscribe:!0,defaultRole:"button.stop"},{role:/^(button|action)\.next(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,name:"NEXT",required:!1,noSubscribe:!0,defaultRole:"button.next"},{role:/^(button|action)\.prev(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,name:"PREV",required:!1,noSubscribe:!0,defaultRole:"button.prev"},{role:/^media\.mode\.shuffle(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,name:"SHUFFLE",required:!1,noSubscribe:!0,defaultRole:"media.mode.shuffle"},{role:/^media\.mode\.repeat(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,name:"REPEAT",required:!1,noSubscribe:!0,defaultRole:"media.mode.repeat"},{role:/^media\.artist(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.String,name:"ARTIST",required:!1,defaultRole:"media.artist"},{role:/^media\.album(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.String,name:"ALBUM",required:!1,defaultRole:"media.album"},{role:/^media\.title(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.String,name:"TITLE",required:!1,defaultRole:"media.title"},{role:/^media\.cover(\.big)?$/,indicator:!1,write:!1,type:types_1$1.StateType.String,name:"COVER",required:!1,notSingle:!0,defaultRole:"media.cover"},{role:/^media\.cover(\..*)$/,indicator:!1,write:!1,type:types_1$1.StateType.String,name:"COVER",required:!1,notSingle:!0},{role:/^media\.duration(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,name:"DURATION",required:!1,noSubscribe:!0,defaultRole:"media.duration",defaultUnit:"sec"},{role:/^media\.elapsed(\..*)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"ELAPSED",required:!1,noSubscribe:!0,defaultRole:"media.elapsed",defaultUnit:"sec"},{role:/^media\.seek(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,name:"SEEK",required:!1,noSubscribe:!0,defaultRole:"media.seek"},{role:/^media\.track(\..*)?$/,indicator:!1,type:types_1$1.StateType.String,name:"TRACK",required:!1,noSubscribe:!0,defaultRole:"media.track"},{role:/^media\.episode(\..*)?$/,indicator:!1,type:types_1$1.StateType.String,name:"EPISODE",required:!1,noSubscribe:!0,defaultRole:"media.episode"},{role:/^media\.season(\..*)?$/,indicator:!1,type:types_1$1.StateType.String,name:"SEASON",required:!1,noSubscribe:!0,defaultRole:"media.season"},{role:/^level(\.volume)?$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!0,name:"VOLUME",required:!1,notSingle:!0,noSubscribe:!0,defaultRole:"level.volume",defaultUnit:"%"},{role:/^value(\.volume)?$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!1,name:"VOLUME_ACTUAL",required:!1,notSingle:!0,noSubscribe:!0,defaultRole:"value.volume",defaultUnit:"%"},{role:/^media(\.mute)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"MUTE",required:!1,notSingle:!0,noSubscribe:!0,defaultRole:"media.mute"},{stateName:/\.(paused|playerState)$/,indicator:!1,name:"IGNORE",required:!1,multiple:!0,noSubscribe:!0},SharedPatterns.reachable,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.media},weatherForecast:{states:[{role:/^weather\.icon(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"ICON",required:!0,defaultRole:"weather.icon.forecast.0"},{role:/^value\.temperature\.min\.forecast\.0$/,indicator:!1,type:types_1$1.StateType.Number,name:"TEMP_MIN",required:!0,defaultRole:"value.temperature.min.forecast.0"},{role:/^value\.temperature\.max\.forecast\.0$/,indicator:!1,type:types_1$1.StateType.Number,name:"TEMP_MAX",required:!0,defaultRole:"value.temperature.max.forecast.0"},{role:/^value\.precipitation(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"PRECIPITATION_CHANCE",unit:"%",required:!1,defaultRole:"value.precipitation.forecast.0"},{role:/^value\.precipitation(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"PRECIPITATION",unit:"mm",required:!1,defaultRole:"value.precipitation.forecast.0"},{role:/^date(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"DATE",required:!1,defaultRole:"date.forecast.0"},{role:/^dayofweek(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"DOW",required:!1,defaultRole:"dayofweek.forecast.0"},{role:/^weather\.state(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"STATE",required:!1,defaultRole:"weather.state.forecast.0"},{role:/^value\.temperature(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"TEMP",required:!1,defaultRole:"value.temperature.forecast.0"},{role:/^value\.pressure(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"PRESSURE",required:!1,defaultRole:"value.pressure.forecast.0"},{role:/^value\.humidity(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"HUMIDITY",required:!1,defaultRole:"value.humidity.forecast.0"},{role:/^(?:date|time)\.sunrise(?:\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"TIME_SUNRISE",required:!1,defaultRole:"date.sunrise"},{role:/^(?:date|time)\.sunset(?:\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"TIME_SUNSET",required:!1,defaultRole:"date.sunset"},{role:/^value\.temperature\.windchill(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_CHILL",required:!1,defaultRole:"value.temperature.windchill.forecast.0"},{role:/^value\.temperature\.feelslike(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"FEELS_LIKE",required:!1,defaultRole:"value.temperature.feelslike.forecast.0"},{role:/^value\.speed\.wind(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_SPEED",required:!1,defaultRole:"value.speed.wind.forecast.0"},{role:/^value\.direction\.wind(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_DIRECTION",required:!1,defaultRole:"value.direction.wind.forecast.0"},{role:/^weather\.direction\.wind(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"WIND_DIRECTION_STR",required:!1,defaultRole:"weather.direction.wind.forecast.0"},{role:/^weather\.icon\.wind(\.forecast\.0)?$/,indicator:!1,type:types_1$1.StateType.String,name:"WIND_ICON",required:!1,defaultRole:"weather.icon.wind.forecast.0"},{role:/^weather\.chart\.url$/,indicator:!1,type:types_1$1.StateType.String,name:"HISTORY_CHART",required:!1,noSubscribe:!0,defaultRole:"weather.chart.url"},{role:/^weather\.chart\.url\.forecast$/,indicator:!1,type:types_1$1.StateType.String,name:"FORECAST_CHART",required:!1,noSubscribe:!0,defaultRole:"weather.chart.url.forecast"},{role:/^location$/,indicator:!1,type:types_1$1.StateType.String,name:"LOCATION",required:!1,defaultRole:"location"},{role:/^weather\.icon\.forecast.(\d+)$/,indicator:!1,type:types_1$1.StateType.String,name:"ICON%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0,notSingle:!0},{role:/^value\.temperature\.min\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"TEMP_MIN%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.temperature\.max\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"TEMP_MAX%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^date\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.String,name:"DATE%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^dayofweek\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.String,name:"DOW%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^weather\.state\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.String,name:"STATE%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.temperature\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"TEMP%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.humidity\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"HUMIDITY%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.humidity\.max\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"HUMIDITY_MAX%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.precipitation\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,unit:"%",name:"PRECIPITATION_CHANCE%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.precipitation\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,unit:"mm",name:"PRECIPITATION%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.speed\.wind\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_SPEED%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^value\.direction\.wind\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_DIRECTION%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^weather\.direction\.wind\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.String,name:"WIND_DIRECTION_STR%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0},{role:/^weather\.icon\.wind\.forecast\.(\d+)$/,indicator:!1,type:types_1$1.StateType.String,name:"WIND_ICON%d",required:!1,searchInParent:!0,multiple:!0,noSubscribe:!0}],type:types_1$1.Types.weatherForecast},rgb:{states:[{role:/^level\.color\.red$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"RED",required:!0,defaultRole:"level.color.red"},{role:/^level\.color\.green$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"GREEN",required:!0,defaultRole:"level.color.green"},{role:/^level\.color\.blue$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BLUE",required:!0,defaultRole:"level.color.blue"},{role:/^level\.color\.white$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"WHITE",required:!1,defaultRole:"level.color.white"},{role:/^level\.dimmer$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"DIMMER",required:!1,defaultRole:"level.dimmer",defaultUnit:"%"},{role:/^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BRIGHTNESS",required:!1},{role:/^level\.color\.temperature$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TEMPERATURE",required:!1,defaultRole:"level.color.temperature",defaultUnit:"K"},{role:/^switch(\.light)?$|^state$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"ON",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.rgb},rgbwSingle:{states:[{role:/^level\.color\.rgbw$/,indicator:!1,type:types_1$1.StateType.String,write:!0,name:"RGBW",required:!0,defaultRole:"level.color.rgbw"},{role:/^level\.dimmer$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"DIMMER",required:!1,defaultRole:"level.dimmer",defaultUnit:"%"},{role:/^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BRIGHTNESS",required:!1,defaultUnit:"%"},{role:/^level\.color\.temperature$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TEMPERATURE",required:!1,defaultRole:"level.color.temperature",defaultUnit:"K"},{role:/^switch(\.light)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"ON",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.rgbwSingle},rgbSingle:{states:[{role:/^level\.color\.rgb$/,indicator:!1,type:types_1$1.StateType.String,write:!0,name:"RGB",required:!0,defaultRole:"level.color.rgb"},{role:/^level\.dimmer$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"DIMMER",required:!1,defaultRole:"level.dimmer",defaultUnit:"%"},{role:/^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BRIGHTNESS",required:!1,defaultUnit:"%"},{role:/^level\.color\.temperature$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TEMPERATURE",required:!1,defaultRole:"level.color.temperature",defaultUnit:"K"},{role:/^switch(\.light)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"ON",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.rgbSingle},cie:{states:[{role:/^level\.color\.cie$/,indicator:!1,type:types_1$1.StateType.String,write:!0,name:"CIE",required:!0,defaultRole:"level.color.cie"},{role:/^level\.dimmer$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"DIMMER",required:!1,defaultRole:"level.dimmer",defaultUnit:"%"},{role:/^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BRIGHTNESS",required:!1,defaultUnit:"%"},{role:/^level\.color\.temperature$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TEMPERATURE",required:!1,defaultRole:"level.color.temperature",defaultUnit:"K"},{role:/^switch(\.light)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"ON",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.cie},hue:{states:[{role:/^level\.color\.hue$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"HUE",required:!0,defaultRole:"level.color.hue",defaultUnit:""},{role:/^level\.dimmer$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"DIMMER",required:!1,searchInParent:!0,defaultRole:"level.dimmer",defaultUnit:"%"},{role:/^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BRIGHTNESS",required:!1},{role:/^level\.color\.saturation$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"SATURATION",required:!1,defaultRole:"level.color.saturation",defaultUnit:"%"},{role:/^level\.color\.temperature$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TEMPERATURE",required:!1,defaultRole:"level.color.temperature",defaultUnit:"K"},{role:/^switch(\.light)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"ON",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.hue},ct:{states:[{role:/^level\.color\.temperature$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TEMPERATURE",required:!0,defaultRole:"level.color.temperature",defaultUnit:"K"},{role:/^level\.dimmer$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"DIMMER",required:!1,defaultRole:"level.dimmer",defaultUnit:"%"},{role:/^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"BRIGHTNESS",required:!1},{role:/^switch(\.light)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"ON",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.ct},warning:{states:[{role:/^value\.warning$/,indicator:!1,name:"LEVEL",required:!0,defaultRole:"value.warning"},{role:/^weather\.title\.short$/,indicator:!1,type:types_1$1.StateType.String,name:"TITLE",required:!1,defaultRole:"weather.title.short"},{role:/^weather\.title$/,indicator:!1,type:types_1$1.StateType.String,name:"INFO",required:!1,defaultRole:"weather.title"},{role:/^date\.start$/,indicator:!1,type:types_1$1.StateType.String,name:"START",required:!1,defaultRole:"date.start"},{role:/^date\.end$/,indicator:!1,type:types_1$1.StateType.String,name:"END",required:!1,defaultRole:"date.end"},{role:/^date$/,indicator:!1,type:types_1$1.StateType.String,name:"START",required:!1},{role:/^weather\.chart\.url/,indicator:!1,type:types_1$1.StateType.String,name:"ICON",required:!1,defaultRole:"weather.chart.url"},{role:/^weather\.state$/,indicator:!1,type:types_1$1.StateType.String,name:"DESC",required:!1,noSubscribe:!0,defaultRole:"weather.state"}],type:types_1$1.Types.warning},airCondition:{states:[{role:/temperature(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,name:"SET",required:!0,defaultRole:"level.temperature",defaultUnit:"C",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/(level\.mode\.)?airconditioner$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"MODE",required:!0,defaultRole:"level.mode.airconditioner",defaultStates:{0:"AUTO",3:"COOL",4:"DRY",5:"ECO",6:"FAN_ONLY",7:"HEAT",8:"OFF"},ignoreRole:IGNORE_SETTINGS_REGEX},{role:/(speed|mode)\.fan$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,name:"SPEED",required:!1,defaultRole:"level.mode.fan",defaultStates:{0:"AUTO",1:"HIGH",2:"LOW",3:"MEDIUM",4:"QUIET",5:"TURBO"},ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^switch(\.power)?$/,indicator:!1,write:!0,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],searchInParent:!0,name:"POWER",required:!1,defaultRole:"switch.power"},{role:/temperature(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,name:"ACTUAL",required:!1,defaultRole:"value.temperature",defaultUnit:"C",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/humidity(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,name:"HUMIDITY",required:!1,defaultRole:"value.humidity",defaultUnit:"%",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^switch\.boost(\..*)?$/,indicator:!1,write:!0,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],searchInParent:!0,name:"BOOST",required:!1,defaultRole:"switch.boost"},{role:/swing$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"SWING",required:!1,defaultRole:"level.mode.swing",defaultStates:{0:"AUTO",1:"HORIZONTAL",2:"STATIONARY",3:"VERTICAL"},ignoreRole:IGNORE_SETTINGS_REGEX},{role:/swing$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,searchInParent:!0,name:"SWING",required:!1,defaultRole:"switch.mode.swing",ignoreRole:IGNORE_SETTINGS_REGEX},...Object.values(ElectricityPatterns),SharedPatterns.unreach,SharedPatterns.maintain,SharedPatterns.error],type:types_1$1.Types.airCondition},thermostat:{states:[{role:/temperature(\..*)?$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,name:"SET",required:!0,defaultRole:"level.temperature",defaultUnit:"C",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/temperature(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,name:"ACTUAL",required:!1,defaultRole:"value.temperature",defaultUnit:"C",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/humidity(\..*)?$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,name:"HUMIDITY",required:!1,defaultRole:"value.humidity",defaultUnit:"%",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^switch(\.mode)?\.boost(\..*)?$/,indicator:!1,write:!0,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],searchInParent:!0,name:"BOOST",required:!1,defaultRole:"switch.mode.boost"},{role:/^switch(\.power)?$/,indicator:!1,write:!0,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],searchInParent:!0,name:"POWER",required:!1,defaultRole:"switch.power"},{role:/^switch(\.mode)?\.party$/,indicator:!1,write:!0,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],searchInParent:!0,name:"PARTY",required:!1,defaultRole:"switch.mode.party"},{role:/^level(\.mode)?\.thermostat$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"MODE",required:!1,defaultRole:"level.mode.thermostat",defaultStates:{0:"AUTO",1:"MANUAL"}},SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.thermostat},vacuumCleaner:{states:[{role:/^switch\.power$/,indicator:!1,write:!0,type:[types_1$1.StateType.Boolean,types_1$1.StateType.Number],searchInParent:!0,name:"POWER",required:!0,defaultRole:"switch.power"},{role:/mode\.cleanup$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"MODE",required:!0,defaultRole:"level.mode.cleanup",defaultStates:{0:"AUTO",1:"NORMAL",2:"QUIET",3:"ECO",4:"EXPRESS"},ignoreRole:IGNORE_SETTINGS_REGEX},{role:/vacuum\.map\.base64$/,indicator:!1,write:!1,type:types_1$1.StateType.String,searchInParent:!0,name:"MAP_BASE64",required:!1,defaultRole:"vacuum.map.base64",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/vacuum\.map\.url$/,indicator:!1,write:!1,type:types_1$1.StateType.String,searchInParent:!0,name:"MAP_URL",required:!1,ignoreRole:IGNORE_SETTINGS_REGEX},{role:/mode\.work$/,indicator:!1,write:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"WORK_MODE",required:!1,defaultRole:"level.mode.work",defaultStates:{0:"AUTO",1:"FAST",2:"MEDIUM",3:"SLOW",4:"TURBO"},ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^value\.water$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,unit:"%",name:"WATER",required:!1,defaultRole:"value.water",defaultUnit:"%"},{role:/^value\.waste$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,unit:"%",name:"WASTE",required:!1,defaultRole:"value.waste",defaultUnit:"%"},{role:/^value\.battery$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,searchInParent:!0,unit:"%",name:"BATTERY",required:!1,defaultRole:"value.battery",defaultUnit:"%"},{role:/^value\.state$/,indicator:!1,write:!1,type:[types_1$1.StateType.Number,types_1$1.StateType.String],searchInParent:!0,name:"STATE",required:!1,defaultRole:"value.state"},{role:/^switch\.pause$/,indicator:!1,write:!0,type:types_1$1.StateType.Boolean,searchInParent:!0,name:"PAUSE",required:!1,defaultRole:"switch.pause"},{role:/^indicator(\.maintenance)?\.waste$|^indicator(\.alarm)?\.waste/,indicator:!0,type:types_1$1.StateType.Boolean,searchInParent:!0,name:"WASTE_ALARM",required:!1,defaultRole:"indicator.maintenance.waste"},{role:/^indicator(\.maintenance)?\.water$|^indicator(\.alarm)?\.water/,indicator:!0,type:types_1$1.StateType.Boolean,searchInParent:!0,name:"WATER_ALARM",required:!1,defaultRole:"indicator.maintenance.water"},{role:/^value(\.usage)?\.filter/,indicator:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"FILTER",required:!1,defaultRole:"value.usage.filter",defaultUnit:"%"},{role:/^value(\.usage)?\.brush/,indicator:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"BRUSH",required:!1,defaultRole:"value.usage.brush",defaultUnit:"%"},{role:/^value(\.usage)?\.sensors/,indicator:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"SENSORS",required:!1,defaultRole:"value.usage.sensors",defaultUnit:"%"},{role:/^value(\.usage)?\.brush\.side/,indicator:!0,type:types_1$1.StateType.Number,searchInParent:!0,name:"SIDE_BRUSH",required:!1,defaultRole:"value.usage.brush.side",defaultUnit:"%"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.vacuumCleaner},blinds:{states:[{role:/^level(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"SET",required:!0,defaultRole:"level.blind",defaultUnit:"%"},{role:/^value(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Number,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"ACTUAL",required:!1,defaultRole:"value.blind",defaultUnit:"%"},{role:/^(button|action)\.stop(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"STOP",required:!1,noSubscribe:!0,defaultRole:"button.stop.blind"},{role:/^(button|action)\.open(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"OPEN",required:!1,noSubscribe:!0,defaultRole:"button.open.blind"},{role:/^(button|action)\.close(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"CLOSE",required:!1,noSubscribe:!0,defaultRole:"button.close.blind"},{role:/^level(\.open)?\.tilt$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_SET",required:!1,defaultRole:"level.tilt"},{role:/^value(\.open)?\.tilt$/,indicator:!1,type:types_1$1.StateType.Number,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_ACTUAL",required:!1,defaultRole:"value.tilt"},{role:/^(button|action)\.stop\.tilt$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_STOP",required:!1,noSubscribe:!0,defaultRole:"button.stop.tilt"},{role:/^(button|action)\.open\.tilt$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_OPEN",required:!1,noSubscribe:!0,defaultRole:"button.open.tilt"},{role:/^(button|action)\.close\.tilt$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_CLOSE",required:!1,noSubscribe:!0,defaultRole:"button.close.tilt"},SharedPatterns.direction,SharedPatterns.direction_enum,SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.blind},blindButtons:{states:[{role:/^(button|action)\.stop(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"STOP",required:!0,noSubscribe:!0,defaultRole:"button.stop.blind"},{role:/^(button|action)\.open(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"OPEN",required:!0,noSubscribe:!0,defaultRole:"button.open.blind"},{role:/^(button|action)\.close(\.blind)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"CLOSE",required:!0,noSubscribe:!0,defaultRole:"button.close.blind"},{role:/^level\.tilt$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_SET",required:!1,defaultRole:"level.tilt"},{role:/^value\.tilt$/,indicator:!1,type:types_1$1.StateType.Number,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_ACTUAL",required:!1,defaultRole:"value.tilt"},{role:/^(button|action)\.stop\.tilt$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_STOP",required:!1,noSubscribe:!0,defaultRole:"button.stop.tilt"},{role:/^(button|action)\.open\.tilt$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_OPEN",required:!1,noSubscribe:!0,defaultRole:"button.open.tilt"},{role:/^(button|action)\.close\.tilt$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumBlind,name:"TILT_CLOSE",required:!1,noSubscribe:!0,defaultRole:"button.close.tilt"},SharedPatterns.direction,SharedPatterns.direction_enum,SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.blindButtons},gate:{states:[{role:/^switch(\.gate)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumGate,name:"SET",required:!0,defaultRole:"switch.gate"},{role:/^value(\.(position|gate))?$/,indicator:!1,type:types_1$1.StateType.Number,enums:roleEnumUtils_1$1.roleOrEnumGate,name:"ACTUAL",required:!1,defaultRole:"value.blind",defaultUnit:"%",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^(button|action)\.stop$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumGate,name:"STOP",required:!1,noSubscribe:!0,defaultRole:"button.stop"},SharedPatterns.direction,SharedPatterns.direction_enum,SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.maintain,SharedPatterns.error],type:types_1$1.Types.gate},weatherCurrent:{states:[{role:/^value(\.temperature)?$/,indicator:!1,type:types_1$1.StateType.Number,name:"ACTUAL",required:!0,defaultRole:"value.temperature",defaultUnit:"C"},{role:/^weather\.icon$/,indicator:!1,name:"ICON",required:!0,defaultRole:"weather.icon"},{role:/^value\.precipitation\.chance$/,indicator:!1,type:types_1$1.StateType.Number,name:"PRECIPITATION_CHANCE",defaultRole:"value.precipitation.chance",defaultUnit:"%"},{role:/^value\.precipitation\.type$/,indicator:!1,type:types_1$1.StateType.Number,name:"PRECIPITATION_TYPE",defaultRole:"value.precipitation.type",defaultStates:{0:"NO",1:"RAIN",2:"SNOW",3:"HAIL"}},{role:/^value\.pressure$/,indicator:!1,type:types_1$1.StateType.Number,name:"PRESSURE",defaultRole:"value.pressure",defaultUnit:"mbar"},{role:/^value\.pressure\.tendency$/,indicator:!1,type:types_1$1.StateType.String,name:"PRESSURE_TENDENCY",defaultRole:"value.pressure.tendency"},{role:/^value\.temperature\.windchill$/,indicator:!1,type:types_1$1.StateType.Number,name:"REAL_FEEL_TEMPERATURE",defaultRole:"value.temperature.windchill",defaultUnit:"C"},{role:/^value\.humidity$/,indicator:!1,type:types_1$1.StateType.Number,name:"HUMIDITY",defaultRole:"value.humidity",defaultUnit:"%"},{role:/^value\.uv$/,indicator:!1,type:types_1$1.StateType.Number,name:"UV",defaultRole:"value.uv"},{role:/^weather\.state$/,indicator:!1,type:types_1$1.StateType.String,name:"WEATHER",defaultRole:"weather.state"},{role:/^value\.direction\.wind$/,indicator:!1,type:types_1$1.StateType.String,name:"WIND_DIRECTION",defaultRole:"value.direction.wind",defaultUnit:""},{role:/^value\.speed\.wind\.gust$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_GUST",defaultRole:"value.speed.wind.gust",defaultUnit:"km/h"},{role:/^value\.speed\.wind$/,indicator:!1,type:types_1$1.StateType.Number,name:"WIND_SPEED",defaultRole:"value.speed.wind$",defaultUnit:"km/h"},SharedPatterns.lowbat,SharedPatterns.unreach,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.weatherCurrent},camera:{states:[{role:/^link\.camera(\.\w+)?$/,indicator:!1,type:types_1$1.StateType.String,name:"URL",required:!0,defaultRole:"link.camera"},{role:/^switch(\.camera)?\.autofocus$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"AUTOFOCUS",required:!1,defaultRole:"switch.camera.autofocus"},{role:/^switch(\.camera)?\.autowhitebalance$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"AUTOWHITEBALANCE",required:!1,defaultRole:"switch.camera.autowhitebalance"},{role:/^switch(\.camera)?\.brightness$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"BRIGHTNESS",required:!1,defaultRole:"switch.camera.brightness"},{role:/^switch(\.camera)?\.nightmode$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"NIGHTMODE",required:!1,defaultRole:"switch.camera.nightmode"},{role:/^level(\.camera)?\.position$|^level(\.camera)?(\.ptz)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,name:"PTZ",required:!1,defaultRole:"level.camera.position"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.camera,enumRequired:!1},lock:{states:[{role:/^switch\.lock$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"SET",required:!0,defaultRole:"switch.lock"},{role:/^state$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ACTUAL",required:!1,defaultRole:"state"},{indicator:!1,type:types_1$1.StateType.Boolean,write:!0,read:!1,name:"OPEN",required:!1,noSubscribe:!0,defaultRole:"button",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^(state|sensor)(\.door)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"DOOR_STATE",required:!1,defaultRole:"sensor.door",ignoreRole:IGNORE_SETTINGS_REGEX},SharedPatterns.direction,SharedPatterns.direction_enum,SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.lock},motion:{states:[{role:/^(state\.)?motion$|^sensor\.motion$/,indicator:!1,type:types_1$1.StateType.Boolean,name:"ACTUAL",required:!0,defaultRole:"sensor.motion",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/brightness$/,indicator:!1,type:types_1$1.StateType.Number,name:"SECOND",required:!1,defaultRole:"value.brightness",defaultUnit:"lux",ignoreRole:IGNORE_SETTINGS_REGEX},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.motion},window:{states:[{role:/^(state|sensor)(\.window)?/,indicator:!1,type:types_1$1.StateType.Boolean,enums:roleEnumUtils_1$1.roleOrEnumWindow,name:"ACTUAL",required:!0,defaultRole:"sensor.window",ignoreRole:IGNORE_SETTINGS_REGEX},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.window},windowTilt:{states:[{role:/^state$|^value(\.window)?$/,indicator:!1,type:types_1$1.StateType.Number,enums:roleEnumUtils_1$1.roleOrEnumWindow,name:"ACTUAL",required:!0,defaultRole:"value.window"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.windowTilt},fireAlarm:{states:[{role:/^(state|sensor|indicator)(\.alarm)?\.fire$/,indicator:!1,type:types_1$1.StateType.Boolean,name:"ACTUAL",required:!0,defaultRole:"sensor.alarm.fire",defaultChannelRole:"sensor.alarm.fire"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.fireAlarm,enumRequired:!1},floodAlarm:{states:[{role:/^(state|sensor|indicator)(\.alarm)?\.flood$/,indicator:!1,type:types_1$1.StateType.Boolean,name:"ACTUAL",required:!0,defaultRole:"sensor.alarm.flood",defaultChannelRole:"sensor.alarm.flood"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.floodAlarm},door:{states:[{role:/^(state|sensor)(\.door)?/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,enums:roleEnumUtils_1$1.roleOrEnumDoor,name:"ACTUAL",required:!0,defaultRole:"sensor.door"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.door},dimmer:{states:[{role:/^level(\.dimmer)?$|^level\.brightness$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,enums:roleEnumUtils_1$1.roleOrEnumLight,name:"SET",required:!0,defaultRole:"level.dimmer",ignoreRole:/^level\.dimspeed$/,defaultUnit:"%"},{role:/^value(\.dimmer)?$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,enums:roleEnumUtils_1$1.roleOrEnumLight,name:"ACTUAL",required:!1,defaultRole:"value.dimmer",defaultUnit:"%"},{role:/^switch(\.light)?$|^state$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,enums:roleEnumUtils_1$1.roleOrEnumLight,name:"ON_SET",required:!1,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,enums:roleEnumUtils_1$1.roleOrEnumLight,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^time\.(span|interval)$/,indicator:!1,type:types_1$1.StateType.Number,write:!0,enums:roleEnumUtils_1$1.roleOrEnumLight,name:"TRANSITION_TIME",required:!1,defaultRole:"time.span",defaultUnit:"ms"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.dimmer},light:{states:[{role:/^switch(\.light)?$|^state$/,enums:roleEnumUtils_1$1.roleOrEnumLight,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"SET",required:!0,defaultRole:"switch.light"},{role:/^(state|switch|sensor)\.light|switch$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,enums:roleEnumUtils_1$1.roleOrEnumLight,name:"ON_ACTUAL",required:!1,defaultRole:"sensor.light",ignoreRole:IGNORE_SETTINGS_REGEX},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.light},volume:{states:[{role:/^level\.volume$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!0,name:"SET",required:!0,defaultRole:"level.volume",defaultUnit:"%"},{role:/^value\.volume$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!1,name:"ACTUAL",required:!1,defaultRole:"value.volume",defaultUnit:"%"},{role:/^media\.mute$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"MUTE",required:!1,defaultRole:"media.mute"},SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.volume},locationOne:{states:[{role:/^value\.gps$/,indicator:!1,type:types_1$1.StateType.String,write:!1,name:"GPS",required:!0,defaultRole:"value.gps"},{role:/^value\.gps\.elevation$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"ELEVATION",required:!1,defaultRole:"value.gps.elevation"},{role:/^value(\.gps)?\.radius$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"RADIUS",required:!1,defaultRole:"value.gps.radius"},{role:/^value(\.gps)?\.accuracy$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"ACCURACY",required:!1,defaultRole:"value.gps.accuracy"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.locationOne},location:{states:[{role:/^value(\.gps)?\.longitude$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"LONGITUDE",required:!0,defaultRole:"value.gps.longitude",defaultUnit:""},{role:/^value(\.gps)?\.latitude$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"LATITUDE",required:!0,defaultRole:"value.gps.latitude",defaultUnit:""},{role:/^value(\.gps)?\.elevation$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"ELEVATION",required:!1,defaultRole:"value.gps.elevation"},{role:/^value(\.gps)?\.radius$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"RADIUS",required:!1,defaultRole:"value.gps.radius"},{role:/^value(\.gps)?\.accuracy$/,indicator:!1,type:types_1$1.StateType.Number,write:!1,name:"ACCURACY",required:!1,defaultRole:"value.gps.accuracy"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.location},volumeGroup:{states:[{role:/^level\.volume\.group?$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!0,name:"SET",required:!0,defaultRole:"level.volume.group",defaultUnit:"%"},{role:/^value\.volume\.group$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!1,name:"ACTUAL",required:!1,defaultRole:"value.volume.group",defaultUnit:"%"},{role:/^media\.mute\.group$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"MUTE",required:!1,defaultRole:"media.mute.group"},SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.volumeGroup},levelSlider:{states:[{role:/^level(\..*)?$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!0,name:"SET",required:!0,defaultRole:"level",defaultUnit:"%",ignoreRole:IGNORE_SETTINGS_REGEX},{role:/^value(\..*)?$/,indicator:!1,type:types_1$1.StateType.Number,min:types_1$1.StateType.Number,max:types_1$1.StateType.Number,write:!1,name:"ACTUAL",required:!1,defaultRole:"value",defaultUnit:"%",ignoreRole:IGNORE_SETTINGS_REGEX},SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.slider},socket:{states:[{role:/^switch(\.active)?$|^state$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!0,name:"SET",required:!0,defaultRole:"switch"},{role:/^state(\.active)?$/,indicator:!1,type:types_1$1.StateType.Boolean,write:!1,name:"ACTUAL",required:!1,defaultRole:"sensor.switch"},...Object.values(ElectricityPatterns),SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error],type:types_1$1.Types.socket},button:{states:[{role:/^(button|action)(\.[.\w]+)?$/,indicator:!1,type:types_1$1.StateType.Boolean,read:!1,write:!0,name:"SET",required:!0,noSubscribe:!0,defaultRole:"button"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.button},buttonSensor:{states:[{role:/^button(\.[.\w]+)?$/,indicator:!1,type:types_1$1.StateType.Boolean,read:!0,write:!1,name:"PRESS",required:!0,defaultRole:"button.press"},{role:/^button\.long/,indicator:!1,type:types_1$1.StateType.Boolean,read:!0,write:!1,name:"PRESS_LONG",required:!1,defaultRole:"button.long"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.buttonSensor},temperature:{states:[{role:/\.temperature$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,name:"ACTUAL",required:!0,defaultRole:"value.temperature",defaultUnit:"C"},{role:/\.humidity$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,name:"SECOND",required:!1,defaultRole:"value.humidity",defaultUnit:"%"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.temperature},humidity:{states:[{role:/\.humidity$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,name:"ACTUAL",required:!0,defaultRole:"value.humidity",defaultUnit:"%"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.humidity},illuminance:{states:[{role:/\.brightness$/,indicator:!1,write:!1,type:types_1$1.StateType.Number,name:"ACTUAL",required:!0,defaultRole:"value.brightness",defaultUnit:"lux"},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.illuminance},image:{states:[{role:/\.icon$|^icon$|^icon\.|\.icon\.|\.chart\.url\.|\.chart\.url$|^url.icon$/,indicator:!1,write:!1,type:types_1$1.StateType.String,name:"URL",defaultRole:"icon",required:!0,ignoreRole:IGNORE_SETTINGS_REGEX},SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.image},info:{states:[{indicator:!1,name:"ACTUAL",required:!0,multiple:!0,noDeviceDetection:!0,ignoreRole:/\.inhibit$/,defaultRole:"state"},SharedPatterns.working,SharedPatterns.unreach,SharedPatterns.lowbat,SharedPatterns.maintain,SharedPatterns.error,SharedPatterns.battery],type:types_1$1.Types.info}};Object.defineProperty(ChannelDetector$1,"__esModule",{value:!0});ChannelDetector$1.ChannelDetector=void 0;const types_1=types,roleEnumUtils_1=roleEnumUtils,typePatterns_1=typePatterns;class ChannelDetector{constructor(){this.enums=null,this.cache={}}_applyPattern(e,n,o,s,a){var l,d;if(!((l=e[n])===null||l===void 0)&&l.common){let h=null;if(o.role&&(h=o.role.test(e[n].common.role||""),h&&o.channelRole)){const u=(0,roleEnumUtils_1.getParentId)(n),m=((d=e[u])===null||d===void 0?void 0:d.common.role)||"";m&&(e[u].type==="channel"||e[u].type==="device")?h=o.channelRole.test(m):h=!1}if(h===!1)return!1;if(o.type){if(typeof o.type=="string"){if(o.type!==e[n].common.type)return!1}else if(Array.isArray(o.type)){let u=!1;for(let m=0;m<o.type.length;m++)if(o.type[m]===e[n].common.type){u=!0;break}if(!u)return!1}}if(o.objectType&&e[n].type!==o.objectType||o.stateName&&!o.stateName.test(n)||o.unit&&o.unit!==e[n].common.unit)return!1;if(o.ignoreRole){const u=e[n].common.role||"";if(u&&o.ignoreRole.test(u))return!1}if(o.indicator===!1&&(e[n].common.role||"").match(/^indicator(\.[.\w]+)?$/))return!1;if(o.state){const u=n.split(".").pop()||"";if(u&&!o.state.test(u))return!1}const _=o.defaultRole&&e[n].common.role===o.defaultRole,p=o.defaultUnit?e[n].common.unit===o.defaultUnit:!1;if(o.min===types_1.StateType.Number&&typeof e[n].common.min!==types_1.StateType.Number&&(!p||e[n].common.unit!=="%")||o.max===types_1.StateType.Number&&typeof e[n].common.max!==types_1.StateType.Number&&(!p||e[n].common.unit!=="%"))return!1;if(!_){if(o.write!==void 0&&o.write!==!!e[n].common.write||o.read!==void 0&&o.read!==(e[n].common.read===void 0?!0:e[n].common.read))return!1;if(o.enums&&typeof o.enums=="function"){const u=this._getEnumsForId(e,n,a);if(!s&&!o.enums(e[n],u||[]))return!1}}return!0}return!1}_getEnumsForId(e,n,o){var s;this.enums||(this.enums=(0,roleEnumUtils_1.getFunctionEnums)(e,o));const a=[];if(this.enums.forEach(l=>{e[l].common.members.includes(n)&&a.push(l)}),!a.length&&((s=e[n])===null||s===void 0?void 0:s.type)==="state"){const l=(0,roleEnumUtils_1.getParentId)(n);e[l]&&(e[l].type==="channel"||e[l].type==="device")&&this.enums.forEach(d=>{e[d].common.members.includes(l)&&a.push(d)})}return a.length?a:null}static copyState(e,n){const o=n||JSON.parse(JSON.stringify(e));return o.original=e.original||e,"enums"in e&&e.enums&&(o.enums=e.enums),"role"in e&&e.role&&(o.role=e.role),"channelRole"in e&&e.channelRole&&(o.channelRole=e.channelRole),o}_testOneState(e){var n,o,s,a,l,d;const h=e.objects,_=e.pattern,p=e.state,u=e.channelStates,m=e.usedIds,g=e.usedInCurrentDevice,y=e.ignoreIndicators,v=e.ignoreEnums,S=e.sortedKeys;let b=e.result,C=!1;for(const w of u)if(!(p.name==="COVER"&&(b!=null&&b.states.find(A=>A.id&&A.name==="COVER")))){if(p.indicator&&y){const $=w.split(".").pop()||"";if($&&y.includes($))continue}if((p.indicator||!g.includes(w)&&(p.notSingle||!m.includes(w)))&&this._applyPattern(h,w,p,v,S)){if(b||(b=JSON.parse(JSON.stringify(typePatterns_1.patterns[_])),e.result=b,b==null||b.states.forEach((A,$)=>ChannelDetector.copyState(typePatterns_1.patterns[_].states[$],A))),b.states.find(({id:A})=>A===w))C=!0;else for(const A of b.states)if(A.name===p.name){if(A.id){let $;e.favorId&&(w===e.favorId?$=!0:A.id===e.favorId&&($=!1));const E=(s=(o=(n=h[A.id])===null||n===void 0?void 0:n.common)===null||o===void 0?void 0:o.role)!==null&&s!==void 0?s:"",D=(d=(l=(a=h[w])===null||a===void 0?void 0:a.common)===null||l===void 0?void 0:l.role)!==null&&d!==void 0?d:"",I=A.defaultRole;if(I&&$===void 0&&(D===I?$=!0:E===I&&($=!1)),$===void 0){const R=D.split("."),O=R.length,N=E.split("."),M=N.length;D===""||R[0]==="state"&&N[0]!=="state"?$=!1:R[0]!=="state"&&N[0]==="state"||O>M?$=!0:O<M?$=!1:$=R[0]!=="state"}if(!$)break}A.id=w,C=!0;break}if(C&&(p.indicator||g.push(w),p.multiple&&u.length>1)){for(const A of u)if(A!==w&&(p.indicator||!g.includes(A)&&(p.notSingle||!m.includes(A)))&&this._applyPattern(h,A,p,v,S))if(p.indicator||g.push(A),Array.isArray(p)){const $=ChannelDetector.copyState(p[0]);$.id=A,b.states.push($)}else{const $=ChannelDetector.copyState(p);$.id=A,b.states.push($)}}}}return C}static findParentChannelOrDevice(e,n){if(!e[n])return;const o=n.split("."),s=n;if(e[n].type==="state"&&(o.pop(),n=o.join(".")),o.length<=2)return n;const a=e[n];if((a==null?void 0:a.type)==="device")return n;o.pop();const l=o.join("."),d=e[l];if(!d)return a?n:s;if(d.type==="device"||o.length<=2)return l;if((a==null?void 0:a.type)==="channel")return n;o.pop();const h=o.join("."),_=e[h];return!_||_.type!=="device"&&_.type!=="channel"?l:h}static getChannelOrDeviceStates(e,n,o,s=!1){var a;const l=(a=e[n])===null||a===void 0?void 0:a.type;switch(l){case void 0:return[...(0,roleEnumUtils_1.getObjectsBelowId)(o,n)];case"state":case"channel":case"device":case"folder":if(s&&l!=="device"){const d=ChannelDetector.findParentChannelOrDevice(e,n);return d?[...(0,roleEnumUtils_1.getObjectsBelowId)(o,d)]:[n]}return l!=="state"?[...(0,roleEnumUtils_1.getObjectsBelowId)(o,n)]:[n];default:return[n]}}static patternIsAllowed(e,n,o){if(!e)return!1;if(Array.isArray(e.type)){for(let s=0;s<e.type.length;s++)if(n&&!n.includes(e.type[s])||o&&o.includes(e.type[s]))return!1;return!0}return n&&!n.includes(e.type)?!1:!o||!o.includes(e.type)}static allRequiredStatesFound(e){if(!e.result)return!1;const n=e.result.states;for(let o=0;o<n.length;o++)if(n[o].required&&!n[o].id)return!1;return!0}static cleanState(e,n){var o,s;const a=((s=(o=n[e.id])===null||o===void 0?void 0:o.common)===null||s===void 0?void 0:s.role)||"";if(e.name.includes("%d")&&e.role&&e.id&&a){const l=e.role.exec(a);l&&(e.name=e.name.replace("%d",l[1]))}e.role&&delete e.role,e.enums&&delete e.enums,e.original&&delete e.original}sortTypes(e,n){return n.forEach(([o,s])=>{const a=e.indexOf(o),l=e.indexOf(s);if(a===-1||l===-1)return;const d=e.splice(a,1);e.splice(l,0,...d)}),e}_detectNext(e){var n,o,s,a;const{objects:l,id:d,_usedIdsOptional:h=[],ignoreIndicators:_,prioritizedTypes:p,detectParent:u,allowedTypes:m,excludedTypes:g,_keysOptional:y}=e;let{_patternList:v}=e;e._usedIdsOptional=h;const S=ChannelDetector.getChannelOrDeviceStates(l,d,y||[],u);if(!(!((n=l[d])===null||n===void 0)&&n.common)&&!S.length)return null;if(e._checkedPatterns=(o=e._checkedPatterns)!==null&&o!==void 0?o:[],!v){const w=Object.keys(typePatterns_1.patterns).filter(A=>ChannelDetector.patternIsAllowed(typePatterns_1.patterns[A],m,g));v=p?this.sortTypes(w,p):w,e._patternList=v}const b={objects:l,channelStates:S,usedIds:h,ignoreIndicators:_||[],pattern:types_1.Types.unknown,usedInCurrentDevice:[],state:{},ignoreEnums:!!e.ignoreEnums,sortedKeys:y,favorId:e.detectParent?void 0:d},C=(s=l[d])===null||s===void 0?void 0:s.type;for(const w of v){if(e._checkedPatterns.includes(w))continue;e._checkedPatterns.push(w),delete b.result,b.pattern=w,b.usedInCurrentDevice=[];for(const $ of typePatterns_1.patterns[w].states){let E=!1;if(b.state=$,this._testOneState(b)&&(E=!0),$.required&&!E){delete b.result;break}}if(!ChannelDetector.allRequiredStatesFound(b))continue;b.usedInCurrentDevice.forEach($=>h.push($));let A;if(C!=="device"){const $=(a=ChannelDetector.findParentChannelOrDevice(l,d))!==null&&a!==void 0?a:d;if(l[$]&&(l[$].type==="channel"||l[$].type==="device")){A=(0,roleEnumUtils_1.getObjectsBelowId)(y,$);for(const E of A)b.result.states.forEach((D,I)=>{!D.id&&(D.indicator||D.searchInParent)&&!D.noDeviceDetection&&this._applyPattern(l,E,D.original,!!e.ignoreEnums,b.sortedKeys)&&b.result&&(b.result.states[I].id=E)})}}if(b.result.states.forEach($=>ChannelDetector.cleanState($,b.objects)),e.limitTypesToOneOf){for(const $ of e.limitTypesToOneOf)if($.includes(w))for(const E of $)E===w||e._checkedPatterns.includes(E)||e._checkedPatterns.push(E)}return b.result}return null}detect(e){var n;const{objects:o,id:s,ignoreCache:a,detectAllPossibleDevices:l}=e;let{_keysOptional:d,_usedIdsOptional:h}=e;if(!a&&this.cache[s]){const{allowedTypes:u=[],excludedTypes:m=[]}=e;if(!u.length&&!m.length)return this.cache[s];const g=this.cache[s].filter(({type:y})=>u.includes(y)&&!m.includes(y));if(g.length)return g}d?e._keysOptionalSorted||d.sort():(d=Object.keys(o),d.sort(),e._keysOptional=d),h&&!e.detectParent&&(h=[],e._usedIdsOptional=h),e.ignoreEnums===void 0&&((n=e.allowedTypes)===null||n===void 0?void 0:n.length)===1&&(e.ignoreEnums=!0),l&&(e.excludedTypes||(e.excludedTypes=[]),e.excludedTypes.includes(types_1.Types.info)||e.excludedTypes.push(types_1.Types.info)),e._checkedPatterns=[];const _=[];let p;for(;p=this._detectNext(e);)_.push(p),e.detectAllPossibleDevices&&(e._usedIdsOptional=[]);return this.cache[s]=_.length?_:null,this.cache[s]}static getPatterns(){const e={};return Object.keys(typePatterns_1.patterns).forEach(n=>{const o=JSON.parse(JSON.stringify(typePatterns_1.patterns[n]));o.states.forEach((s,a)=>{const l=typePatterns_1.patterns[n].states[a];l.role&&(o.states[a].role=l.role.toString()),l.enums&&(o.states[a].enums=!0)}),e[n]=o}),e}}ChannelDetector$1.ChannelDetector=ChannelDetector;ChannelDetector.getEnums=roleEnumUtils_1.getEnums;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.StateType=t.Types=void 0;const e=ChannelDetector$1;t.default=e.ChannelDetector;var n=types;Object.defineProperty(t,"Types",{enumerable:!0,get:function(){return n.Types}}),Object.defineProperty(t,"StateType",{enumerable:!0,get:function(){return n.StateType}})})(typeDetector);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,o)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(o){_defineProperty(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function _toPrimitive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:e+""}function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,e,n){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var IS_BROWSER=typeof window<"u"&&typeof window.document<"u",WINDOW=IS_BROWSER?window:{},IS_TOUCH_DEVICE=IS_BROWSER&&WINDOW.document.documentElement?"ontouchstart"in WINDOW.document.documentElement:!1,HAS_POINTER_EVENT=IS_BROWSER?"PointerEvent"in WINDOW:!1,NAMESPACE="cropper",ACTION_ALL="all",ACTION_CROP="crop",ACTION_MOVE="move",ACTION_ZOOM="zoom",ACTION_EAST="e",ACTION_WEST="w",ACTION_SOUTH="s",ACTION_NORTH="n",ACTION_NORTH_EAST="ne",ACTION_NORTH_WEST="nw",ACTION_SOUTH_EAST="se",ACTION_SOUTH_WEST="sw",CLASS_CROP="".concat(NAMESPACE,"-crop"),CLASS_DISABLED="".concat(NAMESPACE,"-disabled"),CLASS_HIDDEN="".concat(NAMESPACE,"-hidden"),CLASS_HIDE="".concat(NAMESPACE,"-hide"),CLASS_INVISIBLE="".concat(NAMESPACE,"-invisible"),CLASS_MODAL="".concat(NAMESPACE,"-modal"),CLASS_MOVE="".concat(NAMESPACE,"-move"),DATA_ACTION="".concat(NAMESPACE,"Action"),DATA_PREVIEW="".concat(NAMESPACE,"Preview"),DRAG_MODE_CROP="crop",DRAG_MODE_MOVE="move",DRAG_MODE_NONE="none",EVENT_CROP="crop",EVENT_CROP_END="cropend",EVENT_CROP_MOVE="cropmove",EVENT_CROP_START="cropstart",EVENT_DBLCLICK="dblclick",EVENT_TOUCH_START=IS_TOUCH_DEVICE?"touchstart":"mousedown",EVENT_TOUCH_MOVE=IS_TOUCH_DEVICE?"touchmove":"mousemove",EVENT_TOUCH_END=IS_TOUCH_DEVICE?"touchend touchcancel":"mouseup",EVENT_POINTER_DOWN=HAS_POINTER_EVENT?"pointerdown":EVENT_TOUCH_START,EVENT_POINTER_MOVE=HAS_POINTER_EVENT?"pointermove":EVENT_TOUCH_MOVE,EVENT_POINTER_UP=HAS_POINTER_EVENT?"pointerup pointercancel":EVENT_TOUCH_END,EVENT_READY="ready",EVENT_RESIZE="resize",EVENT_WHEEL="wheel",EVENT_ZOOM="zoom",MIME_TYPE_JPEG="image/jpeg",REGEXP_ACTIONS=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,REGEXP_DATA_URL=/^data:/,REGEXP_DATA_URL_JPEG=/^data:image\/jpeg;base64,/,REGEXP_TAG_NAME=/^img|canvas$/i,MIN_CONTAINER_WIDTH=200,MIN_CONTAINER_HEIGHT=100,DEFAULTS={viewMode:0,dragMode:DRAG_MODE_CROP,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:MIN_CONTAINER_WIDTH,minContainerHeight:MIN_CONTAINER_HEIGHT,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},TEMPLATE='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',isNaN$1=Number.isNaN||WINDOW.isNaN;function isNumber(t){return typeof t=="number"&&!isNaN$1(t)}var isPositiveNumber=function t(e){return e>0&&e<1/0};function isUndefined(t){return typeof t>"u"}function isObject$2(t){return _typeof(t)==="object"&&t!==null}var hasOwnProperty$1=Object.prototype.hasOwnProperty;function isPlainObject(t){if(!isObject$2(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&hasOwnProperty$1.call(n,"isPrototypeOf")}catch{return!1}}function isFunction$1(t){return typeof t=="function"}var slice=Array.prototype.slice;function toArray(t){return Array.from?Array.from(t):slice.call(t)}function forEach(t,e){return t&&isFunction$1(e)&&(Array.isArray(t)||isNumber(t.length)?toArray(t).forEach(function(n,o){e.call(t,n,o,t)}):isObject$2(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var assign=Object.assign||function t(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return isObject$2(e)&&o.length>0&&o.forEach(function(a){isObject$2(a)&&Object.keys(a).forEach(function(l){e[l]=a[l]})}),e},REGEXP_DECIMALS=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return REGEXP_DECIMALS.test(t)?Math.round(t*e)/e:t}var REGEXP_SUFFIX=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(t,e){var n=t.style;forEach(e,function(o,s){REGEXP_SUFFIX.test(s)&&isNumber(o)&&(o="".concat(o,"px")),n[s]=o})}function hasClass(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function addClass(t,e){if(e){if(isNumber(t.length)){forEach(t,function(o){addClass(o,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function removeClass(t,e){if(e){if(isNumber(t.length)){forEach(t,function(n){removeClass(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function toggleClass(t,e,n){if(e){if(isNumber(t.length)){forEach(t,function(o){toggleClass(o,e,n)});return}n?addClass(t,e):removeClass(t,e)}}var REGEXP_CAMEL_CASE=/([a-z\d])([A-Z])/g;function toParamCase(t){return t.replace(REGEXP_CAMEL_CASE,"$1-$2").toLowerCase()}function getData(t,e){return isObject$2(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(toParamCase(e)))}function setData(t,e,n){isObject$2(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(toParamCase(e)),n)}function removeData(t,e){if(isObject$2(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(toParamCase(e)))}var REGEXP_SPACES=/\s\s*/,onceSupported=(function(){var t=!1;if(IS_BROWSER){var e=!1,n=function(){},o=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});WINDOW.addEventListener("test",n,o),WINDOW.removeEventListener("test",n,o)}return t})();function removeListener(t,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(REGEXP_SPACES).forEach(function(a){if(!onceSupported){var l=t.listeners;l&&l[a]&&l[a][n]&&(s=l[a][n],delete l[a][n],Object.keys(l[a]).length===0&&delete l[a],Object.keys(l).length===0&&delete t.listeners)}t.removeEventListener(a,s,o)})}function addListener(t,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(REGEXP_SPACES).forEach(function(a){if(o.once&&!onceSupported){var l=t.listeners,d=l===void 0?{}:l;s=function(){delete d[a][n],t.removeEventListener(a,s,o);for(var _=arguments.length,p=new Array(_),u=0;u<_;u++)p[u]=arguments[u];n.apply(t,p)},d[a]||(d[a]={}),d[a][n]&&t.removeEventListener(a,d[a][n],o),d[a][n]=s,t.listeners=d}t.addEventListener(a,s,o)})}function dispatchEvent(t,e,n){var o;return isFunction$1(Event)&&isFunction$1(CustomEvent)?o=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(o)}function getOffset(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var location=WINDOW.location,REGEXP_ORIGINS=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(t){var e=t.match(REGEXP_ORIGINS);return e!==null&&(e[1]!==location.protocol||e[2]!==location.hostname||e[3]!==location.port)}function addTimestamp(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function getTransforms(t){var e=t.rotate,n=t.scaleX,o=t.scaleY,s=t.translateX,a=t.translateY,l=[];isNumber(s)&&s!==0&&l.push("translateX(".concat(s,"px)")),isNumber(a)&&a!==0&&l.push("translateY(".concat(a,"px)")),isNumber(e)&&e!==0&&l.push("rotate(".concat(e,"deg)")),isNumber(n)&&n!==1&&l.push("scaleX(".concat(n,")")),isNumber(o)&&o!==1&&l.push("scaleY(".concat(o,")"));var d=l.length?l.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function getMaxZoomRatio(t){var e=_objectSpread2({},t),n=0;return forEach(t,function(o,s){delete e[s],forEach(e,function(a){var l=Math.abs(o.startX-a.startX),d=Math.abs(o.startY-a.startY),h=Math.abs(o.endX-a.endX),_=Math.abs(o.endY-a.endY),p=Math.sqrt(l*l+d*d),u=Math.sqrt(h*h+_*_),m=(u-p)/p;Math.abs(m)>Math.abs(n)&&(n=m)})}),n}function getPointer(t,e){var n=t.pageX,o=t.pageY,s={endX:n,endY:o};return e?s:_objectSpread2({startX:n,startY:o},s)}function getPointersCenter(t){var e=0,n=0,o=0;return forEach(t,function(s){var a=s.startX,l=s.startY;e+=a,n+=l,o+=1}),e/=o,n/=o,{pageX:e,pageY:n}}function getAdjustedSizes(t){var e=t.aspectRatio,n=t.height,o=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=isPositiveNumber(o),l=isPositiveNumber(n);if(a&&l){var d=n*e;s==="contain"&&d>o||s==="cover"&&d<o?n=o/e:o=n*e}else a?n=o/e:l&&(o=n*e);return{width:o,height:n}}function getRotatedSizes(t){var e=t.width,n=t.height,o=t.degree;if(o=Math.abs(o)%180,o===90)return{width:n,height:e};var s=o%90*Math.PI/180,a=Math.sin(s),l=Math.cos(s),d=e*l+n*a,h=e*a+n*l;return o>90?{width:h,height:d}:{width:d,height:h}}function getSourceCanvas(t,e,n,o){var s=e.aspectRatio,a=e.naturalWidth,l=e.naturalHeight,d=e.rotate,h=d===void 0?0:d,_=e.scaleX,p=_===void 0?1:_,u=e.scaleY,m=u===void 0?1:u,g=n.aspectRatio,y=n.naturalWidth,v=n.naturalHeight,S=o.fillColor,b=S===void 0?"transparent":S,C=o.imageSmoothingEnabled,w=C===void 0?!0:C,A=o.imageSmoothingQuality,$=A===void 0?"low":A,E=o.maxWidth,D=E===void 0?1/0:E,I=o.maxHeight,R=I===void 0?1/0:I,O=o.minWidth,N=O===void 0?0:O,M=o.minHeight,k=M===void 0?0:M,x=document.createElement("canvas"),T=x.getContext("2d"),L=getAdjustedSizes({aspectRatio:g,width:D,height:R}),F=getAdjustedSizes({aspectRatio:g,width:N,height:k},"cover"),P=Math.min(L.width,Math.max(F.width,y)),B=Math.min(L.height,Math.max(F.height,v)),H=getAdjustedSizes({aspectRatio:s,width:D,height:R}),j=getAdjustedSizes({aspectRatio:s,width:N,height:k},"cover"),W=Math.min(H.width,Math.max(j.width,a)),U=Math.min(H.height,Math.max(j.height,l)),G=[-W/2,-U/2,W,U];return x.width=normalizeDecimalNumber(P),x.height=normalizeDecimalNumber(B),T.fillStyle=b,T.fillRect(0,0,P,B),T.save(),T.translate(P/2,B/2),T.rotate(h*Math.PI/180),T.scale(p,m),T.imageSmoothingEnabled=w,T.imageSmoothingQuality=$,T.drawImage.apply(T,[t].concat(_toConsumableArray(G.map(function(V){return Math.floor(normalizeDecimalNumber(V))})))),T.restore(),x}var fromCharCode=String.fromCharCode;function getStringFromCharCode(t,e,n){var o="";n+=e;for(var s=e;s<n;s+=1)o+=fromCharCode(t.getUint8(s));return o}var REGEXP_DATA_URL_HEAD=/^data:.*,/;function dataURLToArrayBuffer(t){var e=t.replace(REGEXP_DATA_URL_HEAD,""),n=atob(e),o=new ArrayBuffer(n.length),s=new Uint8Array(o);return forEach(s,function(a,l){s[l]=n.charCodeAt(l)}),o}function arrayBufferToDataURL(t,e){for(var n=[],o=8192,s=new Uint8Array(t);s.length>0;)n.push(fromCharCode.apply(null,toArray(s.subarray(0,o)))),s=s.subarray(o);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function resetAndGetOrientation(t){var e=new DataView(t),n;try{var o,s,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var l=e.byteLength,d=2;d+1<l;){if(e.getUint8(d)===255&&e.getUint8(d+1)===225){s=d;break}d+=1}if(s){var h=s+4,_=s+10;if(getStringFromCharCode(e,h,4)==="Exif"){var p=e.getUint16(_);if(o=p===18761,(o||p===19789)&&e.getUint16(_+2,o)===42){var u=e.getUint32(_+4,o);u>=8&&(a=_+u)}}}if(a){var m=e.getUint16(a,o),g,y;for(y=0;y<m;y+=1)if(g=a+y*12+2,e.getUint16(g,o)===274){g+=8,n=e.getUint16(g,o),e.setUint16(g,1,o);break}}}catch{n=1}return n}function parseOrientation(t){var e=0,n=1,o=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:o=-1;break;case 5:e=90,o=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:o}}var render={render:function t(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function t(){var e=this.element,n=this.options,o=this.container,s=this.cropper,a=Number(n.minContainerWidth),l=Number(n.minContainerHeight);addClass(s,CLASS_HIDDEN),removeClass(e,CLASS_HIDDEN);var d={width:Math.max(o.offsetWidth,a>=0?a:MIN_CONTAINER_WIDTH),height:Math.max(o.offsetHeight,l>=0?l:MIN_CONTAINER_HEIGHT)};this.containerData=d,setStyle(s,{width:d.width,height:d.height}),addClass(e,CLASS_HIDDEN),removeClass(s,CLASS_HIDDEN)},initCanvas:function t(){var e=this.containerData,n=this.imageData,o=this.options.viewMode,s=Math.abs(n.rotate)%180===90,a=s?n.naturalHeight:n.naturalWidth,l=s?n.naturalWidth:n.naturalHeight,d=a/l,h=e.width,_=e.height;e.height*d>e.width?o===3?h=e.height*d:_=e.width/d:o===3?_=e.width/d:h=e.height*d;var p={aspectRatio:d,naturalWidth:a,naturalHeight:l,width:h,height:_};this.canvasData=p,this.limited=o===1||o===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(e.width-p.width)/2,p.top=(e.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=assign({},p)},limitCanvas:function t(e,n){var o=this.options,s=this.containerData,a=this.canvasData,l=this.cropBoxData,d=o.viewMode,h=a.aspectRatio,_=this.cropped&&l;if(e){var p=Number(o.minCanvasWidth)||0,u=Number(o.minCanvasHeight)||0;d>1?(p=Math.max(p,s.width),u=Math.max(u,s.height),d===3&&(u*h>p?p=u*h:u=p/h)):d>0&&(p?p=Math.max(p,_?l.width:0):u?u=Math.max(u,_?l.height:0):_&&(p=l.width,u=l.height,u*h>p?p=u*h:u=p/h));var m=getAdjustedSizes({aspectRatio:h,width:p,height:u});p=m.width,u=m.height,a.minWidth=p,a.minHeight=u,a.maxWidth=1/0,a.maxHeight=1/0}if(n)if(d>(_?0:1)){var g=s.width-a.width,y=s.height-a.height;a.minLeft=Math.min(0,g),a.minTop=Math.min(0,y),a.maxLeft=Math.max(0,g),a.maxTop=Math.max(0,y),_&&this.limited&&(a.minLeft=Math.min(l.left,l.left+(l.width-a.width)),a.minTop=Math.min(l.top,l.top+(l.height-a.height)),a.maxLeft=l.left,a.maxTop=l.top,d===2&&(a.width>=s.width&&(a.minLeft=Math.min(0,g),a.maxLeft=Math.max(0,g)),a.height>=s.height&&(a.minTop=Math.min(0,y),a.maxTop=Math.max(0,y))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=s.width,a.maxTop=s.height},renderCanvas:function t(e,n){var o=this.canvasData,s=this.imageData;if(n){var a=getRotatedSizes({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),l=a.width,d=a.height,h=o.width*(l/o.naturalWidth),_=o.height*(d/o.naturalHeight);o.left-=(h-o.width)/2,o.top-=(_-o.height)/2,o.width=h,o.height=_,o.aspectRatio=l/d,o.naturalWidth=l,o.naturalHeight=d,this.limitCanvas(!0,!1)}(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCanvas(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,setStyle(this.canvas,assign({width:o.width,height:o.height},getTransforms({translateX:o.left,translateY:o.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function t(e){var n=this.canvasData,o=this.imageData,s=o.naturalWidth*(n.width/n.naturalWidth),a=o.naturalHeight*(n.height/n.naturalHeight);assign(o,{width:s,height:a,left:(n.width-s)/2,top:(n.height-a)/2}),setStyle(this.image,assign({width:o.width,height:o.height},getTransforms(assign({translateX:o.left,translateY:o.top},o)))),e&&this.output()},initCropBox:function t(){var e=this.options,n=this.canvasData,o=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,a={width:n.width,height:n.height};o&&(n.height*o>n.width?a.height=a.width/o:a.width=a.height*o),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*s),a.height=Math.max(a.minHeight,a.height*s),a.left=n.left+(n.width-a.width)/2,a.top=n.top+(n.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=assign({},a)},limitCropBox:function t(e,n){var o=this.options,s=this.containerData,a=this.canvasData,l=this.cropBoxData,d=this.limited,h=o.aspectRatio;if(e){var _=Number(o.minCropBoxWidth)||0,p=Number(o.minCropBoxHeight)||0,u=d?Math.min(s.width,a.width,a.width+a.left,s.width-a.left):s.width,m=d?Math.min(s.height,a.height,a.height+a.top,s.height-a.top):s.height;_=Math.min(_,s.width),p=Math.min(p,s.height),h&&(_&&p?p*h>_?p=_/h:_=p*h:_?p=_/h:p&&(_=p*h),m*h>u?m=u/h:u=m*h),l.minWidth=Math.min(_,u),l.minHeight=Math.min(p,m),l.maxWidth=u,l.maxHeight=m}n&&(d?(l.minLeft=Math.max(0,a.left),l.minTop=Math.max(0,a.top),l.maxLeft=Math.min(s.width,a.left+a.width)-l.width,l.maxTop=Math.min(s.height,a.top+a.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=s.width-l.width,l.maxTop=s.height-l.height))},renderCropBox:function t(){var e=this.options,n=this.containerData,o=this.cropBoxData;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,e.movable&&e.cropBoxMovable&&setData(this.face,DATA_ACTION,o.width>=n.width&&o.height>=n.height?ACTION_MOVE:ACTION_ALL),setStyle(this.cropBox,assign({width:o.width,height:o.height},getTransforms({translateX:o.left,translateY:o.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function t(){this.preview(),dispatchEvent(this.element,EVENT_CROP,this.getData())}},preview={initPreview:function t(){var e=this.element,n=this.crossOrigin,o=this.options.preview,s=n?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",l=document.createElement("img");if(n&&(l.crossOrigin=n),l.src=s,l.alt=a,this.viewBox.appendChild(l),this.viewBoxImage=l,!!o){var d=o;typeof o=="string"?d=e.ownerDocument.querySelectorAll(o):o.querySelector&&(d=[o]),this.previews=d,forEach(d,function(h){var _=document.createElement("img");setData(h,DATA_PREVIEW,{width:h.offsetWidth,height:h.offsetHeight,html:h.innerHTML}),n&&(_.crossOrigin=n),_.src=s,_.alt=a,_.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',h.innerHTML="",h.appendChild(_)})}},resetPreview:function t(){forEach(this.previews,function(e){var n=getData(e,DATA_PREVIEW);setStyle(e,{width:n.width,height:n.height}),e.innerHTML=n.html,removeData(e,DATA_PREVIEW)})},preview:function t(){var e=this.imageData,n=this.canvasData,o=this.cropBoxData,s=o.width,a=o.height,l=e.width,d=e.height,h=o.left-n.left-e.left,_=o.top-n.top-e.top;!this.cropped||this.disabled||(setStyle(this.viewBoxImage,assign({width:l,height:d},getTransforms(assign({translateX:-h,translateY:-_},e)))),forEach(this.previews,function(p){var u=getData(p,DATA_PREVIEW),m=u.width,g=u.height,y=m,v=g,S=1;s&&(S=m/s,v=a*S),a&&v>g&&(S=g/a,y=s*S,v=g),setStyle(p,{width:y,height:v}),setStyle(p.getElementsByTagName("img")[0],assign({width:l*S,height:d*S},getTransforms(assign({translateX:-h*S,translateY:-_*S},e))))}))}},events={bind:function t(){var e=this.element,n=this.options,o=this.cropper;isFunction$1(n.cropstart)&&addListener(e,EVENT_CROP_START,n.cropstart),isFunction$1(n.cropmove)&&addListener(e,EVENT_CROP_MOVE,n.cropmove),isFunction$1(n.cropend)&&addListener(e,EVENT_CROP_END,n.cropend),isFunction$1(n.crop)&&addListener(e,EVENT_CROP,n.crop),isFunction$1(n.zoom)&&addListener(e,EVENT_ZOOM,n.zoom),addListener(o,EVENT_POINTER_DOWN,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&addListener(o,EVENT_WHEEL,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&addListener(o,EVENT_DBLCLICK,this.onDblclick=this.dblclick.bind(this)),addListener(e.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove=this.cropMove.bind(this)),addListener(e.ownerDocument,EVENT_POINTER_UP,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&addListener(window,EVENT_RESIZE,this.onResize=this.resize.bind(this))},unbind:function t(){var e=this.element,n=this.options,o=this.cropper;isFunction$1(n.cropstart)&&removeListener(e,EVENT_CROP_START,n.cropstart),isFunction$1(n.cropmove)&&removeListener(e,EVENT_CROP_MOVE,n.cropmove),isFunction$1(n.cropend)&&removeListener(e,EVENT_CROP_END,n.cropend),isFunction$1(n.crop)&&removeListener(e,EVENT_CROP,n.crop),isFunction$1(n.zoom)&&removeListener(e,EVENT_ZOOM,n.zoom),removeListener(o,EVENT_POINTER_DOWN,this.onCropStart),n.zoomable&&n.zoomOnWheel&&removeListener(o,EVENT_WHEEL,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&removeListener(o,EVENT_DBLCLICK,this.onDblclick),removeListener(e.ownerDocument,EVENT_POINTER_MOVE,this.onCropMove),removeListener(e.ownerDocument,EVENT_POINTER_UP,this.onCropEnd),n.responsive&&removeListener(window,EVENT_RESIZE,this.onResize)}},handlers={resize:function t(){if(!this.disabled){var e=this.options,n=this.container,o=this.containerData,s=n.offsetWidth/o.width,a=n.offsetHeight/o.height,l=Math.abs(s-1)>Math.abs(a-1)?s:a;if(l!==1){var d,h;e.restore&&(d=this.getCanvasData(),h=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(forEach(d,function(_,p){d[p]=_*l})),this.setCropBoxData(forEach(h,function(_,p){h[p]=_*l})))}}},dblclick:function t(){this.disabled||this.options.dragMode===DRAG_MODE_NONE||this.setDragMode(hasClass(this.dragBox,CLASS_CROP)?DRAG_MODE_MOVE:DRAG_MODE_CROP)},wheel:function t(e){var n=this,o=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*o,e)))},cropStart:function t(e){var n=e.buttons,o=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(isNumber(n)&&n!==1||isNumber(o)&&o!==0||e.ctrlKey))){var s=this.options,a=this.pointers,l;e.changedTouches?forEach(e.changedTouches,function(d){a[d.identifier]=getPointer(d)}):a[e.pointerId||0]=getPointer(e),Object.keys(a).length>1&&s.zoomable&&s.zoomOnTouch?l=ACTION_ZOOM:l=getData(e.target,DATA_ACTION),REGEXP_ACTIONS.test(l)&&dispatchEvent(this.element,EVENT_CROP_START,{originalEvent:e,action:l})!==!1&&(e.preventDefault(),this.action=l,this.cropping=!1,l===ACTION_CROP&&(this.cropping=!0,addClass(this.dragBox,CLASS_MODAL)))}},cropMove:function t(e){var n=this.action;if(!(this.disabled||!n)){var o=this.pointers;e.preventDefault(),dispatchEvent(this.element,EVENT_CROP_MOVE,{originalEvent:e,action:n})!==!1&&(e.changedTouches?forEach(e.changedTouches,function(s){assign(o[s.identifier]||{},getPointer(s,!0))}):assign(o[e.pointerId||0]||{},getPointer(e,!0)),this.change(e))}},cropEnd:function t(e){if(!this.disabled){var n=this.action,o=this.pointers;e.changedTouches?forEach(e.changedTouches,function(s){delete o[s.identifier]}):delete o[e.pointerId||0],n&&(e.preventDefault(),Object.keys(o).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,CLASS_MODAL,this.cropped&&this.options.modal)),dispatchEvent(this.element,EVENT_CROP_END,{originalEvent:e,action:n}))}}},change={change:function t(e){var n=this.options,o=this.canvasData,s=this.containerData,a=this.cropBoxData,l=this.pointers,d=this.action,h=n.aspectRatio,_=a.left,p=a.top,u=a.width,m=a.height,g=_+u,y=p+m,v=0,S=0,b=s.width,C=s.height,w=!0,A;!h&&e.shiftKey&&(h=u&&m?u/m:1),this.limited&&(v=a.minLeft,S=a.minTop,b=v+Math.min(s.width,o.width,o.left+o.width),C=S+Math.min(s.height,o.height,o.top+o.height));var $=l[Object.keys(l)[0]],E={x:$.endX-$.startX,y:$.endY-$.startY},D=function(R){switch(R){case ACTION_EAST:g+E.x>b&&(E.x=b-g);break;case ACTION_WEST:_+E.x<v&&(E.x=v-_);break;case ACTION_NORTH:p+E.y<S&&(E.y=S-p);break;case ACTION_SOUTH:y+E.y>C&&(E.y=C-y);break}};switch(d){case ACTION_ALL:_+=E.x,p+=E.y;break;case ACTION_EAST:if(E.x>=0&&(g>=b||h&&(p<=S||y>=C))){w=!1;break}D(ACTION_EAST),u+=E.x,u<0&&(d=ACTION_WEST,u=-u,_-=u),h&&(m=u/h,p+=(a.height-m)/2);break;case ACTION_NORTH:if(E.y<=0&&(p<=S||h&&(_<=v||g>=b))){w=!1;break}D(ACTION_NORTH),m-=E.y,p+=E.y,m<0&&(d=ACTION_SOUTH,m=-m,p-=m),h&&(u=m*h,_+=(a.width-u)/2);break;case ACTION_WEST:if(E.x<=0&&(_<=v||h&&(p<=S||y>=C))){w=!1;break}D(ACTION_WEST),u-=E.x,_+=E.x,u<0&&(d=ACTION_EAST,u=-u,_-=u),h&&(m=u/h,p+=(a.height-m)/2);break;case ACTION_SOUTH:if(E.y>=0&&(y>=C||h&&(_<=v||g>=b))){w=!1;break}D(ACTION_SOUTH),m+=E.y,m<0&&(d=ACTION_NORTH,m=-m,p-=m),h&&(u=m*h,_+=(a.width-u)/2);break;case ACTION_NORTH_EAST:if(h){if(E.y<=0&&(p<=S||g>=b)){w=!1;break}D(ACTION_NORTH),m-=E.y,p+=E.y,u=m*h}else D(ACTION_NORTH),D(ACTION_EAST),E.x>=0?g<b?u+=E.x:E.y<=0&&p<=S&&(w=!1):u+=E.x,E.y<=0?p>S&&(m-=E.y,p+=E.y):(m-=E.y,p+=E.y);u<0&&m<0?(d=ACTION_SOUTH_WEST,m=-m,u=-u,p-=m,_-=u):u<0?(d=ACTION_NORTH_WEST,u=-u,_-=u):m<0&&(d=ACTION_SOUTH_EAST,m=-m,p-=m);break;case ACTION_NORTH_WEST:if(h){if(E.y<=0&&(p<=S||_<=v)){w=!1;break}D(ACTION_NORTH),m-=E.y,p+=E.y,u=m*h,_+=a.width-u}else D(ACTION_NORTH),D(ACTION_WEST),E.x<=0?_>v?(u-=E.x,_+=E.x):E.y<=0&&p<=S&&(w=!1):(u-=E.x,_+=E.x),E.y<=0?p>S&&(m-=E.y,p+=E.y):(m-=E.y,p+=E.y);u<0&&m<0?(d=ACTION_SOUTH_EAST,m=-m,u=-u,p-=m,_-=u):u<0?(d=ACTION_NORTH_EAST,u=-u,_-=u):m<0&&(d=ACTION_SOUTH_WEST,m=-m,p-=m);break;case ACTION_SOUTH_WEST:if(h){if(E.x<=0&&(_<=v||y>=C)){w=!1;break}D(ACTION_WEST),u-=E.x,_+=E.x,m=u/h}else D(ACTION_SOUTH),D(ACTION_WEST),E.x<=0?_>v?(u-=E.x,_+=E.x):E.y>=0&&y>=C&&(w=!1):(u-=E.x,_+=E.x),E.y>=0?y<C&&(m+=E.y):m+=E.y;u<0&&m<0?(d=ACTION_NORTH_EAST,m=-m,u=-u,p-=m,_-=u):u<0?(d=ACTION_SOUTH_EAST,u=-u,_-=u):m<0&&(d=ACTION_NORTH_WEST,m=-m,p-=m);break;case ACTION_SOUTH_EAST:if(h){if(E.x>=0&&(g>=b||y>=C)){w=!1;break}D(ACTION_EAST),u+=E.x,m=u/h}else D(ACTION_SOUTH),D(ACTION_EAST),E.x>=0?g<b?u+=E.x:E.y>=0&&y>=C&&(w=!1):u+=E.x,E.y>=0?y<C&&(m+=E.y):m+=E.y;u<0&&m<0?(d=ACTION_NORTH_WEST,m=-m,u=-u,p-=m,_-=u):u<0?(d=ACTION_SOUTH_WEST,u=-u,_-=u):m<0&&(d=ACTION_NORTH_EAST,m=-m,p-=m);break;case ACTION_MOVE:this.move(E.x,E.y),w=!1;break;case ACTION_ZOOM:this.zoom(getMaxZoomRatio(l),e),w=!1;break;case ACTION_CROP:if(!E.x||!E.y){w=!1;break}A=getOffset(this.cropper),_=$.startX-A.left,p=$.startY-A.top,u=a.minWidth,m=a.minHeight,E.x>0?d=E.y>0?ACTION_SOUTH_EAST:ACTION_NORTH_EAST:E.x<0&&(_-=u,d=E.y>0?ACTION_SOUTH_WEST:ACTION_NORTH_WEST),E.y<0&&(p-=m),this.cropped||(removeClass(this.cropBox,CLASS_HIDDEN),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(a.width=u,a.height=m,a.left=_,a.top=p,this.action=d,this.renderCropBox()),forEach(l,function(I){I.startX=I.endX,I.startY=I.endY})}},methods={crop:function t(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,CLASS_MODAL),removeClass(this.cropBox,CLASS_HIDDEN),this.setCropBoxData(this.initialCropBoxData)),this},reset:function t(){return this.ready&&!this.disabled&&(this.imageData=assign({},this.initialImageData),this.canvasData=assign({},this.initialCanvasData),this.cropBoxData=assign({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function t(){return this.cropped&&!this.disabled&&(assign(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,CLASS_MODAL),addClass(this.cropBox,CLASS_HIDDEN)),this},replace:function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,forEach(this.previews,function(o){o.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function t(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,CLASS_DISABLED)),this},disable:function t(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,CLASS_DISABLED)),this},destroy:function t(){var e=this.element;return e[NAMESPACE]?(e[NAMESPACE]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=this.canvasData,s=o.left,a=o.top;return this.moveTo(isUndefined(e)?e:s+Number(e),isUndefined(n)?n:a+Number(n))},moveTo:function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(isNumber(e)&&(o.left=e,s=!0),isNumber(n)&&(o.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function t(e,n){var o=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(o.width*e/o.naturalWidth,null,n)},zoomTo:function t(e,n,o){var s=this.options,a=this.canvasData,l=a.width,d=a.height,h=a.naturalWidth,_=a.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var p=h*e,u=_*e;if(dispatchEvent(this.element,EVENT_ZOOM,{ratio:e,oldRatio:l/h,originalEvent:o})===!1)return this;if(o){var m=this.pointers,g=getOffset(this.cropper),y=m&&Object.keys(m).length?getPointersCenter(m):{pageX:o.pageX,pageY:o.pageY};a.left-=(p-l)*((y.pageX-g.left-a.left)/l),a.top-=(u-d)*((y.pageY-g.top-a.top)/d)}else isPlainObject(n)&&isNumber(n.x)&&isNumber(n.y)?(a.left-=(p-l)*((n.x-a.left)/l),a.top-=(u-d)*((n.y-a.top)/d)):(a.left-=(p-l)/2,a.top-=(u-d)/2);a.width=p,a.height=u,this.renderCanvas(!0)}return this},rotate:function t(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function t(e){return e=Number(e),isNumber(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function t(e){var n=this.imageData.scaleY;return this.scale(e,isNumber(n)?n:1)},scaleY:function t(e){var n=this.imageData.scaleX;return this.scale(isNumber(n)?n:1,e)},scale:function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(isNumber(e)&&(o.scaleX=e,s=!0),isNumber(n)&&(o.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,o=this.imageData,s=this.canvasData,a=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height};var d=o.width/o.naturalWidth;if(forEach(l,function(p,u){l[u]=p/d}),e){var h=Math.round(l.y+l.height),_=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=_-l.x,l.height=h-l.y}}else l={x:0,y:0,width:0,height:0};return n.rotatable&&(l.rotate=o.rotate||0),n.scalable&&(l.scaleX=o.scaleX||1,l.scaleY=o.scaleY||1),l},setData:function t(e){var n=this.options,o=this.imageData,s=this.canvasData,a={};if(this.ready&&!this.disabled&&isPlainObject(e)){var l=!1;n.rotatable&&isNumber(e.rotate)&&e.rotate!==o.rotate&&(o.rotate=e.rotate,l=!0),n.scalable&&(isNumber(e.scaleX)&&e.scaleX!==o.scaleX&&(o.scaleX=e.scaleX,l=!0),isNumber(e.scaleY)&&e.scaleY!==o.scaleY&&(o.scaleY=e.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var d=o.width/o.naturalWidth;isNumber(e.x)&&(a.left=e.x*d+s.left),isNumber(e.y)&&(a.top=e.y*d+s.top),isNumber(e.width)&&(a.width=e.width*d),isNumber(e.height)&&(a.height=e.height*d),this.setCropBoxData(a)}return this},getContainerData:function t(){return this.ready?assign({},this.containerData):{}},getImageData:function t(){return this.sized?assign({},this.imageData):{}},getCanvasData:function t(){var e=this.canvasData,n={};return this.ready&&forEach(["left","top","width","height","naturalWidth","naturalHeight"],function(o){n[o]=e[o]}),n},setCanvasData:function t(e){var n=this.canvasData,o=n.aspectRatio;return this.ready&&!this.disabled&&isPlainObject(e)&&(isNumber(e.left)&&(n.left=e.left),isNumber(e.top)&&(n.top=e.top),isNumber(e.width)?(n.width=e.width,n.height=e.width/o):isNumber(e.height)&&(n.height=e.height,n.width=e.height*o),this.renderCanvas(!0)),this},getCropBoxData:function t(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function t(e){var n=this.cropBoxData,o=this.options.aspectRatio,s,a;return this.ready&&this.cropped&&!this.disabled&&isPlainObject(e)&&(isNumber(e.left)&&(n.left=e.left),isNumber(e.top)&&(n.top=e.top),isNumber(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),isNumber(e.height)&&e.height!==n.height&&(a=!0,n.height=e.height),o&&(s?n.height=n.width/o:a&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,o=getSourceCanvas(this.image,this.imageData,n,e);if(!this.cropped)return o;var s=this.getData(e.rounded),a=s.x,l=s.y,d=s.width,h=s.height,_=o.width/Math.floor(n.naturalWidth);_!==1&&(a*=_,l*=_,d*=_,h*=_);var p=d/h,u=getAdjustedSizes({aspectRatio:p,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),m=getAdjustedSizes({aspectRatio:p,width:e.minWidth||0,height:e.minHeight||0},"cover"),g=getAdjustedSizes({aspectRatio:p,width:e.width||(_!==1?o.width:d),height:e.height||(_!==1?o.height:h)}),y=g.width,v=g.height;y=Math.min(u.width,Math.max(m.width,y)),v=Math.min(u.height,Math.max(m.height,v));var S=document.createElement("canvas"),b=S.getContext("2d");S.width=normalizeDecimalNumber(y),S.height=normalizeDecimalNumber(v),b.fillStyle=e.fillColor||"transparent",b.fillRect(0,0,y,v);var C=e.imageSmoothingEnabled,w=C===void 0?!0:C,A=e.imageSmoothingQuality;b.imageSmoothingEnabled=w,A&&(b.imageSmoothingQuality=A);var $=o.width,E=o.height,D=a,I=l,R,O,N,M,k,x;D<=-d||D>$?(D=0,R=0,N=0,k=0):D<=0?(N=-D,D=0,R=Math.min($,d+D),k=R):D<=$&&(N=0,R=Math.min(d,$-D),k=R),R<=0||I<=-h||I>E?(I=0,O=0,M=0,x=0):I<=0?(M=-I,I=0,O=Math.min(E,h+I),x=O):I<=E&&(M=0,O=Math.min(h,E-I),x=O);var T=[D,I,R,O];if(k>0&&x>0){var L=y/d;T.push(N*L,M*L,k*L,x*L)}return b.drawImage.apply(b,[o].concat(_toConsumableArray(T.map(function(F){return Math.floor(normalizeDecimalNumber(F))})))),S},setAspectRatio:function t(e){var n=this.options;return!this.disabled&&!isUndefined(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function t(e){var n=this.options,o=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var a=e===DRAG_MODE_CROP,l=n.movable&&e===DRAG_MODE_MOVE;e=a||l?e:DRAG_MODE_NONE,n.dragMode=e,setData(o,DATA_ACTION,e),toggleClass(o,CLASS_CROP,a),toggleClass(o,CLASS_MOVE,l),n.cropBoxMovable||(setData(s,DATA_ACTION,e),toggleClass(s,CLASS_CROP,a),toggleClass(s,CLASS_MOVE,l))}return this}},AnotherCropper=WINDOW.Cropper,Cropper=(function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,t),!e||!REGEXP_TAG_NAME.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=assign({},DEFAULTS,isPlainObject(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _createClass(t,[{key:"init",value:function(){var n=this.element,o=n.tagName.toLowerCase(),s;if(!n[NAMESPACE]){if(n[NAMESPACE]=this,o==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else o==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var o=this;if(n){this.url=n,this.imageData={};var s=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(REGEXP_DATA_URL.test(n)){REGEXP_DATA_URL_JPEG.test(n)?this.read(dataURLToArrayBuffer(n)):this.clone();return}var l=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=d,l.onerror=d,l.ontimeout=d,l.onprogress=function(){l.getResponseHeader("content-type")!==MIME_TYPE_JPEG&&l.abort()},l.onload=function(){o.read(l.response)},l.onloadend=function(){o.reloading=!1,o.xhr=null},a.checkCrossOrigin&&isCrossOriginURL(n)&&s.crossOrigin&&(n=addTimestamp(n)),l.open("GET",n,!0),l.responseType="arraybuffer",l.withCredentials=s.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(n){var o=this.options,s=this.imageData,a=resetAndGetOrientation(n),l=0,d=1,h=1;if(a>1){this.url=arrayBufferToDataURL(n,MIME_TYPE_JPEG);var _=parseOrientation(a);l=_.rotate,d=_.scaleX,h=_.scaleY}o.rotatable&&(s.rotate=l),o.scalable&&(s.scaleX=d,s.scaleY=h),this.clone()}},{key:"clone",value:function(){var n=this.element,o=this.url,s=n.crossOrigin,a=o;this.options.checkCrossOrigin&&isCrossOriginURL(o)&&(s||(s="anonymous"),a=addTimestamp(o)),this.crossOrigin=s,this.crossOriginUrl=a;var l=document.createElement("img");s&&(l.crossOrigin=s),l.src=a||o,l.alt=n.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),addClass(l,CLASS_HIDE),n.parentNode.insertBefore(l,n.nextSibling)}},{key:"start",value:function(){var n=this,o=this.image;o.onload=null,o.onerror=null,this.sizing=!0;var s=WINDOW.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent),a=function(_,p){assign(n.imageData,{naturalWidth:_,naturalHeight:p,aspectRatio:_/p}),n.initialImageData=assign({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(o.naturalWidth&&!s){a(o.naturalWidth,o.naturalHeight);return}var l=document.createElement("img"),d=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){a(l.width,l.height),s||d.removeChild(l)},l.src=o.src,s||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(l))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,o=this.options,s=this.image,a=n.parentNode,l=document.createElement("div");l.innerHTML=TEMPLATE;var d=l.querySelector(".".concat(NAMESPACE,"-container")),h=d.querySelector(".".concat(NAMESPACE,"-canvas")),_=d.querySelector(".".concat(NAMESPACE,"-drag-box")),p=d.querySelector(".".concat(NAMESPACE,"-crop-box")),u=p.querySelector(".".concat(NAMESPACE,"-face"));this.container=a,this.cropper=d,this.canvas=h,this.dragBox=_,this.cropBox=p,this.viewBox=d.querySelector(".".concat(NAMESPACE,"-view-box")),this.face=u,h.appendChild(s),addClass(n,CLASS_HIDDEN),a.insertBefore(d,n.nextSibling),removeClass(s,CLASS_HIDE),this.initPreview(),this.bind(),o.initialAspectRatio=Math.max(0,o.initialAspectRatio)||NaN,o.aspectRatio=Math.max(0,o.aspectRatio)||NaN,o.viewMode=Math.max(0,Math.min(3,Math.round(o.viewMode)))||0,addClass(p,CLASS_HIDDEN),o.guides||addClass(p.getElementsByClassName("".concat(NAMESPACE,"-dashed")),CLASS_HIDDEN),o.center||addClass(p.getElementsByClassName("".concat(NAMESPACE,"-center")),CLASS_HIDDEN),o.background&&addClass(d,"".concat(NAMESPACE,"-bg")),o.highlight||addClass(u,CLASS_INVISIBLE),o.cropBoxMovable&&(addClass(u,CLASS_MOVE),setData(u,DATA_ACTION,ACTION_ALL)),o.cropBoxResizable||(addClass(p.getElementsByClassName("".concat(NAMESPACE,"-line")),CLASS_HIDDEN),addClass(p.getElementsByClassName("".concat(NAMESPACE,"-point")),CLASS_HIDDEN)),this.render(),this.ready=!0,this.setDragMode(o.dragMode),o.autoCrop&&this.crop(),this.setData(o.data),isFunction$1(o.ready)&&addListener(n,EVENT_READY,o.ready,{once:!0}),dispatchEvent(n,EVENT_READY)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),removeClass(this.element,CLASS_HIDDEN)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=AnotherCropper,t}},{key:"setDefaults",value:function(n){assign(DEFAULTS,isPlainObject(n)&&n)}}])})();assign(Cropper.prototype,render,preview,events,handlers,change,methods);const{loadShare:loadShare$1}=index_cjs$3,{initPromise:initPromise$1}=AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__,res$1=initPromise$1.then(t=>loadShare$1("@iobroker/adapter-react-v5",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),exportModule$1=await res$1.then(t=>t());var AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__=exportModule$1;const AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__$1=getDefaultExportFromCjs(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__),AdapterReact=_mergeNamespaces({__proto__:null,default:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__$1},[AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__]);var Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,unicode={Space_Separator,ID_Start,ID_Continue},util$2={isSpaceSeparator(t){return typeof t=="string"&&unicode.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||unicode.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t===""||t===""||unicode.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let source,parseState,stack,pos,line,column,token,key,root$1;var parse=function t(e,n){source=String(e),parseState="start",stack=[],pos=0,line=1,column=0,token=void 0,key=void 0,root$1=void 0;do token=lex(),parseStates[parseState]();while(token.type!=="eof");return typeof n=="function"?internalize({"":root$1},"",n):root$1};function internalize(t,e,n){const o=t[e];if(o!=null&&typeof o=="object")if(Array.isArray(o))for(let s=0;s<o.length;s++){const a=String(s),l=internalize(o,a,n);l===void 0?delete o[a]:Object.defineProperty(o,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}else for(const s in o){const a=internalize(o,s,n);a===void 0?delete o[s]:Object.defineProperty(o,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n.call(t,e,o)}let lexState,buffer,doubleQuote,sign,c;function lex(){for(lexState="default",buffer="",doubleQuote=!1,sign=1;;){c=peek();const t=lexStates[lexState]();if(t)return t}}function peek(){if(source[pos])return String.fromCodePoint(source.codePointAt(pos))}function read(){const t=peek();return t===`
`?(line++,column=0):t?column+=t.length:column++,t&&(pos+=t.length),t}const lexStates={default(){switch(c){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":read();return;case"/":read(),lexState="comment";return;case void 0:return read(),newToken("eof")}if(util$2.isSpaceSeparator(c)){read();return}return lexStates[parseState]()},comment(){switch(c){case"*":read(),lexState="multiLineComment";return;case"/":read(),lexState="singleLineComment";return}throw invalidChar(read())},multiLineComment(){switch(c){case"*":read(),lexState="multiLineCommentAsterisk";return;case void 0:throw invalidChar(read())}read()},multiLineCommentAsterisk(){switch(c){case"*":read();return;case"/":read(),lexState="default";return;case void 0:throw invalidChar(read())}read(),lexState="multiLineComment"},singleLineComment(){switch(c){case`
`:case"\r":case"\u2028":case"\u2029":read(),lexState="default";return;case void 0:return read(),newToken("eof")}read()},value(){switch(c){case"{":case"[":return newToken("punctuator",read());case"n":return read(),literal("ull"),newToken("null",null);case"t":return read(),literal("rue"),newToken("boolean",!0);case"f":return read(),literal("alse"),newToken("boolean",!1);case"-":case"+":read()==="-"&&(sign=-1),lexState="sign";return;case".":buffer=read(),lexState="decimalPointLeading";return;case"0":buffer=read(),lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read(),lexState="decimalInteger";return;case"I":return read(),literal("nfinity"),newToken("numeric",1/0);case"N":return read(),literal("aN"),newToken("numeric",NaN);case'"':case"'":doubleQuote=read()==='"',buffer="",lexState="string";return}throw invalidChar(read())},identifierNameStartEscape(){if(c!=="u")throw invalidChar(read());read();const t=unicodeEscape();switch(t){case"$":case"_":break;default:if(!util$2.isIdStartChar(t))throw invalidIdentifier();break}buffer+=t,lexState="identifierName"},identifierName(){switch(c){case"$":case"_":case"":case"":buffer+=read();return;case"\\":read(),lexState="identifierNameEscape";return}if(util$2.isIdContinueChar(c)){buffer+=read();return}return newToken("identifier",buffer)},identifierNameEscape(){if(c!=="u")throw invalidChar(read());read();const t=unicodeEscape();switch(t){case"$":case"_":case"":case"":break;default:if(!util$2.isIdContinueChar(t))throw invalidIdentifier();break}buffer+=t,lexState="identifierName"},sign(){switch(c){case".":buffer=read(),lexState="decimalPointLeading";return;case"0":buffer=read(),lexState="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":buffer=read(),lexState="decimalInteger";return;case"I":return read(),literal("nfinity"),newToken("numeric",sign*(1/0));case"N":return read(),literal("aN"),newToken("numeric",NaN)}throw invalidChar(read())},zero(){switch(c){case".":buffer+=read(),lexState="decimalPoint";return;case"e":case"E":buffer+=read(),lexState="decimalExponent";return;case"x":case"X":buffer+=read(),lexState="hexadecimal";return}return newToken("numeric",sign*0)},decimalInteger(){switch(c){case".":buffer+=read(),lexState="decimalPoint";return;case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util$2.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},decimalPointLeading(){if(util$2.isDigit(c)){buffer+=read(),lexState="decimalFraction";return}throw invalidChar(read())},decimalPoint(){switch(c){case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util$2.isDigit(c)){buffer+=read(),lexState="decimalFraction";return}return newToken("numeric",sign*Number(buffer))},decimalFraction(){switch(c){case"e":case"E":buffer+=read(),lexState="decimalExponent";return}if(util$2.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},decimalExponent(){switch(c){case"+":case"-":buffer+=read(),lexState="decimalExponentSign";return}if(util$2.isDigit(c)){buffer+=read(),lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentSign(){if(util$2.isDigit(c)){buffer+=read(),lexState="decimalExponentInteger";return}throw invalidChar(read())},decimalExponentInteger(){if(util$2.isDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},hexadecimal(){if(util$2.isHexDigit(c)){buffer+=read(),lexState="hexadecimalInteger";return}throw invalidChar(read())},hexadecimalInteger(){if(util$2.isHexDigit(c)){buffer+=read();return}return newToken("numeric",sign*Number(buffer))},string(){switch(c){case"\\":read(),buffer+=escape$1();return;case'"':if(doubleQuote)return read(),newToken("string",buffer);buffer+=read();return;case"'":if(!doubleQuote)return read(),newToken("string",buffer);buffer+=read();return;case`
`:case"\r":throw invalidChar(read());case"\u2028":case"\u2029":separatorChar(c);break;case void 0:throw invalidChar(read())}buffer+=read()},start(){switch(c){case"{":case"[":return newToken("punctuator",read())}lexState="value"},beforePropertyName(){switch(c){case"$":case"_":buffer=read(),lexState="identifierName";return;case"\\":read(),lexState="identifierNameStartEscape";return;case"}":return newToken("punctuator",read());case'"':case"'":doubleQuote=read()==='"',lexState="string";return}if(util$2.isIdStartChar(c)){buffer+=read(),lexState="identifierName";return}throw invalidChar(read())},afterPropertyName(){if(c===":")return newToken("punctuator",read());throw invalidChar(read())},beforePropertyValue(){lexState="value"},afterPropertyValue(){switch(c){case",":case"}":return newToken("punctuator",read())}throw invalidChar(read())},beforeArrayValue(){if(c==="]")return newToken("punctuator",read());lexState="value"},afterArrayValue(){switch(c){case",":case"]":return newToken("punctuator",read())}throw invalidChar(read())},end(){throw invalidChar(read())}};function newToken(t,e){return{type:t,value:e,line,column}}function literal(t){for(const e of t){if(peek()!==e)throw invalidChar(read());read()}}function escape$1(){switch(peek()){case"b":return read(),"\b";case"f":return read(),"\f";case"n":return read(),`
`;case"r":return read(),"\r";case"t":return read(),"	";case"v":return read(),"\v";case"0":if(read(),util$2.isDigit(peek()))throw invalidChar(read());return"\0";case"x":return read(),hexEscape();case"u":return read(),unicodeEscape();case`
`:case"\u2028":case"\u2029":return read(),"";case"\r":return read(),peek()===`
`&&read(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw invalidChar(read());case void 0:throw invalidChar(read())}return read()}function hexEscape(){let t="",e=peek();if(!util$2.isHexDigit(e)||(t+=read(),e=peek(),!util$2.isHexDigit(e)))throw invalidChar(read());return t+=read(),String.fromCodePoint(parseInt(t,16))}function unicodeEscape(){let t="",e=4;for(;e-- >0;){const n=peek();if(!util$2.isHexDigit(n))throw invalidChar(read());t+=read()}return String.fromCodePoint(parseInt(t,16))}const parseStates={start(){if(token.type==="eof")throw invalidEOF();push()},beforePropertyName(){switch(token.type){case"identifier":case"string":key=token.value,parseState="afterPropertyName";return;case"punctuator":pop();return;case"eof":throw invalidEOF()}},afterPropertyName(){if(token.type==="eof")throw invalidEOF();parseState="beforePropertyValue"},beforePropertyValue(){if(token.type==="eof")throw invalidEOF();push()},beforeArrayValue(){if(token.type==="eof")throw invalidEOF();if(token.type==="punctuator"&&token.value==="]"){pop();return}push()},afterPropertyValue(){if(token.type==="eof")throw invalidEOF();switch(token.value){case",":parseState="beforePropertyName";return;case"}":pop()}},afterArrayValue(){if(token.type==="eof")throw invalidEOF();switch(token.value){case",":parseState="beforeArrayValue";return;case"]":pop()}},end(){}};function push(){let t;switch(token.type){case"punctuator":switch(token.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=token.value;break}if(root$1===void 0)root$1=t;else{const e=stack[stack.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,key,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")stack.push(t),Array.isArray(t)?parseState="beforeArrayValue":parseState="beforePropertyName";else{const e=stack[stack.length-1];e==null?parseState="end":Array.isArray(e)?parseState="afterArrayValue":parseState="afterPropertyValue"}}function pop(){stack.pop();const t=stack[stack.length-1];t==null?parseState="end":Array.isArray(t)?parseState="afterArrayValue":parseState="afterPropertyValue"}function invalidChar(t){return syntaxError(t===void 0?`JSON5: invalid end of input at ${line}:${column}`:`JSON5: invalid character '${formatChar(t)}' at ${line}:${column}`)}function invalidEOF(){return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)}function invalidIdentifier(){return column-=5,syntaxError(`JSON5: invalid identifier character at ${line}:${column}`)}function separatorChar(t){console.warn(`JSON5: '${formatChar(t)}' in strings is not valid ECMAScript; consider escaping`)}function formatChar(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function syntaxError(t){const e=new SyntaxError(t);return e.lineNumber=line,e.columnNumber=column,e}var stringify=function t(e,n,o){const s=[];let a="",l,d,h="",_;if(n!=null&&typeof n=="object"&&!Array.isArray(n)&&(o=n.space,_=n.quote,n=n.replacer),typeof n=="function")d=n;else if(Array.isArray(n)){l=[];for(const v of n){let S;typeof v=="string"?S=v:(typeof v=="number"||v instanceof String||v instanceof Number)&&(S=String(v)),S!==void 0&&l.indexOf(S)<0&&l.push(S)}}return o instanceof Number?o=Number(o):o instanceof String&&(o=String(o)),typeof o=="number"?o>0&&(o=Math.min(10,Math.floor(o)),h="          ".substr(0,o)):typeof o=="string"&&(h=o.substr(0,10)),p("",{"":e});function p(v,S){let b=S[v];switch(b!=null&&(typeof b.toJSON5=="function"?b=b.toJSON5(v):typeof b.toJSON=="function"&&(b=b.toJSON(v))),d&&(b=d.call(S,v,b)),b instanceof Number?b=Number(b):b instanceof String?b=String(b):b instanceof Boolean&&(b=b.valueOf()),b){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof b=="string")return u(b);if(typeof b=="number")return String(b);if(typeof b=="object")return Array.isArray(b)?y(b):m(b)}function u(v){const S={"'":.1,'"':.2},b={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let C="";for(let A=0;A<v.length;A++){const $=v[A];switch($){case"'":case'"':S[$]++,C+=$;continue;case"\0":if(util$2.isDigit(v[A+1])){C+="\\x00";continue}}if(b[$]){C+=b[$];continue}if($<" "){let E=$.charCodeAt(0).toString(16);C+="\\x"+("00"+E).substring(E.length);continue}C+=$}const w=_||Object.keys(S).reduce((A,$)=>S[A]<S[$]?A:$);return C=C.replace(new RegExp(w,"g"),b[w]),w+C+w}function m(v){if(s.indexOf(v)>=0)throw TypeError("Converting circular structure to JSON5");s.push(v);let S=a;a=a+h;let b=l||Object.keys(v),C=[];for(const A of b){const $=p(A,v);if($!==void 0){let E=g(A)+":";h!==""&&(E+=" "),E+=$,C.push(E)}}let w;if(C.length===0)w="{}";else{let A;if(h==="")A=C.join(","),w="{"+A+"}";else{let $=`,
`+a;A=C.join($),w=`{
`+a+A+`,
`+S+"}"}}return s.pop(),a=S,w}function g(v){if(v.length===0)return u(v);const S=String.fromCodePoint(v.codePointAt(0));if(!util$2.isIdStartChar(S))return u(v);for(let b=S.length;b<v.length;b++)if(!util$2.isIdContinueChar(String.fromCodePoint(v.codePointAt(b))))return u(v);return v}function y(v){if(s.indexOf(v)>=0)throw TypeError("Converting circular structure to JSON5");s.push(v);let S=a;a=a+h;let b=[];for(let w=0;w<v.length;w++){const A=p(String(w),v);b.push(A!==void 0?A:"null")}let C;if(b.length===0)C="[]";else if(h==="")C="["+b.join(",")+"]";else{let w=`,
`+a,A=b.join(w);C=`[
`+a+A+`,
`+S+"]"}return s.pop(),a=S,C}};const JSON5={parse,stringify};var lib=JSON5,md5$1={exports:{}};function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var core=core$1.exports,hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,(function(t,e){(function(n,o){t.exports=o()})(core,function(){var n=n||(function(o,s){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(a=commonjsGlobal.crypto),!a&&typeof commonjsRequire=="function")try{a=require$$0}catch{}var l=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||(function(){function C(){}return function(w){var A;return C.prototype=w,A=new C,C.prototype=null,A}})(),h={},_=h.lib={},p=_.Base=(function(){return{extend:function(C){var w=d(this);return C&&w.mixIn(C),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var w in C)C.hasOwnProperty(w)&&(this[w]=C[w]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),u=_.WordArray=p.extend({init:function(C,w){C=this.words=C||[],w!=s?this.sigBytes=w:this.sigBytes=C.length*4},toString:function(C){return(C||g).stringify(this)},concat:function(C){var w=this.words,A=C.words,$=this.sigBytes,E=C.sigBytes;if(this.clamp(),$%4)for(var D=0;D<E;D++){var I=A[D>>>2]>>>24-D%4*8&255;w[$+D>>>2]|=I<<24-($+D)%4*8}else for(var R=0;R<E;R+=4)w[$+R>>>2]=A[R>>>2];return this.sigBytes+=E,this},clamp:function(){var C=this.words,w=this.sigBytes;C[w>>>2]&=4294967295<<32-w%4*8,C.length=o.ceil(w/4)},clone:function(){var C=p.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var w=[],A=0;A<C;A+=4)w.push(l());return new u.init(w,C)}}),m=h.enc={},g=m.Hex={stringify:function(C){for(var w=C.words,A=C.sigBytes,$=[],E=0;E<A;E++){var D=w[E>>>2]>>>24-E%4*8&255;$.push((D>>>4).toString(16)),$.push((D&15).toString(16))}return $.join("")},parse:function(C){for(var w=C.length,A=[],$=0;$<w;$+=2)A[$>>>3]|=parseInt(C.substr($,2),16)<<24-$%8*4;return new u.init(A,w/2)}},y=m.Latin1={stringify:function(C){for(var w=C.words,A=C.sigBytes,$=[],E=0;E<A;E++){var D=w[E>>>2]>>>24-E%4*8&255;$.push(String.fromCharCode(D))}return $.join("")},parse:function(C){for(var w=C.length,A=[],$=0;$<w;$++)A[$>>>2]|=(C.charCodeAt($)&255)<<24-$%4*8;return new u.init(A,w)}},v=m.Utf8={stringify:function(C){try{return decodeURIComponent(escape(y.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return y.parse(unescape(encodeURIComponent(C)))}},S=_.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=v.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var w,A=this._data,$=A.words,E=A.sigBytes,D=this.blockSize,I=D*4,R=E/I;C?R=o.ceil(R):R=o.max((R|0)-this._minBufferSize,0);var O=R*D,N=o.min(O*4,E);if(O){for(var M=0;M<O;M+=D)this._doProcessBlock($,M);w=$.splice(0,O),A.sigBytes-=N}return new u.init(w,N)},clone:function(){var C=p.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});_.Hasher=S.extend({cfg:p.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(C){return function(w,A){return new C.init(A).finalize(w)}},_createHmacHelper:function(C){return function(w,A){return new b.HMAC.init(C,A).finalize(w)}}});var b=h.algo={};return h})(Math);return n})})(core$1)),core$1.exports}var md5=md5$1.exports;(function(t,e){(function(n,o){t.exports=o(requireCore())})(md5,function(n){return(function(o){var s=n,a=s.lib,l=a.WordArray,d=a.Hasher,h=s.algo,_=[];(function(){for(var v=0;v<64;v++)_[v]=o.abs(o.sin(v+1))*4294967296|0})();var p=h.MD5=d.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,S){for(var b=0;b<16;b++){var C=S+b,w=v[C];v[C]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var A=this._hash.words,$=v[S+0],E=v[S+1],D=v[S+2],I=v[S+3],R=v[S+4],O=v[S+5],N=v[S+6],M=v[S+7],k=v[S+8],x=v[S+9],T=v[S+10],L=v[S+11],F=v[S+12],P=v[S+13],B=v[S+14],H=v[S+15],j=A[0],W=A[1],U=A[2],G=A[3];j=u(j,W,U,G,$,7,_[0]),G=u(G,j,W,U,E,12,_[1]),U=u(U,G,j,W,D,17,_[2]),W=u(W,U,G,j,I,22,_[3]),j=u(j,W,U,G,R,7,_[4]),G=u(G,j,W,U,O,12,_[5]),U=u(U,G,j,W,N,17,_[6]),W=u(W,U,G,j,M,22,_[7]),j=u(j,W,U,G,k,7,_[8]),G=u(G,j,W,U,x,12,_[9]),U=u(U,G,j,W,T,17,_[10]),W=u(W,U,G,j,L,22,_[11]),j=u(j,W,U,G,F,7,_[12]),G=u(G,j,W,U,P,12,_[13]),U=u(U,G,j,W,B,17,_[14]),W=u(W,U,G,j,H,22,_[15]),j=m(j,W,U,G,E,5,_[16]),G=m(G,j,W,U,N,9,_[17]),U=m(U,G,j,W,L,14,_[18]),W=m(W,U,G,j,$,20,_[19]),j=m(j,W,U,G,O,5,_[20]),G=m(G,j,W,U,T,9,_[21]),U=m(U,G,j,W,H,14,_[22]),W=m(W,U,G,j,R,20,_[23]),j=m(j,W,U,G,x,5,_[24]),G=m(G,j,W,U,B,9,_[25]),U=m(U,G,j,W,I,14,_[26]),W=m(W,U,G,j,k,20,_[27]),j=m(j,W,U,G,P,5,_[28]),G=m(G,j,W,U,D,9,_[29]),U=m(U,G,j,W,M,14,_[30]),W=m(W,U,G,j,F,20,_[31]),j=g(j,W,U,G,O,4,_[32]),G=g(G,j,W,U,k,11,_[33]),U=g(U,G,j,W,L,16,_[34]),W=g(W,U,G,j,B,23,_[35]),j=g(j,W,U,G,E,4,_[36]),G=g(G,j,W,U,R,11,_[37]),U=g(U,G,j,W,M,16,_[38]),W=g(W,U,G,j,T,23,_[39]),j=g(j,W,U,G,P,4,_[40]),G=g(G,j,W,U,$,11,_[41]),U=g(U,G,j,W,I,16,_[42]),W=g(W,U,G,j,N,23,_[43]),j=g(j,W,U,G,x,4,_[44]),G=g(G,j,W,U,F,11,_[45]),U=g(U,G,j,W,H,16,_[46]),W=g(W,U,G,j,D,23,_[47]),j=y(j,W,U,G,$,6,_[48]),G=y(G,j,W,U,M,10,_[49]),U=y(U,G,j,W,B,15,_[50]),W=y(W,U,G,j,O,21,_[51]),j=y(j,W,U,G,F,6,_[52]),G=y(G,j,W,U,I,10,_[53]),U=y(U,G,j,W,T,15,_[54]),W=y(W,U,G,j,E,21,_[55]),j=y(j,W,U,G,k,6,_[56]),G=y(G,j,W,U,H,10,_[57]),U=y(U,G,j,W,N,15,_[58]),W=y(W,U,G,j,P,21,_[59]),j=y(j,W,U,G,R,6,_[60]),G=y(G,j,W,U,L,10,_[61]),U=y(U,G,j,W,D,15,_[62]),W=y(W,U,G,j,x,21,_[63]),A[0]=A[0]+j|0,A[1]=A[1]+W|0,A[2]=A[2]+U|0,A[3]=A[3]+G|0},_doFinalize:function(){var v=this._data,S=v.words,b=this._nDataBytes*8,C=v.sigBytes*8;S[C>>>5]|=128<<24-C%32;var w=o.floor(b/4294967296),A=b;S[(C+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S[(C+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,v.sigBytes=(S.length+1)*4,this._process();for(var $=this._hash,E=$.words,D=0;D<4;D++){var I=E[D];E[D]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return $},clone:function(){var v=d.clone.call(this);return v._hash=this._hash.clone(),v}});function u(v,S,b,C,w,A,$){var E=v+(S&b|~S&C)+w+$;return(E<<A|E>>>32-A)+S}function m(v,S,b,C,w,A,$){var E=v+(S&C|b&~C)+w+$;return(E<<A|E>>>32-A)+S}function g(v,S,b,C,w,A,$){var E=v+(S^b^C)+w+$;return(E<<A|E>>>32-A)+S}function y(v,S,b,C,w,A,$){var E=v+(b^(S|~C))+w+$;return(E<<A|E>>>32-A)+S}s.MD5=d._createHelper(p),s.HmacMD5=d._createHmacHelper(p)})(Math),n.MD5})})(md5$1);var md5Exports=md5$1.exports;const MD5=getDefaultExportFromCjs(md5Exports),DEFAULT_SM_SIZE=window.innerWidth<=600?12:void 0;function isObject$1(t){return Object.prototype.toString.call(t)==="[object Object]"}class ConfigGeneric extends AdminComponentEasyAccessSet__loadShare__react__loadShare__.Component{static DIFFERENT_VALUE="__different__";static DIFFERENT_LABEL="ra___different__";static NONE_VALUE="";static NONE_LABEL="ra_none";defaultValue;isError;lang;defaultSendToDone;sendToTimeout;noPlaceRequired;constructor(e){super(e),this.state={confirmDialog:!1,confirmNewValue:null,confirmAttr:null,confirmData:null,confirmCallback:null},this.isError={},e.schema&&(e.custom?this.defaultValue=e.schema.defaultFunc?this.executeCustom(e.schema.defaultFunc,e.data,e.customObj,e.oContext.instanceObj,e.arrayIndex,e.globalData):e.schema.default:e.schema.type!=="state"&&(this.defaultValue=e.schema.defaultFunc?this.execute(e.schema.defaultFunc,e.schema.default,e.data,e.arrayIndex,e.globalData):e.schema.default)),this.lang=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()}componentDidMount(){this.props.oContext.registerOnForceUpdate&&this.props.oContext.registerOnForceUpdate(this.props.attr,this.onUpdate);const e=["select","autocomplete","autocompleteSendTo"];if(this.defaultValue!==void 0){const n=ConfigGeneric.getValue(this.props.data,this.props.attr);(n===void 0||e.includes(this.props.schema.type)&&(n===""||n===null))&&setTimeout(()=>{this.props.custom?this.props.onChange(this.props.attr,this.defaultValue,()=>setTimeout(()=>this.props.oContext.forceUpdate([this.props.attr],this.props.data),100)):(ConfigGeneric.setValue(this.props.data,this.props.attr,this.defaultValue),this.props.onChange(this.props.data,void 0,()=>this.props.oContext.forceUpdate([this.props.attr],this.props.data)))},100)}else this.props.schema.defaultSendTo&&this.sendTo()}sendTo(){if(this.props.alive){this.defaultSendToDone=!0;let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData,null,!0);try{e=JSON.parse(n)}catch{console.error(`Cannot parse json data: ${n}`)}}else e={attr:this.props.attr,value:ConfigGeneric.getValue(this.props.data,this.props.attr)};e===void 0&&(e=null),this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.schema.defaultSendTo,e).then(n=>{n!=null&&(this.props.custom?this.props.onChange(this.props.attr,n,()=>this.props.oContext.forceUpdate([this.props.attr],this.props.data)):(ConfigGeneric.setValue(this.props.data,this.props.attr,n),this.props.onChange(this.props.data,void 0,()=>this.props.oContext.forceUpdate([this.props.attr],this.props.data))))})}else this.defaultSendToDone=!1,this.props.schema.allowSaveWithError||this.onError(this.props.attr,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Instance %s is not alive",this.props.oContext.instance.toString()))}componentWillUnmount(){this.props.oContext.registerOnForceUpdate&&this.props.oContext.registerOnForceUpdate(this.props.attr),this.sendToTimeout&&(clearTimeout(this.sendToTimeout),this.sendToTimeout=null)}onUpdate=e=>{const n=ConfigGeneric.getValue(e||this.props.data,this.props.attr)||"";this.state.value!==n?this.setState({value:n}):this.forceUpdate()};static getValue(e,n){if(typeof n=="string")return ConfigGeneric.getValue(e,n.split("."));if(n.length===1)return e[n[0]];const o=n.shift();if(typeof o=="string"&&typeof e[o]=="object")return ConfigGeneric.getValue(e[o],n)}static setValue(e,n,o){if(typeof n=="string"){ConfigGeneric.setValue(e,n.split("."),o);return}if(n.length===1)o===null?delete e[n[0]]:e[n[0]]=o;else{const s=n.shift();if(typeof s!="string")return;(!e[s]||typeof e[s]=="object")&&(e[s]=e[s]||{}),ConfigGeneric.setValue(e[s],n,o)}}getText(e,n){if(!e)return"";if(typeof e=="string"){const o=n?e:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(e);return o.includes("${")?this.getPattern(o,null,n):o}return isObject$1(e)?e.func?typeof e.func=="object"?this.getPattern(e.func[this.lang]||e.func.en||"",null,!0):this.getPattern(e.func,null,n):e[this.lang]||e.en||"":e.toString()}renderDialogConfirm(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let n=null;return e.type==="warning"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Warning,null):e.type==="error"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,null):e.type==="info"&&(n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Info,null)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{title:this.getText(e.title)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),icon:n||void 0,onClose:o=>this.setState({confirmDialog:!1},()=>{if(o){if(this.state.confirmCallback){const a=this.state.confirmCallback;this.setState({confirmCallback:null},()=>a(!0));return}const s=JSON.parse(JSON.stringify(this.props.data));this.state.confirmDepAttr&&ConfigGeneric.setValue(s,this.state.confirmDepAttr,this.state.confirmDepNewValue),ConfigGeneric.setValue(s,this.state.confirmAttr,this.state.confirmNewValue),this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null},()=>this.props.onChange(s))}else{const s=this.state.confirmCallback;this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null,confirmCallback:null},()=>{s&&s(!1)})}})})}getIcon(e){e=e||this.props.schema.icon;let n=null;return e==="auth"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Key,null):e==="send"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Send,null):e==="web"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Public,null):e==="warning"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Warning,null):e==="error"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,null):e==="info"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Info,null):e==="search"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Search,null):e==="book"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.MenuBook,null):e==="help"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Help,null):e==="upload"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.UploadFile,null):e==="edit"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Edit,null):e==="user"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Person,null):e==="group"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Group,null):e==="delete"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,null):e==="refresh"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Refresh,null):e==="add"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Add,null):e==="unpair"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.LinkOff,null):e==="pair"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Link,null):e==="save"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Save,null):e==="open"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.OpenInNew,null):e&&((e.endsWith(".png")||e.endsWith(".svg")||e.endsWith(".jpg"))&&!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`./adapter/${this.props.oContext.adapterName}/${e}`),n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:e,style:{width:22,height:22}})),n}onChangeAsync(e,n){return new Promise(o=>{const s=this.onChange(e,n,o);s instanceof Promise&&s.catch(a=>console.error(`Cannot set value: ${a}`))})}onChange(e,n,o){const s=JSON.parse(JSON.stringify(this.props.data));if(ConfigGeneric.setValue(s,e,n),this.props.schema.confirm&&this.execute(this.props.schema.confirm.condition,!1,s,this.props.arrayIndex,this.props.globalData))return new Promise(l=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:e,confirmData:null},()=>{typeof o=="function"?o():l()})});if(this.props.schema.confirmDependsOn)for(let l=0;l<this.props.schema.confirmDependsOn.length;l++){const d=this.props.schema.confirmDependsOn[l];if(d.confirm){const h=ConfigGeneric.getValue(s,d.attr);if(this.execute(d.confirm.condition,!1,s,this.props.arrayIndex,this.props.globalData))return new Promise(_=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:e,confirmDepNewValue:h,confirmDepAttr:d.attr,confirmData:d.confirm},()=>{typeof o=="function"?o():_()})})}}const a=[];if(this.props.schema.onChangeDependsOn)for(let l=0;l<this.props.schema.onChangeDependsOn.length;l++){const d=this.props.schema.onChangeDependsOn[l];if(d.onChange){const h=ConfigGeneric.getValue(s,d.attr);let _;this.props.custom?_=this.executeCustom(d.onChange.calculateFunc,s,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):_=this.execute(d.onChange.calculateFunc,h,s,this.props.arrayIndex,this.props.globalData),_!==h&&(ConfigGeneric.setValue(s,d.attr,_),a.push(d.attr))}}if(this.props.schema.hiddenDependsOn)for(let l=0;l<this.props.schema.hiddenDependsOn.length;l++){const d=this.props.schema.hiddenDependsOn[l];d.hidden&&a.push(d.attr)}if(this.props.schema.labelDependsOn)for(let l=0;l<this.props.schema.labelDependsOn.length;l++){const d=this.props.schema.labelDependsOn[l];d.hidden&&a.push(d.attr)}if(this.props.schema.helpDependsOn)for(let l=0;l<this.props.schema.helpDependsOn.length;l++){const d=this.props.schema.helpDependsOn[l];d.hidden&&a.push(d.attr)}if(this.props.schema.onChange&&!this.props.schema.onChange.ignoreOwnChanges){const l=ConfigGeneric.getValue(s,this.props.attr),d=this.props.custom?this.executeCustom(this.props.schema.onChange.calculateFunc,s,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):this.execute(this.props.schema.onChange.calculateFunc,l,s,this.props.arrayIndex,this.props.globalData);d!==l&&ConfigGeneric.setValue(s,this.props.attr,d)}return this.props.custom?(this.props.onChange(e,n,()=>o&&o()),a!=null&&a.length&&a.forEach((l,d)=>setTimeout(()=>this.props.onChange(l,ConfigGeneric.getValue(s,l)),d*50))):this.props.onChange(s,void 0,()=>{a.length&&this.props.oContext.forceUpdate(a,s),o&&o()}),Promise.resolve()}execute(e,n,o,s,a){let l;if(isObject$1(e))l=e.func;else if(typeof e=="string")l=e;else return e;if(!l)return n;try{return new Function("data","originalData","_system","_alive","_common","_socket","_instance","arrayIndex","globalData","_changed",l.includes("return")?l:`return ${l}`)(o||this.props.data,this.props.originalData,this.props.oContext.systemConfig,this.props.alive,this.props.common,this.props.oContext.socket,this.props.oContext.instance,s,a,this.props.changed)}catch(d){return console.error(`Cannot execute ${JSON.stringify(e)}: ${d}`),n}}executeCustom(e,n,o,s,a,l){let d;if(isObject$1(e))d=e.func;else if(typeof e=="string")d=e;else return e;if(!d)return null;try{return new Function("data","originalData","_system","instanceObj","customObj","_socket","arrayIndex","globalData","_changed",d.includes("return")?d:`return ${d}`)(n||this.props.data,this.props.originalData,this.props.oContext.systemConfig,s,o,this.props.oContext.socket,a,l,this.props.changed)}catch(h){return console.error(`Cannot execute ${d}: ${h}`),null}}calculate(e){let n,o,s,a;return this.props.custom?(n=e.validator?!this.executeCustom(e.validator,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):!1,e.disabled===!0?o=!0:o=e.disabled?this.executeCustom(e.disabled,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):!1,e.hidden===!0?s=!0:s=e.hidden?this.executeCustom(e.hidden,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):!1,a=e.defaultFunc?this.executeCustom(e.defaultFunc,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):e.default):(n=e.validator?!this.execute(e.validator,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,e.disabled===!0?o=!0:o=e.disabled?this.execute(e.disabled,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,e.hidden===!0?s=!0:s=e.hidden?this.execute(e.hidden,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,a=e.defaultFunc?this.execute(e.defaultFunc,e.default,this.props.data,this.props.arrayIndex,this.props.globalData):e.default),{error:n,disabled:o,hidden:s,defaultValue:a}}onError(e,n){n?this.isError[e]=n:delete this.isError[e],this.props.onError&&this.props.onError(e,n)}renderItem(e,n,o){return this.getText(this.props.schema.label)||this.getText(this.props.schema.text)}renderHelp(e,n,o){return n?React$2.createElement("a",{href:n,target:"_blank",rel:"noreferrer",style:{color:this.props.oContext.themeType==="dark"?"#a147ff":"#5b238f",textDecoration:"underline"}},this.getText(e,o)):(e=this.getText(e,o)||"",e&&(e.includes("<a ")||e.includes("<br")||e.includes("<b>")||e.includes("<i>"))?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.renderTextWithA(e):e)}static escapeString(e,n){return typeof e!="string"?"":(e=e.replace(/`/g,"\\`"),e=e.replace(/\${([^}]+)}/g,(o,s)=>{if(s&&typeof s=="string"&&s.startsWith("data.")){const a=ConfigGeneric.getValue(n,s.replace(/^data\./,""));if(typeof a=="string"&&(a.includes("\\")||a.includes('"')))return`\${${s}.replace(/\\\\/g, '\\\\\\\\').replace(/"/g, '\\\\"')}`}return o}),e)}getPattern(e,n,o){if(n=n||this.props.data,!e)return"";let s;typeof e=="object"?e.func?s=e.func:(console.log(`Object must be stringified: ${JSON.stringify(e)}`),s=JSON.stringify(e)):s=e;try{if(this.props.custom)return new Function("data","originalData","arrayIndex","globalData","_system","instanceObj","customObj","_socket","_changed",`return \`${ConfigGeneric.escapeString(s,n)}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.oContext.systemConfig,this.props.oContext.instanceObj,this.props.customObj,this.props.oContext.socket,this.props.changed);const l=new Function("data","originalData","arrayIndex","globalData","_system","_alive","_common","_socket","_changed",`return \`${ConfigGeneric.escapeString(s,n)}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.oContext.systemConfig,this.props.alive,this.props.common,this.props.oContext.socket,this.props.changed);return o?l:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(l)}catch(a){return console.error(`Cannot execute ${s}: ${a}`),s}}render(){const e=this.props.schema;if(!e||this.props.expertMode===!1&&e.expertMode)return null;this.props.alive&&this.defaultSendToDone===!1&&(this.sendToTimeout=setTimeout(()=>{this.sendToTimeout=null,this.sendTo()},200));const{error:n,disabled:o,hidden:s,defaultValue:a}=this.calculate(e);if(s){if(Object.keys(this.isError).length&&(setTimeout(h=>Object.keys(h).forEach(_=>this.props.onError(_)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}),e.hideOnlyControl){const h=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{size:{xs:e.xs||DEFAULT_SM_SIZE,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0},style:{marginBottom:0,textAlign:"left",...e.style,...this.props.oContext.themeType==="dark"?e.darkStyle:{}}});return e.newLine?React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{flexBasis:"100%",height:0}}),h):h}return null}e.validatorNoSaveOnError&&(n&&!Object.keys(this.isError).length?(this.isError={[this.props.attr]:e.validatorErrorText?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(e.validatorErrorText):!0},setTimeout(h=>Object.keys(h).forEach(_=>this.props.onError(_,h[_])),100,JSON.parse(JSON.stringify(this.isError)))):!n&&Object.keys(this.isError).length&&(setTimeout(h=>Object.keys(h).forEach(_=>this.props.onError(_)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}));const l=this.renderItem(n,o||this.props.commandRunning||this.props.disabled,a);if(this.noPlaceRequired)return l;const d=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{title:this.getText(e.tooltip),size:{xs:e.xs||12,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0},style:{marginBottom:0,textAlign:"left",width:e.type==="divider"||e.type==="header"?e.width||"100%":void 0,...e.style,...this.props.oContext.themeType==="dark"?e.darkStyle:{}}},this.props.schema.defaultSendTo&&this.props.schema.button?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{container:!0,style:{width:"100%"}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{flex:1},l),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{disabled:o,variant:"outlined",onClick:()=>this.sendTo(),title:this.props.schema.buttonTooltip?this.getText(this.props.schema.buttonTooltip,this.props.schema.buttonTooltipNoTranslation):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Request data by instance")},this.getText(this.props.schema.button)))):l);return e.newLine?React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{flexBasis:"100%",height:0}}),this.renderDialogConfirm(),d):this.state.confirmDialog?React$2.createElement(React$2.Fragment,null,this.renderDialogConfirm(),d):d}}const styles$y={fullWidth:{width:"100%"},accordionSummary:t=>({backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"}),accordionTitle:{},toolbar:t=>({backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",borderRadius:"3px"}),tooltip:{pointerEvents:"none"}};class ConfigAccordion extends ConfigGeneric{typingTimer=null;constructor(e){super(e),this.props.schema.items=this.props.schema.items||[]}componentDidMount(){super.componentDidMount();let e=ConfigGeneric.getValue(this.props.data,this.props.attr)||[];Array.isArray(e)||(e=[]),this.setState({value:e,activeIndex:-1,iteration:0,accordionErrors:{}})}componentWillUnmount(){this.typingTimer&&(clearTimeout(this.typingTimer),this.typingTimer=null),super.componentWillUnmount()}onAccordionError=e=>(n,o)=>{const s={...this.state.accordionErrors};s[e]||(s[e]={}),o?s[e][n]=o:(delete s[e][n],Object.keys(s[e]).length===0&&delete s[e]),this.setState({accordionErrors:s}),this.props.onError(n,o)};hasAccordionErrors=e=>!!(this.state.accordionErrors[e]&&Object.keys(this.state.accordionErrors[e]).length>0);itemAccordion(e,n){const{value:o}=this.state,{schema:s}=this.props,a={type:"panel",items:s.items.reduce((l,d)=>(l[d.attr]=d,l),{}),style:{marginLeft:"-8px",marginTop:"10px",marginBottom:"10px"}};return React$2.createElement(ConfigPanel,{oContext:this.props.oContext,index:n+this.state.iteration,arrayIndex:n,changed:this.props.changed,expertMode:this.props.expertMode,globalData:this.props.data,common:this.props.common,alive:this.props.alive,themeName:this.props.themeName,data:e,custom:!0,schema:a,originalData:this.props.originalData,onChange:(l,d)=>{const h=JSON.parse(JSON.stringify(o));h[n][l]=d,this.setState({value:h},()=>this.onChangeWrapper(h))},onError:this.onAccordionError(n),table:this.props.table})}onDelete=e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(e,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))};onClone=e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),o=JSON.parse(JSON.stringify(n[e]));if(typeof this.props.schema.clone=="string"&&typeof o[this.props.schema.clone]=="string"){let s=1,a=o[this.props.schema.clone];const l=a.match(/(\d+)$/);for(l?(a=a.replace(l[0],""),s=parseInt(l[0],10)+1):a+="_";n.find(d=>d[this.props.schema.clone]===a+s.toString());)s++;o[this.props.schema.clone]=`${o[this.props.schema.clone]}_${s}`}n.splice(e,0,o),this.setState({value:n,activeIndex:-1,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))};onChangeWrapper=e=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout(n=>{this.typingTimer=null;const o=this.onChange(this.props.attr,n);o instanceof Promise&&o.catch(s=>this.onError(s))},300,e)};onAdd=()=>{const{schema:e}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),o=e.items&&e.items.reduce((s,a)=>{let l;return a.defaultFunc?this.props.custom?l=a.defaultFunc?this.executeCustom(a.defaultFunc,this.props.data,this.props.customObj,this.props.oContext.instanceObj,n.length,this.props.data):this.props.schema.default:l=a.defaultFunc?this.execute(a.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:l=a.default===void 0?null:a.default,s[a.attr]=l,s},{});n.push(o),this.setState({value:n,activeIndex:n.length-1},()=>this.onChangeWrapper(n))};onMoveUp(e){const n=JSON.parse(JSON.stringify(this.state.value)),o=n[e];n.splice(e,1),n.splice(e-1,0,o);const s=this.state.activeIndex-1;this.setState({value:n,activeIndex:s,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}onMoveDown(e){const n=JSON.parse(JSON.stringify(this.state.value)),o=n[e];n.splice(e,1),n.splice(e+1,0,o);const s=this.state.activeIndex+1;this.setState({value:n,activeIndex:s,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}onExport=()=>{const{value:e}=this.state,n=JSON.stringify(e,null,2),o=`data:application/json;charset=utf-8,${encodeURIComponent(n)}`,s=`config_section_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`,a=document.createElement("a");a.setAttribute("href",o),a.setAttribute("download",s),a.click()};onImport=e=>{const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=o=>{var l;const s=(l=o.target.files)==null?void 0:l[0];if(!s)return;const a=new FileReader;a.onload=d=>{var h;try{const _=JSON.parse((h=d.target)==null?void 0:h.result);if(!Array.isArray(_)){alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Invalid JSON format. Expected an array."));return}let p;e?p=_:p=[...this.state.value,..._],this.setState({value:p,activeIndex:-1},()=>this.onChangeWrapper(p))}catch{alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Invalid JSON file."))}},a.readAsText(s)},n.click()};renderItem(){const{schema:e}=this.props,{value:n}=this.state;return n?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Paper,null,e.label||!e.noDelete?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Toolbar,{variant:"dense"},e.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,{variant:"h6",id:"tableTitle",component:"div"},this.getText(e.label)):null,e.noDelete?null:React$2.createElement(React$2.Fragment,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Export configuration section")},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",color:"primary",onClick:this.onExport},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.FileDownload,null))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Import and replace configuration section")},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",color:"primary",onClick:()=>this.onImport(!0)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.FileUpload,null))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Import and add configuration section")},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",color:"primary",onClick:()=>this.onImport(!1)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.AddCircle,null))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",color:"primary",onClick:this.onAdd},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Add,null)))):null,n.map((o,s)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Accordion,{key:`${o}_${s}`,expanded:this.state.activeIndex===s,onChange:(a,l)=>this.setState({activeIndex:l?s:-1})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.AccordionSummary,{expandIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ExpandMore,null),sx:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.oContext.theme,styles$y.fullWidth,styles$y.accordionSummary)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,{style:styles$y.accordionTitle},o[e.titleAttr]),this.hasAccordionErrors(s)&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,{sx:{fontSize:20,color:"error.main"}}))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.AccordionDetails,{style:{...e.style,...this.props.oContext.themeType?e.darkStyle:void 0}},this.itemAccordion(n[s],s),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Toolbar,{sx:styles$y.toolbar},s?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Move up"),slotProps:{popper:{sx:styles$y.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onMoveUp(s)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ArrowUpward,null))):React$2.createElement("div",{style:styles$y.buttonEmpty}),s<n.length-1?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Move down"),slotProps:{popper:{sx:styles$y.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onMoveDown(s)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ArrowDownward,null))):React$2.createElement("div",{style:styles$y.buttonEmpty}),e.noDelete?null:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Delete current row"),slotProps:{popper:{sx:styles$y.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:this.onDelete(s)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,null))),e.clone?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Clone current row"),slotProps:{popper:{sx:styles$y.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:this.onClone(s)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ContentCopy,null))):null)))),!e.noDelete&&n.length>0?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Toolbar,{variant:"dense",sx:styles$y.rootTool},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",color:"primary",onClick:this.onAdd},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Add,null))):null,e.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null):null}}const styles$x={root:{width:"100%"},notAlive:{color:"#a30000"}};class ConfigAlive extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=this.getInstance();this.props.oContext.socket.getState(`${e}.alive`).then(n=>this.setState({alive:!!(n&&n.val),instance:e}))}getInstance(){let e=this.props.schema.instance||`${this.props.oContext.adapterName}.${this.props.oContext.instance}`;return e.includes("${")&&(e=this.getPattern(e,null,!0)),e&&!e.startsWith("system.adapter.")&&(e=`system.adapter.${e}`),e}renderItem(){if(this.getInstance()!==this.state.instance&&setTimeout(()=>{const n=this.getInstance();n?this.props.oContext.socket.getState(`${n}.alive`).then(o=>this.setState({alive:!!(o&&o.val),instance:n})):this.setState({alive:null,instance:n})},200),this.state.alive!==!1&&this.state.alive!==!0)return null;const e=this.state.instance.replace(/^system.adapter./,"");return React$2.createElement("div",{style:{...styles$x.root,...this.state.alive?void 0:styles$x.notAlive}},this.state.alive?this.props.schema.textAlive!==void 0?this.props.schema.textAlive?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(this.props.schema.textAlive,e):"":AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Instance %s is alive",e):this.props.schema.textNotAlive!==void 0?this.props.schema.textNotAlive?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(this.props.schema.textNotAlive,e):"":AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Instance %s is not alive",e))}}class ConfigAutocomplete extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr),n=this.props.schema.options.map(o=>typeof o=="string"?{label:o,value:o}:JSON.parse(JSON.stringify(o)));Array.isArray(e)?(n.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE}),this.setState({value:ConfigGeneric.DIFFERENT_VALUE,selectOptions:n})):this.setState({value:e,selectOptions:n})}renderItem(e,n){if(!this.state.selectOptions)return null;let o;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===ConfigGeneric.DIFFERENT_VALUE?([...this.state.value].filter(l=>!s.find(d=>typeof d=="object"?d.value===l:d===l)).forEach(l=>s.push({label:l.toString(),value:l})),o={label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE},s.unshift(o)):(o=this.state.value!==null&&this.state.value!==void 0&&s.find(l=>typeof l=="object"?l.value==this.state.value:l==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!o&&this.props.schema.freeSolo&&(o={value:this.state.value,label:this.state.value},s.push(o))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Autocomplete,{fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,value:o,options:s,isOptionEqualToValue:(l,d)=>l.value===d.value,filterOptions:(l,d)=>{const h=l.filter(_=>d.inputValue===""?!0:_.label.toLowerCase().includes(d.inputValue.toLowerCase())||_.value.toLowerCase().includes(d.inputValue.toLowerCase()));return this.props.schema.freeSolo&&d.inputValue!==""&&h.push({label:d.inputValue,value:d.inputValue}),h},onInputChange:l=>{if(!l||!this.props.schema.freeSolo)return;const d=l.target.value;d!==this.state.value&&this.setState({value:d},()=>this.onChange(this.props.attr,d))},onChange:(l,d)=>{const h=typeof d=="object"?d?d.value:"":d;h!==this.state.value&&this.setState({value:h},()=>this.onChange(this.props.attr,h))},getOptionLabel:l=>typeof l=="object"?(l==null?void 0:l.label)??"":"",renderInput:l=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",...l,error:!!e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:n})})}}class ConfigAutocompleteSendTo extends ConfigGeneric{initialized=!1;localContext;askInstance(){const e=ConfigGeneric.getValue(this.props.data,this.props.attr),n=this.props.schema.options?this.props.schema.options.map(o=>typeof o=="string"?{label:o,value:o}:JSON.parse(JSON.stringify(o))):[];if(this.props.alive){let o=this.props.schema.data;if(o===void 0&&this.props.schema.jsonData){const s=this.getPattern(this.props.schema.jsonData,null,!0);try{typeof s=="string"&&(o=JSON.parse(s))}catch{console.error(`Cannot parse json data: ${JSON.stringify(o)}`)}}o===void 0&&(o=null),this.setState({loading:!0}),this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.schema.command||"send",o).then(s=>{s&&Array.isArray(s)&&s.forEach(a=>n.push(typeof a=="string"?{label:a,value:a}:JSON.parse(JSON.stringify(a)))),Array.isArray(e)?(n.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE}),this.setState({value:ConfigGeneric.DIFFERENT_VALUE,selectOptions:n,loading:!1})):this.setState({value:e,selectOptions:n,loading:!1})}).catch(s=>{console.error("Error in autocompleteSendTo:",s),this.setState({loading:!1})})}else Array.isArray(e)?(n.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE}),this.setState({value:ConfigGeneric.DIFFERENT_VALUE,selectOptions:n})):this.setState({value:e,selectOptions:n})}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(n=>e[n]=ConfigGeneric.getValue(this.props.data,n)),JSON.stringify(e)}renderItem(e,n){if(this.props.alive){const l=this.getContext();(l!==this.localContext||!this.initialized)&&(this.localContext=l,setTimeout(()=>this.askInstance(),this.initialized?300:50),this.initialized=!0)}let o;const s=this.state.selectOptions?JSON.parse(JSON.stringify(this.state.selectOptions)):[];return Array.isArray(this.state.value)||this.state.value===ConfigGeneric.DIFFERENT_LABEL?([...this.state.value].filter(l=>!s.find(d=>d.value===l)).forEach(l=>s.push({label:l.toString(),value:l})),o={label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE},s.unshift(o)):(o=this.state.value!==null&&this.state.value!==void 0&&s.find(l=>l.value==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!o&&this.props.schema.freeSolo&&(o={value:this.state.value,label:this.state.value},s.push(o)),o=o||null),s.length?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Autocomplete,{value:o,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,options:s,isOptionEqualToValue:(l,d)=>l.value===d.value,filterOptions:(l,d)=>{const h=l.filter(_=>d.inputValue===""?!0:_.label.toLowerCase().includes(d.inputValue.toLowerCase())||_.value.toLowerCase().includes(d.inputValue.toLowerCase()));return this.props.schema.freeSolo&&d.inputValue!==""&&h.push({label:d.inputValue,value:d.inputValue}),h},getOptionLabel:l=>(l==null?void 0:l.label)??"",onInputChange:l=>{if(!l||!this.props.schema.freeSolo)return;const d=l.target.value;d!==this.state.value&&this.setState({value:d},()=>this.onChange(this.props.attr,d))},onChange:(l,d)=>{const h=typeof d=="object"?d?d.value:"":d;h!==this.state.value&&this.setState({value:h},()=>this.onChange(this.props.attr,h))},renderInput:l=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",...l,error:!!e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:n,InputProps:{...l.InputProps,endAdornment:React$2.createElement(React$2.Fragment,null,this.state.loading?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputAdornment,{position:"end"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.CircularProgress,{size:20})):null,l.InputProps.endAdornment)}})}):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:n,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},InputProps:this.state.loading?{endAdornment:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputAdornment,{position:"end"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.CircularProgress,{size:20}))}:void 0,onChange:l=>{const d=l.target.value;this.setState({value:d},()=>this.onChange(this.props.attr,(d||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const styles$w={fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}};class ConfigCRON extends ConfigGeneric{componentDidMount(){super.componentDidMount();const{data:e,attr:n}=this.props,o=ConfigGeneric.getValue(e,n)||"";this.setState({value:o,showDialog:!1})}renderItem(e,n){const{schema:o,attr:s}=this.props,{value:a,showDialog:l}=this.state;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:styles$w.fullWidth,variant:"standard"},o.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},this.getText(o.label)):null,React$2.createElement("div",{style:styles$w.flex},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,value:a??"",error:!!e,disabled:n,placeholder:this.getText(o.placeholder),label:this.getText(o.label),helperText:this.renderHelp(o.help,o.helpLink,o.noTranslation),onChange:d=>{const h=d.target.value;this.setState({value:h},()=>this.onChange(s,h))}}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{color:"grey",disabled:n,style:styles$w.button,size:"small",variant:"outlined",onClick:()=>this.setState({showDialog:!0})},"...")),l?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogCron,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Define schedule"),simple:o.simple,complex:o.complex,cron:a,onClose:()=>this.setState({showDialog:!1}),cancel:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),ok:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Ok"),theme:this.props.oContext.theme,onOk:d=>this.setState({showDialog:!1,value:d},()=>this.onChange(s,d))}):null)}}class ConfigCertificateSelect extends ConfigGeneric{async componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr),o=(await this.props.oContext.socket.getCertificates()).filter(s=>{const a=this.props.attr.toLowerCase();return a.includes(s.type)||s.type==="public"&&a.includes("cert")||s.type==="private"&&(a.includes("priv")||a.includes("key"))?!0:!!(s.type==="chained"&&(a.includes("chain")||a.includes("ca")))}).map(s=>({label:s.name,value:s.name}));o.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),this.setState({value:e,selectOptions:o})}renderItem(e,n){var s,a;if(!this.state.selectOptions)return null;const o=(s=this.state.selectOptions)==null?void 0:s.find(l=>l.value===this.state.value);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:{width:"100%"},variant:"standard"},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:this.state.value,renderValue:()=>this.getText(o==null?void 0:o.label,this.props.schema.noTranslation!==!1),onChange:l=>this.setState({value:l.target.value},()=>this.onChange(this.props.attr,this.state.value))},(a=this.state.selectOptions)==null?void 0:a.map(l=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:l.value,value:l.value,style:l.value===ConfigGeneric.NONE_VALUE?{opacity:.5}:{}},this.getText(l.label,this.props.schema.noTranslation!==!1)))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$v={fullWidth:{width:"100%"},leWidth:{width:620,marginBottom:10},certWidth:{width:200,marginRight:10}};class ConfigCertificates extends ConfigGeneric{async componentDidMount(){var d;super.componentDidMount();const e=await this.props.oContext.socket.getCertificates(),n=[],o=[],s=[];let a=[];const l=await this.props.oContext.socket.getObject("system.certificates");(d=l==null?void 0:l.native)!=null&&d.collections?a=Object.keys(l.native.collections):a=null,e.forEach(h=>{h.type==="public"?n.push({label:h.name,value:h.name}):h.type==="private"?o.push({label:h.name,value:h.name}):h.type==="chained"?s.push({label:h.name,value:h.name}):(n.push({label:h.name,value:h.name}),o.push({label:h.name,value:h.name}),s.push({label:h.name,value:h.name}))}),n.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),o.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),s.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),this.setState({certsPublicOptions:n,certsChainOptions:s,certsPrivateOptions:o,collectionsOptions:a})}renderItem(e,n){var p,u,m,g,y,v,S;if(!this.state.certsPublicOptions||!this.state.certsPrivateOptions||!this.state.certsChainOptions)return null;const o=(ConfigGeneric.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString(),s=ConfigGeneric.getValue(this.props.data,this.props.schema.certPublicName||"certPublic"),a=ConfigGeneric.getValue(this.props.data,this.props.schema.certPrivateName||"certPrivate"),l=ConfigGeneric.getValue(this.props.data,this.props.schema.certChainedName||"certChained"),d=(p=this.state.certsPublicOptions)==null?void 0:p.find(b=>b.value===s),h=(u=this.state.certsPrivateOptions)==null?void 0:u.find(b=>b.value===a),_=(m=this.state.certsChainOptions)==null?void 0:m.find(b=>b.value===l);return React$2.createElement("div",{style:styles$v.fullWidth},this.state.collectionsOptions?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:styles$v.leWidth,variant:"standard"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},"Let's encrypt"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:o,onChange:b=>this.onChange(this.props.schema.leCollectionName||"leCollection",b.target.value==="false"?!1:b.target.value==="true"?!0:b.target.value)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Do not use let's encrypt")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Use all available let's encrypt certificates")),(g=this.state.collectionsOptions)==null?void 0:g.map(b=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:b,value:b},b)))):null,this.state.collectionsOptions?React$2.createElement("br",null):null,this.state.collectionsOptions&&o!=="false"?React$2.createElement("div",null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Fallback custom certificates")):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:styles$v.certWidth,variant:"standard"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Public certificate")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:s||"",renderValue:()=>this.getText(d==null?void 0:d.label),onChange:b=>this.onChange(this.props.schema.certPublicName||"certPublic",b.target.value)},(y=this.state.certsPublicOptions)==null?void 0:y.map((b,C)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:`${b.value}_${C}`,value:b.value,style:b.value===ConfigGeneric.NONE_VALUE?{opacity:.5}:{}},this.getText(b.label))))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:styles$v.certWidth,variant:"standard"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Private certificate")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:a||"",renderValue:()=>this.getText(h==null?void 0:h.label),onChange:b=>this.onChange(this.props.schema.certPrivateName||"certPrivate",b.target.value)},(v=this.state.certsPrivateOptions)==null?void 0:v.map((b,C)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:`${b.value}_${C}`,value:b.value,style:b.value===ConfigGeneric.NONE_VALUE?{opacity:.5}:{}},this.getText(b.label))))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:styles$v.certWidth,variant:"standard"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Chained certificate")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:l||"",renderValue:()=>this.getText(_==null?void 0:_.label),onChange:b=>this.onChange(this.props.schema.certChainedName||"certChained",b.target.value)},(S=this.state.certsChainOptions)==null?void 0:S.map((b,C)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:`${b.value}_${C}`,value:b.value,style:b.value===ConfigGeneric.NONE_VALUE?{opacity:.5}:{}},this.getText(b.label))))))}}class ConfigCertCollection extends ConfigGeneric{async componentDidMount(){var o;super.componentDidMount();let e;const n=await this.props.oContext.socket.getObject("system.certificates");(o=n==null?void 0:n.native)!=null&&o.collections?e=Object.keys(n.native.collections):e=[],this.setState({collectionsOptions:e})}renderItem(e,n){var s;if(!this.state.collectionsOptions)return null;const o=(ConfigGeneric.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString();return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:{width:"100%"},variant:"standard"},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:o,onChange:a=>this.onChange(this.props.schema.leCollectionName||"leCollection",a.target.value==="false"?!1:a.target.value==="true"?!0:a.target.value)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Do not use let's encrypt")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Use all available let's encrypt certificates")),(s=this.state.collectionsOptions)==null?void 0:s.map(a=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:a,value:a},a))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigCheckDocker extends ConfigGeneric{async componentDidMount(){super.componentDidMount();const e=await this.props.oContext.socket.getCurrentInstance();this.setState({requesting:!0},async()=>{const n=await this.props.oContext.socket.sendTo(e,"checkDocker",null);this.setState({requesting:!1,version:(n==null?void 0:n.version)||"",errorDocker:n?n.daemonRunning?"":AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Docker is not installed or not running"):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_No response from admin")})})}renderItem(e,n){const o=ConfigGeneric.getValue(this.props.data,this.props.attr);return this.state.requesting?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.CircularProgress,null):this.state.errorDocker&&!o?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,{style:{color:"orange"}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Docker is not available"),":",AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(`ra_${this.state.errorDocker}`).replace(/^ra_/,"")):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:{width:"100%"},variant:"standard"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControlLabel,{onClick:s=>{if(s.preventDefault(),s.stopPropagation(),!n){const a=this.onChange(this.props.attr,!o);a instanceof Promise&&a.catch(l=>console.error(`Cannot set value: ${l}`))}},control:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{checked:!!o,onChange:s=>{this.onChange(this.props.attr,s.target.checked)},disabled:n||!!this.state.errorDocker&&!o}),label:this.getText(this.props.schema.label)}),this.props.schema.hideVersion?null:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.state.errorDocker?this.state.errorDocker:this.state.version),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$u={fullWidth:{width:"100%"},licLabel:{fontWeight:"bold",minWidth:100,marginRight:10,textTransform:"capitalize",display:"inline-block"},errorTitle:t=>({color:t.palette.mode==="dark"?"#e39191":"#b62020"}),okTitle:t=>({color:t.palette.mode==="dark"?"#6fd56f":"#007c00"}),errorText:t=>({color:t.palette.mode==="dark"?"#e39191":"#b62020",mb:"30px"})};class ConfigCheckLicense extends ConfigGeneric{componentDidMount(){super.componentDidMount(),this.setState({_error:"",running:!1,showLicenseData:null,foundSuitableLicense:!1,licenseOfflineCheck:!1,result:null,allLicenses:null,askForUpdate:!1,showLinkToProfile:!1})}renderErrorDialog(){if(this.state._error&&!this.state.showLicenseData){let e=this.state._error;return this.state.allLicenses&&(e=[React$2.createElement("div",{key:"error"},e)],e.push(React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{key:"button",variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("iobroker.net"))),this.state.allLicenses.length?e.push(React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableContainer,{key:"table"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Table,{size:"small"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableHead,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Product")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Version")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,"UUID"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_ValidTill")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Commercial")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,"ID"))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableBody,null,this.state.allLicenses.map(n=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,{key:n.id},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{sx:n.validName?null:styles$u.errorText},n.license.product),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{sx:n.validVersion?null:styles$u.errorText},n.license.version),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{sx:n.validUuid?null:styles$u.errorText},n.license.uuid||"--"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{sx:n.validTill?null:styles$u.errorText},n.license.validTill&&n.license.validTill!=="0000-00-00 00:00:00"?new Date(n.license.validTill).toLocaleDateString():"--"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,n.license.invoice!=="free"?n.license.invoice==="MANUALLY_CREATED"?"":n.license.invoice:"-"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,null,n.id))))))):(e.push(React$2.createElement("div",{key:"text1"},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_No one license found in license manager"))),e.push(React$2.createElement("div",{key:"text2"},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please create license"))))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{open:!0,maxWidth:"xl",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClick:()=>this.setState({_error:"",allLicenses:null})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogTitle,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Error")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContent,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContentText,null,e)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogActions,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:"contained",onClick:()=>this.setState({_error:"",allLicenses:null}),color:"primary",autoFocus:!0,startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Check,null)},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Ok"))))}return null}renderMessageDialog(){if(this.state.showLicenseData){const e=[],n=this.state.showLicenseData;return Object.keys(n).forEach(o=>{if(!(n[o]===null||n[o]===void 0))if(typeof n[o]=="object"){const s=n[o];Object.keys(s).forEach(a=>{s[a]!==null&&s[a]!==void 0&&(typeof s[a]=="object"?e.push(React$2.createElement("div",{key:a},React$2.createElement("div",{style:styles$u.licLabel},a,":"),JSON.stringify(s[a],null,2))):e.push(React$2.createElement("div",{key:a},React$2.createElement("div",{style:styles$u.licLabel},o," -",a,":"),s[a].toString())))})}else e.push(React$2.createElement("div",{key:o},React$2.createElement("div",{style:styles$u.licLabel},o.replace(/_/g," "),":"),n[o].toString()))}),e.push(React$2.createElement("div",{key:"checked"},React$2.createElement("div",{style:styles$u.licLabel},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Checked"),":"),this.state.licenseOfflineCheck?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_locally"):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_via internet"))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{open:!0,onClose:()=>this.setState({showLicenseData:null})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogTitle,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"span",sx:this.state.result?styles$u.okTitle:styles$u.errorTitle},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License %s",this.state.result?"OK":"INVALID"))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContent,null,this.state.showLinkToProfile?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},"https://iobroker.net"):null,this.state._error?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"div",sx:styles$u.errorText},this.state._error):null,e),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogActions,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{onClick:()=>this.setState({showLicenseData:null,_error:""}),color:"primary",variant:"contained"},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Close"))))}return null}static parseJwt(e){const o=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(o).split("").map(a=>`%${`00${a.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{return JSON.parse(s)}catch{return null}}static isVersionValid(e,n,o,s){if(!n||!e)return!0;let a=!0;const[l]=e.split(".");return n.startsWith(">=")?a=parseInt(l,10)>=parseInt(n.substring(2,10)):n.startsWith("<=")?a=parseInt(l,10)<=parseInt(n.substring(2,10)):n.startsWith(">")?a=parseInt(l,10)>parseInt(n.substring(1,10)):n.startsWith("<")?a=parseInt(l,10)<parseInt(n.substring(1,10)):n.startsWith("=")?a=parseInt(l,10)===parseInt(n.substring(1,10)):n.startsWith("==")?a=parseInt(l,10)===parseInt(n.substring(2,10)):n.startsWith("===")&&(a=parseInt(l,10)===parseInt(n.substring(3,10))),!0}async findInLicenseManager(e){var s,a,l,d;const n=await this.props.oContext.socket.getObject("system.licenses"),o=[];if((a=(s=n==null?void 0:n.native)==null?void 0:s.licenses)!=null&&a.length){let h=null;const _=Date.now();let p;if(this.props.schema.uuid){const m=await this.props.oContext.socket.getObject("system.meta.uuid");p=(l=m==null?void 0:m.native)==null?void 0:l.uuid}let u;if(this.props.schema.version){const m=await this.props.oContext.socket.getObject(`system.adapter.${e}`);u=(d=m==null?void 0:m.common)==null?void 0:d.version}n.native.licenses.forEach(m=>{const g=!m.validTill||m.validTill==="0000-00-00 00:00:00"||new Date(m.validTill).getTime()>_,y=(m.product||"").split("."),v=y[1]===e||e==="vis-2"&&y[1]==="vis",S=!p||!m.uuid||m.uuid===p,b=ConfigCheckLicense.isVersionValid(u,m.version,m.invoice,e);(!h||m.invoice!=="free")&&g&&v&&S&&b&&(h=m),o.push({id:m.id,validName:v,validUuid:S,validVersion:b,validTill:g,license:m})}),h&&(o.find(m=>m.id===h.id).used=!0)}return o}async checkLicense(e,n){var d,h,_;let o;if(this.props.schema.uuid){const p=await this.props.oContext.socket.getObject("system.meta.uuid");o=(d=p==null?void 0:p.native)==null?void 0:d.uuid}let s;if(this.props.schema.version){const p=await this.props.oContext.socket.getObject(`system.adapter.${n}`);s=(h=p==null?void 0:p.common)==null?void 0:h.version}const a=new AbortController;let l=setTimeout(()=>{l=null,a.abort()},5e3);try{const p=await window.fetch("https://iobroker.net/api/v1/public/cert/",{method:"POST",body:JSON.stringify({json:e,uuid:o}),headers:{"Content-Type":"text/plain"},signal:a.signal});l&&clearTimeout(l);const u=await p.text();let m;try{m=JSON.parse(u)}catch{}if(m!=null&&m.error)try{const g=ConfigCheckLicense.parseJwt(e),y=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(`ra_${g.error||m.error||"Unknown error"}`).replace(/^ra_/,"");return this.setState({_error:y,licenseOfflineCheck:!1,showLicenseData:g,result:!1,running:!1})}catch{return console.log("Cannot parse license"),this.setState({_error:m.error,result:!1,running:!1})}else{let g=null;try{g=ConfigCheckLicense.parseJwt(e)}catch{}if(m){const y=m.validTill||m.valid_till;if(y&&y!=="0000-00-00 00:00:00"&&new Date(y).getTime()<Date.now())return this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License expired on %s",new Date(y).toLocaleString()),licenseOfflineCheck:!1,showLicenseData:g,result:!1,running:!1});const v=(m.name||"").split(".");return v[1]===n||v[1]==="vis"&&n==="vis-2"?o&&!m.uuid&&n==="vis-2"?this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License must be converted",m.uuid),showLinkToProfile:!0,licenseOfflineCheck:!1,showLicenseData:g,result:!1,running:!1}):o&&m.uuid&&m.uuid!==o?this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',m.uuid),licenseOfflineCheck:!1,showLicenseData:g,result:!1,running:!1}):ConfigCheckLicense.isVersionValid(s,m.version,m.invoice,n)?this.setState({licenseOfflineCheck:!1,showLicenseData:g,result:!0,running:!1}):this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License is for version %s, but required version is %s",m.version,this.props.schema.version),licenseOfflineCheck:!1,showLicenseData:g,result:!1,running:!1}):this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t('ra_License for other product "%s"',m.name),licenseOfflineCheck:!1,showLicenseData:g,result:!1,running:!1})}throw new Error("ra_Invalid answer from server")}}catch(p){if(((_=p==null?void 0:p.response)==null?void 0:_.status)===404)return this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License does not exist"),result:!1,running:!1});try{const u=ConfigCheckLicense.parseJwt(e),m=(u.name||"").split(".");return u.valid_till&&u.valid_till!=="0000-00-00 00:00:00"&&new Date(u.valid_till).getTime()<Date.now()?this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License expired on %s",new Date(u.valid_till).toLocaleString()),showLicenseData:u,licenseOfflineCheck:!0,running:!1,result:!1}):m[1]===n?o&&u.uuid&&u.uuid!==o?this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',u.uuid),showLicenseData:u,licenseOfflineCheck:!0,result:!1,running:!1}):ConfigCheckLicense.isVersionValid(s,u.version,u.invoice,n)?this.setState({running:!1,result:!0,licenseOfflineCheck:!0,showLicenseData:u}):this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License is for version %s, but required version is %s",u.version,this.props.schema.version),licenseOfflineCheck:!0,showLicenseData:u,result:!1,running:!1}):this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t('ra_License for other product "%s"',u.name),licenseOfflineCheck:!0,showLicenseData:u,result:!1,running:!1})}catch{return this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cannot decode license"),result:!1,licenseOfflineCheck:!0,running:!1})}}}renderAskForUpdate(){return this.state.askForUpdate?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{text:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License not found in license manager. Do you want to read licenses from iobroker.net?"),ok:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Yes"),onClose:async e=>{if(e){this.setState({askForUpdate:!1});try{await this.props.oContext.socket.updateLicenses(null,null)}catch(n){window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cannot read licenses: %s",n));return}await this._onClick(!0)}else this.setState({askForUpdate:!1,running:!1})}}):null}async _onClick(e){const n=this.props.oContext.adapterName==="vis-2"?"vis":this.props.oContext.adapterName;this.setState({running:!0});let o,s;if(this.props.data.useLicenseManager){if(s=await this.findInLicenseManager(n),o=s.find(a=>a.used),o&&(o=o.license.json),!o&&!e){this.setState({askForUpdate:!0});return}}else o=this.props.data.license;o?await this.checkLicense(o,n):this.props.data.useLicenseManager?this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Suitable license not found in license manager"),result:!1,running:!1,allLicenses:s}):this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please enter the license"),result:!1,running:!1})}renderItem(){return React$2.createElement("div",{style:styles$u.fullWidth},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:this.props.schema.variant||"outlined",color:this.props.schema.color||"primary",style:styles$u.fullWidth,disabled:!this.props.data.license&&!this.props.data.useLicenseManager||this.state.running,startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Send,null),onClick:()=>this._onClick()},this.state.running?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label||"ra_Check license",this.props.schema.noTranslation)),this.renderMessageDialog(),this.renderErrorDialog(),this.renderAskForUpdate())}}class ConfigCheckbox extends ConfigGeneric{renderItem(e,n){const o=ConfigGeneric.getValue(this.props.data,this.props.attr),s=Array.isArray(o);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{style:{width:"100%"},variant:"standard"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControlLabel,{onClick:a=>{if(a.preventDefault(),a.stopPropagation(),!n){const l=this.onChange(this.props.attr,!o);l instanceof Promise&&l.catch(d=>console.error(`Cannot set value: ${d}`))}},control:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{indeterminate:s,checked:!!o,onChange:a=>{let l;s?l=this.onChange(this.props.attr,!0):l=this.onChange(this.props.attr,a.target.checked),l instanceof Promise&&l.catch(d=>console.error(`Cannot set value: ${d}`))},disabled:n||this.props.schema.readOnly}),label:this.getText(this.props.schema.label)}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,{style:{color:"red"}},e?this.props.schema.validatorErrorText?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(this.props.schema.validatorErrorText):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Error"):null),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const variantComponent={standard:AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Input,filled:FilledInput,outlined:AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.OutlinedInput},styles$t=t=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&.mui-variant-outlined,&.mui-variant-filled":{boxSizing:"border-box"},"&.mui-variant-outlined":{paddingTop:"14px"},"&.mui-variant-filled":{paddingTop:"28px"}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",alignItems:"center",cursor:"text",marginBottom:"-2px",minHeight:40},outlined:{"& input":{height:16,paddingTop:"4px",paddingBottom:"12px",marginTop:"4px",marginBottom:"4px"}},standard:{marginTop:"18px"},filled:{"& input":{height:22,marginBottom:"4px",marginTop:"4px",paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:`2px solid ${t.palette.primary[e?"dark":"light"]}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:`2px solid ${t.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:t.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}},keyCodes={BACKSPACE:8,DELETE:46,LEFT_ARROW:37,RIGHT_ARROW:39},defaultChipRenderer=({value:t,isFocused:e,isDisabled:n,isReadOnly:o,handleClick:s,handleDelete:a,style:l},d)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Chip,{key:d,style:{...l,pointerEvents:n||o?"none":void 0,backgroundColor:e?blue$1[300]:void 0},onClick:s,onDelete:a,label:t});class ChipInput extends React$2.Component{labelRef;labelNode=null;input;newChipKeyCodes;newChipKeys;actualInput=null;inputBlurTimeout=null;_keyPressed;_preventChipCreation;styles={};styleTheme=null;constructor(e){super(e),this.state={chips:e.defaultValue||[],focusedChip:null,inputValue:"",isFocused:!1,chipsUpdated:!1,prevPropsValue:[],variant:this.props.variant||"standard"},this.newChipKeyCodes=e.newChipKeyCodes||[13],this.newChipKeys=e.newChipKeys||["Enter"],this.labelRef=React$2.createRef(),this.input=React$2.createRef()}componentDidMount(){this.state.variant==="outlined"&&(this.labelNode=ReactDOM.findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){this.inputBlurTimeout&&clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(e,n){let o=null;return e.value&&e.value.length!==n.prevPropsValue.length&&(o={prevPropsValue:e.value},e.clearInputValueOnChange&&(o.inputValue="")),e.clearInputValueOnChange&&e.value&&e.value.length!==n.prevPropsValue.length&&(o={prevPropsValue:e.value,inputValue:""}),e.disabled&&(o={...o,focusedChip:null}),!n.chipsUpdated&&e.defaultValue&&(o={...o,chips:e.defaultValue}),o}focus=()=>{var e;(e=this.actualInput)==null||e.focus(),this.state.focusedChip&&this.setState({focusedChip:null})};handleInputBlur=e=>{this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1}),this.state.focusedChip&&this.setState({focusedChip:null});const n=e.target.value;let o;switch(this.props.blurBehavior||"clear"){case"add-or-clear":o={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const s=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout(()=>{const a=(this.props.value||this.state.chips).length;s===a?this.handleAddChip(n,o):this.clearInput()},150)}else this.handleAddChip(n,o);break;case"clear":this.clearInput();break}};handleInputFocus=e=>{var n,o;this.setState({isFocused:!0}),(o=(n=this.props).onFocus)==null||o.call(n,e)};handleKeyDown=e=>{const{focusedChip:n}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(e),e.isDefaultPrevented()))return;const o=this.props.value||this.state.chips;if(this.newChipKeyCodes.includes(e.keyCode)||this.newChipKeys.includes(e.key)){this.handleAddChip(e.target.value)!==!1&&e.preventDefault();return}switch(e.keyCode){case keyCodes.BACKSPACE:e.target.value===""&&(n?(this.handleDeleteChip(o[n],n),n&&this.setState({focusedChip:n-1})):this.setState({focusedChip:o.length-1}));break;case keyCodes.DELETE:e.target.value===""&&n&&(this.handleDeleteChip(o[n],n),n<=o.length-1&&this.setState({focusedChip:n}));break;case keyCodes.LEFT_ARROW:n===null&&e.target.value===""&&o.length?this.setState({focusedChip:o.length-1}):n!==null&&n>0&&this.setState({focusedChip:n-1});break;case keyCodes.RIGHT_ARROW:n!==null&&n<o.length-1?this.setState({focusedChip:n+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null});break}};handleKeyUp=e=>{!this._preventChipCreation&&(this.newChipKeyCodes.includes(e.keyCode)||this.newChipKeys.includes(e.key))&&this._keyPressed?this.clearInput():this.updateInput(e.target.value),this.props.onKeyUp&&this.props.onKeyUp(e)};handleUpdateInput=e=>{(this.props.inputValue===null||this.props.inputValue===void 0)&&this.updateInput(e.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(e)};handleAddChip(e,n){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(e))return this._preventChipCreation=!0,n&&n.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const o=this.props.value||this.state.chips;return e.trim().length?((this.props.allowDuplicates||!o.includes(e))&&(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([...this.state.chips,e])),!0):!1}handleDeleteChip(e,n){if(this.props.value)this.props.onDelete&&this.props.onDelete(e,n);else{const o=this.state.chips.slice();if(o.splice(n,1)){let a=this.state.focusedChip;this.state.focusedChip===n?a=null:this.state.focusedChip!==null&&this.state.focusedChip>n&&(a=this.state.focusedChip-1),this.updateChips(o,{focusedChip:a})}}}updateChips(e,n={}){this.setState({chips:e,chipsUpdated:!0,...n}),this.props.onChange&&this.props.onChange(e)}clearInput(){this.updateInput("")}updateInput(e){this.setState({inputValue:e})}setActualInputRef=e=>{this.actualInput=e,this.props.inputRef&&this.props.inputRef(e)};render(){const{alwaysShowPlaceholder:e,chipRenderer:n=defaultChipRenderer,className:o,disabled:s,disableUnderline:a,error:l,FormHelperTextProps:d,fullWidth:h,fullWidthInput:_,helperText:p,id:u,InputProps:m={},InputLabelProps:g={},inputValue:y,label:v,placeholder:S,readOnly:b,required:C,rootRef:w,value:A,margin:$}=this.props,E=this.state.variant;this.styleTheme!==this.props.theme.palette.mode&&(this.styleTheme=this.props.theme.palette.mode,this.styles=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.theme,styles$t));let D=A||this.state.chips||[];Array.isArray(D)||(D=(D||"").toString().split(/[,\s]+/).map(x=>x.trim()));const I=y??this.state.inputValue,R=(this.props.value||I).length||I.length,O=typeof g.shrink=="boolean"?g.shrink:v!==null&&(R||this.state.isFocused||D.length),N=D.map((x,T)=>n({value:x,isDisabled:!!s,isReadOnly:!!b,isFocused:this.state.focusedChip===T,handleClick:()=>this.setState({focusedChip:T}),handleDelete:()=>this.handleDeleteChip(x,T),style:this.styles.chip},T.toString())),M={};E==="outlined"&&(M.notched=!!O,M.labelWidth=O&&this.labelNode&&this.labelNode.offsetWidth||0),E!=="standard"?M.startAdornment=N:m.disableUnderline=!0;const k=variantComponent[E];return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{ref:w,fullWidth:h,className:o,sx:{...this.styles.root,...$==="dense"?this.styles.marginDense:{}},error:l,required:D.length>0?void 0:C,onClick:this.focus,disabled:s,variant:E,component:"div",margin:$},v&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{htmlFor:u,sx:{"&.MuiInputLabel-root":this.styles.label,"&.MuiInputLabel-shrink":this.styles.labelShrink},shrink:!!O,focused:this.state.isFocused,variant:E,ref:this.labelRef,required:C,component:"label",...g},v),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"div",id:"input-chip-container",sx:{...this.styles[E],...this.styles.chipContainer,...this.state.isFocused?this.styles.focused:void 0,...!a&&E==="standard"?this.styles.underline:void 0,...s?this.styles.disabled:void 0,...v?this.styles.labeled:void 0,...l?this.styles.error:void 0}},E==="standard"&&N,React$2.createElement(k,{ref:this.input,className:`mui-variant-${this.styles[E]} ${v?"mui-chip-with-label":"mui-chip-no-label"}`,sx:{"&.MuiInputBase-input":{...this.styles.input,...this.styles[E]},"&.MuiInputBase-root":{...this.styles.inputRoot}},id:u,value:I,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:s,fullWidth:_,placeholder:!R&&(O||v===null||v===void 0)||e?S:void 0,readOnly:b,...m,...M})),p&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,{...d,className:d==null?void 0:d.className,style:this.styles.helperText},p))}}class ConfigChip extends ConfigGeneric{componentDidMount(){super.componentDidMount();const{data:e,attr:n}=this.props,o=ConfigGeneric.getValue(e,n);if(this.props.schema.delimiter&&typeof o=="string"){const s=o.split(this.props.schema.delimiter).map(a=>a.trim()).filter(a=>a);this.setState({value:s})}else this.setState({value:o||[]})}renderItem(e,n){const{attr:o,schema:s}=this.props,{value:a}=this.state;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},React$2.createElement(ChipInput,{value:a,disabled:!!n,label:this.getText(s.label),error:!!e,onAdd:l=>{const d=JSON.parse(JSON.stringify(a));d.push(l),this.setState({value:d},()=>{let h;this.props.schema.delimiter?h=this.onChange(o,d.join(`${this.props.schema.delimiter} `)):h=this.onChange(o,d),h instanceof Promise&&h.catch(_=>console.error(_))})},theme:this.props.oContext.theme,onDelete:(l,d)=>{const h=JSON.parse(JSON.stringify(a));h.splice(d,1),this.setState({value:h},()=>{let _;this.props.schema.delimiter?_=this.onChange(o,h.join(`${this.props.schema.delimiter} `)):_=this.onChange(o,h),_ instanceof Promise&&_.catch(p=>console.error(p))})}}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Press ENTER Key to add new item")),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigColor extends ConfigGeneric{renderColorDialog(){return!!this.state.showColorDialog&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{onClose:()=>this.setState({showColorDialog:!1}),open:this.state.showColorDialog},React$2.createElement(ChromePicker,{color:this.state.colorDialogValue,onChange:e=>this.setState({colorDialogValue:e.hex},()=>this.onChange(this.props.attr,this.state.colorDialogValue))}))}renderItem(e,n){const o=ConfigGeneric.getValue(this.props.data,this.props.attr);let s=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.isUseBright(o,null);return s===null&&(s=void 0),React$2.createElement(React$2.Fragment,null,this.renderColorDialog(),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",disabled:!!n,style:{minWidth:100,width:"calc(100% - 8px)"},label:this.getText(this.props.schema.label),value:o||"",onClick:()=>!this.props.schema.readOnly&&this.setState({showColorDialog:!0,colorDialogValue:o||""}),onChange:a=>{const l=a.target.value,d=this.onChange(this.props.attr,l);d instanceof Promise&&d.catch(h=>console.error(`Cannot set value: ${h}`))},slotProps:{htmlInput:{style:{backgroundColor:o,color:s?"#FFF":"#000"},readOnly:this.props.schema.readOnly||!1},input:{endAdornment:!this.props.schema.readOnly&&o&&!this.props.schema.noClearButton?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{tabIndex:-1,size:"small",onClick:a=>{a.stopPropagation();const l=this.onChange(this.props.attr,"");l instanceof Promise&&l.catch(d=>console.error(`Cannot set value: ${d}`))}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)):void 0},inputLabel:{shrink:!0}}}))}}const styles$s={width:{width:"calc(100% - 85px)"},width50:{width:120,marginRight:5}};class ConfigCoordinates extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({value:e});const n={};this.props.schema.useSystemName&&(n.useSystem=!!ConfigGeneric.getValue(this.props.data,this.props.schema.useSystemName)),this.props.schema.longitudeName&&this.props.schema.latitudeName?(n.longitude=ConfigGeneric.getValue(this.props.data,this.props.schema.longitudeName),n.latitude=ConfigGeneric.getValue(this.props.data,this.props.schema.latitudeName),!n.longitude&&!n.latitude&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300)):!ConfigGeneric.getValue(this.props.data,this.props.attr)&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300),Object.keys(n).length&&setTimeout(()=>this.setState(n),50)}async getSystemCoordinates(){const e=await this.props.oContext.socket.getCompactSystemConfig();if(e!=null&&e.common&&(e.common.longitude||e.common.latitude))if(window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Used system settings")),this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:e.common.longitude,latitude:e.common.latitude},async()=>{await this.onChange(this.props.schema.longitudeName,e.common.longitude),await this.onChange(this.props.schema.latitudeName,e.common.latitude)});else{const n=e.common.latitude+(this.props.schema.divider||",")+e.common.longitude;this.setState({value:n},()=>{const o=this.onChange(this.props.attr,n);o instanceof Promise&&o.catch(s=>console.error(`Cannot set value: ${s}`))})}else window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cannot determine position: System settings are empty and GPS detection is disabled in browser"))}getCoordinates(){navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{if(e!=null&&e.coords)if(this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:e.coords.longitude,latitude:e.coords.latitude},async()=>{await this.onChange(this.props.schema.longitudeName,e.coords.longitude||""),await this.onChange(this.props.schema.latitudeName,e.coords.latitude||"")});else{const n=e.coords.latitude+(this.props.schema.divider||",")+e.coords.longitude;this.setState({value:n},()=>{const o=this.onChange(this.props.attr,n);o instanceof Promise&&o.catch(s=>console.error(`Cannot set value: ${s}`))})}else await this.getSystemCoordinates()},async e=>{console.error(`Cannot determine coordinates from browser: ${e.message}`),await this.getSystemCoordinates()}):this.getSystemCoordinates().catch(e=>{console.error(`Cannot determine coordinates: ${e}`)})}renderItem(e,n){return React$2.createElement(React$2.Fragment,null,this.props.schema.useSystemName?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControlLabel,{control:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{checked:!!this.state.useSystem,onChange:o=>{const s=o.target.checked;s&&this.getSystemCoordinates().catch(a=>console.error(`Cannot determine coordinates: ${a}`)),this.setState({useSystem:s},()=>this.onChange(this.props.schema.useSystemName,s))}}),label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Use system settings for position")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",style:styles$s.width50,value:this.state.longitude??"",error:!!e,disabled:this.state.useSystem||!!n,onChange:o=>{const s=o.target.value;this.setState({longitude:s},()=>{const a=this.onChange(this.props.schema.longitudeName,(s||"").trim());a instanceof Promise&&a.catch(l=>console.error(`Cannot set value: ${l}`))})},label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Longitude")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",style:styles$s.width50,value:this.state.latitude??"",error:!!e,disabled:this.state.useSystem||!!n,onChange:o=>{const s=o.target.value;this.setState({latitude:s},()=>this.onChange(this.props.schema.latitudeName,(s||"").trim()))},label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Latitude")}):null,!this.props.schema.longitudeName||!this.props.schema.latitudeName?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",style:styles$s.width,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!n,slotProps:{htmlInput:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.state.useSystem}},onChange:o=>{const s=o.target.value;this.setState({value:s},()=>this.onChange(this.props.attr,(s||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null,this.state.useSystem?null:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Fab,{size:"small",onClick:()=>this.getCoordinates(),title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Take browser position"),style:{marginRight:4}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.LocationOn,null)),this.state.useSystem?null:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Fab,{size:"small",onClick:()=>this.getSystemCoordinates(),title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Take position from system settings")},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.GpsFixed,null)))}}init_1({name:"iobroker_admin",shared:{"@iobroker/adapter-react-v5":{lib:()=>AdapterReact,version:"*"},"@mui/icons-material":{lib:()=>IconsMaterial,version:"*"},"@iobroker/json-config":{lib:()=>JsonConfig,version:"*"}},remotes:[]});class ConfigCustom extends ConfigGeneric{static runningLoads={};constructor(e){super(e),Object.assign(this.state,{Component:null,error:""})}async componentDidMount(){if(!this.props.schema.url){console.error("URL is empty. Cannot load custom component!"),this.setState({error:"URL is empty. Cannot load custom component!"});return}let e;this.props.schema.url.startsWith("http:")||this.props.schema.url.startsWith("https:")?e=this.props.schema.url:this.props.schema.url.startsWith("./")?e=`${window.location.protocol}//${window.location.host}${this.props.schema.url.replace(/^\./,"")}`:e=`${window.location.protocol}//${window.location.host}/adapter/${this.props.oContext.adapterName}/${this.props.schema.url}`;const[n,o,...s]=this.props.schema.name.split("/"),a=s.join("/");if(!e){console.error('Cannot find URL for custom component! Please define "url" as "custom/customComponents.js" in the schema');return}if(!n||!o||!a){console.error('Invalid format of "name"! Please define "name" as "ConfigCustomBackItUpSet/Components/AdapterExist" in the schema');return}let l=ConfigCustom.runningLoads[`${e}!${o}`];if(!(l instanceof Promise)){let d;if(this.props.schema.i18n===!0){const h=e.lastIndexOf("/");let _;h!==-1?_=e.substring(0,h):_=e;const p=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage(),u=`${_}/i18n/${p}.json`;d=fetch(u).then(m=>m.json()).then(m=>AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.extendTranslations(m,p)).catch(m=>{if(p!=="en"){fetch(`${_}/i18n/en.json`).then(g=>g.json()).then(g=>AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.extendTranslations(g,p)).catch(g=>console.log(`Cannot load i18n "${u}": ${g}`));return}console.log(`Cannot load i18n "${u}": ${m}`)})}else if(this.props.schema.i18n&&typeof this.props.schema.i18n=="object")try{AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.extendTranslations(this.props.schema.i18n)}catch(h){console.error(`Cannot import i18n: ${h}`)}try{console.log(e,n,o,a),registerRemotes_1([{name:n,entry:e,type:this.props.schema.bundlerType||void 0}]),l=loadRemote_1(`${n}/${o}`),d instanceof Promise&&(l=Promise.all([l,d]).then(h=>h[0])),ConfigCustom.runningLoads[`${e}!${o}`]=l}catch(h){console.error(h),this.setState({error:`Cannot import from ${this.props.schema.url}: ${h}`})}}try{const d=(await l).default;if(d!=null&&d[a])this.setState({Component:d[a]});else{const h=Object.keys(d||{});console.error("URL is empty. Cannot load custom component!"),this.setState({error:`Component ${this.props.schema.name} not found in ${this.props.schema.url}. Found: ${h.join(", ")}`})}}catch(d){console.error(d),this.setState({error:`Cannot import from ${this.props.schema.url}: ${d}`})}}render(){const e=this.state.Component,n=this.props.schema||{},o=e?React$2.createElement(e,{...this.props,socket:this.props.oContext.socket,theme:this.props.oContext.theme,themeType:this.props.oContext.themeType,instance:this.props.oContext.instance,adapterName:this.props.oContext.adapterName,systemConfig:this.props.oContext.systemConfig,forceUpdate:this.props.oContext.forceUpdate}):this.state.error?React$2.createElement("div",null,this.state.error):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.LinearProgress,null);return n.newLine?React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{flexBasis:"100%",height:0}}),o):o}}class ConfigDatePicker extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({value:e})}renderItem(e,n){return React$2.createElement(DatePicker,{sx:o=>({width:"100%",borderBottom:`1px solid ${o.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${o.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),format:this.props.oContext.systemConfig.dateFormat.toLowerCase().replace("mm","MM"),disabled:!!n,value:this.state.value,onChange:o=>{this.setState({value:o},()=>this.onChange(this.props.attr,this.state.value))},label:this.getText(this.props.schema.label)})}}class ConfigDeviceManager extends ConfigGeneric{renderItem(){if(!this.props.schema)return null;if(this.props.oContext.DeviceManager){const n=this.props.oContext.DeviceManager;return React$2.createElement(n,{uploadImagesToInstance:`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,title:this.getText(this.props.schema.label),socket:this.props.oContext.socket,selectedInstance:`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,themeName:this.props.themeName,theme:this.props.oContext.theme,themeType:this.props.oContext.themeType,isFloatComma:this.props.oContext.isFloatComma,dateFormat:this.props.oContext.dateFormat})}return React$2.createElement("div",null,"DeviceManager not found")}}const styles$r={fullWidth:{width:"100%"},uploadDiv:{position:"relative",width:"100%"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"100%",height:"100%",position:"absolute",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},disabledOpacity:{opacity:.3,cursor:"default"},error:{border:"2px solid red"},deleteButton:{},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}},IMAGE_EXT$1=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],AUDIO_EXT$1=["mp3","ogg","wav","aac"],VIDEO_EXT$1=["avi","mp4","mov"],DOC_EXT$1=["txt","log","html","htm"],JS_EXT$1=["json","js","ts"];class ConfigFileSelector extends ConfigGeneric{dropzoneRef;imagePrefix;objectID;path;constructor(e){super(e),this.dropzoneRef=React$2.createRef(),this.imagePrefix=this.props.oContext.imagePrefix===void 0?"./files":this.props.oContext.imagePrefix}componentDidMount(){super.componentDidMount(),this.objectID=(this.props.schema.objectID||"0_userdata.0").replace("%INSTANCE%",(this.props.oContext.instance||0).toString()),this.path=this.props.schema.upload,this.path&&(this.path==="/"?this.path="":this.path.endsWith("/")||(this.path=`${this.path}/`)),this.updateFiles().then(()=>{const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({value:e}),this.props.oContext.socket.subscribeFiles(this.objectID,`${this.path}/*`,this.onFolderChanged).catch(n=>console.error(`Cannot subscribe: ${n}`))})}onFolderChanged=(e,n)=>{this.path&&n.startsWith(this.path)&&this.updateFiles().catch(o=>console.error(`Cannot update files: ${o}`))};componentWillUnmount(){this.props.oContext.socket.subscribeFiles(this.objectID,`${this.path}/*`,this.onFolderChanged).catch(e=>console.error(`Cannot subscribe: ${e}`)),super.componentWillUnmount()}async updateFiles(){const e=await this.readFiles(this.props.schema.pattern);await new Promise(n=>this.setState({files:e},n))}async readFolder(e,n,o){try{const s=await this.props.oContext.socket.readDir(this.objectID,e.replace(/^\//,"")||null);for(let a=0;a<s.length;a++){const l=s[a];if(l.isDir)await this.readFolder(`${e+l.file}/`,n,o);else{let d=!1;o==="*.*"&&l.file.includes(".")||!o||o==="*"||o===".*"&&l.file.startsWith(".")?d=!0:d=new RegExp(`^${o.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(l.file),d&&n.push({name:e+l.file,size:l.stats?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.formatBytes(l.stats.size):"--"})}}}catch(s){console.error(`Cannot read "${e}": ${s}`)}return n}async readFiles(e){const n=[];e=e||this.props.schema.pattern,e||(e="**/*.*");let o;const s=e.lastIndexOf("/");if(s===-1?o=e:o=e.substring(s+1),e.startsWith("**"))await this.readFolder("/",n,o);else{const a=e.lastIndexOf("/");if(a===-1)await this.readFolder("/",n,o);else{const l=e.substring(0,a+1);await this.readFolder(l,n,o)}}return n}onDrop(e){const n=e[0],o=new FileReader,s=this.props.schema.maxSize||2*1024*1024;o.onabort=()=>console.log("file reading was aborted"),o.onerror=()=>console.log("file reading has failed"),o.onload=()=>{if(n.size>s){window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("File is too big. Max %sk allowed. Try use SVG.",Math.round(s/1024)));return}this.props.oContext.socket.writeFile64(this.objectID,this.path+n.name,o.result).then(()=>this.updateFiles()).then(()=>this.setState({value:this.path+n.name},()=>this.onChange(this.props.attr,this.path+n.name))).catch(a=>window.alert(`Cannot upload file: ${a}`))},o.readAsArrayBuffer(n)}renderDeleteDialog(){return this.state.deleteFile?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Are you sure?"),text:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_File will be deleted"),ok:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Delete"),cancel:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),onClose:e=>{const n=this.state.deleteFile;this.setState({deleteFile:""},()=>{e&&this.props.oContext.socket.deleteFile(this.objectID,n).then(()=>this.updateFiles()).catch(o=>window.alert(`Cannot delete file: ${o}`))})}}):null}static base64ToArrayBuffer(e){const n=window.atob(e),o=n.length,s=new Uint8Array(o);for(let a=0;a<o;a++)s[a]=n.charCodeAt(a);return s.buffer}loadFile(){return this.props.oContext.socket.readFile(this.objectID,this.state.value,!0)}play(){this.loadFile().then(e=>{if(typeof AudioContext<"u"){const n=new AudioContext,o=ConfigFileSelector.base64ToArrayBuffer(e.file);n.decodeAudioData(o,s=>{const a=n.createBufferSource();a.buffer=s,a.connect(n.destination),a.start(0)},s=>window.alert(`Cannot play: ${s.message}`))}})}getFileIcon(e){return e!=null&&e.extension?IMAGE_EXT$1.includes(e.extension)?React$2.createElement("div",{style:{...styles$r.selectedImage,backgroundImage:`url(${this.imagePrefix}/${this.objectID}/${e.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):AUDIO_EXT$1.includes(e.extension)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.MusicNote,null):DOC_EXT$1.includes(e.extension)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Article,null):VIDEO_EXT$1.includes(e.extension)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Videocam,null):JS_EXT$1.includes(e.extension)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Code,null):null:null}renderItem(e,n){if(!this.state.files)return null;const o=[];this.props.schema.withFolder||this.state.files.forEach(p=>{const u=p.name.lastIndexOf("/");if(u===-1)o.includes("/")||o.push("/");else{const m=p.name.substring(0,u+1);o.includes(m)||o.push(m)}});const s=this.state.files.map(p=>({value:p.name,label:!this.props.schema.withFolder&&o.length===1?`${p.name.substring(o[0].length)}`:`${p.name}${this.props.schema.noSize?"":`(${p.size})`}`,extension:p.name.toLowerCase().split(".").pop()}));this.props.schema.noNone||s.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_none"),value:""});const a=s.find(p=>p.value===this.state.value);let l=0;this.props.schema.upload&&l++,this.props.schema.refresh&&l++;const d=this.state.value&&(this.state.value.endsWith(".mp3")||this.state.value.endsWith(".ogg")||this.state.value.endsWith(".wav"));d&&l++;const h=React$2.createElement("div",{style:styles$r.fullWidth},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",style:{width:`calc(100% - ${l*42}px)`}},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:!!n,value:this.state.value||"_",renderValue:()=>React$2.createElement(React$2.Fragment,null,this.getFileIcon(a),React$2.createElement("span",null,(a==null?void 0:a.label)||"")),onChange:p=>{this.setState({value:p.target.value==="_"?"":p.target.value},()=>this.onChange(this.props.attr,this.state.value))}},s.map(p=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:p.value,value:p.value},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListItemIcon,null,this.getFileIcon(p)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListItemText,null,p.label),this.props.schema.delete&&a.value?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{style:styles$r.deleteButton,size:"small",onClick:()=>this.setState({deleteFile:a.value})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,null)):null))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null),this.props.schema.refresh&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{onClick:()=>this.updateFiles()},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Refresh,null)),this.props.schema.upload&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{onClick:()=>{var p;return(p=this.dropzoneRef.current)==null?void 0:p.open()}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.UploadFile,null)),d&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.PlayArrow,null)));if(!this.props.schema.upload)return React$2.createElement(React$2.Fragment,null,h,this.renderDeleteDialog());let _={"*/*":[]};if(this.props.schema.fileTypes==="image"?_={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:this.props.schema.fileTypes==="audio"?_={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:this.props.schema.fileTypes==="text"&&(_={"text/plain":[".txt"]}),this.props.schema.pattern){const p=this.props.schema.pattern.split("/").pop().toLowerCase().replace(/.*\./,"");p==="png"||p==="jpg"||p==="svg"||p==="gif"||p==="apng"||p==="avif"||p==="webp"?_={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:p==="mp3"||p==="ogg"||p==="wav"?_={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:p==="ics"?_={"text/calendar":[".ics"]}:p==="txt"?_={"text/plain":[".txt"]}:p==="pem"?_={"text/plain":[".pem"]}:_={"*/*":[`.${p}`]}}return React$2.createElement(Dropzone,{ref:this.dropzoneRef,multiple:!1,accept:_,noKeyboard:!0,noClick:!0,maxSize:this.props.schema.maxSize||2*1024*1024,onDragEnter:()=>{this.setState({uploadFile:"dragging"})},onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(p,u)=>{var m,g,y;this.setState({uploadFile:!1}),p.length?this.onDrop(p):window.alert(((y=(g=(m=u==null?void 0:u[0])==null?void 0:m.errors)==null?void 0:g[0])==null?void 0:y.message)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("Cannot upload"))}},({getRootProps:p,getInputProps:u})=>React$2.createElement("div",{style:{...styles$r.uploadDiv,...this.state.uploadFile==="dragging"?styles$r.uploadDivDragging:void 0,...n?styles$r.disabledOpacity:void 0},...p()},React$2.createElement("input",{...u()}),this.state.uploadFile==="dragging"?React$2.createElement("div",{style:{...styles$r.uploadCenterDiv,...this.state.uploadError?styles$r.error:void 0}},React$2.createElement("div",{style:styles$r.uploadCenterTextAndIcon},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.UploadFile,{style:styles$r.uploadCenterIcon}),React$2.createElement("div",{style:styles$r.uploadCenterText},this.state.uploadFile==="dragging"?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Drop file here"):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Place your files here or click here to open the browse dialog")))):null,h,this.renderDeleteDialog()))}}const styles$q={fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 69px)",marginRight:4},fullWidthIcon:{width:"calc(100% - 119px)",marginRight:4},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}},IMAGE_EXT=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],AUDIO_EXT=["mp3","ogg","wav","aac"],VIDEO_EXT=["avi","mp4","mov"],DOC_EXT=["txt","log","html","htm"],JS_EXT=["json","js","ts"];class ConfigFile extends ConfigGeneric{imagePrefix="../..";componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.imagePrefix=this.props.oContext.imagePrefix===void 0?"./files":this.props.oContext.imagePrefix,this.setState({value:e??""})}static getDerivedStateFromProps(e,n){const o=ConfigGeneric.getValue(e.data,e.attr);return o==null||o.toString().trim()!==(n.value||"").toString().trim()?{value:o??""}:null}loadFile(){const e=this.state.value.indexOf("/");if(e!==-1){const n=this.state.value.substring(0,e),o=this.state.value.substring(e+1);return this.props.oContext.socket.readFile(n,o,!0)}return Promise.resolve(null)}play(){this.loadFile().then(e=>{if(typeof AudioContext<"u"&&(e!=null&&e.file)){const n=new AudioContext,o=ConfigFileSelector.base64ToArrayBuffer(e.file);n.decodeAudioData(o,s=>{const a=n.createBufferSource();a.buffer=s,a.connect(n.destination),a.start(0)},s=>window.alert(`Cannot play: ${s.message}`))}})}getIcon(){const e=this.state.value.split(".").pop().toLowerCase();return IMAGE_EXT.includes(e)?React$2.createElement("div",{style:{...styles$q.selectedImage,backgroundImage:`url(${this.imagePrefix}/${this.state.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):AUDIO_EXT.includes(e)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.PlayArrow,null)):DOC_EXT.includes(e)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Article,null):VIDEO_EXT.includes(e)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Videocam,null):JS_EXT.includes(e)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Code,null):null}renderFileBrowser(){return this.state.showFileBrowser?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogSelectFile,{imagePrefix:this.props.oContext.imagePrefix,socket:this.props.oContext.socket,selected:this.state.value,onClose:()=>this.setState({showFileBrowser:!1}),onOk:e=>{const n=Array.isArray(e)?e[0]:e;this.setState({value:n},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?n:(n||"").trim()))},selectOnlyFolders:this.props.schema.selectOnlyFolders,allowUpload:this.props.schema.allowUpload,allowDownload:this.props.schema.allowDownload,allowCreateFolder:this.props.schema.allowCreateFolder,allowView:this.props.schema.allowView,showToolbar:this.props.schema.showToolbar,limitPath:this.props.schema.limitPath,theme:this.props.oContext.theme}):null}renderItem(e,n){const o=this.getIcon();return React$2.createElement("div",{style:styles$q.fullWidth},o,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",style:o?styles$q.fullWidthIcon:styles$q.fullWidthOneButton,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!n,slotProps:{htmlInput:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:!!this.props.schema.disableEdit}},onChange:s=>{const a=s.target.value;this.setState({value:a},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?a:(a||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{disabled:n,variant:"outlined",onClick:()=>this.setState({showFileBrowser:!0})},"..."),this.renderFileBrowser())}}class ConfigFunc extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.props.oContext.socket.getEnums("functions").then(n=>{const o=Object.keys(n).map(s=>({value:this.props.schema.short?s.replace("enum.functions.",""):s,label:this.getText(n[s].common.name),obj:n[s]}));this.props.schema.allowDeactivate!==!1&&o.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),this.setState({value:e,selectOptions:o})})}renderItem(e,n){if(!this.state.selectOptions)return null;const o=this.state.selectOptions.find(s=>s.value===this.state.value);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",fullWidth:!0},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:!!n,value:this.state.value||"_",renderValue:()=>o?o.obj?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.TextWithIcon,{value:o.obj,themeType:this.props.oContext.themeType,lang:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()}):o.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:s.value,value:s.value,style:s.value===ConfigGeneric.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.TextWithIcon,{value:s.obj,themeType:this.props.oContext.themeType,lang:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()}):s.label))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigIP extends ConfigGeneric{componentDidMount(){super.componentDidMount(),this.props.oContext.socket.getHostByIp(this.props.common.host).then(e=>{this.props.schema.listenOnAllPorts||(e=e.filter(n=>n.address!=="0.0.0.0"&&n.address!=="::")),this.props.schema.onlyIp4?e=e.filter(n=>n.family==="ipv4"):this.props.schema.onlyIp6&&(e=e.filter(n=>n.family==="ipv6")),this.props.schema.noInternal&&(e=e.filter(n=>!n.internal)),e.forEach(n=>{n.address==="0.0.0.0"?n.name=`[IPv4] 0.0.0.0 - ${AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Listen on all IPs")}`:n.address==="::"&&(n.name=`[IPv6] :: - ${AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Listen on all IPs")}`)}),this.setState({ips:e})}).catch(e=>console.error(e))}renderItem(e,n){var a,l;const o=ConfigGeneric.getValue(this.props.data,this.props.attr),s=(a=this.state.ips)==null?void 0:a.find(d=>d.address===o);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},this.state.ips&&this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.ips?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:!!n,value:o,renderValue:d=>(s==null?void 0:s.name)||d,onChange:d=>this.onChange(this.props.attr,d.target.value)},(l=this.state.ips)==null?void 0:l.map((d,h)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:h,value:d.address},d.name))):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{fullWidth:!0,variant:"standard",error:!!e,disabled:!!n,value:o,onChange:d=>this.onChange(this.props.attr,d.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigImageSendTo extends ConfigGeneric{initialized=!1;localContext;componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData,null,!0);if(n)try{e=JSON.parse(n)}catch{console.error(`Cannot parse json data: ${JSON.stringify(e)}`)}}e===void 0&&(e=null),this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.schema.command||"send",e).then(n=>this.setState({image:n||""}))}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(n=>e[n]=ConfigGeneric.getValue(this.props.data,n)),JSON.stringify(e)}renderItem(){if(this.props.alive){const e=this.getContext();(e!==this.localContext||!this.initialized)&&(this.localContext=e,setTimeout(()=>this.askInstance(),this.initialized?300:50),this.initialized=!0)}return this.state.image===void 0?null:React$2.createElement("img",{alt:"dynamic content",src:this.state.image,style:{width:this.props.schema.width||"100%",height:this.props.schema.height}})}}class ConfigImageUpload extends ConfigGeneric{index;constructor(e){super(e),this.index=Date.now()}componentDidMount(){if(super.componentDidMount(),this.props.schema.base64){const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({value:e})}else this.props.oContext.socket.fileExists(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.attr).then(e=>e&&this.loadImage())}_getUrl(e){e&&(this.index=Date.now());let n=`files/${this.props.oContext.adapterName}.${this.props.oContext.instance}/${this.props.attr}?t=${this.index}`;return window.location.port==="3000"&&(n=`${window.location.protocol}//${window.location.hostname}:8081/${n}`),n}loadImage(){fetch(this._getUrl()).then(e=>e.blob()).then(e=>{const n=new FileReader;n.onload=()=>{this.setState({value:n.result})},n.readAsDataURL(e)}).catch(e=>console.error(e))}renderItem(e,n){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.UploadImage,{error:!!e,disabled:n,accept:this.props.schema.accept,crop:this.props.schema.crop,maxSize:this.props.schema.maxSize||256*1024,icon:this.state.value||void 0,removeIconFunc:()=>this.setState({value:null},()=>{if(this.props.schema.base64){const o=this.onChange(this.props.attr,this.state.value);o instanceof Promise&&o.catch(s=>console.error(`Cannot set value: ${s}`))}else this.props.oContext.socket.deleteFile(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.attr).catch(o=>console.error(o))}),onChange:o=>this.setState({value:o},()=>{if(this.props.schema.base64){const s=this.onChange(this.props.attr,this.state.value);s instanceof Promise&&s.catch(a=>console.error(`Cannot set value: ${a}`))}else o.startsWith("data")&&(o=o.split(",")[1]);this.props.oContext.socket.writeFile64(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.attr,o).catch(s=>console.error(s))})}),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigInfoBox extends ConfigGeneric{renderItem(){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.InfoBox,{type:this.props.schema.boxType||"info",closeable:this.props.schema.closeable!==void 0?this.props.schema.closeable:!0,storeId:this.props.schema.closed!==void 0?void 0:`${!!this.props.oContext.adapterName} ${this.props.attr}`,closed:this.props.schema.closed,style:{width:"100%",...this.props.schema.style}},this.props.schema.title?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"div",sx:{fontWeight:"bold",fontSize:"larger"}},this.getText(this.props.schema.title)):null,this.getText(this.props.schema.text))}}const styles$p={icon:{width:20,height:20,marginRight:4}};class ConfigInstanceSelect extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);let n=this.props.schema.adapter;n==="_dataSources"&&(n=void 0),this.props.oContext.socket.getAdapterInstances(n,!0).then(async o=>{this.props.schema.adapter==="_dataSources"?o=o.filter(a=>{var l;return(l=a==null?void 0:a.common)==null?void 0:l.getHistory}):this.props.schema.adapter?o=o.filter(a=>a==null?void 0:a._id.startsWith(`system.adapter.${this.props.schema.adapter}.`)):this.props.schema.adapters&&Array.isArray(this.props.schema.adapters)&&(o=o.filter(a=>{var l;return this.props.schema.adapters.includes((l=a==null?void 0:a.common)==null?void 0:l.name)})),this.props.schema.onlyEnabled&&(o=o.filter(a=>{var l;return(l=a==null?void 0:a.common)==null?void 0:l.enabled}));const s=o.map(a=>({value:this.props.schema.long?a._id:this.props.schema.short?a._id.split(".").pop():a._id.replace(/^system\.adapter\./,""),label:`${a.common.name} [${a._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${a.common.name}/${a.common.icon}`}));s.sort((a,l)=>a.value>l.value?1:a.value<l.value?-1:0),this.props.schema.allowDeactivate!==!1&&s.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),this.props.schema.all&&s.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("sch_all"),value:"*"}),this.setState({value:e||"",selectOptions:s}),await this.props.oContext.socket.subscribeObject(`system.adapter.${n?`${n}.`:""}*`,this.onInstancesUpdate)}).catch(o=>console.error(`Cannot get instances: ${o}`))}componentWillUnmount(){this.props.oContext.socket.unsubscribeObject("system.adapter.*",this.onInstancesUpdate).then(()=>{}),super.componentWillUnmount()}onInstancesUpdate=(e,n)=>{if(!e.match(/^system\.adapter\.[-_a-z\d]+\.\d+$/))return;const o=this.props.schema.long?e:this.props.schema.short?e.split(".").pop():e.replace(/^system\.adapter\./,""),s=this.state.selectOptions.findIndex(a=>a.value===o);if(n){if(this.props.schema.adapter==="_dataSources"&&(!n.common||!n.common.getHistory))return;if(s===-1){const a=JSON.parse(JSON.stringify(this.state.selectOptions)),l=typeof n.common.name=="object"?n.common.name[AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()]||n.common.name.en:n.common.name;a.push({value:this.props.schema.long?n._id:this.props.schema.short?n._id.split(".").pop():n._id.replace(/^system\.adapter\./,""),label:`${l} [${n._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${l}/${n.common.icon}`}),a.sort((d,h)=>d.label>h.label?1:d.label<h.label?-1:0),this.setState({selectOptions:a})}}else if(s!==-1){const a=JSON.parse(JSON.stringify(this.state.selectOptions)),l={};this.state.value===a[s].value&&(l.value=ConfigGeneric.NONE_VALUE),a.splice(s,1),l.selectOptions=a,this.setState(l)}};renderItem(e,n){var s;if(!this.state.selectOptions)return null;const o=(s=this.state.selectOptions)==null?void 0:s.find(a=>a.value===this.state.value);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,key:this.props.attr,variant:"standard"},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:this.state.value,renderValue:()=>React$2.createElement("span",{style:{display:"flex"}},o!=null&&o.icon?React$2.createElement("img",{src:`./${o.icon}`,alt:o.value,style:styles$p.icon}):null,this.getText(o==null?void 0:o.label,!0)),onChange:a=>this.setState({value:a.target.value},()=>this.onChange(this.props.attr,this.state.value))},this.state.selectOptions.map(a=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:a.value,value:a.value,style:a.value===ConfigGeneric.NONE_VALUE?{opacity:.5}:{}},a.icon?React$2.createElement("img",{src:`./${a.icon}`,alt:a.value,style:styles$p.icon}):null,this.getText(a.label,!0)))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$o={address:{fontSize:"smaller",opacity:.5,marginLeft:8}};class ConfigInterface extends ConfigGeneric{componentDidMount(){super.componentDidMount(),this.props.oContext.socket.getObject(`system.host.${this.props.common.host}`).then(e=>{var o,s;const n=[];if((s=(o=e==null?void 0:e.native)==null?void 0:o.hardware)!=null&&s.networkInterfaces){const a=e.native.hardware.networkInterfaces;Object.keys(a).forEach(l=>{if(this.props.schema.ignoreInternal&&!a[l].find(h=>!h.internal)||this.props.schema.ignoreLoopback&&a[l].find(h=>h.address==="127.0.0.1"||h.address==="::1"))return;let d=a[l].find(h=>h.family==="IPv4");d=d||a[l].find(h=>h.family==="IPv6"),n.push({value:l,address:d.address})})}this.setState({interfaces:n})}).catch(e=>window.alert(`Cannot read interfaces: ${e}`))}renderItem(e,n){var a,l,d;const o=ConfigGeneric.getValue(this.props.data,this.props.attr),s=(a=this.state.interfaces)==null?void 0:a.find(h=>h.value===o);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},(l=this.state.interfaces)!=null&&l.length&&this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,(d=this.state.interfaces)!=null&&d.length?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:!!n,value:o,renderValue:h=>s?React$2.createElement("span",null,s.value,React$2.createElement("span",{style:styles$o.address},s.address)):h,onChange:h=>this.onChange(this.props.attr,h.target.value)},this.state.interfaces.map((h,_)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:_,value:h.value},React$2.createElement("span",null,h.value,React$2.createElement("span",{style:styles$o.address},h.address))))):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{fullWidth:!0,variant:"standard",error:!!e,disabled:!!n,value:o,onChange:h=>this.onChange(this.props.attr,h.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$n={modalDialog:{minWidth:400,maxWidth:800},overflowHidden:{display:"flex",overflow:"hidden"},titleIcon:{marginRight:5},content:{fontSize:16},languageButton:{position:"absolute",right:8,top:8},languageButtonActive:{color:"primary.main"}},CustomModal=({toggleTranslation:t,noTranslation:e,title:n,fullWidth:o,help:s,maxWidth:a,progress:l,icon:d,applyDisabled:h,applyButton:_,onClose:p,children:u,titleButtonApply:m,titleButtonClose:g,onApply:y,textInput:v,defaultValue:S,overflowHidden:b})=>{const[C,w]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState(S);AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{w(S)},[S]);const A=AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.useTheme(),$=AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.useMediaQuery(A.breakpoints.down("md"));let E=null;return d&&(E=d),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{open:!0,maxWidth:$?!1:a||"md",fullWidth:!!o,fullScreen:$,disableEscapeKeyDown:!1,onClose:p,sx:{"& .MuiPaper-root":$?{}:styles$n.modalDialog}},n&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogTitle,null,d?React$2.createElement(E,{style:styles$n.titleIcon}):null,n,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()!=="en"&&t?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"large",style:{...styles$n.languageButton,...e?styles$n.languageButtonActive:{}},onClick:()=>t(),title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("Disable/Enable translation")},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Language,null)):null),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContent,{sx:{...b?styles$n.overflowHidden:{},...styles$n.content},style:{paddingTop:8}},v&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{autoComplete:"off",fullWidth:!0,autoFocus:!0,variant:"outlined",size:"medium",multiline:!0,value:C,onChange:D=>w(D.target.value)}),u,s?React$2.createElement("div",null,s):null),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogActions,null,_!==!1&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Check,null),disabled:l||h&&S===C,onClick:()=>y&&y(v?C:""),variant:"contained",color:"primary"},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(m||"Ok")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{color:"grey",onClick:()=>p&&p(),disabled:l,variant:"contained",startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(g||"Cancel"))))};var ace$1={exports:{}};(function(t,e){(function(){var n="ace",o=(function(){return this})();!o&&typeof window<"u"&&(o=window);var s=function(p,u,m){if(typeof p!="string"){s.original?s.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(m=u),s.modules[p]||(s.payloads[p]=m,s.modules[p]=null)};s.modules={},s.payloads={};var a=function(p,u,m){if(typeof u=="string"){var g=h(p,u);if(g!=null)return m&&m(),g}else if(Object.prototype.toString.call(u)==="[object Array]"){for(var y=[],v=0,S=u.length;v<S;++v){var b=h(p,u[v]);if(b==null&&l.original)return;y.push(b)}return m&&m.apply(null,y)||!0}},l=function(p,u){var m=a("",p,u);return m==null&&l.original?l.original.apply(this,arguments):m},d=function(p,u){if(u.indexOf("!")!==-1){var m=u.split("!");return d(p,m[0])+"!"+d(p,m[1])}if(u.charAt(0)=="."){var g=p.split("/").slice(0,-1).join("/");for(u=g+"/"+u;u.indexOf(".")!==-1&&y!=u;){var y=u;u=u.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return u},h=function(p,u){u=d(p,u);var m=s.modules[u];if(!m){if(m=s.payloads[u],typeof m=="function"){var g={},y={id:u,uri:"",exports:g,packaged:!0},v=function(b,C){return a(u,b,C)},S=m(v,g,y);g=S||y.exports,s.modules[u]=g,delete s.payloads[u]}m=s.modules[u]=g||m}return m};function _(p){var u=o;o[p]||(o[p]={}),u=o[p],(!u.define||!u.define.packaged)&&(s.original=u.define,u.define=s,u.define.packaged=!0),(!u.require||!u.require.packaged)&&(l.original=u.require,u.require=l,u.require.packaged=!0)}_(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,o,s){function a(l,d,h){Object.defineProperty(l,d,{value:h,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||a(String.prototype,"startsWith",function(l,d){return d=d||0,this.lastIndexOf(l,d)===d}),String.prototype.endsWith||a(String.prototype,"endsWith",function(l,d){var h=this;(d===void 0||d>h.length)&&(d=h.length),d-=l.length;var _=h.indexOf(l,d);return _!==-1&&_===d}),String.prototype.repeat||a(String.prototype,"repeat",function(l){for(var d="",h=this;l>0;)l&1&&(d+=h),(l>>=1)&&(h+=h);return d}),String.prototype.includes||a(String.prototype,"includes",function(l,d){return this.indexOf(l,d)!=-1}),Object.assign||(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(l),h=1;h<arguments.length;h++){var _=arguments[h];_!=null&&Object.keys(_).forEach(function(p){d[p]=_[p]})}return d}),Object.values||(Object.values=function(l){return Object.keys(l).map(function(d){return l[d]})}),Array.prototype.find||a(Array.prototype,"find",function(l){for(var d=this.length,h=arguments[1],_=0;_<d;_++){var p=this[_];if(l.call(h,p,_,this))return p}}),Array.prototype.findIndex||a(Array.prototype,"findIndex",function(l){for(var d=this.length,h=arguments[1],_=0;_<d;_++){var p=this[_];if(l.call(h,p,_,this))return _}}),Array.prototype.includes||a(Array.prototype,"includes",function(l,d){return this.indexOf(l,d)!=-1}),Array.prototype.fill||a(Array.prototype,"fill",function(l){for(var d=this,h=d.length>>>0,_=arguments[1],p=_>>0,u=p<0?Math.max(h+p,0):Math.min(p,h),m=arguments[2],g=m===void 0?h:m>>0,y=g<0?Math.max(h+g,0):Math.min(g,h);u<y;)d[u]=l,u++;return d}),Array.of||a(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,o,s){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,o,s){o.deepCopy=function a(l){if(typeof l!="object"||!l)return l;var d;if(Array.isArray(l)){d=[];for(var h=0;h<l.length;h++)d[h]=a(l[h]);return d}if(Object.prototype.toString.call(l)!=="[object Object]")return l;d={};for(var h in l)d[h]=a(l[h]);return d}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,o,s){o.last=function(d){return d[d.length-1]},o.stringReverse=function(d){return d.split("").reverse().join("")},o.stringRepeat=function(d,h){for(var _="";h>0;)h&1&&(_+=d),(h>>=1)&&(d+=d);return _};var a=/^\s\s*/,l=/\s\s*$/;o.stringTrimLeft=function(d){return d.replace(a,"")},o.stringTrimRight=function(d){return d.replace(l,"")},o.copyObject=function(d){var h={};for(var _ in d)h[_]=d[_];return h},o.copyArray=function(d){for(var h=[],_=0,p=d.length;_<p;_++)d[_]&&typeof d[_]=="object"?h[_]=this.copyObject(d[_]):h[_]=d[_];return h},o.deepCopy=n("./deep_copy").deepCopy,o.arrayToMap=function(d){for(var h={},_=0;_<d.length;_++)h[d[_]]=1;return h},o.createMap=function(d){var h=Object.create(null);for(var _ in d)h[_]=d[_];return h},o.arrayRemove=function(d,h){for(var _=0;_<=d.length;_++)h===d[_]&&d.splice(_,1)},o.escapeRegExp=function(d){return d.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},o.escapeHTML=function(d){return(""+d).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},o.getMatchOffsets=function(d,h){var _=[];return d.replace(h,function(p){_.push({offset:arguments[arguments.length-2],length:p.length})}),_},o.deferredCall=function(d){var h=null,_=function(){h=null,d()},p=function(u){return p.cancel(),h=setTimeout(_,u||0),p};return p.schedule=p,p.call=function(){return this.cancel(),d(),p},p.cancel=function(){return clearTimeout(h),h=null,p},p.isPending=function(){return h},p},o.delayedCall=function(d,h){var _=null,p=function(){_=null,d()},u=function(m){_==null&&(_=setTimeout(p,m||h))};return u.delay=function(m){_&&clearTimeout(_),_=setTimeout(p,m||h)},u.schedule=u,u.call=function(){this.cancel(),d()},u.cancel=function(){_&&clearTimeout(_),_=null},u.isPending=function(){return _},u},o.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},o.skipEmptyMatch=function(d,h,_){return _&&d.codePointAt(h)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,o,s){o.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},o.getOS=function(){return o.isMac?o.OS.MAC:o.isLinux?o.OS.LINUX:o.OS.WINDOWS};var a=typeof navigator=="object"?navigator:{},l=(/mac|win|linux/i.exec(a.platform)||["other"])[0].toLowerCase(),d=a.userAgent||"",h=a.appName||"";o.isWin=l=="win",o.isMac=l=="mac",o.isLinux=l=="linux",o.isIE=h=="Microsoft Internet Explorer"||h.indexOf("MSAppHost")>=0?parseFloat((d.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((d.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),o.isOldIE=o.isIE&&o.isIE<9,o.isGecko=o.isMozilla=d.match(/ Gecko\/\d+/),o.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",o.isWebKit=parseFloat(d.split("WebKit/")[1])||void 0,o.isChrome=parseFloat(d.split(" Chrome/")[1])||void 0,o.isSafari=parseFloat(d.split(" Safari/")[1])&&!o.isChrome||void 0,o.isEdge=parseFloat(d.split(" Edge/")[1])||void 0,o.isAIR=d.indexOf("AdobeAIR")>=0,o.isAndroid=d.indexOf("Android")>=0,o.isChromeOS=d.indexOf(" CrOS ")>=0,o.isIOS=/iPad|iPhone|iPod/.test(d)&&!window.MSStream,o.isIOS&&(o.isMac=!0),o.isMobile=o.isIOS||o.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,o,s){var a=n("./useragent"),l="http://www.w3.org/1999/xhtml";o.buildDom=function m(g,y,v){if(typeof g=="string"&&g){var S=document.createTextNode(g);return y&&y.appendChild(S),S}if(!Array.isArray(g))return g&&g.appendChild&&y&&y.appendChild(g),g;if(typeof g[0]!="string"||!g[0]){for(var b=[],C=0;C<g.length;C++){var w=m(g[C],y,v);w&&b.push(w)}return b}var A=document.createElement(g[0]),$=g[1],E=1;$&&typeof $=="object"&&!Array.isArray($)&&(E=2);for(var C=E;C<g.length;C++)m(g[C],A,v);return E==2&&Object.keys($).forEach(function(D){var I=$[D];D==="class"?A.className=Array.isArray(I)?I.join(" "):I:typeof I=="function"||D=="value"||D[0]=="$"?A[D]=I:D==="ref"?v&&(v[I]=A):D==="style"?typeof I=="string"&&(A.style.cssText=I):I!=null&&A.setAttribute(D,I)}),y&&y.appendChild(A),A},o.getDocumentHead=function(m){return m||(m=document),m.head||m.getElementsByTagName("head")[0]||m.documentElement},o.createElement=function(m,g){return document.createElementNS?document.createElementNS(g||l,m):document.createElement(m)},o.removeChildren=function(m){m.innerHTML=""},o.createTextNode=function(m,g){var y=g?g.ownerDocument:document;return y.createTextNode(m)},o.createFragment=function(m){var g=m?m.ownerDocument:document;return g.createDocumentFragment()},o.hasCssClass=function(m,g){var y=(m.className+"").split(/\s+/g);return y.indexOf(g)!==-1},o.addCssClass=function(m,g){o.hasCssClass(m,g)||(m.className+=" "+g)},o.removeCssClass=function(m,g){for(var y=m.className.split(/\s+/g);;){var v=y.indexOf(g);if(v==-1)break;y.splice(v,1)}m.className=y.join(" ")},o.toggleCssClass=function(m,g){for(var y=m.className.split(/\s+/g),v=!0;;){var S=y.indexOf(g);if(S==-1)break;v=!1,y.splice(S,1)}return v&&y.push(g),m.className=y.join(" "),v},o.setCssClass=function(m,g,y){y?o.addCssClass(m,g):o.removeCssClass(m,g)},o.hasCssString=function(m,g){var y=0,v;if(g=g||document,v=g.querySelectorAll("style")){for(;y<v.length;)if(v[y++].id===m)return!0}},o.removeElementById=function(m,g){g=g||document,g.getElementById(m)&&g.getElementById(m).remove()};var d,h=[];o.useStrictCSP=function(m){d=m,m==!1?_():h||(h=[])};function _(){var m=h;h=null,m&&m.forEach(function(g){p(g[0],g[1])})}function p(m,g,y){if(!(typeof document>"u")){if(h){if(y)_();else if(y===!1)return h.push([m,g])}if(!d){var v=y;!y||!y.getRootNode?v=document:(v=y.getRootNode(),(!v||v==y)&&(v=document));var S=v.ownerDocument||v;if(g&&o.hasCssString(g,v))return null;g&&(m+=`
/*# sourceURL=ace/css/`+g+" */");var b=o.createElement("style");b.appendChild(S.createTextNode(m)),g&&(b.id=g),v==S&&(v=o.getDocumentHead(S)),v.insertBefore(b,v.firstChild)}}}if(o.importCssString=p,o.importCssStylsheet=function(m,g){o.buildDom(["link",{rel:"stylesheet",href:m}],o.getDocumentHead(g))},o.scrollbarWidth=function(m){var g=o.createElement("ace_inner");g.style.width="100%",g.style.minWidth="0px",g.style.height="200px",g.style.display="block";var y=o.createElement("ace_outer"),v=y.style;v.position="absolute",v.left="-10000px",v.overflow="hidden",v.width="200px",v.minWidth="0px",v.height="150px",v.display="block",y.appendChild(g);var S=m&&m.documentElement||document&&document.documentElement;if(!S)return 0;S.appendChild(y);var b=g.offsetWidth;v.overflow="scroll";var C=g.offsetWidth;return b===C&&(C=y.clientWidth),S.removeChild(y),b-C},o.computedStyle=function(m,g){return window.getComputedStyle(m,"")||{}},o.setStyle=function(m,g,y){m[g]!==y&&(m[g]=y)},o.HAS_CSS_ANIMATION=!1,o.HAS_CSS_TRANSFORMS=!1,o.HI_DPI=a.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,a.isChromeOS&&(o.HI_DPI=!1),typeof document<"u"){var u=document.createElement("div");o.HI_DPI&&u.style.transform!==void 0&&(o.HAS_CSS_TRANSFORMS=!0),!a.isEdge&&typeof u.style.animationName<"u"&&(o.HAS_CSS_ANIMATION=!0),u=null}o.HAS_CSS_TRANSFORMS?o.translate=function(m,g,y){m.style.transform="translate("+Math.round(g)+"px, "+Math.round(y)+"px)"}:o.translate=function(m,g,y){m.style.top=Math.round(y)+"px",m.style.left=Math.round(g)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,o,s){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var a=n("./dom");o.get=function(l,d){var h=new XMLHttpRequest;h.open("GET",l,!0),h.onreadystatechange=function(){h.readyState===4&&d(h.responseText)},h.send(null)},o.loadScript=function(l,d){var h=a.getDocumentHead(),_=document.createElement("script");_.src=l,h.appendChild(_),_.onload=_.onreadystatechange=function(p,u){(u||!_.readyState||_.readyState=="loaded"||_.readyState=="complete")&&(_=_.onload=_.onreadystatechange=null,u||d())}},o.qualifyURL=function(l){var d=document.createElement("a");return d.href=l,d.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,o,s){o.inherits=function(a,l){a.super_=l,a.prototype=Object.create(l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},o.mixin=function(a,l){for(var d in l)a[d]=l[d];return a},o.implement=function(a,l){o.mixin(a,l)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,o,s){var a={},l=function(){this.propagationStopped=!0},d=function(){this.defaultPrevented=!0};a._emit=a._dispatchEvent=function(h,_){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var p=this._eventRegistry[h]||[],u=this._defaultHandlers[h];if(!(!p.length&&!u)){(typeof _!="object"||!_)&&(_={}),_.type||(_.type=h),_.stopPropagation||(_.stopPropagation=l),_.preventDefault||(_.preventDefault=d),p=p.slice();for(var m=0;m<p.length&&(p[m](_,this),!_.propagationStopped);m++);if(u&&!_.defaultPrevented)return u(_,this)}},a._signal=function(h,_){var p=(this._eventRegistry||{})[h];if(p){p=p.slice();for(var u=0;u<p.length;u++)p[u](_,this)}},a.once=function(h,_){var p=this;if(this.on(h,function u(){p.off(h,u),_.apply(null,arguments)}),!_)return new Promise(function(u){_=u})},a.setDefaultHandler=function(h,_){var p=this._defaultHandlers;if(p||(p=this._defaultHandlers={_disabled_:{}}),p[h]){var u=p[h],m=p._disabled_[h];m||(p._disabled_[h]=m=[]),m.push(u);var g=m.indexOf(_);g!=-1&&m.splice(g,1)}p[h]=_},a.removeDefaultHandler=function(h,_){var p=this._defaultHandlers;if(p){var u=p._disabled_[h];if(p[h]==_)u&&this.setDefaultHandler(h,u.pop());else if(u){var m=u.indexOf(_);m!=-1&&u.splice(m,1)}}},a.on=a.addEventListener=function(h,_,p){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[h];return u||(u=this._eventRegistry[h]=[]),u.indexOf(_)==-1&&u[p?"unshift":"push"](_),_},a.off=a.removeListener=a.removeEventListener=function(h,_){this._eventRegistry=this._eventRegistry||{};var p=this._eventRegistry[h];if(p){var u=p.indexOf(_);u!==-1&&p.splice(u,1)}},a.removeAllListeners=function(h){h||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[h]=void 0),this._defaultHandlers&&(this._defaultHandlers[h]=void 0)},o.EventEmitter=a}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,o,s){o.reportError=function(l,d){var h=new Error(l);h.data=d,typeof console=="object"&&console.error&&console.error(h),setTimeout(function(){throw h})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,o,s){var a={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};o.defaultEnglishMessages=a}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,o,s){"no use strict";var a=n("./oop"),l=n("./event_emitter").EventEmitter,d=n("./report_error").reportError,h=n("./default_english_messages").defaultEnglishMessages,_={setOptions:function(y){Object.keys(y).forEach(function(v){this.setOption(v,y[v])},this)},getOptions:function(y){var v={};if(y)Array.isArray(y)||(y=Object.keys(y));else{var S=this.$options;y=Object.keys(S).filter(function(b){return!S[b].hidden})}return y.forEach(function(b){v[b]=this.getOption(b)},this),v},setOption:function(y,v){if(this["$"+y]!==v){var S=this.$options[y];if(!S)return p('misspelled option "'+y+'"');if(S.forwardTo)return this[S.forwardTo]&&this[S.forwardTo].setOption(y,v);S.handlesSet||(this["$"+y]=v),S&&S.set&&S.set.call(this,v)}},getOption:function(y){var v=this.$options[y];return v?v.forwardTo?this[v.forwardTo]&&this[v.forwardTo].getOption(y):v&&v.get?v.get.call(this):this["$"+y]:p('misspelled option "'+y+'"')}};function p(y){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var u,m,g=(function(){function y(){this.$defaultOptions={},u=h,m="dollarSigns"}return y.prototype.defineOptions=function(v,S,b){return v.$options||(this.$defaultOptions[S]=v.$options={}),Object.keys(b).forEach(function(C){var w=b[C];typeof w=="string"&&(w={forwardTo:w}),w.name||(w.name=C),v.$options[w.name]=w,"initialValue"in w&&(v["$"+w.name]=w.initialValue)}),a.implement(v,_),this},y.prototype.resetOptions=function(v){Object.keys(v.$options).forEach(function(S){var b=v.$options[S];"value"in b&&v.setOption(S,b.value)})},y.prototype.setDefaultValue=function(v,S,b){if(!v){for(v in this.$defaultOptions)if(this.$defaultOptions[v][S])break;if(!this.$defaultOptions[v][S])return!1}var C=this.$defaultOptions[v]||(this.$defaultOptions[v]={});C[S]&&(C.forwardTo?this.setDefaultValue(C.forwardTo,S,b):C[S].value=b)},y.prototype.setDefaultValues=function(v,S){Object.keys(S).forEach(function(b){this.setDefaultValue(v,b,S[b])},this)},y.prototype.setMessages=function(v,S){u=v,S&&S.placeholders&&(m=S.placeholders)},y.prototype.nls=function(v,S,b){u[v]||(p("No message found for the key '"+v+"' in messages with id "+u.$id+", trying to find a translation for the default string '"+S+"'."),u[S]||p("No message found for the default string '"+S+"' in the provided messages. Falling back to the default English message."));var C=u[v]||u[S]||S;return b&&(m==="dollarSigns"&&(C=C.replace(/\$(\$|[\d]+)/g,function(w,A){return A=="$"?"$":b[A]})),m==="curlyBrackets"&&(C=C.replace(/\{([^\}]+)\}/g,function(w,A){return b[A]}))),C},y})();g.prototype.warn=p,g.prototype.reportError=d,a.implement(g.prototype,l),o.AppConfig=g}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,o,s){s.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,o,s){o.isDark=!1,o.cssClass="ace-tm",o.cssText=n("./textmate-css"),o.$id="ace/theme/textmate";var a=n("../lib/dom");a.importCssString(o.cssText,o.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,o,s){"no use strict";var a=n("./lib/lang"),l=n("./lib/net"),d=n("./lib/dom"),h=n("./lib/app_config").AppConfig;s.exports=o=new h;var _={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};o.get=function(g){if(!_.hasOwnProperty(g))throw new Error("Unknown config key: "+g);return _[g]},o.set=function(g,y){if(_.hasOwnProperty(g))_[g]=y;else if(this.setDefaultValue("",g,y)==!1)throw new Error("Unknown config key: "+g);g=="useStrictCSP"&&d.useStrictCSP(y)},o.all=function(){return a.copyObject(_)},o.$modes={},o.moduleUrl=function(g,y){if(_.$moduleUrls[g])return _.$moduleUrls[g];var v=g.split("/");y=y||v[v.length-2]||"";var S=y=="snippets"?"/":"-",b=v[v.length-1];if(y=="worker"&&S=="-"){var C=new RegExp("^"+y+"[\\-_]|[\\-_]"+y+"$","g");b=b.replace(C,"")}(!b||b==y)&&v.length>1&&(b=v[v.length-2]);var w=_[y+"Path"];return w==null?w=_.basePath:S=="/"&&(y=S=""),w&&w.slice(-1)!="/"&&(w+="/"),w+y+S+b+this.get("suffix")},o.setModuleUrl=function(g,y){return _.$moduleUrls[g]=y};var p=function(g,y){if(g==="ace/theme/textmate"||g==="./theme/textmate")return y(null,n("./theme/textmate"));if(u)return u(g,y);console.error("loader is not configured")},u;o.setLoader=function(g){u=g},o.dynamicModules=Object.create(null),o.$loading={},o.$loaded={},o.loadModule=function(g,y){var v;if(Array.isArray(g))var S=g[0],b=g[1];else if(typeof g=="string")var b=g;var C=function(w){if(w&&!o.$loading[b])return y&&y(w);if(o.$loading[b]||(o.$loading[b]=[]),o.$loading[b].push(y),!(o.$loading[b].length>1)){var A=function(){p(b,function($,E){E&&(o.$loaded[b]=E),o._emit("load.module",{name:b,module:E});var D=o.$loading[b];o.$loading[b]=null,D.forEach(function(I){I&&I(E)})})};if(!o.get("packaged"))return A();l.loadScript(o.moduleUrl(b,S),A),m()}};if(o.dynamicModules[b])o.dynamicModules[b]().then(function(w){w.default?C(w.default):C(w)});else{try{v=this.$require(b)}catch{}C(v||o.$loaded[b])}},o.$require=function(g){if(typeof s.require=="function"){var y="require";return s[y](g)}},o.setModuleLoader=function(g,y){o.dynamicModules[g]=y};var m=function(){!_.basePath&&!_.workerPath&&!_.modePath&&!_.themePath&&!Object.keys(_.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),m=function(){})};o.version="1.43.3"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,o,s){n("./lib/fixoldbrowsers");var a=n("./config");a.setLoader(function(_,p){n([_],function(u){p(null,u)})});var l=(function(){return this||typeof window<"u"&&window})();s.exports=function(_){a.init=d,a.$require=n,_.require=n},d(!0);function d(_){if(!(!l||!l.document)){a.set("packaged",_||n.packaged||s.packaged||l.define&&(void 0).packaged);var p={},u="",m=document.currentScript||document._currentScript,g=m&&m.ownerDocument||document;m&&m.src&&(u=m.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var y=g.getElementsByTagName("script"),v=0;v<y.length;v++){var S=y[v],b=S.src||S.getAttribute("src");if(b){for(var C=S.attributes,w=0,A=C.length;w<A;w++){var $=C[w];$.name.indexOf("data-ace-")===0&&(p[h($.name.replace(/^data-ace-/,""))]=$.value)}var E=b.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);E&&(u=E[1])}}u&&(p.base=p.base||u,p.packaged=!0),p.basePath=p.base,p.workerPath=p.workerPath||p.base,p.modePath=p.modePath||p.base,p.themePath=p.themePath||p.base,delete p.base;for(var D in p)typeof p[D]<"u"&&a.set(D,p[D])}}function h(_){return _.replace(/-(.)/g,function(p,u){return u.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,o,s){var a=(function(){function l(d,h,_,p){this.start={row:d,column:h},this.end={row:_,column:p}}return l.prototype.isEqual=function(d){return this.start.row===d.start.row&&this.end.row===d.end.row&&this.start.column===d.start.column&&this.end.column===d.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(d,h){return this.compare(d,h)==0},l.prototype.compareRange=function(d){var h,_=d.end,p=d.start;return h=this.compare(_.row,_.column),h==1?(h=this.compare(p.row,p.column),h==1?2:h==0?1:0):h==-1?-2:(h=this.compare(p.row,p.column),h==-1?-1:h==1?42:0)},l.prototype.comparePoint=function(d){return this.compare(d.row,d.column)},l.prototype.containsRange=function(d){return this.comparePoint(d.start)==0&&this.comparePoint(d.end)==0},l.prototype.intersects=function(d){var h=this.compareRange(d);return h==-1||h==0||h==1},l.prototype.isEnd=function(d,h){return this.end.row==d&&this.end.column==h},l.prototype.isStart=function(d,h){return this.start.row==d&&this.start.column==h},l.prototype.setStart=function(d,h){typeof d=="object"?(this.start.column=d.column,this.start.row=d.row):(this.start.row=d,this.start.column=h)},l.prototype.setEnd=function(d,h){typeof d=="object"?(this.end.column=d.column,this.end.row=d.row):(this.end.row=d,this.end.column=h)},l.prototype.inside=function(d,h){return this.compare(d,h)==0?!(this.isEnd(d,h)||this.isStart(d,h)):!1},l.prototype.insideStart=function(d,h){return this.compare(d,h)==0?!this.isEnd(d,h):!1},l.prototype.insideEnd=function(d,h){return this.compare(d,h)==0?!this.isStart(d,h):!1},l.prototype.compare=function(d,h){return!this.isMultiLine()&&d===this.start.row?h<this.start.column?-1:h>this.end.column?1:0:d<this.start.row?-1:d>this.end.row?1:this.start.row===d?h>=this.start.column?0:-1:this.end.row===d?h<=this.end.column?0:1:0},l.prototype.compareStart=function(d,h){return this.start.row==d&&this.start.column==h?-1:this.compare(d,h)},l.prototype.compareEnd=function(d,h){return this.end.row==d&&this.end.column==h?1:this.compare(d,h)},l.prototype.compareInside=function(d,h){return this.end.row==d&&this.end.column==h?1:this.start.row==d&&this.start.column==h?-1:this.compare(d,h)},l.prototype.clipRows=function(d,h){if(this.end.row>h)var _={row:h+1,column:0};else if(this.end.row<d)var _={row:d,column:0};if(this.start.row>h)var p={row:h+1,column:0};else if(this.start.row<d)var p={row:d,column:0};return l.fromPoints(p||this.start,_||this.end)},l.prototype.extend=function(d,h){var _=this.compare(d,h);if(_==0)return this;if(_==-1)var p={row:d,column:h};else var u={row:d,column:h};return l.fromPoints(p||this.start,u||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(d){var h=d.documentToScreenPosition(this.start),_=d.documentToScreenPosition(this.end);return new l(h.row,h.column,_.row,_.column)},l.prototype.moveBy=function(d,h){this.start.row+=d,this.start.column+=h,this.end.row+=d,this.end.column+=h},l})();a.fromPoints=function(l,d){return new a(l.row,l.column,d.row,d.column)},a.comparePoints=function(l,d){return l.row-d.row||l.column-d.column},o.Range=a}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,o,s){for(var a=n("./oop"),l={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},d={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},h=0;h<10;h++)d["Digit"+h]=48+h,d["Numpad"+h]=96+h,l.PRINTABLE_KEYS[48+h]=""+h,l.FUNCTION_KEYS[96+h]="Numpad"+h;for(var h=65;h<91;h++){var _=String.fromCharCode(h+32);d["Key"+_.toUpperCase()]=h,l.PRINTABLE_KEYS[h]=_}for(var h=1;h<13;h++)d["F"+h]=111+h,l.FUNCTION_KEYS[111+h]="F"+h;var p={Shift:16,Control:17,Alt:18,Meta:224};for(var u in p)d[u]=d[u+"Left"]=d[u+"Right"]=p[u];o.$codeToKeyCode=d,l.PRINTABLE_KEYS[173]="-";for(var m in l.FUNCTION_KEYS){var g=l.FUNCTION_KEYS[m].toLowerCase();l[g]=parseInt(m,10)}for(var m in l.PRINTABLE_KEYS){var g=l.PRINTABLE_KEYS[m].toLowerCase();l[g]=parseInt(m,10)}a.mixin(l,l.MODIFIER_KEYS),a.mixin(l,l.PRINTABLE_KEYS),a.mixin(l,l.FUNCTION_KEYS),l.enter=l.return,l.escape=l.esc,l.del=l.delete,(function(){for(var y=["cmd","ctrl","alt","shift"],v=Math.pow(2,y.length);v--;)l.KEY_MODS[v]=y.filter(function(S){return v&l.KEY_MODS[S]}).join("-")+"-"})(),l.KEY_MODS[0]="",l.KEY_MODS[-1]="input-",a.mixin(o,l),o.default=o,o.keyCodeToString=function(y){var v=l[y];return typeof v!="string"&&(v=String.fromCharCode(y)),v.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,o,s){var a=n("./keys"),l=n("./useragent"),d=null,h=0,_;function p(){_=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return _={passive:!1},!0}})}catch{}}function u(){return _==null&&p(),_}function m(w,A,$){this.elem=w,this.type=A,this.callback=$}m.prototype.destroy=function(){y(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var g=o.addListener=function(w,A,$,E){w.addEventListener(A,$,u()),E&&E.$toDestroy.push(new m(w,A,$))},y=o.removeListener=function(w,A,$){w.removeEventListener(A,$,u())};o.stopEvent=function(w){return o.stopPropagation(w),o.preventDefault(w),!1},o.stopPropagation=function(w){w.stopPropagation&&w.stopPropagation()},o.preventDefault=function(w){w.preventDefault&&w.preventDefault()},o.getButton=function(w){return w.type=="dblclick"?0:w.type=="contextmenu"||l.isMac&&w.ctrlKey&&!w.altKey&&!w.shiftKey?2:w.button},o.capture=function(w,A,$){var E=w&&w.ownerDocument||document;function D(I){A&&A(I),$&&$(I),y(E,"mousemove",A),y(E,"mouseup",D),y(E,"dragstart",D)}return g(E,"mousemove",A),g(E,"mouseup",D),g(E,"dragstart",D),D},o.addMouseWheelListener=function(w,A,$){g(w,"wheel",function(E){var D=.15,I=E.deltaX||0,R=E.deltaY||0;switch(E.deltaMode){case E.DOM_DELTA_PIXEL:E.wheelX=I*D,E.wheelY=R*D;break;case E.DOM_DELTA_LINE:var O=15;E.wheelX=I*O,E.wheelY=R*O;break;case E.DOM_DELTA_PAGE:var N=150;E.wheelX=I*N,E.wheelY=R*N;break}A(E)},$)},o.addMultiMouseDownListener=function(w,A,$,E,D){var I=0,R,O,N,M={2:"dblclick",3:"tripleclick",4:"quadclick"};function k(x){if(o.getButton(x)!==0?I=0:x.detail>1?(I++,I>4&&(I=1)):I=1,l.isIE){var T=Math.abs(x.clientX-R)>5||Math.abs(x.clientY-O)>5;(!N||T)&&(I=1),N&&clearTimeout(N),N=setTimeout(function(){N=null},A[I-1]||600),I==1&&(R=x.clientX,O=x.clientY)}if(x._clicks=I,$[E]("mousedown",x),I>4)I=0;else if(I>1)return $[E](M[I],x)}Array.isArray(w)||(w=[w]),w.forEach(function(x){g(x,"mousedown",k,D)})};function v(w){return 0|(w.ctrlKey?1:0)|(w.altKey?2:0)|(w.shiftKey?4:0)|(w.metaKey?8:0)}o.getModifierString=function(w){return a.KEY_MODS[v(w)]};function S(w,A,$){var E=v(A);if(!$&&A.code&&($=a.$codeToKeyCode[A.code]||$),!l.isMac&&d){if(A.getModifierState&&(A.getModifierState("OS")||A.getModifierState("Win"))&&(E|=8),d.altGr)if((3&E)!=3)d.altGr=0;else return;if($===18||$===17){var D=A.location;if($===17&&D===1)d[$]==1&&(h=A.timeStamp);else if($===18&&E===3&&D===2){var I=A.timeStamp-h;I<50&&(d.altGr=!0)}}}if($ in a.MODIFIER_KEYS&&($=-1),!(!E&&$===13&&A.location===3&&(w(A,E,-$),A.defaultPrevented))){if(l.isChromeOS&&E&8){if(w(A,E,$),A.defaultPrevented)return;E&=-9}return!E&&!($ in a.FUNCTION_KEYS)&&!($ in a.PRINTABLE_KEYS)?!1:w(A,E,$)}}o.addCommandKeyListener=function(w,A,$){var E=null;g(w,"keydown",function(D){d[D.keyCode]=(d[D.keyCode]||0)+1;var I=S(A,D,D.keyCode);return E=D.defaultPrevented,I},$),g(w,"keypress",function(D){E&&(D.ctrlKey||D.altKey||D.shiftKey||D.metaKey)&&(o.stopEvent(D),E=null)},$),g(w,"keyup",function(D){d[D.keyCode]=null},$),d||(b(),g(window,"focus",b))};function b(){d=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!l.isOldIE){var C=1;o.nextTick=function(w,A){A=A||window;var $="zero-timeout-message-"+C++,E=function(D){D.data==$&&(o.stopPropagation(D),y(A,"message",E),w())};g(A,"message",E),A.postMessage($,"*")}}o.$idleBlocked=!1,o.onIdle=function(w,A){return setTimeout(function $(){o.$idleBlocked?setTimeout($,100):w()},A)},o.$idleBlockId=null,o.blockIdle=function(w){o.$idleBlockId&&clearTimeout(o.$idleBlockId),o.$idleBlocked=!0,o.$idleBlockId=setTimeout(function(){o.$idleBlocked=!1},w||100)},o.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),o.nextFrame?o.nextFrame=o.nextFrame.bind(window):o.nextFrame=function(w){setTimeout(w,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,o,s){var a;s.exports={lineMode:!1,pasteCancelled:function(){return a&&a>Date.now()-50?!0:a=!1},cancel:function(){a=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,o,s){var a=n("../lib/event"),l=n("../config").nls,d=n("../lib/useragent"),h=n("../lib/dom"),_=n("../lib/lang"),p=n("../clipboard"),u=d.isChrome<18,m=d.isIE,g=d.isChrome>63,y=400,v=n("../lib/keys"),S=v.KEY_MODS,b=d.isIOS,C=b?/\s/:/\n/,w=d.isMobile,A=(function(){function $(E,D){var I=this;this.host=D,this.text=h.createElement("textarea"),this.text.className="ace_text-input",this.text.setAttribute("wrap","off"),this.text.setAttribute("autocomplete","off"),this.text.setAttribute("autocorrect","off"),this.text.setAttribute("autocapitalize","off"),this.text.setAttribute("spellcheck","false"),this.text.style.opacity="0",E.insertBefore(this.text,E.firstChild),this.copied=!1,this.pasted=!1,this.inComposition=!1,this.sendingText=!1,this.tempStyle="",w||(this.text.style.fontSize="1px"),this.commandMode=!1,this.ignoreFocusEvents=!1,this.lastValue="",this.lastSelectionStart=0,this.lastSelectionEnd=0,this.lastRestoreEnd=0,this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,this.numberOfExtraLines=0;try{this.$isFocused=document.activeElement===this.text}catch{}this.cancelComposition=this.cancelComposition.bind(this),this.setAriaOptions({role:"textbox"}),a.addListener(this.text,"blur",function(R){I.ignoreFocusEvents||(D.onBlur(R),I.$isFocused=!1)},D),a.addListener(this.text,"focus",function(R){if(!I.ignoreFocusEvents){if(I.$isFocused=!0,d.isEdge)try{if(!document.hasFocus())return}catch{}D.onFocus(R),d.isEdge?setTimeout(I.resetSelection.bind(I)):I.resetSelection()}},D),this.$focusScroll=!1,D.on("beforeEndOperation",function(){var R=D.curOp,O=R&&R.command&&R.command.name;if(O!="insertstring"){var N=O&&(R.docChanged||R.selectionChanged);I.inComposition&&N&&(I.lastValue=I.text.value="",I.onCompositionEnd()),I.resetSelection()}}),D.on("changeSelection",this.setAriaLabel.bind(this)),this.resetSelection=b?this.$resetSelectionIOS:this.$resetSelection,this.$isFocused&&D.onFocus(),this.inputHandler=null,this.afterContextMenu=!1,a.addCommandKeyListener(this.text,function(R,O,N){if(!I.inComposition)return D.onCommandKey(R,O,N)},D),a.addListener(this.text,"select",this.onSelect.bind(this),D),a.addListener(this.text,"input",this.onInput.bind(this),D),a.addListener(this.text,"cut",this.onCut.bind(this),D),a.addListener(this.text,"copy",this.onCopy.bind(this),D),a.addListener(this.text,"paste",this.onPaste.bind(this),D),(!("oncut"in this.text)||!("oncopy"in this.text)||!("onpaste"in this.text))&&a.addListener(E,"keydown",function(R){if(!(d.isMac&&!R.metaKey||!R.ctrlKey))switch(R.keyCode){case 67:I.onCopy(R);break;case 86:I.onPaste(R);break;case 88:I.onCut(R);break}},D),this.syncComposition=_.delayedCall(this.onCompositionUpdate.bind(this),50).schedule.bind(null,null),a.addListener(this.text,"compositionstart",this.onCompositionStart.bind(this),D),a.addListener(this.text,"compositionupdate",this.onCompositionUpdate.bind(this),D),a.addListener(this.text,"keyup",this.onKeyup.bind(this),D),a.addListener(this.text,"keydown",this.syncComposition.bind(this),D),a.addListener(this.text,"compositionend",this.onCompositionEnd.bind(this),D),this.closeTimeout,a.addListener(this.text,"mouseup",this.$onContextMenu.bind(this),D),a.addListener(this.text,"mousedown",function(R){R.preventDefault(),I.onContextMenuClose()},D),a.addListener(D.renderer.scroller,"contextmenu",this.$onContextMenu.bind(this),D),a.addListener(this.text,"contextmenu",this.$onContextMenu.bind(this),D),b&&this.addIosSelectionHandler(E,D,this.text)}return $.prototype.addIosSelectionHandler=function(E,D,I){var R=this,O=null,N=!1;I.addEventListener("keydown",function(k){O&&clearTimeout(O),N=!0},!0),I.addEventListener("keyup",function(k){O=setTimeout(function(){N=!1},100)},!0);var M=function(k){if(document.activeElement===I&&!(N||R.inComposition||D.$mouseHandler.isMousePressed)&&!R.copied){var x=I.selectionStart,T=I.selectionEnd,L=null,F=0;if(x==0?L=v.up:x==1?L=v.home:T>R.lastSelectionEnd&&R.lastValue[T]==`
`?L=v.end:x<R.lastSelectionStart&&R.lastValue[x-1]==" "?(L=v.left,F=S.option):x<R.lastSelectionStart||x==R.lastSelectionStart&&R.lastSelectionEnd!=R.lastSelectionStart&&x==T?L=v.left:T>R.lastSelectionEnd&&R.lastValue.slice(0,T).split(`
`).length>2?L=v.down:T>R.lastSelectionEnd&&R.lastValue[T-1]==" "?(L=v.right,F=S.option):(T>R.lastSelectionEnd||T==R.lastSelectionEnd&&R.lastSelectionEnd!=R.lastSelectionStart&&x==T)&&(L=v.right),x!==T&&(F|=S.shift),L){var P=D.onCommandKey({},F,L);if(!P&&D.commands){L=v.keyCodeToString(L);var B=D.commands.findKeyCommand(F,L);B&&D.execCommand(B)}R.lastSelectionStart=x,R.lastSelectionEnd=T,R.resetSelection("")}}};document.addEventListener("selectionchange",M),D.on("destroy",function(){document.removeEventListener("selectionchange",M)})},$.prototype.onContextMenuClose=function(){var E=this;clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){E.tempStyle&&(E.text.style.cssText=E.tempStyle,E.tempStyle=""),E.host.renderer.$isMousePressed=!1,E.host.renderer.$keepTextAreaAtCursor&&E.host.renderer.$moveTextAreaToCursor()},0)},$.prototype.$onContextMenu=function(E){this.host.textInput.onContextMenu(E),this.onContextMenuClose()},$.prototype.onKeyup=function(E){E.keyCode==27&&this.text.value.length<this.text.selectionStart&&(this.inComposition||(this.lastValue=this.text.value),this.lastSelectionStart=this.lastSelectionEnd=-1,this.resetSelection()),this.syncComposition()},$.prototype.cancelComposition=function(){this.ignoreFocusEvents=!0,this.text.blur(),this.text.focus(),this.ignoreFocusEvents=!1},$.prototype.onCompositionStart=function(E){if(!(this.inComposition||!this.host.onCompositionStart||this.host.$readOnly)&&(this.inComposition={},!this.commandMode)){E.data&&(this.inComposition.useTextareaForIME=!1),setTimeout(this.onCompositionUpdate.bind(this),0),this.host._signal("compositionStart"),this.host.on("mousedown",this.cancelComposition);var D=this.host.getSelectionRange();D.end.row=D.start.row,D.end.column=D.start.column,this.inComposition.markerRange=D,this.inComposition.selectionStart=this.lastSelectionStart,this.host.onCompositionStart(this.inComposition),this.inComposition.useTextareaForIME?(this.lastValue=this.text.value="",this.lastSelectionStart=0,this.lastSelectionEnd=0):(this.text.msGetInputContext&&(this.inComposition.context=this.text.msGetInputContext()),this.text.getInputContext&&(this.inComposition.context=this.text.getInputContext()))}},$.prototype.onCompositionUpdate=function(){if(!(!this.inComposition||!this.host.onCompositionUpdate||this.host.$readOnly)){if(this.commandMode)return this.cancelComposition();if(this.inComposition.useTextareaForIME)this.host.onCompositionUpdate(this.text.value);else{var E=this.text.value;this.sendText(E),this.inComposition.markerRange&&(this.inComposition.context&&(this.inComposition.markerRange.start.column=this.inComposition.selectionStart=this.inComposition.context.compositionStartOffset),this.inComposition.markerRange.end.column=this.inComposition.markerRange.start.column+this.lastSelectionEnd-this.inComposition.selectionStart+this.lastRestoreEnd)}}},$.prototype.onCompositionEnd=function(E){!this.host.onCompositionEnd||this.host.$readOnly||(this.inComposition=!1,this.host.onCompositionEnd(),this.host.off("mousedown",this.cancelComposition),E&&this.onInput())},$.prototype.onCut=function(E){this.doCopy(E,!0)},$.prototype.onCopy=function(E){this.doCopy(E,!1)},$.prototype.onPaste=function(E){var D=this.handleClipboardData(E);p.pasteCancelled()||(typeof D=="string"?(D&&this.host.onPaste(D,E),d.isIE&&setTimeout(this.resetSelection),a.preventDefault(E)):(this.text.value="",this.pasted=!0))},$.prototype.doCopy=function(E,D){var I=this,R=this.host.getCopyText();if(!R)return a.preventDefault(E);this.handleClipboardData(E,R)?(b&&(this.resetSelection(R),this.copied=R,setTimeout(function(){I.copied=!1},10)),D?this.host.onCut():this.host.onCopy(),a.preventDefault(E)):(this.copied=!0,this.text.value=R,this.text.select(),setTimeout(function(){I.copied=!1,I.resetSelection(),D?I.host.onCut():I.host.onCopy()}))},$.prototype.handleClipboardData=function(E,D,I){var R=E.clipboardData||window.clipboardData;if(!(!R||u)){var O=m||I?"Text":"text/plain";try{return D?R.setData(O,D)!==!1:R.getData(O)}catch(N){if(!I)return this.handleClipboardData(N,D,!0)}}},$.prototype.onInput=function(E){if(this.inComposition)return this.onCompositionUpdate();if(E&&E.inputType){if(E.inputType=="historyUndo")return this.host.execCommand("undo");if(E.inputType=="historyRedo")return this.host.execCommand("redo")}var D=this.text.value,I=this.sendText(D,!0);(D.length>y+100||C.test(I)||w&&this.lastSelectionStart<1&&this.lastSelectionStart==this.lastSelectionEnd)&&this.resetSelection()},$.prototype.sendText=function(E,D){if(this.afterContextMenu&&(this.afterContextMenu=!1),this.pasted)return this.resetSelection(),E&&this.host.onPaste(E),this.pasted=!1,"";for(var I=this.text.selectionStart,R=this.text.selectionEnd,O=this.lastSelectionStart,N=this.lastValue.length-this.lastSelectionEnd,M=E,k=E.length-I,x=E.length-R,T=0;O>0&&this.lastValue[T]==E[T];)T++,O--;for(M=M.slice(T),T=1;N>0&&this.lastValue.length-T>this.lastSelectionStart-1&&this.lastValue[this.lastValue.length-T]==E[E.length-T];)T++,N--;k-=T-1,x-=T-1;var L=M.length-T+1;if(L<0&&(O=-L,L=0),M=M.slice(0,L),!D&&!M&&!k&&!O&&!N&&!x)return"";this.sendingText=!0;var F=!1;return d.isAndroid&&M==". "&&(M="  ",F=!0),M&&!O&&!N&&!k&&!x||this.commandMode?this.host.onTextInput(M):this.host.onTextInput(M,{extendLeft:O,extendRight:N,restoreStart:k,restoreEnd:x}),this.sendingText=!1,this.lastValue=E,this.lastSelectionStart=I,this.lastSelectionEnd=R,this.lastRestoreEnd=x,F?`
`:M},$.prototype.onSelect=function(E){var D=this;if(!this.inComposition){var I=function(R){return R.selectionStart===0&&R.selectionEnd>=D.lastValue.length&&R.value===D.lastValue&&D.lastValue&&R.selectionEnd!==D.lastSelectionEnd};this.copied?this.copied=!1:I(this.text)?(this.host.selectAll(),this.resetSelection()):w&&this.text.selectionStart!=this.lastSelectionStart&&this.resetSelection()}},$.prototype.$resetSelectionIOS=function(E){if(!(!this.$isFocused||this.copied&&!E||this.sendingText)){E||(E="");var D=`
 ab`+E+`cde fg
`;D!=this.text.value&&(this.text.value=this.lastValue=D);var I=4,R=4+(E.length||(this.host.selection.isEmpty()?0:1));(this.lastSelectionStart!=I||this.lastSelectionEnd!=R)&&this.text.setSelectionRange(I,R),this.lastSelectionStart=I,this.lastSelectionEnd=R}},$.prototype.$resetSelection=function(){var E=this;if(!(this.inComposition||this.sendingText)&&!(!this.$isFocused&&!this.afterContextMenu)){this.inComposition=!0;var D=0,I=0,R="",O=function(B,H){for(var j=H,W=1;W<=B-E.rowStart&&W<2*E.numberOfExtraLines+1;W++)j+=E.host.session.getLine(B-W).length+1;return j};if(this.host.session){var N=this.host.selection,M=N.getRange(),k=N.cursor.row;k===this.rowEnd+1?(this.rowStart=this.rowEnd+1,this.rowEnd=this.rowStart+2*this.numberOfExtraLines):k===this.rowStart-1?(this.rowEnd=this.rowStart-1,this.rowStart=this.rowEnd-2*this.numberOfExtraLines):(k<this.rowStart-1||k>this.rowEnd+1)&&(this.rowStart=k>this.numberOfExtraLines?k-this.numberOfExtraLines:0,this.rowEnd=k>this.numberOfExtraLines?k+this.numberOfExtraLines:2*this.numberOfExtraLines);for(var x=[],T=this.rowStart;T<=this.rowEnd;T++)x.push(this.host.session.getLine(T));if(R=x.join(`
`),D=O(M.start.row,M.start.column),I=O(M.end.row,M.end.column),M.start.row<this.rowStart){var L=this.host.session.getLine(this.rowStart-1);D=M.start.row<this.rowStart-1?0:D,I+=L.length+1,R=L+`
`+R}else if(M.end.row>this.rowEnd){var F=this.host.session.getLine(this.rowEnd+1);I=M.end.row>this.rowEnd+1?F.length:M.end.column,I+=R.length+1,R=R+`
`+F}else w&&k>0&&(R=`
`+R,I+=1,D+=1);R.length>y&&(D<y&&I<y?R=R.slice(0,y):(R=`
`,D==I?D=I=0:(D=0,I=1)));var P=R+`

`;P!=this.lastValue&&(this.text.value=this.lastValue=P,this.lastSelectionStart=this.lastSelectionEnd=P.length)}if(this.afterContextMenu&&(this.lastSelectionStart=this.text.selectionStart,this.lastSelectionEnd=this.text.selectionEnd),this.lastSelectionEnd!=I||this.lastSelectionStart!=D||this.text.selectionEnd!=this.lastSelectionEnd)try{this.text.setSelectionRange(D,I),this.lastSelectionStart=D,this.lastSelectionEnd=I}catch{}this.inComposition=!1}},$.prototype.setHost=function(E){this.host=E},$.prototype.setNumberOfExtraLines=function(E){if(this.rowStart=Number.MAX_SAFE_INTEGER,this.rowEnd=Number.MIN_SAFE_INTEGER,E<0){this.numberOfExtraLines=0;return}this.numberOfExtraLines=E},$.prototype.setAriaLabel=function(){var E="";if(this.host.$textInputAriaLabel&&(E+="".concat(this.host.$textInputAriaLabel,", ")),this.host.session){var D=this.host.session.selection.cursor.row;E+=l("text-input.aria-label","Cursor at row $0",[D+1])}this.text.setAttribute("aria-label",E)},$.prototype.setAriaOptions=function(E){E.activeDescendant?(this.text.setAttribute("aria-haspopup","true"),this.text.setAttribute("aria-autocomplete",E.inline?"both":"list"),this.text.setAttribute("aria-activedescendant",E.activeDescendant)):(this.text.setAttribute("aria-haspopup","false"),this.text.setAttribute("aria-autocomplete","both"),this.text.removeAttribute("aria-activedescendant")),E.role&&this.text.setAttribute("role",E.role),E.setLabel&&(this.text.setAttribute("aria-roledescription",l("text-input.aria-roledescription","editor")),this.setAriaLabel())},$.prototype.focus=function(){var E=this;if(this.setAriaOptions({setLabel:this.host.renderer.enableKeyboardAccessibility}),this.tempStyle||g||this.$focusScroll=="browser")return this.text.focus({preventScroll:!0});var D=this.text.style.top;this.text.style.position="fixed",this.text.style.top="0px";try{var I=this.text.getBoundingClientRect().top!=0}catch{return}var R=[];if(I)for(var O=this.text.parentElement;O&&O.nodeType==1;)R.push(O),O.setAttribute("ace_nocontext","true"),!O.parentElement&&O.getRootNode?O=O.getRootNode().host:O=O.parentElement;this.text.focus({preventScroll:!0}),I&&R.forEach(function(N){N.removeAttribute("ace_nocontext")}),setTimeout(function(){E.text.style.position="",E.text.style.top=="0px"&&(E.text.style.top=D)},0)},$.prototype.blur=function(){this.text.blur()},$.prototype.isFocused=function(){return this.$isFocused},$.prototype.setInputHandler=function(E){this.inputHandler=E},$.prototype.getInputHandler=function(){return this.inputHandler},$.prototype.getElement=function(){return this.text},$.prototype.setCommandMode=function(E){this.commandMode=E,this.text.readOnly=!1},$.prototype.setReadOnly=function(E){this.commandMode||(this.text.readOnly=E)},$.prototype.setCopyWithEmptySelection=function(E){},$.prototype.onContextMenu=function(E){this.afterContextMenu=!0,this.resetSelection(),this.host._emit("nativecontextmenu",{target:this.host,domEvent:E}),this.moveToMouse(E,!0)},$.prototype.moveToMouse=function(E,D){var I=this;this.tempStyle||(this.tempStyle=this.text.style.cssText),this.text.style.cssText=(D?"z-index:100000;":"")+(d.isIE?"opacity:0.1;":"")+"text-indent: -"+(this.lastSelectionStart+this.lastSelectionEnd)*this.host.renderer.characterWidth*.5+"px;";var R=this.host.container.getBoundingClientRect(),O=h.computedStyle(this.host.container),N=R.top+(parseInt(O.borderTopWidth)||0),M=R.left+(parseInt(O.borderLeftWidth)||0),k=R.bottom-N-this.text.clientHeight-2,x=function(T){h.translate(I.text,T.clientX-M-2,Math.min(T.clientY-N-2,k))};x(E),E.type=="mousedown"&&(this.host.renderer.$isMousePressed=!0,clearTimeout(this.closeTimeout),d.isWin&&a.capture(this.host.container,x,this.onContextMenuClose.bind(this)))},$.prototype.destroy=function(){this.text.parentElement&&this.text.parentElement.removeChild(this.text)},$})();o.TextInput=A,o.$setUserAgentForTests=function($,E){w=$,b=E}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,o,s){var a=n("../lib/useragent"),l=0,d=550,h=(function(){function u(m){m.$clickSelection=null;var g=m.editor;g.setDefaultHandler("mousedown",this.onMouseDown.bind(m)),g.setDefaultHandler("dblclick",this.onDoubleClick.bind(m)),g.setDefaultHandler("tripleclick",this.onTripleClick.bind(m)),g.setDefaultHandler("quadclick",this.onQuadClick.bind(m)),g.setDefaultHandler("mousewheel",this.onMouseWheel.bind(m));var y=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];y.forEach(function(v){m[v]=this[v]},this),m.selectByLines=this.extendSelectionBy.bind(m,"getLineRange"),m.selectByWords=this.extendSelectionBy.bind(m,"getWordRange")}return u.prototype.onMouseDown=function(m){var g=m.inSelection(),y=m.getDocumentPosition();this.mousedownEvent=m;var v=this.editor,S=m.getButton();if(S!==0){var b=v.getSelectionRange(),C=b.isEmpty();(C||S==1)&&v.selection.moveToPosition(y),S==2&&(v.textInput.onContextMenu(m.domEvent),a.isMozilla||m.preventDefault());return}if(this.mousedownEvent.time=Date.now(),g&&!v.isFocused()&&(v.focus(),this.$focusTimeout&&!this.$clickSelection&&!v.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(m);return}return this.captureMouse(m),this.startSelect(y,m.domEvent._clicks>1),m.preventDefault()},u.prototype.startSelect=function(m,g){m=m||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var y=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?y.selection.selectToPosition(m):g||y.selection.moveToPosition(m),g||this.select(),y.setStyle("ace_selecting"),this.setState("select"))},u.prototype.select=function(){var m,g=this.editor,y=g.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(y);if(v==-1)m=this.$clickSelection.end;else if(v==1)m=this.$clickSelection.start;else{var S=p(this.$clickSelection,y);y=S.cursor,m=S.anchor}g.selection.setSelectionAnchor(m.row,m.column)}g.selection.selectToPosition(y),g.renderer.scrollCursorIntoView()},u.prototype.extendSelectionBy=function(m){var g,y=this.editor,v=y.renderer.screenToTextCoordinates(this.x,this.y),S=y.selection[m](v.row,v.column);if(this.$clickSelection){var b=this.$clickSelection.comparePoint(S.start),C=this.$clickSelection.comparePoint(S.end);if(b==-1&&C<=0)g=this.$clickSelection.end,(S.end.row!=v.row||S.end.column!=v.column)&&(v=S.start);else if(C==1&&b>=0)g=this.$clickSelection.start,(S.start.row!=v.row||S.start.column!=v.column)&&(v=S.end);else if(b==-1&&C==1)v=S.end,g=S.start;else{var w=p(this.$clickSelection,v);v=w.cursor,g=w.anchor}y.selection.setSelectionAnchor(g.row,g.column)}y.selection.selectToPosition(v),y.renderer.scrollCursorIntoView()},u.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},u.prototype.focusWait=function(){var m=_(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),g=Date.now();(m>l||g-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},u.prototype.onDoubleClick=function(m){var g=m.getDocumentPosition(),y=this.editor,v=y.session,S=v.getBracketRange(g);S?(S.isEmpty()&&(S.start.column--,S.end.column++),this.setState("select")):(S=y.selection.getWordRange(g.row,g.column),this.setState("selectByWords")),this.$clickSelection=S,this.select()},u.prototype.onTripleClick=function(m){var g=m.getDocumentPosition(),y=this.editor;this.setState("selectByLines");var v=y.getSelectionRange();v.isMultiLine()&&v.contains(g.row,g.column)?(this.$clickSelection=y.selection.getLineRange(v.start.row),this.$clickSelection.end=y.selection.getLineRange(v.end.row).end):this.$clickSelection=y.selection.getLineRange(g.row),this.select()},u.prototype.onQuadClick=function(m){var g=this.editor;g.selectAll(),this.$clickSelection=g.getSelectionRange(),this.setState("selectAll")},u.prototype.onMouseWheel=function(m){if(!m.getAccelKey()){m.getShiftKey()&&m.wheelY&&!m.wheelX&&(m.wheelX=m.wheelY,m.wheelY=0);var g=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var y=this.$lastScroll,v=m.domEvent.timeStamp,S=v-y.t,b=S?m.wheelX/S:y.vx,C=S?m.wheelY/S:y.vy;S<d&&(b=(b+y.vx)/2,C=(C+y.vy)/2);var w=Math.abs(b/C),A=!1;if(w>=1&&g.renderer.isScrollableBy(m.wheelX*m.speed,0)&&(A=!0),w<=1&&g.renderer.isScrollableBy(0,m.wheelY*m.speed)&&(A=!0),A)y.allowed=v;else if(v-y.allowed<d){var $=Math.abs(b)<=1.5*Math.abs(y.vx)&&Math.abs(C)<=1.5*Math.abs(y.vy);$?(A=!0,y.allowed=v):y.allowed=0}if(y.t=v,y.vx=b,y.vy=C,A)return g.renderer.scrollBy(m.wheelX*m.speed,m.wheelY*m.speed),m.stop()}},u})();h.prototype.selectEnd=h.prototype.selectByLinesEnd,h.prototype.selectAllEnd=h.prototype.selectByLinesEnd,h.prototype.selectByWordsEnd=h.prototype.selectByLinesEnd,o.DefaultHandlers=h;function _(u,m,g,y){return Math.sqrt(Math.pow(g-u,2)+Math.pow(y-m,2))}function p(u,m){if(u.start.row==u.end.row)var g=2*m.column-u.start.column-u.end.column;else if(u.start.row==u.end.row-1&&!u.start.column&&!u.end.column)var g=m.column-4;else var g=2*m.row-u.start.row-u.end.row;return g<0?{cursor:u.start,anchor:u.end}:{cursor:u.end,anchor:u.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,o,s){o.preventParentScroll=function(l){l.stopPropagation();var d=l.currentTarget,h=d.scrollHeight>d.clientHeight;h||l.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,o,s){var a=this&&this.__extends||(function(){var v=function(S,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(C[A]=w[A])},v(S,b)};return function(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");v(S,b);function C(){this.constructor=S}S.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}})(),l=this&&this.__values||function(v){var S=typeof Symbol=="function"&&Symbol.iterator,b=S&&v[S],C=0;if(b)return b.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&C>=v.length&&(v=void 0),{value:v&&v[C++],done:!v}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},d=n("./lib/dom");n("./lib/event");var h=n("./range").Range,_=n("./lib/scroll").preventParentScroll,p="ace_tooltip",u=(function(){function v(S){this.isOpen=!1,this.$element=null,this.$parentNode=S}return v.prototype.$init=function(){return this.$element=d.createElement("div"),this.$element.className=p,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},v.prototype.getElement=function(){return this.$element||this.$init()},v.prototype.setText=function(S){this.getElement().textContent=S},v.prototype.setHtml=function(S){this.getElement().innerHTML=S},v.prototype.setPosition=function(S,b){var C=this.getElement(),w=C.offsetParent&&C.offsetParent.getBoundingClientRect();C.style.left=S-(w?w.left:0)+"px",C.style.top=b-(w?w.top:0)+"px"},v.prototype.setClassName=function(S){d.addCssClass(this.getElement(),S)},v.prototype.setTheme=function(S){this.$element.className=p+" "+(S.isDark?"ace_dark ":"")+(S.cssClass||"")},v.prototype.show=function(S,b,C){S!=null&&this.setText(S),b!=null&&C!=null&&this.setPosition(b,C),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},v.prototype.hide=function(S){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=p,this.isOpen=!1)},v.prototype.getHeight=function(){return this.getElement().offsetHeight},v.prototype.getWidth=function(){return this.getElement().offsetWidth},v.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},v})(),m=(function(){function v(){this.popups=[]}return v.prototype.addPopup=function(S){this.popups.push(S),this.updatePopups()},v.prototype.removePopup=function(S){var b=this.popups.indexOf(S);b!==-1&&(this.popups.splice(b,1),this.updatePopups())},v.prototype.updatePopups=function(){var S,b,C,w;this.popups.sort(function(M,k){return k.priority-M.priority});var A=[];try{for(var $=l(this.popups),E=$.next();!E.done;E=$.next()){var D=E.value,I=!0;try{for(var R=(C=void 0,l(A)),O=R.next();!O.done;O=R.next()){var N=O.value;if(this.doPopupsOverlap(N,D)){I=!1;break}}}catch(M){C={error:M}}finally{try{O&&!O.done&&(w=R.return)&&w.call(R)}finally{if(C)throw C.error}}I?A.push(D):D.hide()}}catch(M){S={error:M}}finally{try{E&&!E.done&&(b=$.return)&&b.call($)}finally{if(S)throw S.error}}},v.prototype.doPopupsOverlap=function(S,b){var C=S.getElement().getBoundingClientRect(),w=b.getElement().getBoundingClientRect();return C.left<w.right&&C.right>w.left&&C.top<w.bottom&&C.bottom>w.top},v})(),g=new m;o.popupManager=g,o.Tooltip=u;var y=(function(v){a(S,v);function S(b){b===void 0&&(b=document.body);var C=v.call(this,b)||this;C.timeout=void 0,C.lastT=0,C.idleTime=350,C.lastEvent=void 0,C.onMouseOut=C.onMouseOut.bind(C),C.onMouseMove=C.onMouseMove.bind(C),C.waitForHover=C.waitForHover.bind(C),C.hide=C.hide.bind(C);var w=C.getElement();return w.style.whiteSpace="pre-wrap",w.style.pointerEvents="auto",w.addEventListener("mouseout",C.onMouseOut),w.tabIndex=-1,w.addEventListener("blur",function(){w.contains(document.activeElement)||this.hide()}.bind(C)),w.addEventListener("wheel",_),C}return S.prototype.addToEditor=function(b){b.on("mousemove",this.onMouseMove),b.on("mousedown",this.hide),b.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},S.prototype.removeFromEditor=function(b){b.off("mousemove",this.onMouseMove),b.off("mousedown",this.hide),b.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},S.prototype.onMouseMove=function(b,C){this.lastEvent=b,this.lastT=Date.now();var w=C.$mouseHandler.isMousePressed;if(this.isOpen){var A=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(A.row,A.column)||w||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||w||(this.lastEvent=b,this.timeout=setTimeout(this.waitForHover,this.idleTime))},S.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var b=Date.now()-this.lastT;if(this.idleTime-b>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-b);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},S.prototype.isOutsideOfText=function(b){var C=b.editor,w=b.getDocumentPosition(),A=C.session.getLine(w.row);if(w.column==A.length){var $=C.renderer.pixelToScreenCoordinates(b.clientX,b.clientY),E=C.session.documentToScreenPosition(w.row,w.column);if(E.column!=$.column||E.row!=$.row)return!0}return!1},S.prototype.setDataProvider=function(b){this.$gatherData=b},S.prototype.showForRange=function(b,C,w,A){var $=10;if(!(A&&A!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var E=b.renderer;this.isOpen||(g.addPopup(this),this.$registerCloseEvents(),this.setTheme(E.theme)),this.isOpen=!0,this.addMarker(C,b.session),this.range=h.fromPoints(C.start,C.end);var D=E.textToScreenCoordinates(C.start.row,C.start.column),I=E.scroller.getBoundingClientRect();D.pageX<I.left&&(D.pageX=I.left);var R=this.getElement();R.innerHTML="",R.appendChild(w),R.style.maxHeight="",R.style.display="block";var O=R.clientHeight,N=R.clientWidth,M=window.innerHeight-D.pageY-E.lineHeight,k=!0;D.pageY-O<0&&D.pageY<M&&(k=!1),R.style.maxHeight=(k?D.pageY:M)-$+"px",R.style.top=k?"":D.pageY+E.lineHeight+"px",R.style.bottom=k?window.innerHeight-D.pageY+"px":"",R.style.left=Math.min(D.pageX,window.innerWidth-N-$)+"px"}},S.prototype.addMarker=function(b,C){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=C,this.marker=C&&C.addMarker(b,"ace_highlight-marker","text")},S.prototype.hide=function(b){!b&&document.activeElement==this.getElement()||b&&b.target&&(b.type!="keydown"||b.ctrlKey||b.metaKey)&&this.$element.contains(b.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,g.removePopup(this)))},S.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},S.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},S.prototype.onMouseOut=function(b){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!b.relatedTarget||this.getElement().contains(b.relatedTarget)||b&&b.currentTarget.contains(b.relatedTarget)||b.relatedTarget.classList.contains("ace_content")||this.hide())},S})(u);o.HoverTooltip=y}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,o,s){var a=this&&this.__extends||(function(){var v=function(S,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(C[A]=w[A])},v(S,b)};return function(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");v(S,b);function C(){this.constructor=S}S.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}})(),l=this&&this.__values||function(v){var S=typeof Symbol=="function"&&Symbol.iterator,b=S&&v[S],C=0;if(b)return b.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&C>=v.length&&(v=void 0),{value:v&&v[C++],done:!v}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},d=n("../lib/dom"),h=n("../lib/event"),_=n("../tooltip").Tooltip,p=n("../config").nls,u=5,m=3;o.GUTTER_TOOLTIP_LEFT_OFFSET=u,o.GUTTER_TOOLTIP_TOP_OFFSET=m;function g(v){var S=v.editor,b=S.renderer.$gutterLayer,C=new y(S,!0);v.editor.setDefaultHandler("guttermousedown",function(I){if(!(!S.isFocused()||I.getButton()!=0)){var R=b.getRegion(I);if(R!="foldWidgets"){var O=I.getDocumentPosition().row,N=S.session.selection;if(I.getShiftKey())N.selectTo(O,0);else{if(I.domEvent.detail==2)return S.selectAll(),I.preventDefault();v.$clickSelection=S.selection.getLineRange(O)}return v.setState("selectByLines"),v.captureMouse(I),I.preventDefault()}}});var w,A;function $(){var I=A.getDocumentPosition().row,R=S.session.getLength();if(I==R){var O=S.renderer.pixelToScreenCoordinates(0,A.y).row,N=A.$pos;if(O>S.session.documentToScreenRow(N.row,N.column))return E()}if(C.showTooltip(I),!!C.isOpen)if(S.on("mousewheel",E),S.on("changeSession",E),window.addEventListener("keydown",E,!0),v.$tooltipFollowsMouse)D(A);else{var M=A.getGutterRow(),k=b.$lines.get(M);if(k){var x=k.element.querySelector(".ace_gutter_annotation"),T=x.getBoundingClientRect(),L=C.getElement().style;L.left=T.right-u+"px",L.top=T.bottom-m+"px"}else D(A)}}function E(I){I&&I.type==="keydown"&&(I.ctrlKey||I.metaKey)||I&&I.type==="mouseout"&&(!I.relatedTarget||C.getElement().contains(I.relatedTarget))||(w&&(w=clearTimeout(w)),C.isOpen&&(C.hideTooltip(),S.off("mousewheel",E),S.off("changeSession",E),window.removeEventListener("keydown",E,!0)))}function D(I){C.setPosition(I.x,I.y)}v.editor.setDefaultHandler("guttermousemove",function(I){var R=I.domEvent.target||I.domEvent.srcElement;if(d.hasCssClass(R,"ace_fold-widget")||d.hasCssClass(R,"ace_custom-widget"))return E();C.isOpen&&v.$tooltipFollowsMouse&&D(I),A=I,!w&&(w=setTimeout(function(){w=null,A&&!v.isMousePressed&&$()},50))}),h.addListener(S.renderer.$gutter,"mouseout",function(I){A=null,C.isOpen&&(w=setTimeout(function(){w=null,E(I)},50))},S)}o.GutterHandler=g;var y=(function(v){a(S,v);function S(b,C){C===void 0&&(C=!1);var w=v.call(this,b.container)||this;w.id="gt"+ ++S.$uid,w.editor=b,w.visibleTooltipRow;var A=w.getElement();return A.setAttribute("role","tooltip"),A.setAttribute("id",w.id),A.style.pointerEvents="auto",C&&(w.onMouseOut=w.onMouseOut.bind(w),A.addEventListener("mouseout",w.onMouseOut)),w}return S.prototype.onMouseOut=function(b){this.isOpen&&(!b.relatedTarget||this.getElement().contains(b.relatedTarget)||b&&b.currentTarget.contains(b.relatedTarget)||this.hideTooltip())},S.prototype.setPosition=function(b,C){var w=window.innerWidth||document.documentElement.clientWidth,A=window.innerHeight||document.documentElement.clientHeight,$=this.getWidth(),E=this.getHeight();b+=15,C+=15,b+$>w&&(b-=b+$-w),C+E>A&&(C-=20+E),_.prototype.setPosition.call(this,b,C)},Object.defineProperty(S,"annotationLabels",{get:function(){return{error:{singular:p("gutter-tooltip.aria-label.error.singular","error"),plural:p("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:p("gutter-tooltip.aria-label.security.singular","security finding"),plural:p("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:p("gutter-tooltip.aria-label.warning.singular","warning"),plural:p("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:p("gutter-tooltip.aria-label.info.singular","information message"),plural:p("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:p("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:p("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),S.prototype.showTooltip=function(b){var C,w=this.editor.renderer.$gutterLayer,A=w.$annotations[b],$;A?$={displayText:Array.from(A.displayText),type:Array.from(A.type)}:$={displayText:[],type:[]};var E=w.session.getFoldLine(b);if(E&&w.$showFoldedAnnotations){for(var D={error:[],security:[],warning:[],info:[],hint:[]},I={error:1,security:2,warning:3,info:4,hint:5},R,O=b+1;O<=E.end.row;O++)if(w.$annotations[O])for(var N=0;N<w.$annotations[O].text.length;N++){var M=w.$annotations[O].type[N];D[M].push(w.$annotations[O].text[N]),(!R||I[M]<I[R])&&(R=M)}if(["error","security","warning"].includes(R)){var k="".concat(S.annotationsToSummaryString(D)," in folded code.");$.displayText.push(k),$.type.push(R+"_fold")}}if($.displayText.length===0)return this.hideTooltip();for(var x={error:[],security:[],warning:[],info:[],hint:[]},T=w.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",O=0;O<$.displayText.length;O++){var L=d.createElement("span"),F=d.createElement("span");(C=F.classList).add.apply(C,["ace_".concat($.type[O]),T]),F.setAttribute("aria-label","".concat(S.annotationLabels[$.type[O].replace("_fold","")].singular)),F.setAttribute("role","img"),F.appendChild(d.createTextNode(" ")),L.appendChild(F),L.appendChild(d.createTextNode($.displayText[O])),L.appendChild(d.createElement("br")),x[$.type[O].replace("_fold","")].push(L)}var P=this.getElement();d.removeChildren(P),x.error.forEach(function(H){return P.appendChild(H)}),x.security.forEach(function(H){return P.appendChild(H)}),x.warning.forEach(function(H){return P.appendChild(H)}),x.info.forEach(function(H){return P.appendChild(H)}),x.hint.forEach(function(H){return P.appendChild(H)}),P.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip"));var B=this.$findLinkedAnnotationNode(b);B&&B.setAttribute("aria-describedby",this.id),this.show(),this.visibleTooltipRow=b,this.editor._signal("showGutterTooltip",this)},S.prototype.$findLinkedAnnotationNode=function(b){var C=this.$findCellByRow(b);if(C){var w=C.element;if(w.childNodes.length>2)return w.childNodes[2]}},S.prototype.$findCellByRow=function(b){return this.editor.renderer.$gutterLayer.$lines.cells.find(function(C){return C.row===b})},S.prototype.hideTooltip=function(){if(this.isOpen){if(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow!=null){var b=this.$findLinkedAnnotationNode(this.visibleTooltipRow);b&&b.removeAttribute("aria-describedby")}this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this)}},S.annotationsToSummaryString=function(b){var C,w,A=[],$=["error","security","warning","info","hint"];try{for(var E=l($),D=E.next();!D.done;D=E.next()){var I=D.value;if(b[I].length){var R=b[I].length===1?S.annotationLabels[I].singular:S.annotationLabels[I].plural;A.push("".concat(b[I].length," ").concat(R))}}}catch(O){C={error:O}}finally{try{D&&!D.done&&(w=E.return)&&w.call(E)}finally{if(C)throw C.error}}return A.join(", ")},S})(_);y.$uid=0,o.GutterTooltip=y}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,o,s){var a=n("../lib/event"),l=n("../lib/useragent"),d=(function(){function h(_,p){this.speed,this.wheelX,this.wheelY,this.domEvent=_,this.editor=p,this.x=this.clientX=_.clientX,this.y=this.clientY=_.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return h.prototype.stopPropagation=function(){a.stopPropagation(this.domEvent),this.propagationStopped=!0},h.prototype.preventDefault=function(){a.preventDefault(this.domEvent),this.defaultPrevented=!0},h.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},h.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},h.prototype.getGutterRow=function(){var _=this.getDocumentPosition().row,p=this.editor.session.documentToScreenRow(_,0),u=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return p-u},h.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var _=this.editor,p=_.getSelectionRange();if(p.isEmpty())this.$inSelection=!1;else{var u=this.getDocumentPosition();this.$inSelection=p.contains(u.row,u.column)}return this.$inSelection},h.prototype.getButton=function(){return a.getButton(this.domEvent)},h.prototype.getShiftKey=function(){return this.domEvent.shiftKey},h.prototype.getAccelKey=function(){return l.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},h})();o.MouseEvent=d}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,o,s){var a=n("../lib/dom"),l=n("../lib/event"),d=n("../lib/useragent"),h=200,_=200,p=5;function u(g){var y=g.editor,v=a.createElement("div");v.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",v.textContent="";var S=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];S.forEach(function(U){g[U]=this[U]},this),y.on("mousedown",this.onMouseDown.bind(g));var b=y.container,C,w,A,$,E,D,I=0,R,O,N,M,k;this.onDragStart=function(U){if(this.cancelDrag||!b.draggable){var G=this;return setTimeout(function(){G.startSelect(),G.captureMouse(U)},0),U.preventDefault()}E=y.getSelectionRange();var V=U.dataTransfer;V.effectAllowed=y.getReadOnly()?"copy":"copyMove",y.container.appendChild(v),V.setDragImage&&V.setDragImage(v,0,0),setTimeout(function(){y.container.removeChild(v)}),V.clearData(),V.setData("Text",y.session.getTextRange()),O=!0,this.setState("drag")},this.onDragEnd=function(U){if(b.draggable=!1,O=!1,this.setState(null),!y.getReadOnly()){var G=U.dataTransfer.dropEffect;!R&&G=="move"&&y.session.remove(y.getSelectionRange()),y.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(U){if(!(y.getReadOnly()||!j(U.dataTransfer)))return w=U.clientX,A=U.clientY,C||F(),I++,U.dataTransfer.dropEffect=R=W(U),l.preventDefault(U)},this.onDragOver=function(U){if(!(y.getReadOnly()||!j(U.dataTransfer)))return w=U.clientX,A=U.clientY,C||(F(),I++),B!==null&&(B=null),U.dataTransfer.dropEffect=R=W(U),l.preventDefault(U)},this.onDragLeave=function(U){if(I--,I<=0&&C)return P(),R=null,l.preventDefault(U)},this.onDrop=function(U){if(D){var G=U.dataTransfer;if(O)switch(R){case"move":E.contains(D.row,D.column)?E={start:D,end:D}:E=y.moveText(E,D);break;case"copy":E=y.moveText(E,D,!0);break}else{var V=G.getData("Text");E={start:D,end:y.session.insert(D,V)},y.focus(),R=null}return P(),l.preventDefault(U)}},l.addListener(b,"dragstart",this.onDragStart.bind(g),y),l.addListener(b,"dragend",this.onDragEnd.bind(g),y),l.addListener(b,"dragenter",this.onDragEnter.bind(g),y),l.addListener(b,"dragover",this.onDragOver.bind(g),y),l.addListener(b,"dragleave",this.onDragLeave.bind(g),y),l.addListener(b,"drop",this.onDrop.bind(g),y);function x(U,G){var V=Date.now(),X=!G||U.row!=G.row,q=!G||U.column!=G.column;if(!M||X||q)y.moveCursorToPosition(U),M=V,k={x:w,y:A};else{var Y=m(k.x,k.y,w,A);Y>p?M=null:V-M>=_&&(y.renderer.scrollCursorIntoView(),M=null)}}function T(U,G){var V=Date.now(),X=y.renderer.layerConfig.lineHeight,q=y.renderer.layerConfig.characterWidth,Y=y.renderer.scroller.getBoundingClientRect(),J={x:{left:w-Y.left,right:Y.right-w},y:{top:A-Y.top,bottom:Y.bottom-A}},Q=Math.min(J.x.left,J.x.right),ee=Math.min(J.y.top,J.y.bottom),re={row:U.row,column:U.column};Q/q<=2&&(re.column+=J.x.left<J.x.right?-3:2),ee/X<=1&&(re.row+=J.y.top<J.y.bottom?-1:1);var ae=U.row!=re.row,se=U.column!=re.column,ie=!G||U.row!=G.row;ae||se&&!ie?N?V-N>=h&&y.renderer.scrollCursorIntoView(re):N=V:N=null}function L(){var U=D;D=y.renderer.screenToTextCoordinates(w,A),x(D,U),T(D,U)}function F(){E=y.selection.toOrientedRange(),C=y.session.addMarker(E,"ace_selection",y.getSelectionStyle()),y.clearSelection(),y.isFocused()&&y.renderer.$cursorLayer.setBlinking(!1),clearInterval($),L(),$=setInterval(L,20),I=0,l.addListener(document,"mousemove",H)}function P(){clearInterval($),y.session.removeMarker(C),C=null,y.selection.fromOrientedRange(E),y.isFocused()&&!O&&y.$resetCursorStyle(),E=null,D=null,I=0,N=null,M=null,l.removeListener(document,"mousemove",H)}var B=null;function H(){B==null&&(B=setTimeout(function(){B!=null&&C&&P()},20))}function j(U){var G=U.types;return!G||Array.prototype.some.call(G,function(V){return V=="text/plain"||V=="Text"})}function W(U){var G=["copy","copymove","all","uninitialized"],V=["move","copymove","linkmove","all","uninitialized"],X=d.isMac?U.altKey:U.ctrlKey,q="uninitialized";try{q=U.dataTransfer.effectAllowed.toLowerCase()}catch{}var Y="none";return X&&G.indexOf(q)>=0?Y="copy":V.indexOf(q)>=0?Y="move":G.indexOf(q)>=0&&(Y="copy"),Y}}(function(){this.dragWait=function(){var g=Date.now()-this.mousedownEvent.time;g>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var g=this.editor.container;g.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(g){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var g=this.editor,y=g.container;y.draggable=!0,g.renderer.$cursorLayer.setBlinking(!1),g.setStyle("ace_dragging");var v=d.isWin?"default":"move";g.renderer.setCursorStyle(v),this.setState("dragReady")},this.onMouseDrag=function(g){var y=this.editor.container;if(d.isIE&&this.state=="dragReady"){var v=m(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);v>3&&y.dragDrop()}if(this.state==="dragWait"){var v=m(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);v>0&&(y.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(g){if(this.$dragEnabled){this.mousedownEvent=g;var y=this.editor,v=g.inSelection(),S=g.getButton(),b=g.domEvent.detail||1;if(b===1&&S===0&&v){if(g.editor.inMultiSelectMode&&(g.getAccelKey()||g.getShiftKey()))return;this.mousedownEvent.time=Date.now();var C=g.domEvent.target||g.domEvent.srcElement;if("unselectable"in C&&(C.unselectable="on"),y.getDragDelay()){if(d.isWebKit){this.cancelDrag=!0;var w=y.container;w.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(g,this.onMouseDrag.bind(this)),g.defaultPrevented=!0}}}}).call(u.prototype);function m(g,y,v,S){return Math.sqrt(Math.pow(v-g,2)+Math.pow(S-y,2))}o.DragdropHandler=u}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,o,s){var a=n("./mouse_event").MouseEvent,l=n("../lib/event"),d=n("../lib/dom");o.addTouchListeners=function(h,_){var p="scroll",u,m,g,y,v,S,b=0,C,w=0,A=0,$=0,E,D;function I(){var x=window.navigator&&window.navigator.clipboard,T=!1,L=function(){var B=_.getCopyText(),H=_.session.getUndoManager().hasUndo();D.replaceChild(d.buildDom(T?["span",!B&&F("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],B&&F("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],B&&F("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],x&&F("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],H&&F("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],F("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],F("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),D.firstChild)},F=function(B){return _.commands.canExecute(B,_)},P=function(B){var H=B.target.getAttribute("action");if(H=="more"||!T)return T=!T,L();H=="paste"?x.readText().then(function(j){_.execCommand(H,j)}):H&&((H=="cut"||H=="copy")&&(x?x.writeText(_.getCopyText()):document.execCommand("copy")),_.execCommand(H)),D.firstChild.style.display="none",T=!1,H!="openCommandPalette"&&_.focus()};D=d.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(B){p="menu",B.stopPropagation(),B.preventDefault(),_.textInput.focus()},ontouchend:function(B){B.stopPropagation(),B.preventDefault(),P(B)},onclick:P},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],_.container)}function R(){if(!_.getOption("enableMobileMenu")){D&&O();return}D||I();var x=_.selection.cursor,T=_.renderer.textToScreenCoordinates(x.row,x.column),L=_.renderer.textToScreenCoordinates(0,0).pageX,F=_.renderer.scrollLeft,P=_.container.getBoundingClientRect();D.style.top=T.pageY-P.top-3+"px",T.pageX-P.left<P.width-70?(D.style.left="",D.style.right="10px"):(D.style.right="",D.style.left=L+F-P.left+"px"),D.style.display="",D.firstChild.style.display="none",_.on("input",O)}function O(x){D&&(D.style.display="none"),_.off("input",O)}function N(){v=null,clearTimeout(v);var x=_.selection.getRange(),T=x.contains(C.row,C.column);(x.isEmpty()||!T)&&(_.selection.moveToPosition(C),_.selection.selectWord()),p="wait",R()}function M(){v=null,clearTimeout(v),_.selection.moveToPosition(C);var x=w>=2?_.selection.getLineRange(C.row):_.session.getBracketRange(C);x&&!x.isEmpty()?_.selection.setRange(x):_.selection.selectWord(),p="wait"}l.addListener(h,"contextmenu",function(x){if(E){var T=_.textInput.getElement();T.focus()}},_),l.addListener(h,"touchstart",function(x){var T=x.touches;if(v||T.length>1){clearTimeout(v),v=null,g=-1,p="zoom";return}E=_.$mouseHandler.isMousePressed=!0;var L=_.renderer.layerConfig.lineHeight,F=_.renderer.layerConfig.lineHeight,P=x.timeStamp;y=P;var B=T[0],H=B.clientX,j=B.clientY;Math.abs(u-H)+Math.abs(m-j)>L&&(g=-1),u=x.clientX=H,m=x.clientY=j,A=$=0;var W=new a(x,_);if(C=W.getDocumentPosition(),P-g<500&&T.length==1&&!b)w++,x.preventDefault(),x.button=0,M();else{w=0;var U=_.selection.cursor,G=_.selection.isEmpty()?U:_.selection.anchor,V=_.renderer.$cursorLayer.getPixelPosition(U,!0),X=_.renderer.$cursorLayer.getPixelPosition(G,!0),q=_.renderer.scroller.getBoundingClientRect(),Y=_.renderer.layerConfig.offset,J=_.renderer.scrollLeft,Q=function(ae,se){return ae=ae/F,se=se/L-.75,ae*ae+se*se};if(x.clientX<q.left){p="zoom";return}var ee=Q(x.clientX-q.left-V.left+J,x.clientY-q.top-V.top+Y),re=Q(x.clientX-q.left-X.left+J,x.clientY-q.top-X.top+Y);ee<3.5&&re<3.5&&(p=ee>re?"cursor":"anchor"),re<3.5?p="anchor":ee<3.5?p="cursor":p="scroll",v=setTimeout(N,450)}g=P},_),l.addListener(h,"touchend",function(x){E=_.$mouseHandler.isMousePressed=!1,S&&clearInterval(S),p=="zoom"?(p="",b=0):v?(_.selection.moveToPosition(C),b=0,R()):p=="scroll"?(k(),O()):R(),clearTimeout(v),v=null},_),l.addListener(h,"touchmove",function(x){v&&(clearTimeout(v),v=null);var T=x.touches;if(!(T.length>1||p=="zoom")){var L=T[0],F=u-L.clientX,P=m-L.clientY;if(p=="wait")if(F*F+P*P>4)p="cursor";else return x.preventDefault();u=L.clientX,m=L.clientY,x.clientX=L.clientX,x.clientY=L.clientY;var B=x.timeStamp,H=B-y;if(y=B,p=="scroll"){var j=new a(x,_);j.speed=1,j.wheelX=F,j.wheelY=P,10*Math.abs(F)<Math.abs(P)&&(F=0),10*Math.abs(P)<Math.abs(F)&&(P=0),H!=0&&(A=F/H,$=P/H),_._emit("mousewheel",j),j.propagationStopped||(A=$=0)}else{var W=new a(x,_),U=W.getDocumentPosition();p=="cursor"?_.selection.moveCursorToPosition(U):p=="anchor"&&_.selection.setSelectionAnchor(U.row,U.column),_.renderer.scrollCursorIntoView(U),x.preventDefault()}}},_);function k(){b+=60,S=setInterval(function(){b--<=0&&(clearInterval(S),S=null),Math.abs(A)<.01&&(A=0),Math.abs($)<.01&&($=0),b<20&&(A=.9*A),b<20&&($=.9*$);var x=_.session.getScrollTop();_.renderer.scrollBy(10*A,10*$),x==_.session.getScrollTop()&&(b=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,o,s){var a=n("../lib/event"),l=n("../lib/useragent"),d=n("./default_handlers").DefaultHandlers,h=n("./default_gutter_handler").GutterHandler,_=n("./mouse_event").MouseEvent,p=n("./dragdrop_handler").DragdropHandler,u=n("./touch_handler").addTouchListeners,m=n("../config"),g=(function(){function y(v){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var S=this;this.editor=v,new d(this),new h(this),new p(this);var b=function(A){var $=!document.hasFocus||!document.hasFocus()||!v.isFocused()&&document.activeElement==(v.textInput&&v.textInput.getElement());$&&window.focus(),v.focus(),setTimeout(function(){v.isFocused()||v.focus()})},C=v.renderer.getMouseEventTarget();a.addListener(C,"click",this.onMouseEvent.bind(this,"click"),v),a.addListener(C,"mousemove",this.onMouseMove.bind(this,"mousemove"),v),a.addMultiMouseDownListener([C,v.renderer.scrollBarV&&v.renderer.scrollBarV.inner,v.renderer.scrollBarH&&v.renderer.scrollBarH.inner,v.textInput&&v.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",v),a.addMouseWheelListener(v.container,this.onMouseWheel.bind(this,"mousewheel"),v),u(v.container,v);var w=v.renderer.$gutter;a.addListener(w,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),v),a.addListener(w,"click",this.onMouseEvent.bind(this,"gutterclick"),v),a.addListener(w,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),v),a.addListener(w,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),v),a.addListener(C,"mousedown",b,v),a.addListener(w,"mousedown",b,v),l.isIE&&v.renderer.scrollBarV&&(a.addListener(v.renderer.scrollBarV.element,"mousedown",b,v),a.addListener(v.renderer.scrollBarH.element,"mousedown",b,v)),v.on("mousemove",function(A){if(!(S.state||S.$dragDelay||!S.$dragEnabled)){var $=v.renderer.screenToTextCoordinates(A.x,A.y),E=v.session.selection.getRange(),D=v.renderer;!E.isEmpty()&&E.insideStart($.row,$.column)?D.setCursorStyle("default"):D.setCursorStyle("")}},v)}return y.prototype.onMouseEvent=function(v,S){this.editor.session&&this.editor._emit(v,new _(S,this.editor))},y.prototype.onMouseMove=function(v,S){var b=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!b||!b.length||this.editor._emit(v,new _(S,this.editor))},y.prototype.onMouseWheel=function(v,S){var b=new _(S,this.editor);b.speed=this.$scrollSpeed*2,b.wheelX=S.wheelX,b.wheelY=S.wheelY,this.editor._emit(v,b)},y.prototype.setState=function(v){this.state=v},y.prototype.captureMouse=function(v,S){this.x=v.x,this.y=v.y,this.isMousePressed=!0;var b=this.editor,C=this.editor.renderer;C.$isMousePressed=!0;var w=this,A=!0,$=function(O){if(O){if(l.isWebKit&&!O.which&&w.releaseMouse)return w.releaseMouse();w.x=O.clientX,w.y=O.clientY,S&&S(O),w.mouseEvent=new _(O,w.editor),w.$mouseMoved=!0}},E=function(O){b.off("beforeEndOperation",R),A=!1,b.session&&D(),w[w.state+"End"]&&w[w.state+"End"](O),w.state="",w.isMousePressed=C.$isMousePressed=!1,C.$keepTextAreaAtCursor&&C.$moveTextAreaToCursor(),w.$onCaptureMouseMove=w.releaseMouse=null,O&&w.onMouseEvent("mouseup",O),b.endOperation()},D=function(){w[w.state]&&w[w.state](),w.$mouseMoved=!1},I=function(){A&&(D(),a.nextFrame(I))};if(l.isOldIE&&v.domEvent.type=="dblclick")return setTimeout(function(){E(v)});var R=function(O){w.releaseMouse&&b.curOp.command.name&&b.curOp.selectionChanged&&(w[w.state+"End"]&&w[w.state+"End"](),w.state="",w.releaseMouse())};b.on("beforeEndOperation",R),b.startOperation({command:{name:"mouse"}}),w.$onCaptureMouseMove=$,w.releaseMouse=a.capture(this.editor.container,$,E),I()},y.prototype.cancelContextMenu=function(){var v=function(S){S&&S.domEvent&&S.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",v),S&&S.domEvent&&a.stopEvent(S.domEvent))}.bind(this);setTimeout(v,10),this.editor.on("nativecontextmenu",v)},y.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},y})();g.prototype.releaseMouse=null,m.defineOptions(g.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:l.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),o.MouseHandler=g}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,o,s){var a=n("../lib/dom"),l=(function(){function d(h){h.on("click",function(_){var p=_.getDocumentPosition(),u=h.session,m=u.getFoldAt(p.row,p.column,1);m&&(_.getAccelKey()?u.removeFold(m):u.expandFold(m),_.stop());var g=_.domEvent&&_.domEvent.target;g&&a.hasCssClass(g,"ace_inline_button")&&a.hasCssClass(g,"ace_toggle_wrap")&&(u.setOption("wrap",!u.getUseWrapMode()),h.renderer.scrollCursorIntoView())}),h.on("gutterclick",function(_){var p=h.renderer.$gutterLayer.getRegion(_);if(p=="foldWidgets"){var u=_.getDocumentPosition().row,m=h.session;m.foldWidgets&&m.foldWidgets[u]&&h.session.onFoldWidgetClick(u,_),h.isFocused()||h.focus(),_.stop()}}),h.on("gutterdblclick",function(_){var p=h.renderer.$gutterLayer.getRegion(_);if(p=="foldWidgets"){var u=_.getDocumentPosition().row,m=h.session,g=m.getParentFoldRangeData(u,!0),y=g.range||g.firstRange;if(y){u=y.start.row;var v=m.getFoldAt(u,m.getLine(u).length,1);v?m.removeFold(v):(m.addFold("...",y),h.renderer.scrollCursorIntoView({row:y.start.row,column:0}))}_.stop()}})}return d})();o.FoldHandler=l}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,o,s){var a=n("../lib/keys"),l=n("../lib/event"),d=(function(){function h(_){this.$editor=_,this.$data={editor:_},this.$handlers=[],this.setDefaultHandler(_.commands)}return h.prototype.setDefaultHandler=function(_){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=_,this.addKeyboardHandler(_,0)},h.prototype.setKeyboardHandler=function(_){var p=this.$handlers;if(p[p.length-1]!=_){for(;p[p.length-1]&&p[p.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(p[p.length-1]);this.addKeyboardHandler(_,1)}},h.prototype.addKeyboardHandler=function(_,p){if(_){typeof _=="function"&&!_.handleKeyboard&&(_.handleKeyboard=_);var u=this.$handlers.indexOf(_);u!=-1&&this.$handlers.splice(u,1),p==null?this.$handlers.push(_):this.$handlers.splice(p,0,_),u==-1&&_.attach&&_.attach(this.$editor)}},h.prototype.removeKeyboardHandler=function(_){var p=this.$handlers.indexOf(_);return p==-1?!1:(this.$handlers.splice(p,1),_.detach&&_.detach(this.$editor),!0)},h.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},h.prototype.getStatusText=function(){var _=this.$data,p=_.editor;return this.$handlers.map(function(u){return u.getStatusText&&u.getStatusText(p,_)||""}).filter(Boolean).join(" ")},h.prototype.$callKeyboardHandlers=function(_,p,u,m){for(var g,y=!1,v=this.$editor.commands,S=this.$handlers.length;S--&&(g=this.$handlers[S].handleKeyboard(this.$data,_,p,u,m),!(!(!g||!g.command)&&(g.command=="null"?y=!0:y=v.exec(g.command,this.$editor,g.args,m),y&&m&&_!=-1&&g.passEvent!=!0&&g.command.passEvent!=!0&&l.stopEvent(m),y))););return!y&&_==-1&&(g={command:"insertstring"},y=v.exec("insertstring",this.$editor,p)),y&&this.$editor._signal&&this.$editor._signal("keyboardActivity",g),y},h.prototype.onCommandKey=function(_,p,u){var m=a.keyCodeToString(u);return this.$callKeyboardHandlers(p,m,u,_)},h.prototype.onTextInput=function(_){return this.$callKeyboardHandlers(-1,_)},h})();o.KeyBinding=d}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,o,s){var a=0,l=0,d=!1,h=!1,_=!1,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m=0,g=1,y=0,v=1,S=2,b=3,C=4,w=5,A=6,$=7,E=8,D=9,I=10,R=11,O=12,N=13,M=14,k=15,x=16,T=17,L=18,F=[L,L,L,L,L,L,L,L,L,A,w,A,E,w,L,L,L,L,L,L,L,L,L,L,L,L,L,L,w,w,w,A,E,C,C,R,R,R,C,C,C,C,C,I,D,I,D,D,S,S,S,S,S,S,S,S,S,S,D,C,C,C,C,C,C,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,C,C,C,C,C,C,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,C,C,C,C,L,L,L,L,L,L,w,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,D,C,R,R,R,R,C,C,C,C,y,C,C,L,C,C,R,R,S,S,C,y,C,C,C,S,y,C,C,C,C,C],P=[E,E,E,E,E,E,E,E,E,E,E,L,L,L,y,v,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,E,w,N,M,k,x,T,D,R,R,R,R,R,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,D,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,E];function B(U,G,V,X){var q=a?u:p,Y=null,J=null,Q=null,ee=0,re=null,ae=null,se=-1,ie=null,ce=null,le=[];if(!X)for(ie=0,X=[];ie<V;ie++)X[ie]=W(U[ie]);for(l=a,d=!1,h=!1,_=!1,ce=0;ce<V;ce++){if(Y=ee,le[ce]=J=j(U,X,le,ce),ee=q[Y][J],re=ee&240,ee&=15,G[ce]=Q=q[ee][5],re>0)if(re==16){for(ie=se;ie<ce;ie++)G[ie]=1;se=-1}else se=-1;if(ae=q[ee][6],ae)se==-1&&(se=ce);else if(se>-1){for(ie=se;ie<ce;ie++)G[ie]=Q;se=-1}X[ce]==w&&(G[ce]=0),l|=Q}if(_){for(ie=0;ie<V;ie++)if(X[ie]==A){G[ie]=a;for(var ne=ie-1;ne>=0&&X[ne]==E;ne--)G[ne]=a}}}function H(U,G,V){if(!(l<U)){if(U==1&&a==g&&!h){V.reverse();return}for(var X=V.length,q=0,Y,J,Q,ee;q<X;){if(G[q]>=U){for(Y=q+1;Y<X&&G[Y]>=U;)Y++;for(J=q,Q=Y-1;J<Q;J++,Q--)ee=V[J],V[J]=V[Q],V[Q]=ee;q=Y}q++}}}function j(U,G,V,X){var q=G[X],Y,J,Q,ee;switch(q){case y:case v:d=!1;case C:case b:return q;case S:return d?b:S;case $:return d=!0,v;case E:return C;case D:return X<1||X+1>=G.length||(Y=V[X-1])!=S&&Y!=b||(J=G[X+1])!=S&&J!=b?C:(d&&(J=b),J==Y?J:C);case I:return Y=X>0?V[X-1]:w,Y==S&&X+1<G.length&&G[X+1]==S?S:C;case R:if(X>0&&V[X-1]==S)return S;if(d)return C;for(ee=X+1,Q=G.length;ee<Q&&G[ee]==R;)ee++;return ee<Q&&G[ee]==S?S:C;case O:for(Q=G.length,ee=X+1;ee<Q&&G[ee]==O;)ee++;if(ee<Q){var re=U[X],ae=re>=1425&&re<=2303||re==64286;if(Y=G[ee],ae&&(Y==v||Y==$))return v}return X<1||(Y=G[X-1])==w?C:V[X-1];case w:return d=!1,h=!0,a;case A:return _=!0,C;case N:case M:case x:case T:case k:d=!1;case L:return C}}function W(U){var G=U.charCodeAt(0),V=G>>8;return V==0?G>191?y:F[G]:V==5?/[\u0591-\u05f4]/.test(U)?v:y:V==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(U)?O:/[\u0660-\u0669\u066b-\u066c]/.test(U)?b:G==1642?R:/[\u06f0-\u06f9]/.test(U)?S:$:V==32&&G<=8287?P[G&255]:V==254&&G>=65136?$:C}o.L=y,o.R=v,o.EN=S,o.ON_R=3,o.AN=4,o.R_H=5,o.B=6,o.RLE=7,o.DOT="",o.doBidiReorder=function(U,G,V){if(U.length<2)return{};var X=U.split(""),q=new Array(X.length),Y=new Array(X.length),J=[];a=V?g:m,B(X,J,X.length,G);for(var Q=0;Q<q.length;q[Q]=Q,Q++);H(2,J,q),H(1,J,q);for(var Q=0;Q<q.length-1;Q++)G[Q]===b?J[Q]=o.AN:J[Q]===v&&(G[Q]>$&&G[Q]<N||G[Q]===C||G[Q]===L)?J[Q]=o.ON_R:Q>0&&X[Q-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(X[Q])&&(J[Q-1]=J[Q]=o.R_H,Q++);X[X.length-1]===o.DOT&&(J[X.length-1]=o.B),X[0]===""&&(J[0]=o.RLE);for(var Q=0;Q<q.length;Q++)Y[Q]=J[q[Q]];return{logicalFromVisual:q,bidiLevels:Y}},o.hasBidiCharacters=function(U,G){for(var V=!1,X=0;X<U.length;X++)G[X]=W(U.charAt(X)),!V&&(G[X]==v||G[X]==$||G[X]==b)&&(V=!0);return V},o.getVisualFromLogicalIdx=function(U,G){for(var V=0;V<G.logicalFromVisual.length;V++)if(G.logicalFromVisual[V]==U)return V;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,o,s){var a=n("./lib/bidiutil"),l=n("./lib/lang"),d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,h=(function(){function _(p){this.session=p,this.bidiMap={},this.currentRow=null,this.bidiUtil=a,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=d.test(p.getValue())}return _.prototype.isBidiRow=function(p,u,m){return this.seenBidi?(p!==this.currentRow&&(this.currentRow=p,this.updateRowLine(u,m),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},_.prototype.onChange=function(p){this.seenBidi?this.currentRow=null:p.action=="insert"&&d.test(p.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},_.prototype.getDocumentRow=function(){var p=0,u=this.session.$screenRowCache;if(u.length){var m=this.session.$getRowCacheIndex(u,this.currentRow);m>=0&&(p=this.session.$docRowCache[m])}return p},_.prototype.getSplitIndex=function(){var p=0,u=this.session.$screenRowCache;if(u.length)for(var m,g=this.session.$getRowCacheIndex(u,this.currentRow);this.currentRow-p>0&&(m=this.session.$getRowCacheIndex(u,this.currentRow-p-1),m===g);)g=m,p++;else p=this.currentRow;return p},_.prototype.updateRowLine=function(p,u){p===void 0&&(p=this.getDocumentRow());var m=p===this.session.getLength()-1,g=m?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(p),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var y=this.session.$wrapData[p];y&&(u===void 0&&(u=this.getSplitIndex()),u>0&&y.length?(this.wrapIndent=y.indent,this.wrapOffset=this.wrapIndent*this.charWidths[a.L],this.line=u<y.length?this.line.substring(y[u-1],y[u]):this.line.substring(y[y.length-1])):this.line=this.line.substring(0,y[u]),u==y.length&&(this.line+=this.showInvisibles?g:a.DOT))}else this.line+=this.showInvisibles?g:a.DOT;var v=this.session,S=0,b;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(C,w){return C==="	"||v.isFullWidth(C.charCodeAt(0))?(b=C==="	"?v.getScreenTabSize(w+S):2,S+=b-1,l.stringRepeat(a.DOT,b)):C}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==a.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},_.prototype.updateBidiMap=function(){var p=[];a.hasBidiCharacters(this.line,p)||this.isRtlDir?this.bidiMap=a.doBidiReorder(this.line,p,this.isRtlDir):this.bidiMap={}},_.prototype.markAsDirty=function(){this.currentRow=null},_.prototype.updateCharacterWidths=function(p){if(this.characterWidth!==p.$characterSize.width){this.fontMetrics=p;var u=this.characterWidth=p.$characterSize.width,m=p.$measureCharWidth("");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=u,this.charWidths[a.R]=this.charWidths[a.AN]=m,this.charWidths[a.R_H]=m*.45,this.charWidths[a.B]=this.charWidths[a.RLE]=0,this.currentRow=null}},_.prototype.setShowInvisibles=function(p){this.showInvisibles=p,this.currentRow=null},_.prototype.setEolChar=function(p){this.EOL=p},_.prototype.setContentWidth=function(p){this.contentWidth=p},_.prototype.isRtlLine=function(p){return this.$isRtl?!0:p!=null?this.session.getLine(p).charAt(0)==this.RLE:this.isRtlDir},_.prototype.setRtlDirection=function(p,u){for(var m=p.getCursorPosition(),g=p.selection.getSelectionAnchor().row;g<=m.row;g++)!u&&p.session.getLine(g).charAt(0)===p.session.$bidiHandler.RLE?p.session.doc.removeInLine(g,0,1):u&&p.session.getLine(g).charAt(0)!==p.session.$bidiHandler.RLE&&p.session.doc.insert({column:0,row:g},p.session.$bidiHandler.RLE)},_.prototype.getPosLeft=function(p){p-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,m=p>u?this.session.getOverwrite()?p:p-1:u,g=a.getVisualFromLogicalIdx(m,this.bidiMap),y=this.bidiMap.bidiLevels,v=0;!this.session.getOverwrite()&&p<=u&&y[g]%2!==0&&g++;for(var S=0;S<g;S++)v+=this.charWidths[y[S]];return!this.session.getOverwrite()&&p>u&&y[g]%2===0&&(v+=this.charWidths[y[g]]),this.wrapIndent&&(v+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(v+=this.rtlLineOffset),v},_.prototype.getSelections=function(p,u){var m=this.bidiMap,g=m.bidiLevels,y,v=[],S=0,b=Math.min(p,u)-this.wrapIndent,C=Math.max(p,u)-this.wrapIndent,w=!1,A=!1,$=0;this.wrapIndent&&(S+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var E,D=0;D<g.length;D++)E=m.logicalFromVisual[D],y=g[D],w=E>=b&&E<C,w&&!A?$=S:!w&&A&&v.push({left:$,width:S-$}),S+=this.charWidths[y],A=w;if(w&&D===g.length&&v.push({left:$,width:S-$}),this.isRtlDir)for(var I=0;I<v.length;I++)v[I].left+=this.rtlLineOffset;return v},_.prototype.offsetToCol=function(m){this.isRtlDir&&(m-=this.rtlLineOffset);var u=0,m=Math.max(m,0),g=0,y=0,v=this.bidiMap.bidiLevels,S=this.charWidths[v[y]];for(this.wrapIndent&&(m-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);m>g+S/2;){if(g+=S,y===v.length-1){S=0;break}S=this.charWidths[v[++y]]}return y>0&&v[y-1]%2!==0&&v[y]%2===0?(m<g&&y--,u=this.bidiMap.logicalFromVisual[y]):y>0&&v[y-1]%2===0&&v[y]%2!==0?u=1+(m>g?this.bidiMap.logicalFromVisual[y]:this.bidiMap.logicalFromVisual[y-1]):this.isRtlDir&&y===v.length-1&&S===0&&v[y-1]%2===0||!this.isRtlDir&&y===0&&v[y]%2!==0?u=1+this.bidiMap.logicalFromVisual[y]:(y>0&&v[y-1]%2!==0&&S!==0&&y--,u=this.bidiMap.logicalFromVisual[y]),u===0&&this.isRtlDir&&u++,u+this.wrapIndent},_})();o.BidiHandler=h}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,o,s){var a=n("./lib/oop"),l=n("./lib/lang"),d=n("./lib/event_emitter").EventEmitter,h=n("./range").Range,_=(function(){function p(u){this.session=u,this.doc=u.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var m=this;this.cursor.on("change",function(g){m.$cursorChanged=!0,m.$silent||m._emit("changeCursor"),!m.$isEmpty&&!m.$silent&&m._emit("changeSelection"),!m.$keepDesiredColumnOnChange&&g.old.column!=g.value.column&&(m.$desiredColumn=null)}),this.anchor.on("change",function(){m.$anchorChanged=!0,!m.$isEmpty&&!m.$silent&&m._emit("changeSelection")})}return p.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},p.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},p.prototype.getCursor=function(){return this.lead.getPosition()},p.prototype.setAnchor=function(u,m){this.$isEmpty=!1,this.anchor.setPosition(u,m)},p.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},p.prototype.getSelectionLead=function(){return this.lead.getPosition()},p.prototype.isBackwards=function(){var u=this.anchor,m=this.lead;return u.row>m.row||u.row==m.row&&u.column>m.column},p.prototype.getRange=function(){var u=this.anchor,m=this.lead;return this.$isEmpty?h.fromPoints(m,m):this.isBackwards()?h.fromPoints(m,u):h.fromPoints(u,m)},p.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},p.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},p.prototype.setRange=function(u,m){var g=m?u.end:u.start,y=m?u.start:u.end;this.$setSelection(g.row,g.column,y.row,y.column)},p.prototype.$setSelection=function(u,m,g,y){if(!this.$silent){var v=this.$isEmpty,S=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(u,m),this.cursor.setPosition(g,y),this.$isEmpty=!h.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||v!=this.$isEmpty||S)&&this._emit("changeSelection")}},p.prototype.$moveSelection=function(u){var m=this.lead;this.$isEmpty&&this.setSelectionAnchor(m.row,m.column),u.call(this)},p.prototype.selectTo=function(u,m){this.$moveSelection(function(){this.moveCursorTo(u,m)})},p.prototype.selectToPosition=function(u){this.$moveSelection(function(){this.moveCursorToPosition(u)})},p.prototype.moveTo=function(u,m){this.clearSelection(),this.moveCursorTo(u,m)},p.prototype.moveToPosition=function(u){this.clearSelection(),this.moveCursorToPosition(u)},p.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},p.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},p.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},p.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},p.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},p.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},p.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},p.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},p.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},p.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},p.prototype.getWordRange=function(u,m){if(typeof m>"u"){var g=u||this.lead;u=g.row,m=g.column}return this.session.getWordRange(u,m)},p.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},p.prototype.selectAWord=function(){var u=this.getCursor(),m=this.session.getAWordRange(u.row,u.column);this.setSelectionRange(m)},p.prototype.getLineRange=function(u,m){var g=typeof u=="number"?u:this.lead.row,y,v=this.session.getFoldLine(g);return v?(g=v.start.row,y=v.end.row):y=g,m===!0?new h(g,0,y,this.session.getLine(y).length):new h(g,0,y+1,0)},p.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},p.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},p.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},p.prototype.wouldMoveIntoSoftTab=function(u,m,g){var y=u.column,v=u.column+m;return g<0&&(y=u.column-m,v=u.column),this.session.isTabStop(u)&&this.doc.getLine(u.row).slice(y,v).split(" ").length-1==m},p.prototype.moveCursorLeft=function(){var u=this.lead.getPosition(),m;if(m=this.session.getFoldAt(u.row,u.column,-1))this.moveCursorTo(m.start.row,m.start.column);else if(u.column===0)u.row>0&&this.moveCursorTo(u.row-1,this.doc.getLine(u.row-1).length);else{var g=this.session.getTabSize();this.wouldMoveIntoSoftTab(u,g,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-g):this.moveCursorBy(0,-1)}},p.prototype.moveCursorRight=function(){var u=this.lead.getPosition(),m;if(m=this.session.getFoldAt(u.row,u.column,1))this.moveCursorTo(m.end.row,m.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var g=this.session.getTabSize(),u=this.lead;this.wouldMoveIntoSoftTab(u,g,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,g):this.moveCursorBy(0,1)}},p.prototype.moveCursorLineStart=function(){var u=this.lead.row,m=this.lead.column,g=this.session.documentToScreenRow(u,m),y=this.session.screenToDocumentPosition(g,0),v=this.session.getDisplayLine(u,null,y.row,y.column),S=v.match(/^\s*/);S[0].length!=m&&!this.session.$useEmacsStyleLineStart&&(y.column+=S[0].length),this.moveCursorToPosition(y)},p.prototype.moveCursorLineEnd=function(){var u=this.lead,m=this.session.getDocumentLastRowColumnPosition(u.row,u.column);if(this.lead.column==m.column){var g=this.session.getLine(m.row);if(m.column==g.length){var y=g.search(/\s+$/);y>0&&(m.column=y)}}this.moveCursorTo(m.row,m.column)},p.prototype.moveCursorFileEnd=function(){var u=this.doc.getLength()-1,m=this.doc.getLine(u).length;this.moveCursorTo(u,m)},p.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},p.prototype.moveCursorLongWordRight=function(){var u=this.lead.row,m=this.lead.column,g=this.doc.getLine(u),y=g.substring(m);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var v=this.session.getFoldAt(u,m,1);if(v){this.moveCursorTo(v.end.row,v.end.column);return}if(this.session.nonTokenRe.exec(y)&&(m+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,y=g.substring(m)),m>=g.length){this.moveCursorTo(u,g.length),this.moveCursorRight(),u<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(y)&&(m+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,m)},p.prototype.moveCursorLongWordLeft=function(){var u=this.lead.row,m=this.lead.column,g;if(g=this.session.getFoldAt(u,m,-1)){this.moveCursorTo(g.start.row,g.start.column);return}var y=this.session.getFoldStringAt(u,m,-1);y==null&&(y=this.doc.getLine(u).substring(0,m));var v=l.stringReverse(y);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(v)&&(m-=this.session.nonTokenRe.lastIndex,v=v.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),m<=0){this.moveCursorTo(u,0),this.moveCursorLeft(),u>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(v)&&(m-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,m)},p.prototype.$shortWordEndIndex=function(u){var m=0,g,y=/\s/,v=this.session.tokenRe;if(v.lastIndex=0,this.session.tokenRe.exec(u))m=this.session.tokenRe.lastIndex;else{for(;(g=u[m])&&y.test(g);)m++;if(m<1){for(v.lastIndex=0;(g=u[m])&&!v.test(g);)if(v.lastIndex=0,m++,y.test(g))if(m>2){m--;break}else{for(;(g=u[m])&&y.test(g);)m++;if(m>2)break}}}return v.lastIndex=0,m},p.prototype.moveCursorShortWordRight=function(){var u=this.lead.row,m=this.lead.column,g=this.doc.getLine(u),y=g.substring(m),v=this.session.getFoldAt(u,m,1);if(v)return this.moveCursorTo(v.end.row,v.end.column);if(m==g.length){var S=this.doc.getLength();do u++,y=this.doc.getLine(u);while(u<S&&/^\s*$/.test(y));/^\s+/.test(y)||(y=""),m=0}var b=this.$shortWordEndIndex(y);this.moveCursorTo(u,m+b)},p.prototype.moveCursorShortWordLeft=function(){var u=this.lead.row,m=this.lead.column,g;if(g=this.session.getFoldAt(u,m,-1))return this.moveCursorTo(g.start.row,g.start.column);var y=this.session.getLine(u).substring(0,m);if(m===0){do u--,y=this.doc.getLine(u);while(u>0&&/^\s*$/.test(y));m=y.length,/\s+$/.test(y)||(y="")}var v=l.stringReverse(y),S=this.$shortWordEndIndex(v);return this.moveCursorTo(u,m-S)},p.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},p.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},p.prototype.moveCursorBy=function(u,m){var g=this.session.documentToScreenPosition(this.lead.row,this.lead.column),y;if(m===0&&(u!==0&&(this.session.$bidiHandler.isBidiRow(g.row,this.lead.row)?(y=this.session.$bidiHandler.getPosLeft(g.column),g.column=Math.round(y/this.session.$bidiHandler.charWidths[0])):y=g.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?g.column=this.$desiredColumn:this.$desiredColumn=g.column),u!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var v=this.session.lineWidgets[this.lead.row];u<0?u-=v.rowsAbove||0:u>0&&(u+=v.rowCount-(v.rowsAbove||0))}var S=this.session.screenToDocumentPosition(g.row+u,g.column,y);u!==0&&m===0&&S.row===this.lead.row&&(S.column,this.lead.column),this.moveCursorTo(S.row,S.column+m,m===0)},p.prototype.moveCursorToPosition=function(u){this.moveCursorTo(u.row,u.column)},p.prototype.moveCursorTo=function(u,m,g){var y=this.session.getFoldAt(u,m,1);y&&(u=y.start.row,m=y.start.column),this.$keepDesiredColumnOnChange=!0;var v=this.session.getLine(u);/[\uDC00-\uDFFF]/.test(v.charAt(m))&&v.charAt(m-1)&&(this.lead.row==u&&this.lead.column==m+1?m=m-1:m=m+1),this.lead.setPosition(u,m),this.$keepDesiredColumnOnChange=!1,g||(this.$desiredColumn=null)},p.prototype.moveCursorToScreen=function(u,m,g){var y=this.session.screenToDocumentPosition(u,m);this.moveCursorTo(y.row,y.column,g)},p.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},p.prototype.fromOrientedRange=function(u){this.setSelectionRange(u,u.cursor==u.start),this.$desiredColumn=u.desiredColumn||this.$desiredColumn},p.prototype.toOrientedRange=function(u){var m=this.getRange();return u?(u.start.column=m.start.column,u.start.row=m.start.row,u.end.column=m.end.column,u.end.row=m.end.row):u=m,u.cursor=this.isBackwards()?u.start:u.end,u.desiredColumn=this.$desiredColumn,u},p.prototype.getRangeOfMovements=function(u){var m=this.getCursor();try{u(this);var g=this.getCursor();return h.fromPoints(m,g)}catch{return h.fromPoints(m,m)}finally{this.moveCursorToPosition(m)}},p.prototype.toJSON=function(){if(this.rangeCount)var u=this.ranges.map(function(m){var g=m.clone();return g.isBackwards=m.cursor==m.start,g});else{var u=this.getRange();u.isBackwards=this.isBackwards()}return u},p.prototype.fromJSON=function(u){if(u.start==null)if(this.rangeList&&u.length>1){this.toSingleRange(u[0]);for(var m=u.length;m--;){var g=h.fromPoints(u[m].start,u[m].end);u[m].isBackwards&&(g.cursor=g.start),this.addRange(g,!0)}return}else u=u[0];this.rangeList&&this.toSingleRange(u),this.setSelectionRange(u,u.isBackwards)},p.prototype.isEqual=function(u){if((u.length||this.rangeCount)&&u.length!=this.rangeCount)return!1;if(!u.length||!this.ranges)return this.getRange().isEqual(u);for(var m=this.ranges.length;m--;)if(!this.ranges[m].isEqual(u[m]))return!1;return!0},p})();_.prototype.setSelectionAnchor=_.prototype.setAnchor,_.prototype.getSelectionAnchor=_.prototype.getAnchor,_.prototype.setSelectionRange=_.prototype.setRange,a.implement(_.prototype,d),o.Selection=_}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,o,s){var a=n("./lib/report_error").reportError,l=2e3,d=(function(){function h(_){this.splitRegex,this.states=_,this.regExps={},this.matchMappings={};for(var p in this.states){for(var u=this.states[p],m=[],g=0,y=this.matchMappings[p]={defaultToken:"text"},v="g",S=[],b=0;b<u.length;b++){var C=u[b];if(C.defaultToken&&(y.defaultToken=C.defaultToken),C.caseInsensitive&&v.indexOf("i")===-1&&(v+="i"),C.unicode&&v.indexOf("u")===-1&&(v+="u"),C.regex!=null){C.regex instanceof RegExp&&(C.regex=C.regex.toString().slice(1,-1));var w=C.regex,A=new RegExp("(?:("+w+")|(.))").exec("a").length-2;Array.isArray(C.token)?C.token.length==1||A==1?C.token=C.token[0]:A-1!=C.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:C,groupCount:A-1}),C.token=C.token[0]):(C.tokenArray=C.token,C.token=null,C.onMatch=this.$arrayTokens):typeof C.token=="function"&&!C.onMatch&&(A>1?C.onMatch=this.$applyToken:C.onMatch=C.token),A>1&&(/\\\d/.test(C.regex)?w=C.regex.replace(/\\([0-9]+)/g,function($,E){return"\\"+(parseInt(E,10)+g+1)}):(A=1,w=this.removeCapturingGroups(C.regex)),!C.splitRegex&&typeof C.token!="string"&&S.push(C)),y[g]=b,g+=A,m.push(w),C.onMatch||(C.onMatch=null)}}m.length||(y[0]=0,m.push("$")),S.forEach(function($){$.splitRegex=this.createSplitterRegexp($.regex,v)},this),this.regExps[p]=new RegExp("("+m.join(")|(")+")|($)",v)}}return h.prototype.$setMaxTokenCount=function(_){l=_|0},h.prototype.$applyToken=function(_){var p=this.splitRegex.exec(_).slice(1),u=this.token.apply(this,p);if(typeof u=="string")return[{type:u,value:_}];for(var m=[],g=0,y=u.length;g<y;g++)p[g]&&(m[m.length]={type:u[g],value:p[g]});return m},h.prototype.$arrayTokens=function(_){if(!_)return[];var p=this.splitRegex.exec(_);if(!p)return"text";for(var u=[],m=this.tokenArray,g=0,y=m.length;g<y;g++)p[g+1]&&(u[u.length]={type:m[g],value:p[g+1]});return u},h.prototype.removeCapturingGroups=function(_){var p=_.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(u,m){return m?"(?:":u});return p},h.prototype.createSplitterRegexp=function(_,p){if(_.indexOf("(?=")!=-1){var u=0,m=!1,g={};_.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(y,v,S,b,C,w){return m?m=C!="]":C?m=!0:b?(u==g.stack&&(g.end=w+1,g.stack=-1),u--):S&&(u++,S.length!=1&&(g.stack=u,g.start=w)),y}),g.end!=null&&/^\)*$/.test(_.substr(g.end))&&(_=_.substring(0,g.start)+_.substr(g.end))}return _.charAt(0)!="^"&&(_="^"+_),_.charAt(_.length-1)!="$"&&(_+="$"),new RegExp(_,(p||"").replace("g",""))},h.prototype.getLineTokens=function(_,p){if(p&&typeof p!="string"){var u=p.slice(0);p=u[0],p==="#tmp"&&(u.shift(),p=u.shift())}else var u=[];var m=p||"start",g=this.states[m];g||(m="start",g=this.states[m]);var y=this.matchMappings[m],v=this.regExps[m];v.lastIndex=0;for(var S,b=[],C=0,w=0,A={type:null,value:""};S=v.exec(_);){var $=y.defaultToken,E=null,D=S[0],I=v.lastIndex;if(I-D.length>C){var R=_.substring(C,I-D.length);A.type==$?A.value+=R:(A.type&&b.push(A),A={type:$,value:R})}for(var O=0;O<S.length-2;O++)if(S[O+1]!==void 0){E=g[y[O]],E.onMatch?$=E.onMatch(D,m,u,_):$=E.token,E.next&&(typeof E.next=="string"?m=E.next:m=E.next(m,u),g=this.states[m],g||(this.reportError("state doesn't exist",m),m="start",g=this.states[m]),y=this.matchMappings[m],C=I,v=this.regExps[m],v.lastIndex=I),E.consumeLineEnd&&(C=I);break}if(D){if(typeof $=="string")(!E||E.merge!==!1)&&A.type===$?A.value+=D:(A.type&&b.push(A),A={type:$,value:D});else if($){A.type&&b.push(A),A={type:null,value:""};for(var O=0;O<$.length;O++)b.push($[O])}}if(C==_.length)break;if(C=I,w++>l){for(w>2*_.length&&this.reportError("infinite loop with in ace tokenizer",{startState:p,line:_});C<_.length;)A.type&&b.push(A),A={value:_.substring(C,C+=500),type:"overflow"};m="start",u=[];break}}return A.type&&b.push(A),u.length>1&&u[0]!==m&&u.unshift("#tmp",m),{tokens:b,state:u.length?u:m}},h})();d.prototype.reportError=a,o.Tokenizer=d}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,o,s){var a=n("../lib/deep_copy").deepCopy,l;l=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(_,p){if(!p){for(var u in _)this.$rules[u]=_[u];return}for(var u in _){for(var m=_[u],g=0;g<m.length;g++){var y=m[g];(y.next||y.onMatch)&&(typeof y.next=="string"&&y.next.indexOf(p)!==0&&(y.next=p+y.next),y.nextState&&y.nextState.indexOf(p)!==0&&(y.nextState=p+y.nextState))}this.$rules[p+u]=m}},this.getRules=function(){return this.$rules},this.embedRules=function(_,p,u,m,g){var y=typeof _=="function"?new _().getRules():_;if(m)for(var v=0;v<m.length;v++)m[v]=p+m[v];else{m=[];for(var S in y)m.push(p+S)}if(this.addRules(y,p),u)for(var b=Array.prototype[g?"push":"unshift"],v=0;v<m.length;v++)b.apply(this.$rules[m[v]],a(u));this.$embeds||(this.$embeds=[]),this.$embeds.push(p)},this.getEmbeds=function(){return this.$embeds};var d=function(_,p){return(_!="start"||p.length)&&p.unshift(this.nextState,_),this.nextState},h=function(_,p){return p.shift(),p.shift()||"start"};this.normalizeRules=function(){var _=0,p=this.$rules;function u(m){var g=p[m];g.processed=!0;for(var y=0;y<g.length;y++){var v=g[y],S=null;Array.isArray(v)&&(S=v,v={}),!v.regex&&v.start&&(v.regex=v.start,v.next||(v.next=[]),v.next.push({defaultToken:v.token},{token:v.token+".end",regex:v.end||v.start,next:"pop"}),v.token=v.token+".start",v.push=!0);var b=v.next||v.push;if(b&&Array.isArray(b)){var C=v.stateName;C||(C=v.token,typeof C!="string"&&(C=C[0]||""),p[C]&&(C+=_++)),p[C]=b,v.next=C,u(C)}else b=="pop"&&(v.next=h);if(v.push&&(v.nextState=v.next||v.push,v.next=d,delete v.push),v.rules)for(var w in v.rules)p[w]?p[w].push&&p[w].push.apply(p[w],v.rules[w]):p[w]=v.rules[w];var A=typeof v=="string"?v:v.include;if(A&&(A==="$self"&&(A="start"),Array.isArray(A)?S=A.map(function(E){return p[E]}):S=p[A]),S){var $=[y,1].concat(S);v.noEscape&&($=$.filter(function(E){return!E.next})),g.splice.apply(g,$),y--}v.keywordMap&&(v.token=this.createKeywordMapper(v.keywordMap,v.defaultToken||"text",v.caseInsensitive),delete v.defaultToken)}}Object.keys(p).forEach(u,this)},this.createKeywordMapper=function(_,p,u,m){var g=Object.create(null);return this.$keywordList=[],Object.keys(_).forEach(function(y){for(var v=_[y],S=v.split(m||"|"),b=S.length;b--;){var C=S[b];this.$keywordList.push(C),u&&(C=C.toLowerCase()),g[C]=y}},this),_=null,u?function(y){return g[y.toLowerCase()]||p}:function(y){return g[y]||p}},this.getKeywords=function(){return this.$keywords}}).call(l.prototype),o.TextHighlightRules=l}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,o,s){var a;a=function(){this.$behaviours={}},(function(){this.add=function(l,d,h){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[l]:this.$behaviours[l]={}}this.$behaviours[l][d]=h},this.addBehaviours=function(l){for(var d in l)for(var h in l[d])this.add(d,h,l[d][h])},this.remove=function(l){this.$behaviours&&this.$behaviours[l]&&delete this.$behaviours[l]},this.inherit=function(l,d){if(typeof l=="function")var h=new l().getBehaviours(d);else var h=l.getBehaviours(d);this.addBehaviours(h)},this.getBehaviours=function(l){if(l){for(var d={},h=0;h<l.length;h++)this.$behaviours[l[h]]&&(d[l[h]]=this.$behaviours[l[h]]);return d}else return this.$behaviours}}).call(a.prototype),o.Behaviour=a}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,o,s){var a=n("./range").Range,l=(function(){function d(h,_,p){this.$session=h,this.$row=_,this.$rowTokens=h.getTokens(_);var u=h.getTokenAt(_,p);this.$tokenIndex=u?u.index:-1}return d.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},d.prototype.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,h||(h=this.$session.getLength()),this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},d.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},d.prototype.getCurrentTokenRow=function(){return this.$row},d.prototype.getCurrentTokenColumn=function(){var h=this.$rowTokens,_=this.$tokenIndex,p=h[_].start;if(p!==void 0)return p;for(p=0;_>0;)_-=1,p+=h[_].value.length;return p},d.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},d.prototype.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],_=this.getCurrentTokenColumn();return new a(this.$row,_,this.$row,_+h.value.length)},d})();o.TokenIterator=l}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,o,s){var a=n("../../lib/oop"),l=n("../behaviour").Behaviour,d=n("../../token_iterator").TokenIterator,h=n("../../lib/lang"),_=["text","paren.rparen","rparen","paren","punctuation.operator"],p=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u,m={},g={'"':'"',"'":"'"},y=function(b){var C=-1;if(b.multiSelect&&(C=b.selection.index,m.rangeCount!=b.multiSelect.rangeCount&&(m={rangeCount:b.multiSelect.rangeCount})),m[C])return u=m[C];u=m[C]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},v=function(b,C,w,A){var $=b.end.row-b.start.row;return{text:w+C+A,selection:[0,b.start.column+1,$,b.end.column+($?0:1)]}},S;S=function(b){b=b||{},this.add("braces","insertion",function(C,w,A,$,E){var D=A.getCursorPosition(),I=$.doc.getLine(D.row);if(E=="{"){y(A);var R=A.getSelectionRange(),O=$.doc.getTextRange(R),N=$.getTokenAt(D.row,D.column);if(O!==""&&O!=="{"&&A.getWrapBehavioursEnabled())return v(R,O,"{","}");if(N&&/(?:string)\.quasi|\.xml/.test(N.type)){var M=[/tag\-(?:open|name)/,/attribute\-name/];return M.some(function(B){return B.test(N.type)})||/(string)\.quasi/.test(N.type)&&N.value[D.column-N.start-1]!=="$"?void 0:(S.recordAutoInsert(A,$,"}"),{text:"{}",selection:[1,1]})}else if(S.isSaneInsertion(A,$))return/[\]\}\)]/.test(I[D.column])||A.inMultiSelectMode||b.braces?(S.recordAutoInsert(A,$,"}"),{text:"{}",selection:[1,1]}):(S.recordMaybeInsert(A,$,"{"),{text:"{",selection:[1,1]})}else if(E=="}"){y(A);var k=I.substring(D.column,D.column+1);if(k=="}"){var x=$.$findOpeningBracket("}",{column:D.column+1,row:D.row});if(x!==null&&S.isAutoInsertedClosing(D,I,E))return S.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(E==`
`||E==`\r
`){y(A);var T="";S.isMaybeInsertedClosing(D,I)&&(T=h.stringRepeat("}",u.maybeInsertedBrackets),S.clearMaybeInsertedClosing());var k=I.substring(D.column,D.column+1);if(k==="}"){var L=$.findMatchingBracket({row:D.row,column:D.column+1},"}");if(!L)return null;var F=this.$getIndent($.getLine(L.row))}else if(T)var F=this.$getIndent(I);else{S.clearMaybeInsertedClosing();return}var P=F+$.getTabString();return{text:`
`+P+`
`+F+T,selection:[1,P.length,1,P.length]}}else S.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(C,w,A,$,E){var D=$.doc.getTextRange(E);if(!E.isMultiLine()&&D=="{"){y(A);var I=$.doc.getLine(E.start.row),R=I.substring(E.end.column,E.end.column+1);if(R=="}")return E.end.column++,E;u.maybeInsertedBrackets--}}),this.add("parens","insertion",function(C,w,A,$,E){if(E=="("){y(A);var D=A.getSelectionRange(),I=$.doc.getTextRange(D);if(I!==""&&A.getWrapBehavioursEnabled())return v(D,I,"(",")");if(S.isSaneInsertion(A,$))return S.recordAutoInsert(A,$,")"),{text:"()",selection:[1,1]}}else if(E==")"){y(A);var R=A.getCursorPosition(),O=$.doc.getLine(R.row),N=O.substring(R.column,R.column+1);if(N==")"){var M=$.$findOpeningBracket(")",{column:R.column+1,row:R.row});if(M!==null&&S.isAutoInsertedClosing(R,O,E))return S.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(C,w,A,$,E){var D=$.doc.getTextRange(E);if(!E.isMultiLine()&&D=="("){y(A);var I=$.doc.getLine(E.start.row),R=I.substring(E.start.column+1,E.start.column+2);if(R==")")return E.end.column++,E}}),this.add("brackets","insertion",function(C,w,A,$,E){if(E=="["){y(A);var D=A.getSelectionRange(),I=$.doc.getTextRange(D);if(I!==""&&A.getWrapBehavioursEnabled())return v(D,I,"[","]");if(S.isSaneInsertion(A,$))return S.recordAutoInsert(A,$,"]"),{text:"[]",selection:[1,1]}}else if(E=="]"){y(A);var R=A.getCursorPosition(),O=$.doc.getLine(R.row),N=O.substring(R.column,R.column+1);if(N=="]"){var M=$.$findOpeningBracket("]",{column:R.column+1,row:R.row});if(M!==null&&S.isAutoInsertedClosing(R,O,E))return S.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(C,w,A,$,E){var D=$.doc.getTextRange(E);if(!E.isMultiLine()&&D=="["){y(A);var I=$.doc.getLine(E.start.row),R=I.substring(E.start.column+1,E.start.column+2);if(R=="]")return E.end.column++,E}}),this.add("string_dquotes","insertion",function(C,w,A,$,E){var D=$.$mode.$quotes||g;if(E.length==1&&D[E]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(E)!=-1)return;y(A);var I=E,R=A.getSelectionRange(),O=$.doc.getTextRange(R);if(O!==""&&(O.length!=1||!D[O])&&A.getWrapBehavioursEnabled())return v(R,O,I,I);if(!O){var N=A.getCursorPosition(),M=$.doc.getLine(N.row),k=M.substring(N.column-1,N.column),x=M.substring(N.column,N.column+1),T=$.getTokenAt(N.row,N.column),L=$.getTokenAt(N.row,N.column+1);if(k=="\\"&&T&&/escape/.test(T.type))return null;var F=T&&/string|escape/.test(T.type),P=!L||/string|escape/.test(L.type),B;if(x==I)B=F!==P,B&&/string\.end/.test(L.type)&&(B=!1);else{if(F&&!P||F&&P)return null;var H=$.$mode.tokenRe;H.lastIndex=0;var j=H.test(k);H.lastIndex=0;var W=H.test(x),U=$.$mode.$pairQuotesAfter,G=U&&U[I]&&U[I].test(k);if(!G&&j||W||x&&!/[\s;,.})\]\\]/.test(x))return null;var V=M[N.column-2];if(k==I&&(V==I||H.test(V)))return null;B=!0}return{text:B?I+I:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(C,w,A,$,E){var D=$.$mode.$quotes||g,I=$.doc.getTextRange(E);if(!E.isMultiLine()&&D.hasOwnProperty(I)){y(A);var R=$.doc.getLine(E.start.row),O=R.substring(E.start.column+1,E.start.column+2);if(O==I)return E.end.column++,E}}),b.closeDocComment!==!1&&this.add("doc comment end","insertion",function(C,w,A,$,E){if(C==="doc-start"&&(E===`
`||E===`\r
`)&&A.selection.isEmpty()){var D=A.getCursorPosition();if(D.column===0)return;for(var I=$.doc.getLine(D.row),R=$.doc.getLine(D.row+1),O=$.getTokens(D.row),N=0,M=0;M<O.length;M++){N+=O[M].value.length;var k=O[M];if(N>=D.column){if(N===D.column){if(!/\.doc/.test(k.type))return;if(/\*\//.test(k.value)){var x=O[M+1];if(!x||!/\.doc/.test(x.type))return}}var T=D.column-(N-k.value.length),L=k.value.indexOf("*/"),F=k.value.indexOf("/**",L>-1?L+2:0);if(F!==-1&&T>F&&T<F+3||L!==-1&&F!==-1&&T>=L&&T<=F||!/\.doc/.test(k.type))return;break}}var P=this.$getIndent(I);if(/\s*\*/.test(R))return/^\s*\*/.test(I)?{text:E+P+"* ",selection:[1,2+P.length,1,2+P.length]}:{text:E+P+" * ",selection:[1,3+P.length,1,3+P.length]};if(/\/\*\*/.test(I.substring(0,D.column)))return{text:E+P+" * "+E+" "+P+"*/",selection:[1,4+P.length,1,4+P.length]}}})},S.isSaneInsertion=function(b,C){var w=b.getCursorPosition(),A=new d(C,w.row,w.column);if(!this.$matchTokenType(A.getCurrentToken()||"text",_)){if(/[)}\]]/.test(b.session.getLine(w.row)[w.column]))return!0;var $=new d(C,w.row,w.column+1);if(!this.$matchTokenType($.getCurrentToken()||"text",_))return!1}return A.stepForward(),A.getCurrentTokenRow()!==w.row||this.$matchTokenType(A.getCurrentToken()||"text",p)},S.$matchTokenType=function(b,C){return C.indexOf(b.type||b)>-1},S.recordAutoInsert=function(b,C,w){var A=b.getCursorPosition(),$=C.doc.getLine(A.row);this.isAutoInsertedClosing(A,$,u.autoInsertedLineEnd[0])||(u.autoInsertedBrackets=0),u.autoInsertedRow=A.row,u.autoInsertedLineEnd=w+$.substr(A.column),u.autoInsertedBrackets++},S.recordMaybeInsert=function(b,C,w){var A=b.getCursorPosition(),$=C.doc.getLine(A.row);this.isMaybeInsertedClosing(A,$)||(u.maybeInsertedBrackets=0),u.maybeInsertedRow=A.row,u.maybeInsertedLineStart=$.substr(0,A.column)+w,u.maybeInsertedLineEnd=$.substr(A.column),u.maybeInsertedBrackets++},S.isAutoInsertedClosing=function(b,C,w){return u.autoInsertedBrackets>0&&b.row===u.autoInsertedRow&&w===u.autoInsertedLineEnd[0]&&C.substr(b.column)===u.autoInsertedLineEnd},S.isMaybeInsertedClosing=function(b,C){return u.maybeInsertedBrackets>0&&b.row===u.maybeInsertedRow&&C.substr(b.column)===u.maybeInsertedLineEnd&&C.substr(0,b.column)==u.maybeInsertedLineStart},S.popAutoInsertedClosing=function(){u.autoInsertedLineEnd=u.autoInsertedLineEnd.substr(1),u.autoInsertedBrackets--},S.clearMaybeInsertedClosing=function(){u&&(u.maybeInsertedBrackets=0,u.maybeInsertedRow=-1)},a.inherits(S,l),o.CstyleBehaviour=S}),ace.define("ace/unicode",["require","exports","module"],function(n,o,s){for(var a=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],l=0,d=[],h=0;h<a.length;h+=2)d.push(l+=a[h]),a[h+1]&&d.push(45,l+=a[h+1]);o.wordChars=String.fromCharCode.apply(null,d)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,o,s){var a=n("../config"),l=n("../tokenizer").Tokenizer,d=n("./text_highlight_rules").TextHighlightRules,h=n("./behaviour/cstyle").CstyleBehaviour,_=n("../unicode"),p=n("../lib/lang"),u=n("../token_iterator").TokenIterator,m=n("../range").Range,g;g=function(){this.HighlightRules=d},(function(){this.$defaultBehaviour=new h,this.tokenRe=new RegExp("^["+_.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+_.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(y,v,S,b){var C=v.doc,w=!0,A=!0,$=1/0,E=v.getTabSize(),D=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var O=this.lineCommentStart.map(p.escapeRegExp).join("|"),I=this.lineCommentStart[0];else var O=p.escapeRegExp(this.lineCommentStart),I=this.lineCommentStart;O=new RegExp("^(\\s*)(?:"+O+") ?"),D=v.getUseSoftTabs();var k=function(W,U){var G=W.match(O);if(G){var V=G[1].length,X=G[0].length;!L(W,V,X)&&G[0][X-1]==" "&&X--,C.removeInLine(U,V,X)}},T=I+" ",M=function(W,U){(!w||/\S/.test(W))&&(L(W,$,$)?C.insertInLine({row:U,column:$},T):C.insertInLine({row:U,column:$},I))},x=function(W,U){return O.test(W)},L=function(W,U,G){for(var V=0;U--&&W.charAt(U)==" ";)V++;if(V%E!=0)return!1;for(var V=0;W.charAt(G++)==" ";)V++;return E>2?V%E!=E-1:V%E==0}}else{if(!this.blockComment)return!1;var I=this.blockComment.start,R=this.blockComment.end,O=new RegExp("^(\\s*)(?:"+p.escapeRegExp(I)+")"),N=new RegExp("(?:"+p.escapeRegExp(R)+")\\s*$"),M=function(B,H){x(B,H)||(!w||/\S/.test(B))&&(C.insertInLine({row:H,column:B.length},R),C.insertInLine({row:H,column:$},I))},k=function(B,H){var j;(j=B.match(N))&&C.removeInLine(H,B.length-j[0].length,B.length),(j=B.match(O))&&C.removeInLine(H,j[1].length,j[0].length)},x=function(B,H){if(O.test(B))return!0;for(var j=v.getTokens(H),W=0;W<j.length;W++)if(j[W].type==="comment")return!0}}function F(B){for(var H=S;H<=b;H++)B(C.getLine(H),H)}var P=1/0;F(function(B,H){var j=B.search(/\S/);j!==-1?(j<$&&($=j),A&&!x(B,H)&&(A=!1)):P>B.length&&(P=B.length)}),$==1/0&&($=P,w=!1,A=!1),D&&$%E!=0&&($=Math.floor($/E)*E),F(A?k:M)},this.toggleBlockComment=function(y,v,S,b){var C=this.blockComment;if(C){!C.start&&C[0]&&(C=C[0]);var w=new u(v,b.row,b.column),A=w.getCurrentToken();v.selection;var $=v.selection.toOrientedRange(),E,D;if(A&&/comment/.test(A.type)){for(var I,R;A&&/comment/.test(A.type);){var O=A.value.indexOf(C.start);if(O!=-1){var N=w.getCurrentTokenRow(),M=w.getCurrentTokenColumn()+O;I=new m(N,M,N,M+C.start.length);break}A=w.stepBackward()}for(var w=new u(v,b.row,b.column),A=w.getCurrentToken();A&&/comment/.test(A.type);){var O=A.value.indexOf(C.end);if(O!=-1){var N=w.getCurrentTokenRow(),M=w.getCurrentTokenColumn()+O;R=new m(N,M,N,M+C.end.length);break}A=w.stepForward()}R&&v.remove(R),I&&(v.remove(I),E=I.start.row,D=-C.start.length)}else D=C.start.length,E=S.start.row,v.insert(S.end,C.end),v.insert(S.start,C.start);$.start.row==E&&($.start.column+=D),$.end.row==E&&($.end.column+=D),v.selection.fromOrientedRange($)}},this.getNextLineIndent=function(y,v,S){return this.$getIndent(v)},this.checkOutdent=function(y,v,S){return!1},this.autoOutdent=function(y,v,S){},this.$getIndent=function(y){return y.match(/^\s*/)[0]},this.createWorker=function(y){return null},this.createModeDelegates=function(y){this.$embeds=[],this.$modes={};for(var v in y)if(y[v]){var S=y[v],b=S.prototype.$id,C=a.$modes[b];C||(a.$modes[b]=C=new S),a.$modes[v]||(a.$modes[v]=C),this.$embeds.push(v),this.$modes[v]=C}for(var w=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],A=function(E){(function(D){var I=w[E],R=D[I];D[w[E]]=function(){return this.$delegator(I,arguments,R)}})($)},$=this,v=0;v<w.length;v++)A(v)},this.$delegator=function(y,v,S){var b=v[0]||"start";if(typeof b!="string"){if(Array.isArray(b[2])){var C=b[2][b[2].length-1],w=this.$modes[C];if(w)return w[y].apply(w,[b[1]].concat([].slice.call(v,1)))}b=b[0]||"start"}for(var A=0;A<this.$embeds.length;A++)if(this.$modes[this.$embeds[A]]){var $=b.split(this.$embeds[A]);if(!$[0]&&$[1]){v[0]=$[1];var w=this.$modes[this.$embeds[A]];return w[y].apply(w,v)}}var E=S.apply(this,v);return S?E:void 0},this.transformAction=function(y,v,S,b,C){if(this.$behaviour){var w=this.$behaviour.getBehaviours();for(var A in w)if(w[A][v]){var $=w[A][v].apply(this,arguments);if($)return $}}},this.getKeywords=function(y){if(!this.completionKeywords){var v=this.$tokenizer.rules,S=[];for(var b in v)for(var C=v[b],w=0,A=C.length;w<A;w++)if(typeof C[w].token=="string")/keyword|support|storage/.test(C[w].token)&&S.push(C[w].regex);else if(typeof C[w].token=="object"){for(var $=0,E=C[w].token.length;$<E;$++)if(/keyword|support|storage/.test(C[w].token[$])){var b=C[w].regex.match(/\(.+?\)/g)[$];S.push(b.substr(1,b.length-2))}}this.completionKeywords=S}return y?S.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(y,v,S,b){var C=this.$keywordList||this.$createKeywordList();return C.map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(g.prototype),o.Mode=g}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,o,s){var a=n("./lib/dom"),l=(function(){function d(h){this.session=h,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return d.prototype.getRowLength=function(h){var _;return this.lineWidgets?_=this.lineWidgets[h]&&this.lineWidgets[h].rowCount||0:_=0,!this.$useWrapMode||!this.$wrapData[h]?1+_:this.$wrapData[h].length+1+_},d.prototype.$getWidgetScreenLength=function(){var h=0;return this.lineWidgets.forEach(function(_){_&&_.rowCount&&!_.hidden&&(h+=_.rowCount)}),h},d.prototype.$onChangeEditor=function(h){this.attach(h.editor)},d.prototype.attach=function(h){h&&h.widgetManager&&h.widgetManager!=this&&h.widgetManager.detach(),this.editor!=h&&(this.detach(),this.editor=h,h&&(h.widgetManager=this,h.renderer.on("beforeRender",this.measureWidgets),h.renderer.on("afterRender",this.renderWidgets)))},d.prototype.detach=function(h){var _=this.editor;if(_){this.editor=null,_.widgetManager=null,_.renderer.off("beforeRender",this.measureWidgets),_.renderer.off("afterRender",this.renderWidgets);var p=this.session.lineWidgets;p&&p.forEach(function(u){u&&u.el&&u.el.parentNode&&(u._inDocument=!1,u.el.parentNode.removeChild(u.el))})}},d.prototype.updateOnFold=function(h,_){var p=_.lineWidgets;if(!(!p||!h.action)){for(var u=h.data,m=u.start.row,g=u.end.row,y=h.action=="add",v=m+1;v<g;v++)p[v]&&(p[v].hidden=y);p[g]&&(y?p[m]?p[g].hidden=y:p[m]=p[g]:(p[m]==p[g]&&(p[m]=void 0),p[g].hidden=y))}},d.prototype.updateOnChange=function(h){var _=this.session.lineWidgets;if(_){var p=h.start.row,u=h.end.row-p;if(u!==0)if(h.action=="remove"){var m=_.splice(p+1,u);!_[p]&&m[m.length-1]&&(_[p]=m.pop()),m.forEach(function(y){y&&this.removeLineWidget(y)},this),this.$updateRows()}else{var g=new Array(u);_[p]&&_[p].column!=null&&h.start.column>_[p].column&&p++,g.unshift(p,0),_.splice.apply(_,g),this.$updateRows()}}},d.prototype.$updateRows=function(){var h=this.session.lineWidgets;if(h){var _=!0;h.forEach(function(p,u){if(p)for(_=!1,p.row=u;p.$oldWidget;)p.$oldWidget.row=u,p=p.$oldWidget}),_&&(this.session.lineWidgets=null)}},d.prototype.$registerLineWidget=function(h){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var _=this.session.lineWidgets[h.row];return _&&(h.$oldWidget=_,_.el&&_.el.parentNode&&(_.el.parentNode.removeChild(_.el),_._inDocument=!1)),this.session.lineWidgets[h.row]=h,h},d.prototype.addLineWidget=function(h){if(this.$registerLineWidget(h),h.session=this.session,!this.editor)return h;var _=this.editor.renderer;h.html&&!h.el&&(h.el=a.createElement("div"),h.el.innerHTML=h.html),h.text&&!h.el&&(h.el=a.createElement("div"),h.el.textContent=h.text),h.el&&(a.addCssClass(h.el,"ace_lineWidgetContainer"),h.className&&a.addCssClass(h.el,h.className),h.el.style.position="absolute",h.el.style.zIndex="5",_.container.appendChild(h.el),h._inDocument=!0,h.coverGutter||(h.el.style.zIndex="3"),h.pixelHeight==null&&(h.pixelHeight=h.el.offsetHeight)),h.rowCount==null&&(h.rowCount=h.pixelHeight/_.layerConfig.lineHeight);var p=this.session.getFoldAt(h.row,0);if(h.$fold=p,p){var u=this.session.lineWidgets;h.row==p.end.row&&!u[p.start.row]?u[p.start.row]=h:h.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows(),this.renderWidgets(null,_),this.onWidgetChanged(h),h},d.prototype.removeLineWidget=function(h){if(h._inDocument=!1,h.session=null,h.el&&h.el.parentNode&&h.el.parentNode.removeChild(h.el),h.editor&&h.editor.destroy)try{h.editor.destroy()}catch{}if(this.session.lineWidgets){var _=this.session.lineWidgets[h.row];if(_==h)this.session.lineWidgets[h.row]=h.$oldWidget,h.$oldWidget&&this.onWidgetChanged(h.$oldWidget);else for(;_;){if(_.$oldWidget==h){_.$oldWidget=h.$oldWidget;break}_=_.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows()},d.prototype.getWidgetsAtRow=function(h){for(var _=this.session.lineWidgets,p=_&&_[h],u=[];p;)u.push(p),p=p.$oldWidget;return u},d.prototype.onWidgetChanged=function(h){this.session._changedWidgets.push(h),this.editor&&this.editor.renderer.updateFull()},d.prototype.measureWidgets=function(h,_){var p=this.session._changedWidgets,u=_.layerConfig;if(!(!p||!p.length)){for(var m=1/0,g=0;g<p.length;g++){var y=p[g];if(!(!y||!y.el)&&y.session==this.session){if(!y._inDocument){if(this.session.lineWidgets[y.row]!=y)continue;y._inDocument=!0,_.container.appendChild(y.el)}y.h=y.el.offsetHeight,y.fixedWidth||(y.w=y.el.offsetWidth,y.screenWidth=Math.ceil(y.w/u.characterWidth));var v=y.h/u.lineHeight;y.coverLine&&(v-=this.session.getRowLineCount(y.row),v<0&&(v=0)),y.rowCount!=v&&(y.rowCount=v,y.row<m&&(m=y.row))}}m!=1/0&&(this.session._emit("changeFold",{data:{start:{row:m}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},d.prototype.renderWidgets=function(h,_){var p=_.layerConfig,u=this.session.lineWidgets;if(u){for(var m=Math.min(this.firstRow,p.firstRow),g=Math.max(this.lastRow,p.lastRow,u.length);m>0&&!u[m];)m--;this.firstRow=p.firstRow,this.lastRow=p.lastRow,_.$cursorLayer.config=p;for(var y=m;y<=g;y++){var v=u[y];if(!(!v||!v.el)){if(v.hidden){v.el.style.top=-100-(v.pixelHeight||0)+"px";continue}v._inDocument||(v._inDocument=!0,_.container.appendChild(v.el));var S=_.$cursorLayer.getPixelPosition({row:y,column:0},!0).top;v.coverLine||(S+=p.lineHeight*this.session.getRowLineCount(v.row)),v.el.style.top=S-p.offset+"px";var b=v.coverGutter?0:_.gutterWidth;v.fixedWidth||(b-=_.scrollLeft),v.el.style.left=b+"px",v.fullWidth&&v.screenWidth&&(v.el.style.minWidth=p.width+2*p.padding+"px"),v.fixedWidth?v.el.style.right=_.scrollBar.getWidth()+"px":v.el.style.right=""}}}},d})();o.LineWidgets=l}),ace.define("ace/apply_delta",["require","exports","module"],function(n,o,s){o.applyDelta=function(a,l,d){var h=l.start.row,_=l.start.column,p=a[h]||"";switch(l.action){case"insert":var u=l.lines;if(u.length===1)a[h]=p.substring(0,_)+l.lines[0]+p.substring(_);else{var m=[h,1].concat(l.lines);a.splice.apply(a,m),a[h]=p.substring(0,_)+a[h],a[h+l.lines.length-1]+=p.substring(_)}break;case"remove":var g=l.end.column,y=l.end.row;h===y?a[h]=p.substring(0,_)+p.substring(g):a.splice(h,y-h+1,p.substring(0,_)+a[y].substring(g));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,o,s){var a=n("./lib/oop"),l=n("./lib/event_emitter").EventEmitter,d=(function(){function p(u,m,g){this.$onChange=this.onChange.bind(this),this.attach(u),typeof m!="number"?this.setPosition(m.row,m.column):this.setPosition(m,g)}return p.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},p.prototype.getDocument=function(){return this.document},p.prototype.onChange=function(u){if(!(u.start.row==u.end.row&&u.start.row!=this.row)&&!(u.start.row>this.row)){var m=_(u,{row:this.row,column:this.column},this.$insertRight);this.setPosition(m.row,m.column,!0)}},p.prototype.setPosition=function(u,m,g){var y;if(g?y={row:u,column:m}:y=this.$clipPositionToDocument(u,m),!(this.row==y.row&&this.column==y.column)){var v={row:this.row,column:this.column};this.row=y.row,this.column=y.column,this._signal("change",{old:v,value:y})}},p.prototype.detach=function(){this.document.off("change",this.$onChange)},p.prototype.attach=function(u){this.document=u||this.document,this.document.on("change",this.$onChange)},p.prototype.$clipPositionToDocument=function(u,m){var g={};return u>=this.document.getLength()?(g.row=Math.max(0,this.document.getLength()-1),g.column=this.document.getLine(g.row).length):u<0?(g.row=0,g.column=0):(g.row=u,g.column=Math.min(this.document.getLine(g.row).length,Math.max(0,m))),m<0&&(g.column=0),g},p})();d.prototype.$insertRight=!1,a.implement(d.prototype,l);function h(p,u,m){var g=m?p.column<=u.column:p.column<u.column;return p.row<u.row||p.row==u.row&&g}function _(p,u,m){var g=p.action=="insert",y=(g?1:-1)*(p.end.row-p.start.row),v=(g?1:-1)*(p.end.column-p.start.column),S=p.start,b=g?S:p.end;return h(u,S,m)?{row:u.row,column:u.column}:h(b,u,!m)?{row:u.row+y,column:u.column+(u.row==b.row?v:0)}:{row:S.row,column:S.column}}o.Anchor=d}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,o,s){var a=n("./lib/oop"),l=n("./apply_delta").applyDelta,d=n("./lib/event_emitter").EventEmitter,h=n("./range").Range,_=n("./anchor").Anchor,p=(function(){function u(m){this.$lines=[""],m.length===0?this.$lines=[""]:Array.isArray(m)?this.insertMergedLines({row:0,column:0},m):this.insert({row:0,column:0},m)}return u.prototype.setValue=function(m){var g=this.getLength()-1;this.remove(new h(0,0,g,this.getLine(g).length)),this.insert({row:0,column:0},m||"")},u.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},u.prototype.createAnchor=function(m,g){return new _(this,m,g)},u.prototype.$detectNewLine=function(m){var g=m.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=g?g[1]:`
`,this._signal("changeNewLineMode")},u.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},u.prototype.setNewLineMode=function(m){this.$newLineMode!==m&&(this.$newLineMode=m,this._signal("changeNewLineMode"))},u.prototype.getNewLineMode=function(){return this.$newLineMode},u.prototype.isNewLine=function(m){return m==`\r
`||m=="\r"||m==`
`},u.prototype.getLine=function(m){return this.$lines[m]||""},u.prototype.getLines=function(m,g){return this.$lines.slice(m,g+1)},u.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},u.prototype.getLength=function(){return this.$lines.length},u.prototype.getTextRange=function(m){return this.getLinesForRange(m).join(this.getNewLineCharacter())},u.prototype.getLinesForRange=function(m){var g;if(m.start.row===m.end.row)g=[this.getLine(m.start.row).substring(m.start.column,m.end.column)];else{g=this.getLines(m.start.row,m.end.row),g[0]=(g[0]||"").substring(m.start.column);var y=g.length-1;m.end.row-m.start.row==y&&(g[y]=g[y].substring(0,m.end.column))}return g},u.prototype.insertLines=function(m,g){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(m,g)},u.prototype.removeLines=function(m,g){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(m,g)},u.prototype.insertNewLine=function(m){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(m,["",""])},u.prototype.insert=function(m,g){return this.getLength()<=1&&this.$detectNewLine(g),this.insertMergedLines(m,this.$split(g))},u.prototype.insertInLine=function(m,g){var y=this.clippedPos(m.row,m.column),v=this.pos(m.row,m.column+g.length);return this.applyDelta({start:y,end:v,action:"insert",lines:[g]},!0),this.clonePos(v)},u.prototype.clippedPos=function(m,g){var y=this.getLength();m===void 0?m=y:m<0?m=0:m>=y&&(m=y-1,g=void 0);var v=this.getLine(m);return g==null&&(g=v.length),g=Math.min(Math.max(g,0),v.length),{row:m,column:g}},u.prototype.clonePos=function(m){return{row:m.row,column:m.column}},u.prototype.pos=function(m,g){return{row:m,column:g}},u.prototype.$clipPosition=function(m){var g=this.getLength();return m.row>=g?(m.row=Math.max(0,g-1),m.column=this.getLine(g-1).length):(m.row=Math.max(0,m.row),m.column=Math.min(Math.max(m.column,0),this.getLine(m.row).length)),m},u.prototype.insertFullLines=function(m,g){m=Math.min(Math.max(m,0),this.getLength());var y=0;m<this.getLength()?(g=g.concat([""]),y=0):(g=[""].concat(g),m--,y=this.$lines[m].length),this.insertMergedLines({row:m,column:y},g)},u.prototype.insertMergedLines=function(m,g){var y=this.clippedPos(m.row,m.column),v={row:y.row+g.length-1,column:(g.length==1?y.column:0)+g[g.length-1].length};return this.applyDelta({start:y,end:v,action:"insert",lines:g}),this.clonePos(v)},u.prototype.remove=function(m){var g=this.clippedPos(m.start.row,m.start.column),y=this.clippedPos(m.end.row,m.end.column);return this.applyDelta({start:g,end:y,action:"remove",lines:this.getLinesForRange({start:g,end:y})}),this.clonePos(g)},u.prototype.removeInLine=function(m,g,y){var v=this.clippedPos(m,g),S=this.clippedPos(m,y);return this.applyDelta({start:v,end:S,action:"remove",lines:this.getLinesForRange({start:v,end:S})},!0),this.clonePos(v)},u.prototype.removeFullLines=function(m,g){m=Math.min(Math.max(0,m),this.getLength()-1),g=Math.min(Math.max(0,g),this.getLength()-1);var y=g==this.getLength()-1&&m>0,v=g<this.getLength()-1,S=y?m-1:m,b=y?this.getLine(S).length:0,C=v?g+1:g,w=v?0:this.getLine(C).length,A=new h(S,b,C,w),$=this.$lines.slice(m,g+1);return this.applyDelta({start:A.start,end:A.end,action:"remove",lines:this.getLinesForRange(A)}),$},u.prototype.removeNewLine=function(m){m<this.getLength()-1&&m>=0&&this.applyDelta({start:this.pos(m,this.getLine(m).length),end:this.pos(m+1,0),action:"remove",lines:["",""]})},u.prototype.replace=function(m,g){if(m instanceof h||(m=h.fromPoints(m.start,m.end)),g.length===0&&m.isEmpty())return m.start;if(g==this.getTextRange(m))return m.end;this.remove(m);var y;return g?y=this.insert(m.start,g):y=m.start,y},u.prototype.applyDeltas=function(m){for(var g=0;g<m.length;g++)this.applyDelta(m[g])},u.prototype.revertDeltas=function(m){for(var g=m.length-1;g>=0;g--)this.revertDelta(m[g])},u.prototype.applyDelta=function(m,g){var y=m.action=="insert";(y?m.lines.length<=1&&!m.lines[0]:!h.comparePoints(m.start,m.end))||(y&&m.lines.length>2e4?this.$splitAndapplyLargeDelta(m,2e4):(l(this.$lines,m,g),this._signal("change",m)))},u.prototype.$safeApplyDelta=function(m){var g=this.$lines.length;(m.action=="remove"&&m.start.row<g&&m.end.row<g||m.action=="insert"&&m.start.row<=g)&&this.applyDelta(m)},u.prototype.$splitAndapplyLargeDelta=function(m,g){for(var y=m.lines,v=y.length-g+1,S=m.start.row,b=m.start.column,C=0,w=0;C<v;C=w){w+=g-1;var A=y.slice(C,w);A.push(""),this.applyDelta({start:this.pos(S+C,b),end:this.pos(S+w,b=0),action:m.action,lines:A},!0)}m.lines=y.slice(C),m.start.row=S+C,m.start.column=b,this.applyDelta(m,!0)},u.prototype.revertDelta=function(m){this.$safeApplyDelta({start:this.clonePos(m.start),end:this.clonePos(m.end),action:m.action=="insert"?"remove":"insert",lines:m.lines.slice()})},u.prototype.indexToPosition=function(m,g){for(var y=this.$lines||this.getAllLines(),v=this.getNewLineCharacter().length,S=g||0,b=y.length;S<b;S++)if(m-=y[S].length+v,m<0)return{row:S,column:m+y[S].length+v};return{row:b-1,column:m+y[b-1].length+v}},u.prototype.positionToIndex=function(m,g){for(var y=this.$lines||this.getAllLines(),v=this.getNewLineCharacter().length,S=0,b=Math.min(m.row,y.length),C=g||0;C<b;++C)S+=y[C].length+v;return S+m.column},u.prototype.$split=function(m){return m.split(/\r\n|\r|\n/)},u})();p.prototype.$autoNewLine="",p.prototype.$newLineMode="auto",a.implement(p.prototype,d),o.Document=p}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,o,s){var a=n("./lib/oop"),l=n("./lib/event_emitter").EventEmitter,d=(function(){function h(_,p){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=_;var u=this;this.$worker=function(){if(u.running){for(var m=new Date,g=u.currentLine,y=-1,v=u.doc,S=g;u.lines[g];)g++;var b=v.getLength(),C=0;for(u.running=!1;g<b;){u.$tokenizeRow(g),y=g;do g++;while(u.lines[g]);if(C++,C%5===0&&new Date-m>20){u.running=setTimeout(u.$worker,20);break}}u.currentLine=g,y==-1&&(y=g),S<=y&&u.fireUpdateEvent(S,y)}}}return h.prototype.setTokenizer=function(_){this.tokenizer=_,this.lines=[],this.states=[],this.start(0)},h.prototype.setDocument=function(_){this.doc=_,this.lines=[],this.states=[],this.stop()},h.prototype.fireUpdateEvent=function(_,p){var u={first:_,last:p};this._signal("update",{data:u})},h.prototype.start=function(_){this.currentLine=Math.min(_||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},h.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},h.prototype.$updateOnChange=function(_){var p=_.start.row,u=_.end.row-p;if(u===0)this.lines[p]=null;else if(_.action=="remove")this.lines.splice(p,u+1,null),this.states.splice(p,u+1,null);else{var m=Array(u+1);m.unshift(p,1),this.lines.splice.apply(this.lines,m),this.states.splice.apply(this.states,m)}this.currentLine=Math.min(p,this.currentLine,this.doc.getLength()),this.stop()},h.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},h.prototype.getTokens=function(_){return this.lines[_]||this.$tokenizeRow(_)},h.prototype.getState=function(_){return this.currentLine==_&&this.$tokenizeRow(_),this.states[_]||"start"},h.prototype.$tokenizeRow=function(_){var p=this.doc.getLine(_),u=this.states[_-1],m=this.tokenizer.getLineTokens(p,u,_);return this.states[_]+""!=m.state+""?(this.states[_]=m.state,this.lines[_+1]=null,this.currentLine>_+1&&(this.currentLine=_+1)):this.currentLine==_&&(this.currentLine=_+1),this.lines[_]=m.tokens},h.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},h})();a.implement(d.prototype,l),o.BackgroundTokenizer=d}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,o,s){var a=n("./lib/lang"),l=n("./range").Range,d=(function(){function h(_,p,u){u===void 0&&(u="text"),this.setRegexp(_),this.clazz=p,this.type=u,this.docLen=0}return h.prototype.setRegexp=function(_){this.regExp+""!=_+""&&(this.regExp=_,this.cache=[])},h.prototype.update=function(_,p,u,m){if(this.regExp){for(var g=m.firstRow,y=m.lastRow,v={},S=u.$editor&&u.$editor.$search,b=S&&S.$isMultilineSearch(u.$editor.getLastSearchOptions()),C=g;C<=y;C++){var w=this.cache[C];if(w==null||u.getValue().length!=this.docLen){if(b){w=[];var A=S.$multiLineForward(u,this.regExp,C,y);if(A){var $=A.endRow<=y?A.endRow-1:y;$>C&&(C=$),w.push(new l(A.startRow,A.startCol,A.endRow,A.endCol))}w.length>this.MAX_RANGES&&(w=w.slice(0,this.MAX_RANGES))}else w=a.getMatchOffsets(u.getLine(C),this.regExp),w.length>this.MAX_RANGES&&(w=w.slice(0,this.MAX_RANGES)),w=w.map(function(R){return new l(C,R.offset,C,R.offset+R.length)});this.cache[C]=w.length?w:""}if(w.length!==0)for(var E=w.length;E--;){var D=w[E].toScreenRange(u),I=D.toString();v[I]||(v[I]=!0,p.drawSingleLineMarker(_,D,this.clazz,m))}}this.docLen=u.getValue().length}},h})();d.prototype.MAX_RANGES=500,o.SearchHighlight=d}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,o,s){var a=(function(){function $(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return $.prototype.addSession=function(E){this.$session=E},$.prototype.add=function(E,D,I){if(!this.$fromUndo&&E!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),D===!1||!this.lastDeltas){this.lastDeltas=[];var R=this.$undoStack.length;R>this.$undoDepth-1&&this.$undoStack.splice(0,R-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),E.id=this.$rev=++this.$maxRev}(E.action=="remove"||E.action=="insert")&&(this.$lastDelta=E),this.lastDeltas.push(E)}},$.prototype.addSelection=function(E,D){this.selections.push({value:E,rev:D||this.$rev})},$.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},$.prototype.markIgnored=function(E,D){D==null&&(D=this.$rev+1);for(var I=this.$undoStack,R=I.length;R--;){var O=I[R][0];if(O.id<=E)break;O.id<D&&(O.ignore=!0)}this.lastDeltas=null},$.prototype.getSelection=function(E,D){for(var I=this.selections,R=I.length;R--;){var O=I[R];if(O.rev<E)return D&&(O=I[R+1]),O}},$.prototype.getRevision=function(){return this.$rev},$.prototype.getDeltas=function(E,D){D==null&&(D=this.$rev+1);for(var I=this.$undoStack,R=null,O=0,N=I.length;N--;){var M=I[N][0];if(M.id<D&&!R&&(R=N+1),M.id<=E){O=N+1;break}}return I.slice(O,R)},$.prototype.getChangedRanges=function(E,D){D==null&&(D=this.$rev+1)},$.prototype.getChangedLines=function(E,D){D==null&&(D=this.$rev+1)},$.prototype.undo=function(E,D){this.lastDeltas=null;var I=this.$undoStack;if(l(I,I.length)){E||(E=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var R=I.pop(),O=null;return R&&(O=E.undoChanges(R,D),this.$redoStack.push(R),this.$syncRev()),this.$fromUndo=!1,O}},$.prototype.redo=function(E,D){if(this.lastDeltas=null,E||(E=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var I=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);A(this.$redoStack,I),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(N){N[0].id=++this.$maxRev},this)}var R=this.$redoStack.pop(),O=null;return R&&(O=E.redoChanges(R,D),this.$undoStack.push(R),this.$syncRev()),this.$fromUndo=!1,O},$.prototype.$syncRev=function(){var E=this.$undoStack,D=E[E.length-1],I=D&&D[0].id||0;this.$redoStackBaseRev=I,this.$rev=I},$.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},$.prototype.canUndo=function(){return this.$undoStack.length>0},$.prototype.canRedo=function(){return this.$redoStack.length>0},$.prototype.bookmark=function(E){E==null&&(E=this.$rev),this.mark=E},$.prototype.isAtBookmark=function(){return this.$rev===this.mark},$.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},$.prototype.fromJSON=function(E){this.reset(),this.$undoStack=E.$undoStack,this.$redoStack=E.$redoStack},$.prototype.$prettyPrint=function(E){return E?u(E):u(this.$undoStack)+`
---
`+u(this.$redoStack)},$})();a.prototype.hasUndo=a.prototype.canUndo,a.prototype.hasRedo=a.prototype.canRedo,a.prototype.isClean=a.prototype.isAtBookmark,a.prototype.markClean=a.prototype.bookmark;function l($,E){for(var D=E;D--;){var I=$[D];if(I&&!I[0].ignore){for(;D<E-1;){var R=y($[D],$[D+1]);$[D]=R[0],$[D+1]=R[1],D++}return!0}}}var d=n("./range").Range,h=d.comparePoints;d.comparePoints;function _($){return{row:$.row,column:$.column}}function p($){return{start:_($.start),end:_($.end),action:$.action,lines:$.lines.slice()}}function u($){if($=$||this,Array.isArray($))return $.map(u).join(`
`);var E="";return $.action?(E=$.action=="insert"?"+":"-",E+="["+$.lines+"]"):$.value&&(Array.isArray($.value)?E=$.value.map(m).join(`
`):E=m($.value)),$.start&&(E+=m($)),($.id||$.rev)&&(E+="	("+($.id||$.rev)+")"),E}function m($){return $.start.row+":"+$.start.column+"=>"+$.end.row+":"+$.end.column}function g($,E){var D=$.action=="insert",I=E.action=="insert";if(D&&I)if(h(E.start,$.end)>=0)S(E,$,-1);else if(h(E.start,$.start)<=0)S($,E,1);else return null;else if(D&&!I)if(h(E.start,$.end)>=0)S(E,$,-1);else if(h(E.end,$.start)<=0)S($,E,-1);else return null;else if(!D&&I)if(h(E.start,$.start)>=0)S(E,$,1);else if(h(E.start,$.start)<=0)S($,E,1);else return null;else if(!D&&!I)if(h(E.start,$.start)>=0)S(E,$,1);else if(h(E.end,$.start)<=0)S($,E,-1);else return null;return[E,$]}function y($,E){for(var D=$.length;D--;)for(var I=0;I<E.length;I++)if(!g($[D],E[I])){for(;D<$.length;){for(;I--;)g(E[I],$[D]);I=E.length,D++}return[$,E]}return $.selectionBefore=E.selectionBefore=$.selectionAfter=E.selectionAfter=null,[E,$]}function v($,E){var D=$.action=="insert",I=E.action=="insert";if(D&&I)h($.start,E.start)<0?S(E,$,1):S($,E,1);else if(D&&!I)h($.start,E.end)>=0?S($,E,-1):(h($.start,E.start)<=0||S($,d.fromPoints(E.start,$.start),-1),S(E,$,1));else if(!D&&I)h(E.start,$.end)>=0?S(E,$,-1):(h(E.start,$.start)<=0||S(E,d.fromPoints($.start,E.start),-1),S($,E,1));else if(!D&&!I)if(h(E.start,$.end)>=0)S(E,$,-1);else if(h(E.end,$.start)<=0)S($,E,-1);else{var R,O;return h($.start,E.start)<0&&(R=$,$=C($,E.start)),h($.end,E.end)>0&&(O=C($,E.end)),b(E.end,$.start,$.end,-1),O&&!R&&($.lines=O.lines,$.start=O.start,$.end=O.end,O=$),[E,R,O].filter(Boolean)}return[E,$]}function S($,E,D){b($.start,E.start,E.end,D),b($.end,E.start,E.end,D)}function b($,E,D,I){$.row==(I==1?E:D).row&&($.column+=I*(D.column-E.column)),$.row+=I*(D.row-E.row)}function C($,E){var D=$.lines,I=$.end;$.end=_(E);var R=$.end.row-$.start.row,O=D.splice(R,D.length),N=R?E.column:E.column-$.start.column;D.push(O[0].substring(0,N)),O[0]=O[0].substr(N);var M={start:_(E),end:I,lines:O,action:$.action};return M}function w($,E){E=p(E);for(var D=$.length;D--;){for(var I=$[D],R=0;R<I.length;R++){var O=I[R],N=v(O,E);E=N[0],N.length!=2&&(N[2]?(I.splice(R+1,1,N[1],N[2]),R++):N[1]||(I.splice(R,1),R--))}I.length||$.splice(D,1)}return $}function A($,E){for(var D=0;D<E.length;D++)for(var I=E[D],R=0;R<I.length;R++)w($,I[R])}o.UndoManager=a}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,o,s){var a=n("../range").Range,l=(function(){function d(h,_){this.foldData=h,Array.isArray(_)?this.folds=_:_=this.folds=[_];var p=_[_.length-1];this.range=new a(_[0].start.row,_[0].start.column,p.end.row,p.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(u){u.setFoldLine(this)},this)}return d.prototype.shiftRow=function(h){this.start.row+=h,this.end.row+=h,this.folds.forEach(function(_){_.start.row+=h,_.end.row+=h})},d.prototype.addFold=function(h){if(h.sameRow){if(h.start.row<this.startRow||h.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(h),this.folds.sort(function(_,p){return-_.range.compareEnd(p.start.row,p.start.column)}),this.range.compareEnd(h.start.row,h.start.column)>0?(this.end.row=h.end.row,this.end.column=h.end.column):this.range.compareStart(h.end.row,h.end.column)<0&&(this.start.row=h.start.row,this.start.column=h.start.column)}else if(h.start.row==this.end.row)this.folds.push(h),this.end.row=h.end.row,this.end.column=h.end.column;else if(h.end.row==this.start.row)this.folds.unshift(h),this.start.row=h.start.row,this.start.column=h.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");h.foldLine=this},d.prototype.containsRow=function(h){return h>=this.start.row&&h<=this.end.row},d.prototype.walk=function(h,_,p){var u=0,m=this.folds,g,y,v,S=!0;_==null&&(_=this.end.row,p=this.end.column);for(var b=0;b<m.length;b++){if(g=m[b],y=g.range.compareStart(_,p),y==-1){h(null,_,p,u,S);return}if(v=h(null,g.start.row,g.start.column,u,S),v=!v&&h(g.placeholder,g.start.row,g.start.column,u),v||y===0)return;S=!g.sameRow,u=g.end.column}h(null,_,p,u,S)},d.prototype.getNextFoldTo=function(h,_){for(var p,u,m=0;m<this.folds.length;m++){if(p=this.folds[m],u=p.range.compareEnd(h,_),u==-1)return{fold:p,kind:"after"};if(u===0)return{fold:p,kind:"inside"}}return null},d.prototype.addRemoveChars=function(h,_,p){var u=this.getNextFoldTo(h,_),m,g;if(u){if(m=u.fold,u.kind=="inside"&&m.start.column!=_&&m.start.row!=h)window.console&&window.console.log(h,_,m);else if(m.start.row==h){g=this.folds;var y=g.indexOf(m);for(y===0&&(this.start.column+=p),y;y<g.length;y++){if(m=g[y],m.start.column+=p,!m.sameRow)return;m.end.column+=p}this.end.column+=p}}},d.prototype.split=function(h,_){var p=this.getNextFoldTo(h,_);if(!p||p.kind=="inside")return null;var u=p.fold,m=this.folds,g=this.foldData,y=m.indexOf(u),v=m[y-1];this.end.row=v.end.row,this.end.column=v.end.column,m=m.splice(y,m.length-y);var S=new d(g,m);return g.splice(g.indexOf(this)+1,0,S),S},d.prototype.merge=function(h){for(var _=h.folds,p=0;p<_.length;p++)this.addFold(_[p]);var u=this.foldData;u.splice(u.indexOf(h),1)},d.prototype.toString=function(){var h=[this.range.toString()+": ["];return this.folds.forEach(function(_){h.push("  "+_.toString())}),h.push("]"),h.join(`
`)},d.prototype.idxToPosition=function(h){for(var _=0,p=0;p<this.folds.length;p++){var u=this.folds[p];if(h-=u.start.column-_,h<0)return{row:u.start.row,column:u.start.column+h};if(h-=u.placeholder.length,h<0)return u.start;_=u.end.column}return{row:this.end.row,column:this.end.column+h}},d})();o.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,o,s){var a=n("./range").Range,l=a.comparePoints,d=(function(){function h(){this.ranges=[],this.$bias=1}return h.prototype.pointIndex=function(_,p,u){for(var m=this.ranges,g=u||0;g<m.length;g++){var y=m[g],v=l(_,y.end);if(!(v>0)){var S=l(_,y.start);return v===0?p&&S!==0?-g-2:g:S>0||S===0&&!p?g:-g-1}}return-g-1},h.prototype.add=function(_){var p=!_.isEmpty(),u=this.pointIndex(_.start,p);u<0&&(u=-u-1);var m=this.pointIndex(_.end,p,u);return m<0?m=-m-1:m++,this.ranges.splice(u,m-u,_)},h.prototype.addList=function(_){for(var p=[],u=_.length;u--;)p.push.apply(p,this.add(_[u]));return p},h.prototype.substractPoint=function(_){var p=this.pointIndex(_);if(p>=0)return this.ranges.splice(p,1)},h.prototype.merge=function(){var _=[],p=this.ranges;p=p.sort(function(v,S){return l(v.start,S.start)});for(var u=p[0],m,g=1;g<p.length;g++){m=u,u=p[g];var y=l(m.end,u.start);y<0||y==0&&!m.isEmpty()&&!u.isEmpty()||(l(m.end,u.end)<0&&(m.end.row=u.end.row,m.end.column=u.end.column),p.splice(g,1),_.push(u),u=m,g--)}return this.ranges=p,_},h.prototype.contains=function(_,p){return this.pointIndex({row:_,column:p})>=0},h.prototype.containsPoint=function(_){return this.pointIndex(_)>=0},h.prototype.rangeAtPoint=function(_){var p=this.pointIndex(_);if(p>=0)return this.ranges[p]},h.prototype.clipRows=function(_,p){var u=this.ranges;if(u[0].start.row>p||u[u.length-1].start.row<_)return[];var m=this.pointIndex({row:_,column:0});m<0&&(m=-m-1);var g=this.pointIndex({row:p,column:0},m);g<0&&(g=-g-1);for(var y=[],v=m;v<g;v++)y.push(u[v]);return y},h.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},h.prototype.attach=function(_){this.session&&this.detach(),this.session=_,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},h.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},h.prototype.$onChange=function(_){for(var p=_.start,u=_.end,m=p.row,g=u.row,y=this.ranges,v=0,S=y.length;v<S;v++){var b=y[v];if(b.end.row>=m)break}if(_.action=="insert")for(var C=g-m,w=-p.column+u.column;v<S;v++){var b=y[v];if(b.start.row>m)break;if(b.start.row==m&&b.start.column>=p.column&&(b.start.column==p.column&&this.$bias<=0||(b.start.column+=w,b.start.row+=C)),b.end.row==m&&b.end.column>=p.column){if(b.end.column==p.column&&this.$bias<0)continue;b.end.column==p.column&&w>0&&v<S-1&&b.end.column>b.start.column&&b.end.column==y[v+1].start.column&&(b.end.column-=w),b.end.column+=w,b.end.row+=C}}else for(var C=m-g,w=p.column-u.column;v<S;v++){var b=y[v];if(b.start.row>g)break;b.end.row<g&&(m<b.end.row||m==b.end.row&&p.column<b.end.column)?(b.end.row=m,b.end.column=p.column):b.end.row==g?b.end.column<=u.column?(C||b.end.column>p.column)&&(b.end.column=p.column,b.end.row=p.row):(b.end.column+=w,b.end.row+=C):b.end.row>g&&(b.end.row+=C),b.start.row<g&&(m<b.start.row||m==b.start.row&&p.column<b.start.column)?(b.start.row=m,b.start.column=p.column):b.start.row==g?b.start.column<=u.column?(C||b.start.column>p.column)&&(b.start.column=p.column,b.start.row=p.row):(b.start.column+=w,b.start.row+=C):b.start.row>g&&(b.start.row+=C)}if(C!=0&&v<S)for(;v<S;v++){var b=y[v];b.start.row+=C,b.end.row+=C}},h})();d.prototype.comparePoints=l,o.RangeList=d}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,o,s){var a=this&&this.__extends||(function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(v[b]=S[b])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}})(),l=n("../range_list").RangeList,d=(function(m){a(g,m);function g(y,v){var S=m.call(this)||this;return S.foldLine=null,S.placeholder=v,S.range=y,S.start=y.start,S.end=y.end,S.sameRow=y.start.row==y.end.row,S.subFolds=S.ranges=[],S}return g.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},g.prototype.setFoldLine=function(y){this.foldLine=y,this.subFolds.forEach(function(v){v.setFoldLine(y)})},g.prototype.clone=function(){var y=this.range.clone(),v=new g(y,this.placeholder);return this.subFolds.forEach(function(S){v.subFolds.push(S.clone())}),v.collapseChildren=this.collapseChildren,v},g.prototype.addSubFold=function(y){if(!this.range.isEqual(y)){_(y,this.start);for(var w=y.start.row,A=y.start.column,v=0,S=-1;v<this.subFolds.length&&(S=this.subFolds[v].range.compare(w,A),S==1);v++);var b=this.subFolds[v],C=0;if(S==0){if(b.range.containsRange(y))return b.addSubFold(y);C=1}for(var w=y.range.end.row,A=y.range.end.column,$=v,S=-1;$<this.subFolds.length&&(S=this.subFolds[$].range.compare(w,A),S==1);$++);S==0&&$++;for(var E=this.subFolds.splice(v,$-v,y),D=S==0?E.length-1:E.length,I=C;I<D;I++)y.addSubFold(E[I]);return y.setFoldLine(this.foldLine),y}},g.prototype.restoreRange=function(y){return u(y,this.start)},g})(l);function h(m,g){m.row-=g.row,m.row==0&&(m.column-=g.column)}function _(m,g){h(m.start,g),h(m.end,g)}function p(m,g){m.row==0&&(m.column+=g.column),m.row+=g.row}function u(m,g){p(m.start,g),p(m.end,g)}o.Fold=d}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,o,s){var a=n("../range").Range,l=n("./fold_line").FoldLine,d=n("./fold").Fold,h=n("../token_iterator").TokenIterator,_=n("../mouse/mouse_event").MouseEvent;function p(){this.getFoldAt=function(u,m,g){var y=this.getFoldLine(u);if(!y)return null;for(var v=y.folds,S=0;S<v.length;S++){var b=v[S].range;if(b.contains(u,m)){if(g==1&&b.isEnd(u,m)&&!b.isEmpty())continue;if(g==-1&&b.isStart(u,m)&&!b.isEmpty())continue;return v[S]}}},this.getFoldsInRange=function(u){var m=u.start,g=u.end,y=this.$foldData,v=[];m.column+=1,g.column-=1;for(var S=0;S<y.length;S++){var b=y[S].range.compareRange(u);if(b!=2){if(b==-2)break;for(var C=y[S].folds,w=0;w<C.length;w++){var A=C[w];if(b=A.range.compareRange(u),b==-2)break;if(b==2)continue;if(b==42)break;v.push(A)}}}return m.column-=1,g.column+=1,v},this.getFoldsInRangeList=function(u){if(Array.isArray(u)){var m=[];u.forEach(function(g){m=m.concat(this.getFoldsInRange(g))},this)}else var m=this.getFoldsInRange(u);return m},this.getAllFolds=function(){for(var u=[],m=this.$foldData,g=0;g<m.length;g++)for(var y=0;y<m[g].folds.length;y++)u.push(m[g].folds[y]);return u},this.getFoldStringAt=function(u,m,g,y){if(y=y||this.getFoldLine(u),!y)return null;for(var v={end:{column:0}},S,b,C=0;C<y.folds.length;C++){b=y.folds[C];var w=b.range.compareEnd(u,m);if(w==-1){S=this.getLine(b.start.row).substring(v.end.column,b.start.column);break}else if(w===0)return null;v=b}return S||(S=this.getLine(b.start.row).substring(v.end.column)),g==-1?S.substring(0,m-v.end.column):g==1?S.substring(m-v.end.column):S},this.getFoldLine=function(u,m){var g=this.$foldData,y=0;for(m&&(y=g.indexOf(m)),y==-1&&(y=0),y;y<g.length;y++){var v=g[y];if(v.start.row<=u&&v.end.row>=u)return v;if(v.end.row>u)return null}return null},this.getNextFoldLine=function(u,m){var g=this.$foldData,y=0;for(m&&(y=g.indexOf(m)),y==-1&&(y=0),y;y<g.length;y++){var v=g[y];if(v.end.row>=u)return v}return null},this.getFoldedRowCount=function(u,m){for(var g=this.$foldData,y=m-u+1,v=0;v<g.length;v++){var S=g[v],b=S.end.row,C=S.start.row;if(b>=m){C<m&&(C>=u?y-=m-C:y=0);break}else b>=u&&(C>=u?y-=b-C:y-=b-u+1)}return y},this.$addFoldLine=function(u){return this.$foldData.push(u),this.$foldData.sort(function(m,g){return m.start.row-g.start.row}),u},this.addFold=function(u,m){var g=this.$foldData,y=!1,v;u instanceof d?v=u:(v=new d(m,u),v.collapseChildren=m.collapseChildren),this.$clipRangeToDocument(v.range);var S=v.start.row,b=v.start.column,C=v.end.row,w=v.end.column,A=this.getFoldAt(S,b,1),$=this.getFoldAt(C,w,-1);if(A&&$==A)return A.addSubFold(v);A&&!A.range.isStart(S,b)&&this.removeFold(A),$&&!$.range.isEnd(C,w)&&this.removeFold($);var E=this.getFoldsInRange(v.range);E.length>0&&(this.removeFolds(E),v.collapseChildren||E.forEach(function(O){v.addSubFold(O)}));for(var D=0;D<g.length;D++){var I=g[D];if(C==I.start.row){I.addFold(v),y=!0;break}else if(S==I.end.row){if(I.addFold(v),y=!0,!v.sameRow){var R=g[D+1];if(R&&R.start.row==C){I.merge(R);break}}break}else if(C<=I.start.row)break}return y||(I=this.$addFoldLine(new l(this.$foldData,v))),this.$useWrapMode?this.$updateWrapData(I.start.row,I.start.row):this.$updateRowLengthCache(I.start.row,I.start.row),this.$modified=!0,this._signal("changeFold",{data:v,action:"add"}),v},this.addFolds=function(u){u.forEach(function(m){this.addFold(m)},this)},this.removeFold=function(u){var m=u.foldLine,g=m.start.row,y=m.end.row,v=this.$foldData,S=m.folds;if(S.length==1)v.splice(v.indexOf(m),1);else if(m.range.isEnd(u.end.row,u.end.column))S.pop(),m.end.row=S[S.length-1].end.row,m.end.column=S[S.length-1].end.column;else if(m.range.isStart(u.start.row,u.start.column))S.shift(),m.start.row=S[0].start.row,m.start.column=S[0].start.column;else if(u.sameRow)S.splice(S.indexOf(u),1);else{var b=m.split(u.start.row,u.start.column);S=b.folds,S.shift(),b.start.row=S[0].start.row,b.start.column=S[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(g,y):this.$updateRowLengthCache(g,y)),this.$modified=!0,this._signal("changeFold",{data:u,action:"remove"})},this.removeFolds=function(u){for(var m=[],g=0;g<u.length;g++)m.push(u[g]);m.forEach(function(y){this.removeFold(y)},this),this.$modified=!0},this.expandFold=function(u){this.removeFold(u),u.subFolds.forEach(function(m){u.restoreRange(m),this.addFold(m)},this),u.collapseChildren>0&&this.foldAll(u.start.row+1,u.end.row,u.collapseChildren-1),u.subFolds=[]},this.expandFolds=function(u){u.forEach(function(m){this.expandFold(m)},this)},this.unfold=function(u,m){var g,y;if(u==null)g=new a(0,0,this.getLength(),0),m==null&&(m=!0);else if(typeof u=="number")g=new a(u,0,u,this.getLine(u).length);else if("row"in u)g=a.fromPoints(u,u);else{if(Array.isArray(u))return y=[],u.forEach(function(S){y=y.concat(this.unfold(S))},this),y;g=u}y=this.getFoldsInRangeList(g);for(var v=y;y.length==1&&a.comparePoints(y[0].start,g.start)<0&&a.comparePoints(y[0].end,g.end)>0;)this.expandFolds(y),y=this.getFoldsInRangeList(g);if(m!=!1?this.removeFolds(y):this.expandFolds(y),v.length)return v},this.isRowFolded=function(u,m){return!!this.getFoldLine(u,m)},this.getRowFoldEnd=function(u,m){var g=this.getFoldLine(u,m);return g?g.end.row:u},this.getRowFoldStart=function(u,m){var g=this.getFoldLine(u,m);return g?g.start.row:u},this.getFoldDisplayLine=function(u,m,g,y,v){y==null&&(y=u.start.row),v==null&&(v=0),m==null&&(m=u.end.row),g==null&&(g=this.getLine(m).length);var S=this.doc,b="";return u.walk(function(C,w,A,$){if(!(w<y)){if(w==y){if(A<v)return;$=Math.max(v,$)}C!=null?b+=C:b+=S.getLine(w).substring($,A)}},m,g),b},this.getDisplayLine=function(u,m,g,y){var v=this.getFoldLine(u);if(v)return this.getFoldDisplayLine(v,u,m,g,y);var S;return S=this.doc.getLine(u),S.substring(y||0,m||S.length)},this.$cloneFoldData=function(){var u=[];return u=this.$foldData.map(function(m){var g=m.folds.map(function(y){return y.clone()});return new l(u,g)}),u},this.toggleFold=function(u){var m=this.selection,g=m.getRange(),y,v;if(g.isEmpty()){var S=g.start;if(y=this.getFoldAt(S.row,S.column),y){this.expandFold(y);return}else if(u){var b=this.getFoldLine(S.row);b&&this.expandFolds(b.folds);return}else(v=this.findMatchingBracket(S))?g.comparePoint(v)==1?g.end=v:(g.start=v,g.start.column++,g.end.column--):(v=this.findMatchingBracket({row:S.row,column:S.column+1}))?(g.comparePoint(v)==1?g.end=v:g.start=v,g.start.column++):g=this.getCommentFoldRange(S.row,S.column)||g}else{var C=this.getFoldsInRange(g);if(u&&C.length){this.expandFolds(C);return}else C.length==1&&(y=C[0])}if(y||(y=this.getFoldAt(g.start.row,g.start.column)),y&&y.range.toString()==g.toString()){this.expandFold(y);return}var w="...";if(!g.isMultiLine()){if(w=this.getTextRange(g),w.length<4)return;w=w.trim().substring(0,2)+".."}this.addFold(w,g)},this.getCommentFoldRange=function(u,m,g){var y=new h(this,u,m),v=y.getCurrentToken(),S=v&&v.type;if(v&&/^comment|string/.test(S)){S=S.match(/comment|string/)[0],S=="comment"&&(S+="|doc-start|\\.doc");var b=new RegExp(S),C=new a;if(g!=1){do v=y.stepBackward();while(v&&b.test(v.type));v=y.stepForward()}C.start.row=y.getCurrentTokenRow(),C.start.column=y.getCurrentTokenColumn()+v.value.length,y=new h(this,u,m);var w=this.getState(y.$row);if(g!=-1){var A=-1;do if(v=y.stepForward(),A==-1){var $=this.getState(y.$row);w.toString()!==$.toString()&&(A=y.$row)}else if(y.$row>A)break;while(v&&b.test(v.type));v=y.stepBackward()}else v=y.getCurrentToken();return C.end.row=y.getCurrentTokenRow(),C.end.column=y.getCurrentTokenColumn(),C.start.row==C.end.row&&C.start.column>C.end.column?void 0:C}},this.foldAll=function(u,m,g,y){g==null&&(g=1e5);var v=this.foldWidgets;if(v){m=m||this.getLength(),u=u||0;for(var S=u;S<m;S++)if(v[S]==null&&(v[S]=this.getFoldWidget(S)),v[S]=="start"&&!(y&&!y(S))){var b=this.getFoldWidgetRange(S);b&&b.isMultiLine()&&b.end.row<=m&&b.start.row>=u&&(S=b.end.row,b.collapseChildren=g,this.addFold("...",b))}}},this.foldToLevel=function(u){for(this.foldAll();u-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var u=this;this.foldAll(null,null,null,function(m){for(var g=u.getTokens(m),y=0;y<g.length;y++){var v=g[y];if(!(v.type=="text"&&/^\s+$/.test(v.value)))return!!/comment/.test(v.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(u){if(!this.$foldStyles[u])throw new Error("invalid fold style: "+u+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=u){this.$foldStyle=u,u=="manual"&&this.unfold();var m=this.$foldMode;this.$setFolding(null),this.$setFolding(m)}},this.$setFolding=function(u){if(this.$foldMode!=u){if(this.$foldMode=u,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!u||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=u.getFoldWidget.bind(u,this,this.$foldStyle),this.getFoldWidgetRange=u.getFoldWidgetRange.bind(u,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(u,m){var g=this.foldWidgets;if(!g||m&&g[u])return{};for(var y=u-1,v;y>=0;){var S=g[y];if(S==null&&(S=g[y]=this.getFoldWidget(y)),S=="start"){var b=this.getFoldWidgetRange(y);if(v||(v=b),b&&b.end.row>=u)break}y--}return{range:y!==-1&&b,firstRange:v}},this.onFoldWidgetClick=function(u,m){m instanceof _&&(m=m.domEvent);var g={children:m.shiftKey,all:m.ctrlKey||m.metaKey,siblings:m.altKey},y=this.$toggleFoldWidget(u,g);if(!y){var v=m.target||m.srcElement;v&&/ace_fold-widget/.test(v.className)&&(v.className+=" ace_invalid")}},this.$toggleFoldWidget=function(u,m){if(this.getFoldWidget){var g=this.getFoldWidget(u),y=this.getLine(u),v=g==="end"?-1:1,S=this.getFoldAt(u,v===-1?0:y.length,v);if(S)return m.children||m.all?this.removeFold(S):this.expandFold(S),S;var b=this.getFoldWidgetRange(u,!0);if(b&&!b.isMultiLine()&&(S=this.getFoldAt(b.start.row,b.start.column,1),S&&b.isEqual(S.range)))return this.removeFold(S),S;if(m.siblings){var C=this.getParentFoldRangeData(u);if(C.range)var w=C.range.start.row+1,A=C.range.end.row;this.foldAll(w,A,m.all?1e4:0)}else m.children?(A=b?b.end.row:this.getLength(),this.foldAll(u+1,A,m.all?1e4:0)):b&&(m.all&&(b.collapseChildren=1e4),this.addFold("...",b));return b}},this.toggleFoldWidget=function(u){var m=this.selection.getCursor().row;m=this.getRowFoldStart(m);var g=this.$toggleFoldWidget(m,{});if(!g){var y=this.getParentFoldRangeData(m,!0);if(g=y.range||y.firstRange,g){m=g.start.row;var v=this.getFoldAt(m,this.getLine(m).length,1);v?this.removeFold(v):this.addFold("...",g)}}},this.updateFoldWidgets=function(u){var m=u.start.row,g=u.end.row-m;if(g===0)this.foldWidgets[m]=null;else if(u.action=="remove")this.foldWidgets.splice(m,g+1,null);else{var y=Array(g+1);y.unshift(m,1),this.foldWidgets.splice.apply(this.foldWidgets,y)}},this.tokenizerUpdateFoldWidgets=function(u){var m=u.data;m.first!=m.last&&this.foldWidgets.length>m.first&&this.foldWidgets.splice(m.first,this.foldWidgets.length)}}o.Folding=p}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,o,s){var a=n("../token_iterator").TokenIterator,l=n("../range").Range;function d(){this.findMatchingBracket=function(h,_){if(h.column==0)return null;var p=_||this.getLine(h.row).charAt(h.column-1);if(p=="")return null;var u=p.match(/([\(\[\{])|([\)\]\}])/);return u?u[1]?this.$findClosingBracket(u[1],h):this.$findOpeningBracket(u[2],h):null},this.getBracketRange=function(h){var _=this.getLine(h.row),p=!0,u,m=_.charAt(h.column-1),g=m&&m.match(/([\(\[\{])|([\)\]\}])/);if(g||(m=_.charAt(h.column),h={row:h.row,column:h.column+1},g=m&&m.match(/([\(\[\{])|([\)\]\}])/),p=!1),!g)return null;if(g[1]){var y=this.$findClosingBracket(g[1],h);if(!y)return null;u=l.fromPoints(h,y),p||(u.end.column++,u.start.column--),u.cursor=u.end}else{var y=this.$findOpeningBracket(g[2],h);if(!y)return null;u=l.fromPoints(y,h),p||(u.start.column++,u.end.column--),u.cursor=u.start}return u},this.getMatchingBracketRanges=function(h,_){var p=this.getLine(h.row),u=/([\(\[\{])|([\)\]\}])/,m=!_&&p.charAt(h.column-1),g=m&&m.match(u);if(g||(m=(_===void 0||_)&&p.charAt(h.column),h={row:h.row,column:h.column+1},g=m&&m.match(u)),!g)return null;var y=new l(h.row,h.column-1,h.row,h.column),v=g[1]?this.$findClosingBracket(g[1],h):this.$findOpeningBracket(g[2],h);if(!v)return[y];var S=new l(v.row,v.column,v.row,v.column+1);return[y,S]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(h,_,p){var u=this.$brackets[h],m=1,g=new a(this,_.row,_.column),y=g.getCurrentToken();if(y||(y=g.stepForward()),!!y){p||(p=new RegExp("(\\.?"+y.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var v=_.column-g.getCurrentTokenColumn()-2,S=y.value;;){for(;v>=0;){var b=S.charAt(v);if(b==u){if(m-=1,m==0)return{row:g.getCurrentTokenRow(),column:v+g.getCurrentTokenColumn()}}else b==h&&(m+=1);v-=1}do y=g.stepBackward();while(y&&!p.test(y.type));if(y==null)break;S=y.value,v=S.length-1}return null}},this.$findClosingBracket=function(h,_,p){var u=this.$brackets[h],m=1,g=new a(this,_.row,_.column),y=g.getCurrentToken();if(y||(y=g.stepForward()),!!y){p||(p=new RegExp("(\\.?"+y.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var v=_.column-g.getCurrentTokenColumn();;){for(var S=y.value,b=S.length;v<b;){var C=S.charAt(v);if(C==u){if(m-=1,m==0)return{row:g.getCurrentTokenRow(),column:v+g.getCurrentTokenColumn()}}else C==h&&(m+=1);v+=1}do y=g.stepForward();while(y&&!p.test(y.type));if(y==null)break;v=0}return null}},this.getMatchingTags=function(h){var _=new a(this,h.row,h.column),p=this.$findTagName(_);if(p){var u=_.stepBackward();return u.value==="<"?this.$findClosingTag(_,p):this.$findOpeningTag(_,p)}},this.$findTagName=function(h){var _=h.getCurrentToken(),p=!1,u=!1;if(_&&_.type.indexOf("tag-name")===-1)do u?_=h.stepBackward():_=h.stepForward(),_&&(_.value==="/>"?u=!0:_.type.indexOf("tag-name")!==-1&&(p=!0));while(_&&!p);return _},this.$findClosingTag=function(h,_){var p,u=_.value,m=_.value,g=0,y=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);_=h.stepForward();var v=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+_.value.length),S=!1;do{if(p=_,p.type.indexOf("tag-close")!==-1&&!S){var b=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);S=!0}if(_=h.stepForward(),_){if(_.value===">"&&!S){var b=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);S=!0}if(_.type.indexOf("tag-name")!==-1){if(u=_.value,m===u){if(p.value==="<")g++;else if(p.value==="</"&&(g--,g<0)){h.stepBackward();var C=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2);_=h.stepForward();var w=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+_.value.length);if(_.type.indexOf("tag-close")===-1&&(_=h.stepForward()),_&&_.value===">")var A=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);else return}}}else if(m===u&&_.value==="/>"&&(g--,g<0))var C=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2),w=C,A=w,b=new l(v.end.row,v.end.column,v.end.row,v.end.column+1)}}while(_&&g>=0);if(y&&b&&C&&A&&v&&w)return{openTag:new l(y.start.row,y.start.column,b.end.row,b.end.column),closeTag:new l(C.start.row,C.start.column,A.end.row,A.end.column),openTagName:v,closeTagName:w}},this.$findOpeningTag=function(h,_){var p=h.getCurrentToken(),u=_.value,m=0,g=h.getCurrentTokenRow(),y=h.getCurrentTokenColumn(),v=y+2,S=new l(g,y,g,v);h.stepForward();var b=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+_.value.length);if(_.type.indexOf("tag-close")===-1&&(_=h.stepForward()),!(!_||_.value!==">")){var C=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);h.stepBackward(),h.stepBackward();do if(_=p,g=h.getCurrentTokenRow(),y=h.getCurrentTokenColumn(),v=y+_.value.length,p=h.stepBackward(),_){if(_.type.indexOf("tag-name")!==-1){if(u===_.value)if(p.value==="<"){if(m++,m>0){var w=new l(g,y,g,v),A=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);do _=h.stepForward();while(_&&_.value!==">");var $=new l(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1)}}else p.value==="</"&&m--}else if(_.value==="/>"){for(var E=0,D=p;D;){if(D.type.indexOf("tag-name")!==-1&&D.value===u){m--;break}else if(D.value==="<")break;D=h.stepBackward(),E++}for(var I=0;I<E;I++)h.stepForward()}}while(p&&m<=0);if(A&&$&&S&&C&&w&&b)return{openTag:new l(A.start.row,A.start.column,$.end.row,$.end.column),closeTag:new l(S.start.row,S.start.column,C.end.row,C.end.column),openTagName:w,closeTagName:b}}}}o.BracketMatch=d}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,o,s){var a=n("./lib/oop"),l=n("./lib/lang"),d=n("./bidihandler").BidiHandler,h=n("./config"),_=n("./lib/event_emitter").EventEmitter,p=n("./selection").Selection,u=n("./mode/text").Mode,m=n("./range").Range,g=n("./line_widgets").LineWidgets,y=n("./document").Document,v=n("./background_tokenizer").BackgroundTokenizer,S=n("./search_highlight").SearchHighlight,b=n("./undomanager").UndoManager,C=(function(){function M(k,x){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++M.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new v(new u().getTokenizer(),this);var T=this;this.bgTokenizer.on("update",function(L){T._signal("tokenizerUpdate",L)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof k!="object"||!k.getLine)&&(k=new y(k)),this.setDocument(k),this.selection=new p(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new d(this),h.resetOptions(this),this.setMode(x),h._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return M.prototype.$initOperationListeners=function(){var k=this;this.curOp=null,this.on("change",function(){k.curOp||(k.startOperation(),k.curOp.selectionBefore=k.$lastSel),k.curOp.docChanged=!0},!0),this.on("changeSelection",function(){k.curOp||(k.startOperation(),k.curOp.selectionBefore=k.$lastSel),k.curOp.selectionChanged=!0},!0),this.$operationResetTimer=l.delayedCall(this.endOperation.bind(this,!0))},M.prototype.startOperation=function(k){if(this.curOp){if(!k||this.curOp.command)return;this.prevOp=this.curOp}k||(k={}),this.$operationResetTimer.schedule(),this.curOp={command:k.command||{},args:k.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",k)},M.prototype.endOperation=function(k){if(this.curOp){if(k&&k.returnValue===!1){this.curOp=null,this._signal("endOperation",k);return}if(k==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var x=this.selection.toJSON();this.curOp.selectionAfter=x,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(x),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",k)}},M.prototype.setDocument=function(k){this.doc&&this.doc.off("change",this.$onChange),this.doc=k,k.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},M.prototype.getDocument=function(){return this.doc},Object.defineProperty(M.prototype,"widgetManager",{get:function(){var k=new g(this);return this.widgetManager=k,this.$editor&&k.attach(this.$editor),k},set:function(k){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:k})},enumerable:!1,configurable:!0}),M.prototype.$resetRowCache=function(k){if(!k){this.$docRowCache=[],this.$screenRowCache=[];return}var x=this.$docRowCache.length,T=this.$getRowCacheIndex(this.$docRowCache,k)+1;x>T&&(this.$docRowCache.splice(T,x),this.$screenRowCache.splice(T,x))},M.prototype.$getRowCacheIndex=function(k,x){for(var T=0,L=k.length-1;T<=L;){var F=T+L>>1,P=k[F];if(x>P)T=F+1;else if(x<P)L=F-1;else return F}return T-1},M.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},M.prototype.onChangeFold=function(k){var x=k.data;this.$resetRowCache(x.start.row)},M.prototype.onChange=function(k){this.$modified=!0,this.$bidiHandler.onChange(k),this.$resetRowCache(k.start.row);var x=this.$updateInternalDataOnChange(k);!this.$fromUndo&&this.$undoManager&&(x&&x.length&&(this.$undoManager.add({action:"removeFolds",folds:x},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(k,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(k),this._signal("change",k)},M.prototype.onSelectionChange=function(){this._signal("changeSelection")},M.prototype.setValue=function(k){this.doc.setValue(k),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},M.fromJSON=function(k){typeof k=="string"&&(k=JSON.parse(k));var x=new b;x.$undoStack=k.history.undo,x.$redoStack=k.history.redo,x.mark=k.history.mark,x.$rev=k.history.rev;var T=new M(k.value);return k.folds.forEach(function(L){T.addFold("...",m.fromPoints(L.start,L.end))}),T.setAnnotations(k.annotations),T.setBreakpoints(k.breakpoints),T.setMode(k.mode),T.setScrollLeft(k.scrollLeft),T.setScrollTop(k.scrollTop),T.setUndoManager(x),T.selection.fromJSON(k.selection),T},M.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(k){return k.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},M.prototype.toString=function(){return this.doc.getValue()},M.prototype.getSelection=function(){return this.selection},M.prototype.getState=function(k){return this.bgTokenizer.getState(k)},M.prototype.getTokens=function(k){return this.bgTokenizer.getTokens(k)},M.prototype.getTokenAt=function(k,x){var T=this.bgTokenizer.getTokens(k),L,F=0;if(x==null){var P=T.length-1;F=this.getLine(k).length}else for(var P=0;P<T.length&&(F+=T[P].value.length,!(F>=x));P++);return L=T[P],L?(L.index=P,L.start=F-L.value.length,L):null},M.prototype.setUndoManager=function(k){if(this.$undoManager=k,this.$informUndoManager&&this.$informUndoManager.cancel(),k){var x=this;k.addSession(this),this.$syncInformUndoManager=function(){x.$informUndoManager.cancel(),x.mergeUndoDeltas=!1},this.$informUndoManager=l.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},M.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},M.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},M.prototype.getTabString=function(){return this.getUseSoftTabs()?l.stringRepeat(" ",this.getTabSize()):"	"},M.prototype.setUseSoftTabs=function(k){this.setOption("useSoftTabs",k)},M.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},M.prototype.setTabSize=function(k){this.setOption("tabSize",k)},M.prototype.getTabSize=function(){return this.$tabSize},M.prototype.isTabStop=function(k){return this.$useSoftTabs&&k.column%this.$tabSize===0},M.prototype.setNavigateWithinSoftTabs=function(k){this.setOption("navigateWithinSoftTabs",k)},M.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},M.prototype.setOverwrite=function(k){this.setOption("overwrite",k)},M.prototype.getOverwrite=function(){return this.$overwrite},M.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},M.prototype.addGutterDecoration=function(k,x){this.$decorations[k]||(this.$decorations[k]=""),this.$decorations[k]+=" "+x,this._signal("changeBreakpoint",{})},M.prototype.removeGutterCustomWidget=function(k){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(k)},M.prototype.addGutterCustomWidget=function(k,x){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(k,x)},M.prototype.removeGutterDecoration=function(k,x){this.$decorations[k]=(this.$decorations[k]||"").replace(" "+x,""),this._signal("changeBreakpoint",{})},M.prototype.getBreakpoints=function(){return this.$breakpoints},M.prototype.setBreakpoints=function(k){this.$breakpoints=[];for(var x=0;x<k.length;x++)this.$breakpoints[k[x]]="ace_breakpoint";this._signal("changeBreakpoint",{})},M.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},M.prototype.setBreakpoint=function(k,x){x===void 0&&(x="ace_breakpoint"),x?this.$breakpoints[k]=x:delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},M.prototype.clearBreakpoint=function(k){delete this.$breakpoints[k],this._signal("changeBreakpoint",{})},M.prototype.addMarker=function(k,x,T,L){var F=this.$markerId++,P={range:k,type:T||"line",renderer:typeof T=="function"?T:null,clazz:x,inFront:!!L,id:F};return L?(this.$frontMarkers[F]=P,this._signal("changeFrontMarker")):(this.$backMarkers[F]=P,this._signal("changeBackMarker")),F},M.prototype.addDynamicMarker=function(k,x){if(k.update){var T=this.$markerId++;return k.id=T,k.inFront=!!x,x?(this.$frontMarkers[T]=k,this._signal("changeFrontMarker")):(this.$backMarkers[T]=k,this._signal("changeBackMarker")),k}},M.prototype.removeMarker=function(k){var x=this.$frontMarkers[k]||this.$backMarkers[k];if(x){var T=x.inFront?this.$frontMarkers:this.$backMarkers;delete T[k],this._signal(x.inFront?"changeFrontMarker":"changeBackMarker")}},M.prototype.getMarkers=function(k){return k?this.$frontMarkers:this.$backMarkers},M.prototype.highlight=function(k){if(!this.$searchHighlight){var x=new S(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(x)}this.$searchHighlight.setRegexp(k)},M.prototype.highlightLines=function(k,x,T,L){typeof x!="number"&&(T=x,x=k),T||(T="ace_step");var F=new m(k,0,x,1/0);return F.id=this.addMarker(F,T,"fullLine",L),F},M.prototype.setAnnotations=function(k){this.$annotations=k,this._signal("changeAnnotation",{})},M.prototype.getAnnotations=function(){return this.$annotations||[]},M.prototype.clearAnnotations=function(){this.setAnnotations([])},M.prototype.$detectNewLine=function(k){var x=k.match(/^.*?(\r?\n)/m);x?this.$autoNewLine=x[1]:this.$autoNewLine=`
`},M.prototype.getWordRange=function(k,x){var T=this.getLine(k),L=!1;if(x>0&&(L=!!T.charAt(x-1).match(this.tokenRe)),L||(L=!!T.charAt(x).match(this.tokenRe)),L)var F=this.tokenRe;else if(/^\s+$/.test(T.slice(x-1,x+1)))var F=/\s/;else var F=this.nonTokenRe;var P=x;if(P>0){do P--;while(P>=0&&T.charAt(P).match(F));P++}for(var B=x;B<T.length&&T.charAt(B).match(F);)B++;return new m(k,P,k,B)},M.prototype.getAWordRange=function(k,x){for(var T=this.getWordRange(k,x),L=this.getLine(T.end.row);L.charAt(T.end.column).match(/[ \t]/);)T.end.column+=1;return T},M.prototype.setNewLineMode=function(k){this.doc.setNewLineMode(k)},M.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},M.prototype.setUseWorker=function(k){this.setOption("useWorker",k)},M.prototype.getUseWorker=function(){return this.$useWorker},M.prototype.onReloadTokenizer=function(k){var x=k.data;this.bgTokenizer.start(x.first),this._signal("tokenizerUpdate",k)},M.prototype.setMode=function(k,x){if(k&&typeof k=="object"){if(k.getTokenizer)return this.$onChangeMode(k);var T=k,L=T.path}else L=k||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new u),this.$modes[L]&&!T){this.$onChangeMode(this.$modes[L]),x&&x();return}this.$modeId=L,h.loadModule(["mode",L],function(F){if(!this.destroyed){if(this.$modeId!==L)return x&&x();this.$modes[L]&&!T?this.$onChangeMode(this.$modes[L]):F&&F.Mode&&(F=new F.Mode(T),T||(this.$modes[L]=F,F.$id=L),this.$onChangeMode(F)),x&&x()}}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},M.prototype.$onChangeMode=function(k,x){if(x||(this.$modeId=k.$id),this.$mode!==k){var T=this.$mode;this.$mode=k,this.$stopWorker(),this.$useWorker&&this.$startWorker();var L=k.getTokenizer();if(L.on!==void 0){var F=this.onReloadTokenizer.bind(this);L.on("update",F)}this.bgTokenizer.setTokenizer(L),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=k.tokenRe,this.nonTokenRe=k.nonTokenRe,x||(k.attachToSession&&k.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(k.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:T,mode:k}))}},M.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},M.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(k){h.warn("Could not load worker",k),this.$worker=null}},M.prototype.getMode=function(){return this.$mode},M.prototype.setScrollTop=function(k){this.$scrollTop===k||isNaN(k)||(this.$scrollTop=k,this._signal("changeScrollTop",k))},M.prototype.getScrollTop=function(){return this.$scrollTop},M.prototype.setScrollLeft=function(k){this.$scrollLeft===k||isNaN(k)||(this.$scrollLeft=k,this._signal("changeScrollLeft",k))},M.prototype.getScrollLeft=function(){return this.$scrollLeft},M.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},M.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var k=0;return this.lineWidgets.forEach(function(x){x&&x.screenWidth>k&&(k=x.screenWidth)}),this.lineWidgetWidth=k},M.prototype.$computeWidth=function(k){if(this.$modified||k){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var x=this.doc.getAllLines(),T=this.$rowLengthCache,L=0,F=0,P=this.$foldData[F],B=P?P.start.row:1/0,H=x.length,j=0;j<H;j++){if(j>B){if(j=P.end.row+1,j>=H)break;P=this.$foldData[F++],B=P?P.start.row:1/0}T[j]==null&&(T[j]=this.$getStringScreenWidth(x[j])[0]),T[j]>L&&(L=T[j])}this.screenWidth=L}},M.prototype.getLine=function(k){return this.doc.getLine(k)},M.prototype.getLines=function(k,x){return this.doc.getLines(k,x)},M.prototype.getLength=function(){return this.doc.getLength()},M.prototype.getTextRange=function(k){return this.doc.getTextRange(k||this.selection.getRange())},M.prototype.insert=function(k,x){return this.doc.insert(k,x)},M.prototype.remove=function(k){return this.doc.remove(k)},M.prototype.removeFullLines=function(k,x){return this.doc.removeFullLines(k,x)},M.prototype.undoChanges=function(k,x){if(k.length){this.$fromUndo=!0;for(var T=k.length-1;T!=-1;T--){var L=k[T];L.action=="insert"||L.action=="remove"?this.doc.revertDelta(L):L.folds&&this.addFolds(L.folds)}!x&&this.$undoSelect&&(k.selectionBefore?this.selection.fromJSON(k.selectionBefore):this.selection.setRange(this.$getUndoSelection(k,!0))),this.$fromUndo=!1}},M.prototype.redoChanges=function(k,x){if(k.length){this.$fromUndo=!0;for(var T=0;T<k.length;T++){var L=k[T];(L.action=="insert"||L.action=="remove")&&this.doc.$safeApplyDelta(L)}!x&&this.$undoSelect&&(k.selectionAfter?this.selection.fromJSON(k.selectionAfter):this.selection.setRange(this.$getUndoSelection(k,!1))),this.$fromUndo=!1}},M.prototype.setUndoSelect=function(k){this.$undoSelect=k},M.prototype.$getUndoSelection=function(k,x){function T(H){return x?H.action!=="insert":H.action==="insert"}for(var L,F,P=0;P<k.length;P++){var B=k[P];if(B.start){if(!L){T(B)?L=m.fromPoints(B.start,B.end):L=m.fromPoints(B.start,B.start);continue}T(B)?(F=B.start,L.compare(F.row,F.column)==-1&&L.setStart(F),F=B.end,L.compare(F.row,F.column)==1&&L.setEnd(F)):(F=B.start,L.compare(F.row,F.column)==-1&&(L=m.fromPoints(B.start,B.start)))}}return L},M.prototype.replace=function(k,x){return this.doc.replace(k,x)},M.prototype.moveText=function(k,x,T){var L=this.getTextRange(k),F=this.getFoldsInRange(k),P=m.fromPoints(x,x);if(!T){this.remove(k);var B=k.start.row-k.end.row,H=B?-k.end.column:k.start.column-k.end.column;H&&(P.start.row==k.end.row&&P.start.column>k.end.column&&(P.start.column+=H),P.end.row==k.end.row&&P.end.column>k.end.column&&(P.end.column+=H)),B&&P.start.row>=k.end.row&&(P.start.row+=B,P.end.row+=B)}if(P.end=this.insert(P.start,L),F.length){var j=k.start,W=P.start,B=W.row-j.row,H=W.column-j.column;this.addFolds(F.map(function(V){return V=V.clone(),V.start.row==j.row&&(V.start.column+=H),V.end.row==j.row&&(V.end.column+=H),V.start.row+=B,V.end.row+=B,V}))}return P},M.prototype.indentRows=function(k,x,T){T=T.replace(/\t/g,this.getTabString());for(var L=k;L<=x;L++)this.doc.insertInLine({row:L,column:0},T)},M.prototype.outdentRows=function(k){for(var x=k.collapseRows(),T=new m(0,0,0,0),L=this.getTabSize(),F=x.start.row;F<=x.end.row;++F){var P=this.getLine(F);T.start.row=F,T.end.row=F;for(var B=0;B<L&&P.charAt(B)==" ";++B);B<L&&P.charAt(B)=="	"?(T.start.column=B,T.end.column=B+1):(T.start.column=0,T.end.column=B),this.remove(T)}},M.prototype.$moveLines=function(k,x,T){if(k=this.getRowFoldStart(k),x=this.getRowFoldEnd(x),T<0){var L=this.getRowFoldStart(k+T);if(L<0)return 0;var F=L-k}else if(T>0){var L=this.getRowFoldEnd(x+T);if(L>this.doc.getLength()-1)return 0;var F=L-x}else{k=this.$clipRowToDocument(k),x=this.$clipRowToDocument(x);var F=x-k+1}var P=new m(k,0,x,Number.MAX_VALUE),B=this.getFoldsInRange(P).map(function(j){return j=j.clone(),j.start.row+=F,j.end.row+=F,j}),H=T==0?this.doc.getLines(k,x):this.doc.removeFullLines(k,x);return this.doc.insertFullLines(k+F,H),B.length&&this.addFolds(B),F},M.prototype.moveLinesUp=function(k,x){return this.$moveLines(k,x,-1)},M.prototype.moveLinesDown=function(k,x){return this.$moveLines(k,x,1)},M.prototype.duplicateLines=function(k,x){return this.$moveLines(k,x,0)},M.prototype.$clipRowToDocument=function(k){return Math.max(0,Math.min(k,this.doc.getLength()-1))},M.prototype.$clipColumnToRow=function(k,x){return x<0?0:Math.min(this.doc.getLine(k).length,x)},M.prototype.$clipPositionToDocument=function(k,x){if(x=Math.max(0,x),k<0)k=0,x=0;else{var T=this.doc.getLength();k>=T?(k=T-1,x=this.doc.getLine(T-1).length):x=Math.min(this.doc.getLine(k).length,x)}return{row:k,column:x}},M.prototype.$clipRangeToDocument=function(k){k.start.row<0?(k.start.row=0,k.start.column=0):k.start.column=this.$clipColumnToRow(k.start.row,k.start.column);var x=this.doc.getLength()-1;return k.end.row>x?(k.end.row=x,k.end.column=this.doc.getLine(x).length):k.end.column=this.$clipColumnToRow(k.end.row,k.end.column),k},M.prototype.setUseWrapMode=function(k){if(k!=this.$useWrapMode){if(this.$useWrapMode=k,this.$modified=!0,this.$resetRowCache(0),k){var x=this.getLength();this.$wrapData=Array(x),this.$updateWrapData(0,x-1)}this._signal("changeWrapMode")}},M.prototype.getUseWrapMode=function(){return this.$useWrapMode},M.prototype.setWrapLimitRange=function(k,x){(this.$wrapLimitRange.min!==k||this.$wrapLimitRange.max!==x)&&(this.$wrapLimitRange={min:k,max:x},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},M.prototype.adjustWrapLimit=function(k,x){var T=this.$wrapLimitRange;T.max<0&&(T={min:x,max:x});var L=this.$constrainWrapLimit(k,T.min,T.max);return L!=this.$wrapLimit&&L>1?(this.$wrapLimit=L,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},M.prototype.$constrainWrapLimit=function(k,x,T){return x&&(k=Math.max(x,k)),T&&(k=Math.min(T,k)),k},M.prototype.getWrapLimit=function(){return this.$wrapLimit},M.prototype.setWrapLimit=function(k){this.setWrapLimitRange(k,k)},M.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},M.prototype.$updateInternalDataOnChange=function(k){var x=this.$useWrapMode,T=k.action,L=k.start,F=k.end,P=L.row,B=F.row,H=B-P,j=null;if(this.$updating=!0,H!=0)if(T==="remove"){this[x?"$wrapData":"$rowLengthCache"].splice(P,H);var W=this.$foldData;j=this.getFoldsInRange(k),this.removeFolds(j);var U=this.getFoldLine(F.row),G=0;if(U){U.addRemoveChars(F.row,F.column,L.column-F.column),U.shiftRow(-H);var V=this.getFoldLine(P);V&&V!==U&&(V.merge(U),U=V),G=W.indexOf(U)+1}for(G;G<W.length;G++){var U=W[G];U.start.row>=F.row&&U.shiftRow(-H)}B=P}else{var X=Array(H);X.unshift(P,0);var q=x?this.$wrapData:this.$rowLengthCache;q.splice.apply(q,X);var W=this.$foldData,U=this.getFoldLine(P),G=0;if(U){var Y=U.range.compareInside(L.row,L.column);Y==0?(U=U.split(L.row,L.column),U&&(U.shiftRow(H),U.addRemoveChars(B,0,F.column-L.column))):Y==-1&&(U.addRemoveChars(P,0,F.column-L.column),U.shiftRow(H)),G=W.indexOf(U)+1}for(G;G<W.length;G++){var U=W[G];U.start.row>=P&&U.shiftRow(H)}}else{H=Math.abs(k.start.column-k.end.column),T==="remove"&&(j=this.getFoldsInRange(k),this.removeFolds(j),H=-H);var U=this.getFoldLine(P);U&&U.addRemoveChars(P,L.column,H)}return x&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,x?this.$updateWrapData(P,B):this.$updateRowLengthCache(P,B),j},M.prototype.$updateRowLengthCache=function(k,x){this.$rowLengthCache[k]=null,this.$rowLengthCache[x]=null},M.prototype.$updateWrapData=function(k,x){var T=this.doc.getAllLines(),L=this.getTabSize(),F=this.$wrapData,P=this.$wrapLimit,B,H,j=k;for(x=Math.min(x,T.length-1);j<=x;)H=this.getFoldLine(j,H),H?(B=[],H.walk(function(W,U,G,V){var X;if(W!=null){X=this.$getDisplayTokens(W,B.length),X[0]=$;for(var q=1;q<X.length;q++)X[q]=E}else X=this.$getDisplayTokens(T[U].substring(V,G),B.length);B=B.concat(X)}.bind(this),H.end.row,T[H.end.row].length+1),F[H.start.row]=this.$computeWrapSplits(B,P,L),j=H.end.row+1):(B=this.$getDisplayTokens(T[j]),F[j]=this.$computeWrapSplits(B,P,L),j++)},M.prototype.$computeWrapSplits=function(k,x,T){if(k.length==0)return[];var L=[],F=k.length,P=0,B=0,H=this.$wrapAsCode,j=this.$indentedSoftWrap,W=x<=Math.max(2*T,8)||j===!1?0:Math.floor(x/2);function U(){var Y=0;if(W===0)return Y;if(j)for(var J=0;J<k.length;J++){var Q=k[J];if(Q==I)Y+=1;else if(Q==R)Y+=T;else{if(Q==O)continue;break}}return H&&j!==!1&&(Y+=T),Math.min(Y,W)}function G(Y){for(var J=Y-P,Q=P;Q<Y;Q++){var ee=k[Q];(ee===12||ee===2)&&(J-=1)}L.length||(V=U(),L.indent=V),B+=J,L.push(B),P=Y}for(var V=0;F-P>x-V;){var X=P+x-V;if(k[X-1]>=I&&k[X]>=I){G(X);continue}if(k[X]==$||k[X]==E){for(X;X!=P-1&&k[X]!=$;X--);if(X>P){G(X);continue}for(X=P+x,X;X<k.length&&k[X]==E;X++);if(X==k.length)break;G(X);continue}for(var q=Math.max(X-(x-(x>>2)),P-1);X>q&&k[X]<$;)X--;if(H){for(;X>q&&k[X]<$;)X--;for(;X>q&&k[X]==D;)X--}else for(;X>q&&k[X]<I;)X--;if(X>q){G(++X);continue}X=P+x,k[X]==A&&X--,G(X-V)}return L},M.prototype.$getDisplayTokens=function(k,x){var T=[],L;x=x||0;for(var F=0;F<k.length;F++){var P=k.charCodeAt(F);if(P==9){L=this.getScreenTabSize(T.length+x),T.push(R);for(var B=1;B<L;B++)T.push(O)}else P==32?T.push(I):P>39&&P<48||P>57&&P<64?T.push(D):P>=4352&&N(P)?T.push(w,A):T.push(w)}return T},M.prototype.$getStringScreenWidth=function(k,x,T){if(x==0)return[0,0];x==null&&(x=1/0),T=T||0;var L,F;for(F=0;F<k.length&&(L=k.charCodeAt(F),L==9?T+=this.getScreenTabSize(T):L>=4352&&N(L)?T+=2:T+=1,!(T>x));F++);return[T,F]},M.prototype.getRowLength=function(k){var x=1;return this.lineWidgets&&(x+=this.lineWidgets[k]&&this.lineWidgets[k].rowCount||0),!this.$useWrapMode||!this.$wrapData[k]?x:this.$wrapData[k].length+x},M.prototype.getRowLineCount=function(k){return!this.$useWrapMode||!this.$wrapData[k]?1:this.$wrapData[k].length+1},M.prototype.getRowWrapIndent=function(k){if(this.$useWrapMode){var x=this.screenToDocumentPosition(k,Number.MAX_VALUE),T=this.$wrapData[x.row];return T.length&&T[0]<x.column?T.indent:0}else return 0},M.prototype.getScreenLastRowColumn=function(k){var x=this.screenToDocumentPosition(k,Number.MAX_VALUE);return this.documentToScreenColumn(x.row,x.column)},M.prototype.getDocumentLastRowColumn=function(k,x){var T=this.documentToScreenRow(k,x);return this.getScreenLastRowColumn(T)},M.prototype.getDocumentLastRowColumnPosition=function(k,x){var T=this.documentToScreenRow(k,x);return this.screenToDocumentPosition(T,Number.MAX_VALUE/10)},M.prototype.getRowSplitData=function(k){if(this.$useWrapMode)return this.$wrapData[k]},M.prototype.getScreenTabSize=function(k){return this.$tabSize-(k%this.$tabSize|0)},M.prototype.screenToDocumentRow=function(k,x){return this.screenToDocumentPosition(k,x).row},M.prototype.screenToDocumentColumn=function(k,x){return this.screenToDocumentPosition(k,x).column},M.prototype.screenToDocumentPosition=function(k,x,T){if(k<0)return{row:0,column:0};var L,F=0,P=0,B,H=0,j=0,W=this.$screenRowCache,U=this.$getRowCacheIndex(W,k),G=W.length;if(G&&U>=0)var H=W[U],F=this.$docRowCache[U],V=k>W[G-1];else var V=!G;for(var X=this.getLength()-1,q=this.getNextFoldLine(F),Y=q?q.start.row:1/0;H<=k&&(j=this.getRowLength(F),!(H+j>k||F>=X));)H+=j,F++,F>Y&&(F=q.end.row+1,q=this.getNextFoldLine(F,q),Y=q?q.start.row:1/0),V&&(this.$docRowCache.push(F),this.$screenRowCache.push(H));if(q&&q.start.row<=F)L=this.getFoldDisplayLine(q),F=q.start.row;else{if(H+j<=k||F>X)return{row:X,column:this.getLine(X).length};L=this.getLine(F),q=null}var J=0,Q=Math.floor(k-H);if(this.$useWrapMode){var ee=this.$wrapData[F];ee&&(B=ee[Q],Q>0&&ee.length&&(J=ee.indent,P=ee[Q-1]||ee[ee.length-1],L=L.substring(P)))}return T!==void 0&&this.$bidiHandler.isBidiRow(H+Q,F,Q)&&(x=this.$bidiHandler.offsetToCol(T)),P+=this.$getStringScreenWidth(L,x-J)[1],this.$useWrapMode&&P>=B&&(P=B-1),q?q.idxToPosition(P):{row:F,column:P}},M.prototype.documentToScreenPosition=function(k,x){if(typeof x>"u")var T=this.$clipPositionToDocument(k.row,k.column);else T=this.$clipPositionToDocument(k,x);k=T.row,x=T.column;var L=0,F=null,P=null;P=this.getFoldAt(k,x,1),P&&(k=P.start.row,x=P.start.column);var B,H=0,j=this.$docRowCache,W=this.$getRowCacheIndex(j,k),U=j.length;if(U&&W>=0)var H=j[W],L=this.$screenRowCache[W],G=k>j[U-1];else var G=!U;for(var V=this.getNextFoldLine(H),X=V?V.start.row:1/0;H<k;){if(H>=X){if(B=V.end.row+1,B>k)break;V=this.getNextFoldLine(B,V),X=V?V.start.row:1/0}else B=H+1;L+=this.getRowLength(H),H=B,G&&(this.$docRowCache.push(H),this.$screenRowCache.push(L))}var q="";V&&H>=X?(q=this.getFoldDisplayLine(V,k,x),F=V.start.row):(q=this.getLine(k).substring(0,x),F=k);var Y=0;if(this.$useWrapMode){var J=this.$wrapData[F];if(J){for(var Q=0;q.length>=J[Q];)L++,Q++;q=q.substring(J[Q-1]||0,q.length),Y=Q>0?J.indent:0}}return this.lineWidgets&&this.lineWidgets[H]&&this.lineWidgets[H].rowsAbove&&(L+=this.lineWidgets[H].rowsAbove),{row:L,column:Y+this.$getStringScreenWidth(q)[0]}},M.prototype.documentToScreenColumn=function(k,x){return this.documentToScreenPosition(k,x).column},M.prototype.documentToScreenRow=function(k,x){return this.documentToScreenPosition(k,x).row},M.prototype.getScreenLength=function(){var k=0,x=null;if(this.$useWrapMode)for(var F=this.$wrapData.length,P=0,L=0,x=this.$foldData[L++],B=x?x.start.row:1/0;P<F;){var H=this.$wrapData[P];k+=H?H.length+1:1,P++,P>B&&(P=x.end.row+1,x=this.$foldData[L++],B=x?x.start.row:1/0)}else{k=this.getLength();for(var T=this.$foldData,L=0;L<T.length;L++)x=T[L],k-=x.end.row-x.start.row}return this.lineWidgets&&(k+=this.$getWidgetScreenLength()),k},M.prototype.$setFontMetrics=function(k){this.$enableVarChar&&(this.$getStringScreenWidth=function(x,T,L){if(T===0)return[0,0];T||(T=1/0),L=L||0;var F,P;for(P=0;P<x.length&&(F=x.charAt(P),F==="	"?L+=this.getScreenTabSize(L):L+=k.getCharacterWidth(F),!(L>T));P++);return[L,P]})},M.prototype.getPrecedingCharacter=function(){var k=this.selection.getCursor();if(k.column===0)return k.row===0?"":this.doc.getNewLineCharacter();var x=this.getLine(k.row);return x[k.column-1]},M.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},M})();C.$uid=0,C.prototype.$modes=h.$modes,C.prototype.getValue=C.prototype.toString,C.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},C.prototype.$overwrite=!1,C.prototype.$mode=null,C.prototype.$modeId=null,C.prototype.$scrollTop=0,C.prototype.$scrollLeft=0,C.prototype.$wrapLimit=80,C.prototype.$useWrapMode=!1,C.prototype.$wrapLimitRange={min:null,max:null},C.prototype.lineWidgets=null,C.prototype.isFullWidth=N,a.implement(C.prototype,_);var w=1,A=2,$=3,E=4,D=9,I=10,R=11,O=12;function N(M){return M<4352?!1:M>=4352&&M<=4447||M>=4515&&M<=4519||M>=4602&&M<=4607||M>=9001&&M<=9002||M>=11904&&M<=11929||M>=11931&&M<=12019||M>=12032&&M<=12245||M>=12272&&M<=12283||M>=12288&&M<=12350||M>=12353&&M<=12438||M>=12441&&M<=12543||M>=12549&&M<=12589||M>=12593&&M<=12686||M>=12688&&M<=12730||M>=12736&&M<=12771||M>=12784&&M<=12830||M>=12832&&M<=12871||M>=12880&&M<=13054||M>=13056&&M<=19903||M>=19968&&M<=42124||M>=42128&&M<=42182||M>=43360&&M<=43388||M>=44032&&M<=55203||M>=55216&&M<=55238||M>=55243&&M<=55291||M>=63744&&M<=64255||M>=65040&&M<=65049||M>=65072&&M<=65106||M>=65108&&M<=65126||M>=65128&&M<=65131||M>=65281&&M<=65376||M>=65504&&M<=65510}n("./edit_session/folding").Folding.call(C.prototype),n("./edit_session/bracket_match").BracketMatch.call(C.prototype),h.defineOptions(C.prototype,"session",{wrap:{set:function(M){if(!M||M=="off"?M=!1:M=="free"?M=!0:M=="printMargin"?M=-1:typeof M=="string"&&(M=parseInt(M,10)||!1),this.$wrap!=M)if(this.$wrap=M,!M)this.setUseWrapMode(!1);else{var k=typeof M=="number"?M:null;this.setWrapLimitRange(k,k),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(M){M=M=="auto"?this.$mode.type!="text":M!="text",M!=this.$wrapAsCode&&(this.$wrapAsCode=M,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(M){this.$useWorker=M,this.$stopWorker(),M&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(M){M=parseInt(M),M>0&&this.$tabSize!==M&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=M,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(M){this.setFoldStyle(M)},handlesSet:!0},overwrite:{set:function(M){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(M){this.doc.setNewLineMode(M)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(M){this.setMode(M)},get:function(){return this.$modeId},handlesSet:!0}}),o.EditSession=C}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,o,s){var a=n("./lib/lang"),l=n("./lib/oop"),d=n("./range").Range,h=(function(){function m(){this.$options={}}return m.prototype.set=function(g){return l.mixin(this.$options,g),this},m.prototype.getOptions=function(){return a.copyObject(this.$options)},m.prototype.setOptions=function(g){this.$options=g},m.prototype.find=function(g){var y=this.$options,v=this.$matchIterator(g,y);if(!v)return!1;var S=null;return v.forEach(function(b,C,w,A){return S=new d(b,C,w,A),C==A&&y.start&&y.start.start&&y.skipCurrent!=!1&&S.isEqual(y.start)?(S=null,!1):!0}),S},m.prototype.findAll=function(g){var y=this.$options;if(!y.needle)return[];this.$assembleRegExp(y);var v=y.range,S=v?g.getLines(v.start.row,v.end.row):g.doc.getAllLines(),b=[],C=y.re;if(y.$isMultiLine){var w=C.length,A=S.length-w,$;e:for(var E=C.offset||0;E<=A;E++){for(var D=0;D<w;D++)if(S[E+D].search(C[D])==-1)continue e;var I=S[E],R=S[E+w-1],O=I.length-I.match(C[0])[0].length,N=R.match(C[w-1])[0].length;$&&$.end.row===E&&$.end.column>O||(b.push($=new d(E,O,E+w-1,N)),w>2&&(E=E+w-2))}}else for(var M,k=0;k<S.length;k++)if(this.$isMultilineSearch(y)){var x=S.length-1;if(M=this.$multiLineForward(g,C,k,x),M){var T=M.endRow<=x?M.endRow-1:x;T>k&&(k=T),b.push(new d(M.startRow,M.startCol,M.endRow,M.endCol))}}else{M=a.getMatchOffsets(S[k],C);for(var D=0;D<M.length;D++){var L=M[D];b.push(new d(k,L.offset,k,L.offset+L.length))}}if(v){for(var F=v.start.column,P=v.end.column,k=0,D=b.length-1;k<D&&b[k].start.column<F&&b[k].start.row==0;)k++;for(var B=v.end.row-v.start.row;k<D&&b[D].end.column>P&&b[D].end.row==B;)D--;for(b=b.slice(k,D+1),k=0,D=b.length;k<D;k++)b[k].start.row+=v.start.row,b[k].end.row+=v.start.row}return b},m.prototype.parseReplaceString=function(g){for(var y={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},v="",S=0,b=g.length;S<b;S++){var C=g.charCodeAt(S);if(C===y.Backslash){if(S++,S>=b){v+="\\";break}var w=g.charCodeAt(S);switch(w){case y.Backslash:v+="\\";break;case y.n:v+=`
`;break;case y.t:v+="	";break}continue}if(C===y.DollarSign){if(S++,S>=b){v+="$";break}var A=g.charCodeAt(S);if(A===y.DollarSign){v+="$$";continue}if(A===y.Digit0||A===y.Ampersand){v+="$&";continue}if(y.Digit1<=A&&A<=y.Digit9){v+="$"+g[S];continue}}v+=g[S]}return v||g},m.prototype.replace=function(g,y){var v=this.$options,S=this.$assembleRegExp(v);if(v.$isMultiLine)return y;if(S){var b=this.$isMultilineSearch(v);b&&(g=g.replace(/\r\n|\r|\n/g,`
`));var C=S.exec(g);if(!C||!b&&C[0].length!=g.length)return null;if(y=v.regExp?this.parseReplaceString(y):y.replace(/\$/g,"$$$$"),y=g.replace(S,y),v.preserveCase){y=y.split("");for(var w=Math.min(g.length,g.length);w--;){var A=g[w];A&&A.toLowerCase()!=A?y[w]=y[w].toUpperCase():y[w]=y[w].toLowerCase()}y=y.join("")}return y}},m.prototype.$assembleRegExp=function(g,y){if(g.needle instanceof RegExp)return g.re=g.needle;var v=g.needle;if(!g.needle)return g.re=!1;g.regExp||(v=a.escapeRegExp(v));var S=g.caseSensitive?"gm":"gmi";try{new RegExp(v,"u"),g.$supportsUnicodeFlag=!0,S+="u"}catch{g.$supportsUnicodeFlag=!1}if(g.wholeWord&&(v=_(v,g)),g.$isMultiLine=!y&&/[\n\r]/.test(v),g.$isMultiLine)return g.re=this.$assembleMultilineRegExp(v,S);try{var b=new RegExp(v,S)}catch{b=!1}return g.re=b},m.prototype.$assembleMultilineRegExp=function(g,y){for(var v=g.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),S=[],b=0;b<v.length;b++)try{S.push(new RegExp(v[b],y))}catch{return!1}return S},m.prototype.$isMultilineSearch=function(g){return g.re&&/\\r\\n|\\r|\\n/.test(g.re.source)&&g.regExp&&!g.$isMultiLine},m.prototype.$multiLineForward=function(g,y,v,S){for(var b,C=u(g,v),w=v;w<=S;){for(var A=0;A<C&&!(w>S);A++){var $=g.getLine(w++);b=b==null?$:b+`
`+$}var E=y.exec(b);if(y.lastIndex=0,E){var D=b.slice(0,E.index).split(`
`),I=E[0].split(`
`),R=v+D.length-1,O=D[D.length-1].length,N=R+I.length-1,M=I.length==1?O+I[0].length:I[I.length-1].length;return{startRow:R,startCol:O,endRow:N,endCol:M}}}return null},m.prototype.$multiLineBackward=function(g,y,v,S,b){for(var C,w=u(g,S),A=g.getLine(S).length-v,$=S;$>=b;){for(var E=0;E<w&&$>=b;E++){var D=g.getLine($--);C=C==null?D:D+`
`+C}var I=p(C,y,A);if(I){var R=C.slice(0,I.index).split(`
`),O=I[0].split(`
`),N=$+R.length,M=R[R.length-1].length,k=N+O.length-1,x=O.length==1?M+O[0].length:O[O.length-1].length;return{startRow:N,startCol:M,endRow:k,endCol:x}}}return null},m.prototype.$matchIterator=function(g,y){var v=this.$assembleRegExp(y);if(!v)return!1;var S=this.$isMultilineSearch(y),b=this.$multiLineForward,C=this.$multiLineBackward,w=y.backwards==!0,A=y.skipCurrent!=!1,$=v.unicode,E=y.range,D=y.start;D||(D=E?E[w?"end":"start"]:g.selection.getRange()),D.start&&(D=D[A!=w?"end":"start"]);var I=E?E.start.row:0,R=E?E.end.row:g.getLength()-1;if(w)var O=function(k){var x=D.row;if(!M(x,D.column,k)){for(x--;x>=I;x--)if(M(x,Number.MAX_VALUE,k))return;if(y.wrap!=!1){for(x=R,I=D.row;x>=I;x--)if(M(x,Number.MAX_VALUE,k))return}}};else var O=function(x){var T=D.row;if(!M(T,D.column,x)){for(T=T+1;T<=R;T++)if(M(T,0,x))return;if(y.wrap!=!1){for(T=I,R=D.row;T<=R;T++)if(M(T,0,x))return}}};if(y.$isMultiLine)var N=v.length,M=function(k,x,T){var L=w?k-N+1:k;if(!(L<0||L+N>g.getLength())){var F=g.getLine(L),P=F.search(v[0]);if(!(!w&&P<x||P===-1)){for(var B=1;B<N;B++)if(F=g.getLine(L+B),F.search(v[B])==-1)return;var H=F.match(v[N-1])[0].length;if(!(w&&H>x)&&T(L,P,L+N-1,H))return!0}}};else if(w)var M=function(x,T,L){if(S){var F=C(g,v,T,x,I);if(!F)return!1;if(L(F.startRow,F.startCol,F.endRow,F.endCol))return!0}else{var P=g.getLine(x),B=[],H,j=0;for(v.lastIndex=0;H=v.exec(P);){var W=H[0].length;if(j=H.index,!W){if(j>=P.length)break;v.lastIndex=j+=a.skipEmptyMatch(P,j,$)}if(H.index+W>T)break;B.push(H.index,W)}for(var U=B.length-1;U>=0;U-=2){var G=B[U-1],W=B[U];if(L(x,G,x,G+W))return!0}}};else var M=function(x,T,L){if(v.lastIndex=T,S){var F=b(g,v,x,R);if(F){var P=F.endRow<=R?F.endRow-1:R;P>x&&(x=P)}if(!F)return!1;if(L(F.startRow,F.startCol,F.endRow,F.endCol))return!0}else for(var B=g.getLine(x),H,j;j=v.exec(B);){var W=j[0].length;if(H=j.index,L(x,H,x,H+W))return!0;if(!W&&(v.lastIndex=H+=a.skipEmptyMatch(B,H,$),H>=B.length))return!1}};return{forEach:O}},m})();function _(m,g){var y=a.supportsLookbehind();function v(w,A){A===void 0&&(A=!0);var $=y&&g.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return $.test(w)||g.regExp?y&&g.$supportsUnicodeFlag?A?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var S=Array.from(m),b=S[0],C=S[S.length-1];return v(b)+m+v(C,!1)}function p(m,g,y){for(var v=null,S=0;S<=m.length;){g.lastIndex=S;var b=g.exec(m);if(!b)break;var C=b.index+b[0].length;if(C>m.length-y)break;(!v||C>v.index+v[0].length)&&(v=b),S=b.index+1}return v}function u(m,g){var y=5e3,v={row:g,column:0},S=m.doc.positionToIndex(v),b=S+y,C=m.doc.indexToPosition(b),w=C.row;return w+1}o.Search=h}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,o,s){var a=this&&this.__extends||(function(){var m=function(g,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(v[b]=S[b])},m(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}})(),l=n("../lib/keys"),d=n("../lib/useragent"),h=l.KEY_MODS,_=(function(){function m(g,y){this.$init(g,y,!1)}return m.prototype.$init=function(g,y,v){this.platform=y||(d.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(g),this.$singleCommand=v},m.prototype.addCommand=function(g){this.commands[g.name]&&this.removeCommand(g),this.commands[g.name]=g,g.bindKey&&this._buildKeyHash(g)},m.prototype.removeCommand=function(g,y){var v=g&&(typeof g=="string"?g:g.name);g=this.commands[v],y||delete this.commands[v];var S=this.commandKeyBinding;for(var b in S){var C=S[b];if(C==g)delete S[b];else if(Array.isArray(C)){var w=C.indexOf(g);w!=-1&&(C.splice(w,1),C.length==1&&(S[b]=C[0]))}}},m.prototype.bindKey=function(g,y,v){if(typeof g=="object"&&g&&(v==null&&(v=g.position),g=g[this.platform]),!!g){if(typeof y=="function")return this.addCommand({exec:y,bindKey:g,name:y.name||g});g.split("|").forEach(function(S){var b="";if(S.indexOf(" ")!=-1){var C=S.split(/\s+/);S=C.pop(),C.forEach(function($){var E=this.parseKeys($),D=h[E.hashId]+E.key;b+=(b?" ":"")+D,this._addCommandToBinding(b,"chainKeys")},this),b+=" "}var w=this.parseKeys(S),A=h[w.hashId]+w.key;this._addCommandToBinding(b+A,y,v)},this)}},m.prototype._addCommandToBinding=function(g,y,v){var S=this.commandKeyBinding,b;if(!y)delete S[g];else if(!S[g]||this.$singleCommand)S[g]=y;else{Array.isArray(S[g])?(b=S[g].indexOf(y))!=-1&&S[g].splice(b,1):S[g]=[S[g]],typeof v!="number"&&(v=p(y));var C=S[g];for(b=0;b<C.length;b++){var w=C[b],A=p(w);if(A>v)break}C.splice(b,0,y)}},m.prototype.addCommands=function(g){g&&Object.keys(g).forEach(function(y){var v=g[y];if(v){if(typeof v=="string")return this.bindKey(v,y);typeof v=="function"&&(v={exec:v}),typeof v=="object"&&(v.name||(v.name=y),this.addCommand(v))}},this)},m.prototype.removeCommands=function(g){Object.keys(g).forEach(function(y){this.removeCommand(g[y])},this)},m.prototype.bindKeys=function(g){Object.keys(g).forEach(function(y){this.bindKey(y,g[y])},this)},m.prototype._buildKeyHash=function(g){this.bindKey(g.bindKey,g)},m.prototype.parseKeys=function(g){var y=g.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(A){return A}),v=y.pop(),S=l[v];if(l.FUNCTION_KEYS[S])v=l.FUNCTION_KEYS[S].toLowerCase();else if(y.length){if(y.length==1&&y[0]=="shift")return{key:v.toUpperCase(),hashId:-1}}else return{key:v,hashId:-1};for(var b=0,C=y.length;C--;){var w=l.KEY_MODS[y[C]];if(w==null)return typeof console<"u"&&console.error("invalid modifier "+y[C]+" in "+g),!1;b|=w}return{key:v,hashId:b}},m.prototype.findKeyCommand=function(g,y){var v=h[g]+y;return this.commandKeyBinding[v]},m.prototype.handleKeyboard=function(g,y,v,S){if(!(S<0)){var b=h[y]+v,C=this.commandKeyBinding[b];return g.$keyChain&&(g.$keyChain+=" "+b,C=this.commandKeyBinding[g.$keyChain]||C),C&&(C=="chainKeys"||C[C.length-1]=="chainKeys")?(g.$keyChain=g.$keyChain||b,{command:"null"}):(g.$keyChain&&((!y||y==4)&&v.length==1?g.$keyChain=g.$keyChain.slice(0,-b.length-1):(y==-1||S>0)&&(g.$keyChain="")),{command:C})}},m.prototype.getStatusText=function(g,y){return y.$keyChain||""},m})();function p(m){return typeof m=="object"&&m.bindKey&&m.bindKey.position||(m.isDefault?-100:0)}var u=(function(m){a(g,m);function g(y,v){var S=m.call(this,y,v)||this;return S.$singleCommand=!0,S}return g})(_);u.call=function(m,g,y){_.prototype.$init.call(m,g,y,!0)},_.call=function(m,g,y){_.prototype.$init.call(m,g,y,!1)},o.HashHandler=u,o.MultiHashHandler=_}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,o,s){var a=this&&this.__extends||(function(){var p=function(u,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(g[v]=y[v])},p(u,m)};return function(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(u,m);function g(){this.constructor=u}u.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}})(),l=n("../lib/oop"),d=n("../keyboard/hash_handler").MultiHashHandler,h=n("../lib/event_emitter").EventEmitter,_=(function(p){a(u,p);function u(m,g){var y=p.call(this,g,m)||this;return y.byName=y.commands,y.setDefaultHandler("exec",function(v){return v.args?v.command.exec(v.editor,v.args,v.event,!1):v.command.exec(v.editor,{},v.event,!0)}),y}return u.prototype.exec=function(m,g,y){if(Array.isArray(m)){for(var v=m.length;v--;)if(this.exec(m[v],g,y))return!0;return!1}typeof m=="string"&&(m=this.commands[m]);var S={editor:g,command:m,args:y};return this.canExecute(m,g)?(S.returnValue=this._emit("exec",S),this._signal("afterExec",S),S.returnValue!==!1):(this._signal("commandUnavailable",S),!1)},u.prototype.canExecute=function(m,g){return typeof m=="string"&&(m=this.commands[m]),!(!m||g&&g.$readOnly&&!m.readOnly||this.$checkCommandState!=!1&&m.isAvailable&&!m.isAvailable(g))},u.prototype.toggleRecording=function(m){if(!this.$inReplay)return m&&m._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(g){this.macro.push([g.command,g.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},u.prototype.replay=function(m){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(m);try{this.$inReplay=!0,this.macro.forEach(function(g){typeof g=="string"?this.exec(g,m):this.exec(g[0],m,g[1])},this)}finally{this.$inReplay=!1}}},u.prototype.trimMacro=function(m){return m.map(function(g){return typeof g[0]!="string"&&(g[0]=g[0].name),g[1]||(g=g[0]),g})},u})(d);l.implement(_.prototype,h),o.CommandManager=_}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,o,s){var a=n("../lib/lang"),l=n("../config"),d=n("../range").Range;function h(p,u){return{win:p,mac:u}}o.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:h("Ctrl-,","Command-,"),exec:function(p){l.loadModule("ace/ext/settings_menu",function(u){u.init(p),p.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:h("Alt-E","F4"),exec:function(p){l.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(p,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:h("Alt-Shift-E","Shift-F4"),exec:function(p){l.loadModule("ace/ext/error_marker",function(u){u.showErrorMarker(p,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:h("Ctrl-A","Command-A"),exec:function(p){p.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:h(null,"Ctrl-L"),exec:function(p){p.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:h("Ctrl-L","Command-L"),exec:function(p,u){typeof u=="number"&&!isNaN(u)&&p.gotoLine(u),p.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:h("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(p){p.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:h("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(p){p.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:h("F2","F2"),exec:function(p){p.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:h("Alt-F2","Alt-F2"),exec:function(p){p.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(p){p.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(p){p.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:h("Alt-0","Command-Option-0"),exec:function(p){p.session.foldAll(),p.session.unfold(p.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:h("Alt-Shift-0","Command-Option-Shift-0"),exec:function(p){p.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:h("Ctrl-K","Command-G"),exec:function(p){p.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:h("Ctrl-Shift-K","Command-Shift-G"),exec:function(p){p.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:h("Alt-K","Ctrl-G"),exec:function(p){p.selection.isEmpty()?p.selection.selectWord():p.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:h("Alt-Shift-K","Ctrl-Shift-G"),exec:function(p){p.selection.isEmpty()?p.selection.selectWord():p.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:h("Ctrl-F","Command-F"),exec:function(p){l.loadModule("ace/ext/searchbox",function(u){u.Search(p)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(p){p.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:h("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(p){p.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:h("Ctrl-Home","Command-Home|Command-Up"),exec:function(p){p.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:h("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(p){p.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:h("Up","Up|Ctrl-P"),exec:function(p,u){p.navigateUp(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:h("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(p){p.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:h("Ctrl-End","Command-End|Command-Down"),exec:function(p){p.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:h("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(p){p.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:h("Down","Down|Ctrl-N"),exec:function(p,u){p.navigateDown(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:h("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(p){p.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:h("Ctrl-Left","Option-Left"),exec:function(p){p.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:h("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(p){p.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:h("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(p){p.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:h("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(p){p.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:h("Left","Left|Ctrl-B"),exec:function(p,u){p.navigateLeft(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:h("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(p){p.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:h("Ctrl-Right","Option-Right"),exec:function(p){p.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:h("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(p){p.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:h("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(p){p.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:h("Shift-Right","Shift-Right"),exec:function(p){p.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:h("Right","Right|Ctrl-F"),exec:function(p,u){p.navigateRight(u.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(p){p.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:h(null,"Option-PageDown"),exec:function(p){p.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:h("PageDown","PageDown|Ctrl-V"),exec:function(p){p.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(p){p.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:h(null,"Option-PageUp"),exec:function(p){p.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(p){p.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:h("Ctrl-Up",null),exec:function(p){p.renderer.scrollBy(0,-2*p.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:h("Ctrl-Down",null),exec:function(p){p.renderer.scrollBy(0,2*p.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(p){p.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(p){p.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:h("Ctrl-Alt-E","Command-Option-E"),exec:function(p){p.commands.toggleRecording(p)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:h("Ctrl-Shift-E","Command-Shift-E"),exec:function(p){p.commands.replay(p)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:h("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(p){p.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:h("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(p){p.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:h("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(p){p.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:h(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(p){},readOnly:!0},{name:"cut",description:"Cut",exec:function(p){var u=p.$copyWithEmptySelection&&p.selection.isEmpty(),m=u?p.selection.getLineRange():p.selection.getRange();p._emit("cut",m),m.isEmpty()||p.session.remove(m),p.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(p,u){p.$handlePaste(u)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:h("Ctrl-D","Command-D"),exec:function(p){p.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:h("Ctrl-Shift-D","Command-Shift-D"),exec:function(p){p.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:h("Ctrl-Alt-S","Command-Alt-S"),exec:function(p){p.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:h("Ctrl-/","Command-/"),exec:function(p){p.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:h("Ctrl-Shift-/","Command-Shift-/"),exec:function(p){p.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:h("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(p){p.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:h("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(p){p.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:h("Ctrl-H","Command-Option-F"),exec:function(p){l.loadModule("ace/ext/searchbox",function(u){u.Search(p,!0)})}},{name:"undo",description:"Undo",bindKey:h("Ctrl-Z","Command-Z"),exec:function(p){p.undo()}},{name:"redo",description:"Redo",bindKey:h("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(p){p.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:h("Alt-Shift-Up","Command-Option-Up"),exec:function(p){p.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:h("Alt-Up","Option-Up"),exec:function(p){p.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:h("Alt-Shift-Down","Command-Option-Down"),exec:function(p){p.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:h("Alt-Down","Option-Down"),exec:function(p){p.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:h("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(p){p.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:h("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(p){p.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:h("Shift-Delete",null),exec:function(p){if(p.selection.isEmpty())p.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:h("Alt-Backspace","Command-Backspace"),exec:function(p){p.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:h("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(p){p.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:h("Ctrl-Shift-Backspace",null),exec:function(p){var u=p.selection.getRange();u.start.column=0,p.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:h("Ctrl-Shift-Delete",null),exec:function(p){var u=p.selection.getRange();u.end.column=Number.MAX_VALUE,p.session.remove(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:h("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(p){p.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:h("Ctrl-Delete","Alt-Delete"),exec:function(p){p.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:h("Shift-Tab","Shift-Tab"),exec:function(p){p.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:h("Tab","Tab"),exec:function(p){p.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:h("Ctrl-[","Ctrl-["),exec:function(p){p.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:h("Ctrl-]","Ctrl-]"),exec:function(p){p.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(p,u){p.insert(u)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(p,u){p.insert(a.stringRepeat(u.text||"",u.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:h(null,"Ctrl-O"),exec:function(p){p.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:h("Alt-Shift-X","Ctrl-T"),exec:function(p){p.transposeLetters()},multiSelectAction:function(p){p.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:h("Ctrl-U","Ctrl-U"),exec:function(p){p.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:h("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(p){p.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:h(null,null),exec:function(p){p.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:h("Ctrl-Shift-L","Command-Shift-L"),exec:function(p){var u=p.selection.getRange();u.start.column=u.end.column=0,u.end.row++,p.selection.setRange(u,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:h("Ctrl+F3","F3"),exec:function(p){p.openLink()}},{name:"joinlines",description:"Join lines",bindKey:h(null,null),exec:function(p){for(var u=p.selection.isBackwards(),m=u?p.selection.getSelectionLead():p.selection.getSelectionAnchor(),g=u?p.selection.getSelectionAnchor():p.selection.getSelectionLead(),y=p.session.doc.getLine(m.row).length,v=p.session.doc.getTextRange(p.selection.getRange()),S=v.replace(/\n\s*/," ").length,b=p.session.doc.getLine(m.row),C=m.row+1;C<=g.row+1;C++){var w=a.stringTrimLeft(a.stringTrimRight(p.session.doc.getLine(C)));w.length!==0&&(w=" "+w),b+=w}g.row+1<p.session.doc.getLength()-1&&(b+=p.session.doc.getNewLineCharacter()),p.clearSelection(),p.session.doc.replace(new d(m.row,0,g.row+2,0),b),S>0?(p.selection.moveCursorTo(m.row,m.column),p.selection.selectTo(m.row,m.column+S)):(y=p.session.doc.getLine(m.row).length>y?y+1:y,p.selection.moveCursorTo(m.row,y))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:h(null,null),exec:function(p){var u=p.session.doc.getLength()-1,m=p.session.doc.getLine(u).length,g=p.selection.rangeList.ranges,y=[];g.length<1&&(g=[p.selection.getRange()]);for(var v=0;v<g.length;v++)v==g.length-1&&(g[v].end.row===u&&g[v].end.column===m||y.push(new d(g[v].end.row,g[v].end.column,u,m))),v===0?g[v].start.row===0&&g[v].start.column===0||y.push(new d(0,0,g[v].start.row,g[v].start.column)):y.push(new d(g[v-1].end.row,g[v-1].end.column,g[v].start.row,g[v].start.column));p.exitMultiSelectMode(),p.clearSelection();for(var v=0;v<y.length;v++)p.selection.addRange(y[v],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(p){p.selection.clearSelection(),p.navigateLineEnd(),p.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(p){p.selection.clearSelection();var u=p.getCursorPosition();p.selection.moveTo(u.row-1,Number.MAX_VALUE),p.insert(`
`),u.row===0&&p.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(p){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),p.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:h("F1","F1"),exec:function(p){p.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:h(null,null),exec:function(p){p.prompt({$type:"modes"})},readOnly:!0}];for(var _=1;_<9;_++)o.commands.push({name:"foldToLevel"+_,description:"Fold To Level "+_,level:_,exec:function(p){p.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,o,s){var a=n("../lib/keys"),l=n("../mouse/default_gutter_handler").GutterTooltip,d=(function(){function _(p){this.editor=p,this.gutterLayer=p.renderer.$gutterLayer,this.element=p.renderer.$gutter,this.lines=p.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new l(this.editor)}return _.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},_.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},_.prototype.$onGutterKeyDown=function(p){if(this.annotationTooltip.isOpen){p.preventDefault(),p.keyCode===a.escape&&this.annotationTooltip.hideTooltip();return}if(p.target===this.element){if(p.keyCode!=a.enter)return;p.preventDefault();var u=this.editor.getCursorPosition().row;this.editor.isRowVisible(u)||this.editor.scrollToLine(u,!0,!0),setTimeout(function(){var m=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),g=this.$findNearestFoldLaneWidget(m),y=this.$findNearestAnnotation(m);if(!(g===null&&y===null)){var v=this.$findClosestNumber(g,y,m);if(v===g)if(this.activeLane="fold",this.activeRowIndex=g,this.$isCustomWidgetVisible(g)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=y,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(p),setTimeout(function(){this.editor._signal("gutterkeydown",new h(p,this))}.bind(this),10)},_.prototype.$handleGutterKeyboardInteraction=function(p){if(p.keyCode===a.tab){p.preventDefault();return}if(p.keyCode===a.escape){p.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(p.keyCode===a.up){switch(p.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(p.keyCode===a.down){switch(p.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(p.keyCode===a.left){p.preventDefault(),this.$switchLane("annotation");return}if(p.keyCode===a.right){p.preventDefault(),this.$switchLane("fold");return}if(p.keyCode===a.enter||p.keyCode===a.space){switch(p.preventDefault(),this.activeLane){case"fold":var u=this.$rowIndexToRow(this.activeRowIndex),m=this.editor.session.$gutterCustomWidgets[u];if(m)m.callbacks&&m.callbacks.onClick&&m.callbacks.onClick(p,u);else if(this.gutterLayer.session.foldWidgets[u]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),p),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==u&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(u),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var g=this.lines.cells[this.activeRowIndex].element.childNodes[2],y=g.getBoundingClientRect(),v=this.annotationTooltip.getElement().style;v.left=y.right+"px",v.top=y.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},_.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},_.prototype.$isFoldWidgetVisible=function(p){var u=this.editor.isRowFullyVisible(this.$rowIndexToRow(p)),m=this.$getFoldWidget(p).style.display!=="none";return u&&m},_.prototype.$isCustomWidgetVisible=function(p){var u=this.editor.isRowFullyVisible(this.$rowIndexToRow(p)),m=!!this.$getCustomWidget(p);return u&&m},_.prototype.$isAnnotationVisible=function(p){var u=this.editor.isRowFullyVisible(this.$rowIndexToRow(p)),m=this.$getAnnotation(p).style.display!=="none";return u&&m},_.prototype.$getFoldWidget=function(p){var u=this.lines.get(p),m=u.element;return m.childNodes[1]},_.prototype.$getCustomWidget=function(p){var u=this.lines.get(p),m=u.element;return m.childNodes[3]},_.prototype.$getAnnotation=function(p){var u=this.lines.get(p),m=u.element;return m.childNodes[2]},_.prototype.$findNearestFoldLaneWidget=function(p){if(this.$isCustomWidgetVisible(p)||this.$isFoldWidgetVisible(p))return p;for(var u=0;p-u>0||p+u<this.lines.getLength()-1;){if(u++,p-u>=0&&this.$isCustomWidgetVisible(p-u))return p-u;if(p+u<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(p+u))return p+u;if(p-u>=0&&this.$isFoldWidgetVisible(p-u))return p-u;if(p+u<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(p+u))return p+u}return null},_.prototype.$findNearestAnnotation=function(p){if(this.$isAnnotationVisible(p))return p;for(var u=0;p-u>0||p+u<this.lines.getLength()-1;){if(u++,p-u>=0&&this.$isAnnotationVisible(p-u))return p-u;if(p+u<=this.lines.getLength()-1&&this.$isAnnotationVisible(p+u))return p+u}return null},_.prototype.$focusFoldWidget=function(p){if(p!=null){var u=this.$getFoldWidget(p);u.classList.add(this.editor.renderer.keyboardFocusClassName),u.focus()}},_.prototype.$focusCustomWidget=function(p){if(p!=null){var u=this.$getCustomWidget(p);u&&(u.classList.add(this.editor.renderer.keyboardFocusClassName),u.focus())}},_.prototype.$focusAnnotation=function(p){if(p!=null){var u=this.$getAnnotation(p);u.classList.add(this.editor.renderer.keyboardFocusClassName),u.focus()}},_.prototype.$blurFoldWidget=function(p){var u=this.$getFoldWidget(p);u.classList.remove(this.editor.renderer.keyboardFocusClassName),u.blur()},_.prototype.$blurCustomWidget=function(p){var u=this.$getCustomWidget(p);u&&(u.classList.remove(this.editor.renderer.keyboardFocusClassName),u.blur())},_.prototype.$blurAnnotation=function(p){var u=this.$getAnnotation(p);u.classList.remove(this.editor.renderer.keyboardFocusClassName),u.blur()},_.prototype.$moveFoldWidgetUp=function(){for(var p=this.activeRowIndex;p>0;)if(p--,this.$isFoldWidgetVisible(p)||this.$isCustomWidgetVisible(p)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=p,this.$isFoldWidgetVisible(p)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},_.prototype.$moveFoldWidgetDown=function(){for(var p=this.activeRowIndex;p<this.lines.getLength()-1;)if(p++,this.$isFoldWidgetVisible(p)||this.$isCustomWidgetVisible(p)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=p,this.$isFoldWidgetVisible(p)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},_.prototype.$moveAnnotationUp=function(){for(var p=this.activeRowIndex;p>0;)if(p--,this.$isAnnotationVisible(p)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=p,this.$focusAnnotation(this.activeRowIndex);return}},_.prototype.$moveAnnotationDown=function(){for(var p=this.activeRowIndex;p<this.lines.getLength()-1;)if(p++,this.$isAnnotationVisible(p)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=p,this.$focusAnnotation(this.activeRowIndex);return}},_.prototype.$findClosestNumber=function(p,u,m){return p===null?u:u===null||Math.abs(m-p)<=Math.abs(m-u)?p:u},_.prototype.$switchLane=function(p){switch(p){case"annotation":if(this.activeLane==="annotation")break;var u=this.$findNearestAnnotation(this.activeRowIndex);if(u==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=u,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var m=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(m===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=m,this.$isCustomWidgetVisible(m)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},_.prototype.$rowIndexToRow=function(p){var u=this.lines.get(p);return u?u.row:null},_.prototype.$rowToRowIndex=function(p){for(var u=0;u<this.lines.getLength();u++){var m=this.lines.get(u);if(m.row==p)return u}return null},_})();o.GutterKeyboardHandler=d;var h=(function(){function _(p,u){this.gutterKeyboardHandler=u,this.domEvent=p}return _.prototype.getKey=function(){return a.keyCodeToString(this.domEvent.keyCode)},_.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},_.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},_.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},_})();o.GutterKeyboardEvent=h}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(n,o,s){var a=this&&this.__values||function(x){var T=typeof Symbol=="function"&&Symbol.iterator,L=T&&x[T],F=0;if(L)return L.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&F>=x.length&&(x=void 0),{value:x&&x[F++],done:!x}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},l=n("./lib/oop"),d=n("./lib/dom"),h=n("./lib/lang"),_=n("./lib/useragent"),p=n("./keyboard/textinput").TextInput,u=n("./mouse/mouse_handler").MouseHandler,m=n("./mouse/fold_handler").FoldHandler,g=n("./keyboard/keybinding").KeyBinding,y=n("./edit_session").EditSession,v=n("./search").Search,S=n("./range").Range,b=n("./lib/event_emitter").EventEmitter,C=n("./commands/command_manager").CommandManager,w=n("./commands/default_commands").commands,A=n("./config"),$=n("./token_iterator").TokenIterator,E=n("./keyboard/gutter_handler").GutterKeyboardHandler,D=n("./config").nls,I=n("./clipboard"),R=n("./lib/keys"),O=n("./lib/event"),N=n("./tooltip").HoverTooltip,M=(function(){function x(T,L,F){this.id="editor"+ ++x.$uid,this.session,this.$toDestroy=[];var P=T.getContainerElement();this.container=P,this.renderer=T,this.commands=new C(_.isMac?"mac":"win",w),typeof document=="object"&&(this.textInput=new p(T.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new u(this),new m(this)),this.keyBinding=new g(this),this.$search=new v().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(B,H){H._$emitInputEvent.schedule(31)}),this.setSession(L||F&&F.session||new y("")),A.resetOptions(this),F&&this.setOptions(F),A._signal("editor",this)}return x.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},x.prototype.startOperation=function(T){this.session.startOperation(T)},x.prototype.endOperation=function(T){this.session.endOperation(T)},x.prototype.onStartOperation=function(T){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,T||(this.previousCommand=null)},x.prototype.onEndOperation=function(T){if(this.curOp&&this.session){if(T&&T.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var L=this.curOp.command,F=L&&L.scrollIntoView;if(F){switch(F){case"center-animate":F="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var P=this.selection.getRange(),B=this.renderer.layerConfig;(P.start.row>=B.lastRow||P.end.row<=B.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}F=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},x.prototype.$historyTracker=function(T){if(this.$mergeUndoDeltas){var L=this.prevOp,F=this.$mergeableCommands,P=L.command&&T.command.name==L.command.name;if(T.command.name=="insertstring"){var B=T.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),P=P&&this.mergeNextCommand&&(!/\s/.test(B)||/\s/.test(L.args)),this.mergeNextCommand=!0}else P=P&&F.indexOf(T.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(P=!1),P?this.session.mergeUndoDeltas=!0:F.indexOf(T.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},x.prototype.setKeyboardHandler=function(T,L){if(T&&typeof T=="string"&&T!="ace"){this.$keybindingId=T;var F=this;A.loadModule(["keybinding",T],function(P){F.$keybindingId==T&&F.keyBinding.setKeyboardHandler(P&&P.handler),L&&L()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(T),L&&L()},x.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},x.prototype.setSession=function(T){if(this.session!=T){this.curOp&&this.endOperation(),this.curOp={};var L=this.session;if(L){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var F=this.session.getSelection();F.off("changeCursor",this.$onCursorChange),F.off("changeSelection",this.$onSelectionChange)}this.session=T,T?(this.$onDocumentChange=this.onDocumentChange.bind(this),T.on("change",this.$onDocumentChange),this.renderer.setSession(T),this.$onChangeMode=this.onChangeMode.bind(this),T.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),T.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),T.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),T.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),T.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),T.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=T.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(T)),this._signal("changeSession",{session:T,oldSession:L}),this.curOp=null,L&&L._signal("changeEditor",{oldEditor:this}),L&&(L.$editor=null),T&&T._signal("changeEditor",{editor:this}),T&&(T.$editor=this),T&&!T.destroyed&&T.bgTokenizer.scheduleStart()}},x.prototype.getSession=function(){return this.session},x.prototype.setValue=function(T,L){return this.session.doc.setValue(T),L?L==1?this.navigateFileEnd():L==-1&&this.navigateFileStart():this.selectAll(),T},x.prototype.getValue=function(){return this.session.getValue()},x.prototype.getSelection=function(){return this.selection},x.prototype.resize=function(T){this.renderer.onResize(T)},x.prototype.setTheme=function(T,L){this.renderer.setTheme(T,L)},x.prototype.getTheme=function(){return this.renderer.getTheme()},x.prototype.setStyle=function(T,L){this.renderer.setStyle(T,L)},x.prototype.unsetStyle=function(T){this.renderer.unsetStyle(T)},x.prototype.getFontSize=function(){return this.getOption("fontSize")||d.computedStyle(this.container).fontSize},x.prototype.setFontSize=function(T){this.setOption("fontSize",T)},x.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var T=this;this.$highlightPending=!0,setTimeout(function(){T.$highlightPending=!1;var L=T.session;if(!(!L||L.destroyed)){L.$bracketHighlight&&(L.$bracketHighlight.markerIds.forEach(function(V){L.removeMarker(V)}),L.$bracketHighlight=null);var F=T.getCursorPosition(),P=T.getKeyboardHandler(),B=P&&P.$getDirectionForHighlight&&P.$getDirectionForHighlight(T),H=L.getMatchingBracketRanges(F,B);if(!H){var j=new $(L,F.row,F.column),W=j.getCurrentToken();if(W&&/\b(?:tag-open|tag-name)/.test(W.type)){var U=L.getMatchingTags(F);U&&(H=[U.openTagName.isEmpty()?U.openTag:U.openTagName,U.closeTagName.isEmpty()?U.closeTag:U.closeTagName])}}if(!H&&L.$mode.getMatching&&(H=L.$mode.getMatching(T.session)),!H){T.getHighlightIndentGuides()&&T.renderer.$textLayer.$highlightIndentGuide();return}var G="ace_bracket";Array.isArray(H)?H.length==1&&(G="ace_error_bracket"):H=[H],H.length==2&&(S.comparePoints(H[0].end,H[1].start)==0?H=[S.fromPoints(H[0].start,H[1].end)]:S.comparePoints(H[0].start,H[1].end)==0&&(H=[S.fromPoints(H[1].start,H[0].end)])),L.$bracketHighlight={ranges:H,markerIds:H.map(function(V){return L.addMarker(V,G,"text")})},T.getHighlightIndentGuides()&&T.renderer.$textLayer.$highlightIndentGuide()}},50)}},x.prototype.focus=function(){this.textInput.focus()},x.prototype.isFocused=function(){return this.textInput.isFocused()},x.prototype.blur=function(){this.textInput.blur()},x.prototype.onFocus=function(T){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",T))},x.prototype.onBlur=function(T){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",T))},x.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},x.prototype.onDocumentChange=function(T){var L=this.session.$useWrapMode,F=T.start.row==T.end.row?T.end.row:1/0;this.renderer.updateLines(T.start.row,F,L),this._signal("change",T),this.$cursorChange()},x.prototype.onTokenizerUpdate=function(T){var L=T.data;this.renderer.updateLines(L.first,L.last)},x.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},x.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},x.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},x.prototype.$updateHighlightActiveLine=function(){var T=this.getSession(),L;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(L=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(L=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(L=!1)),T.$highlightLineMarker&&!L)T.removeMarker(T.$highlightLineMarker.id),T.$highlightLineMarker=null;else if(!T.$highlightLineMarker&&L){var F=new S(L.row,L.column,L.row,1/0);F.id=T.addMarker(F,"ace_active-line","screenLine"),T.$highlightLineMarker=F}else L&&(T.$highlightLineMarker.start.row=L.row,T.$highlightLineMarker.end.row=L.row,T.$highlightLineMarker.start.column=L.column,T._signal("changeBackMarker"))},x.prototype.onSelectionChange=function(T){var L=this.session;if(L.$selectionMarker&&L.removeMarker(L.$selectionMarker),L.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var F=this.selection.getRange(),P=this.getSelectionStyle();L.$selectionMarker=L.addMarker(F,"ace_selection",P)}var B=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(B),this._signal("changeSelection")},x.prototype.$getSelectionHighLightRegexp=function(){var T=this.session,L=this.getSelectionRange();if(!(L.isEmpty()||L.isMultiLine())){var F=L.start.column,P=L.end.column,B=T.getLine(L.start.row),H=B.substring(F,P);if(!(H.length>5e3||!/[\w\d]/.test(H))){var j=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:H}),W=B.substring(F-1,P+1);if(j.test(W))return j}}},x.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},x.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},x.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},x.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},x.prototype.onChangeMode=function(T){this.renderer.updateText(),this._emit("changeMode",T)},x.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},x.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},x.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},x.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},x.prototype.getCopyText=function(){var T=this.getSelectedText(),L=this.session.doc.getNewLineCharacter(),F=!1;if(!T&&this.$copyWithEmptySelection){F=!0;for(var P=this.selection.getAllRanges(),B=0;B<P.length;B++){var H=P[B];B&&P[B-1].start.row==H.start.row||(T+=this.session.getLine(H.start.row)+L)}}var j={text:T};return this._signal("copy",j),I.lineMode=F?j.text:!1,j.text},x.prototype.onCopy=function(){this.commands.exec("copy",this)},x.prototype.onCut=function(){this.commands.exec("cut",this)},x.prototype.onPaste=function(T,L){var F={text:T,event:L};this.commands.exec("paste",this,F)},x.prototype.$handlePaste=function(T){typeof T=="string"&&(T={text:T}),this._signal("paste",T);var L=T.text,F=L===I.lineMode,P=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)F?P.insert({row:this.selection.lead.row,column:0},L):this.insert(L);else if(F)this.selection.rangeList.ranges.forEach(function(G){P.insert({row:G.start.row,column:0},L)});else{var B=L.split(/\r\n|\r|\n/),H=this.selection.rangeList.ranges,j=B.length==2&&(!B[0]||!B[1]);if(B.length!=H.length||j)return this.commands.exec("insertstring",this,L);for(var W=H.length;W--;){var U=H[W];U.isEmpty()||P.remove(U),P.insert(U.start,B[W])}}},x.prototype.execCommand=function(T,L){return this.commands.exec(T,this,L)},x.prototype.insert=function(T,L){var F=this.session,P=F.getMode(),B=this.getCursorPosition();if(this.getBehavioursEnabled()&&!L){var H=P.transformAction(F.getState(B.row),"insertion",this,F,T);H&&(T!==H.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),T=H.text)}if(T=="	"&&(T=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&T.indexOf(`
`)==-1){var j=S.fromPoints(B,B);j.end.column+=T.length,this.session.remove(j)}}else{var j=this.getSelectionRange();B=this.session.remove(j),this.clearSelection()}if(T==`
`||T==`\r
`){var V=F.getLine(B.row);if(B.column>V.search(/\S|$/)){var W=V.substr(B.column).search(/\S|$/);F.doc.removeInLine(B.row,B.column,B.column+W)}}this.clearSelection();var U=B.column,G=F.getState(B.row),V=F.getLine(B.row),X=P.checkOutdent(G,V,T);if(F.insert(B,T),H&&H.selection&&(H.selection.length==2?this.selection.setSelectionRange(new S(B.row,U+H.selection[0],B.row,U+H.selection[1])):this.selection.setSelectionRange(new S(B.row+H.selection[0],H.selection[1],B.row+H.selection[2],H.selection[3]))),this.$enableAutoIndent){if(F.getDocument().isNewLine(T)){var q=P.getNextLineIndent(G,V.slice(0,B.column),F.getTabString());F.insert({row:B.row+1,column:0},q)}X&&P.autoOutdent(G,F,B.row)}},x.prototype.autoIndent=function(){for(var T=this.session,L=T.getMode(),F=this.selection.isEmpty()?[new S(0,0,T.doc.getLength()-1,0)]:this.selection.getAllRanges(),P="",B="",H="",j=T.getTabString(),W=0;W<F.length;W++)for(var U=F[W].start.row,G=F[W].end.row,V=U;V<=G;V++){V>0&&(P=T.getState(V-1),B=T.getLine(V-1),H=L.getNextLineIndent(P,B,j));var X=T.getLine(V),q=L.$getIndent(X);if(H!==q){if(q.length>0){var Y=new S(V,0,V,q.length);T.remove(Y)}H.length>0&&T.insert({row:V,column:0},H)}L.autoOutdent(P,T,V)}},x.prototype.onTextInput=function(T,L){if(!L)return this.keyBinding.onTextInput(T);this.startOperation({command:{name:"insertstring"}});var F=this.applyComposition.bind(this,T,L);this.selection.rangeCount?this.forEachSelection(F):F(),this.endOperation()},x.prototype.applyComposition=function(T,L){if(L.extendLeft||L.extendRight){var F=this.selection.getRange();F.start.column-=L.extendLeft,F.end.column+=L.extendRight,F.start.column<0&&(F.start.row--,F.start.column+=this.session.getLine(F.start.row).length+1),this.selection.setRange(F),!T&&!F.isEmpty()&&this.remove()}if((T||!this.selection.isEmpty())&&this.insert(T,!0),L.restoreStart||L.restoreEnd){var F=this.selection.getRange();F.start.column-=L.restoreStart,F.end.column-=L.restoreEnd,this.selection.setRange(F)}},x.prototype.onCommandKey=function(T,L,F){return this.keyBinding.onCommandKey(T,L,F)},x.prototype.setOverwrite=function(T){this.session.setOverwrite(T)},x.prototype.getOverwrite=function(){return this.session.getOverwrite()},x.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},x.prototype.setScrollSpeed=function(T){this.setOption("scrollSpeed",T)},x.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},x.prototype.setDragDelay=function(T){this.setOption("dragDelay",T)},x.prototype.getDragDelay=function(){return this.getOption("dragDelay")},x.prototype.setSelectionStyle=function(T){this.setOption("selectionStyle",T)},x.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},x.prototype.setHighlightActiveLine=function(T){this.setOption("highlightActiveLine",T)},x.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},x.prototype.setHighlightGutterLine=function(T){this.setOption("highlightGutterLine",T)},x.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},x.prototype.setHighlightSelectedWord=function(T){this.setOption("highlightSelectedWord",T)},x.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},x.prototype.setAnimatedScroll=function(T){this.renderer.setAnimatedScroll(T)},x.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},x.prototype.setShowInvisibles=function(T){this.renderer.setShowInvisibles(T)},x.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},x.prototype.setDisplayIndentGuides=function(T){this.renderer.setDisplayIndentGuides(T)},x.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},x.prototype.setHighlightIndentGuides=function(T){this.renderer.setHighlightIndentGuides(T)},x.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},x.prototype.setShowPrintMargin=function(T){this.renderer.setShowPrintMargin(T)},x.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},x.prototype.setPrintMarginColumn=function(T){this.renderer.setPrintMarginColumn(T)},x.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},x.prototype.setReadOnly=function(T){this.setOption("readOnly",T)},x.prototype.getReadOnly=function(){return this.getOption("readOnly")},x.prototype.setBehavioursEnabled=function(T){this.setOption("behavioursEnabled",T)},x.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},x.prototype.setWrapBehavioursEnabled=function(T){this.setOption("wrapBehavioursEnabled",T)},x.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},x.prototype.setShowFoldWidgets=function(T){this.setOption("showFoldWidgets",T)},x.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},x.prototype.setFadeFoldWidgets=function(T){this.setOption("fadeFoldWidgets",T)},x.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},x.prototype.remove=function(T){this.selection.isEmpty()&&(T=="left"?this.selection.selectLeft():this.selection.selectRight());var L=this.getSelectionRange();if(this.getBehavioursEnabled()){var F=this.session,P=F.getState(L.start.row),B=F.getMode().transformAction(P,"deletion",this,F,L);if(L.end.column===0){var H=F.getTextRange(L);if(H[H.length-1]==`
`){var j=F.getLine(L.end.row);/^\s+$/.test(j)&&(L.end.column=j.length)}}B&&(L=B)}this.session.remove(L),this.clearSelection()},x.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},x.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},x.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},x.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var T=this.getSelectionRange();T.start.column==T.end.column&&T.start.row==T.end.row&&(T.end.column=0,T.end.row++),this.session.remove(T),this.clearSelection()},x.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var T=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(T)},x.prototype.setGhostText=function(T,L){this.renderer.setGhostText(T,L)},x.prototype.removeGhostText=function(){this.renderer.removeGhostText()},x.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var T=this.getCursorPosition(),L=T.column;if(L!==0){var F=this.session.getLine(T.row),P,B;L<F.length?(P=F.charAt(L)+F.charAt(L-1),B=new S(T.row,L-1,T.row,L+1)):(P=F.charAt(L-1)+F.charAt(L-2),B=new S(T.row,L-2,T.row,L)),this.session.replace(B,P),this.session.selection.moveToPosition(B.end)}}},x.prototype.toLowerCase=function(){var T=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),F=this.session.getTextRange(L);this.session.replace(L,F.toLowerCase()),this.selection.setSelectionRange(T)},x.prototype.toUpperCase=function(){var T=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),F=this.session.getTextRange(L);this.session.replace(L,F.toUpperCase()),this.selection.setSelectionRange(T)},x.prototype.indent=function(){var T=this.session,L=this.getSelectionRange();if(L.start.row<L.end.row){var F=this.$getSelectedRows();T.indentRows(F.first,F.last,"	");return}else if(L.start.column<L.end.column){var P=T.getTextRange(L);if(!/^\s+$/.test(P)){var F=this.$getSelectedRows();T.indentRows(F.first,F.last,"	");return}}var B=T.getLine(L.start.row),H=L.start,j=T.getTabSize(),W=T.documentToScreenColumn(H.row,H.column);if(this.session.getUseSoftTabs())var U=j-W%j,G=h.stringRepeat(" ",U);else{for(var U=W%j;B[L.start.column-1]==" "&&U;)L.start.column--,U--;this.selection.setSelectionRange(L),G="	"}return this.insert(G)},x.prototype.blockIndent=function(){var T=this.$getSelectedRows();this.session.indentRows(T.first,T.last,"	")},x.prototype.blockOutdent=function(){var T=this.session.getSelection();this.session.outdentRows(T.getRange())},x.prototype.sortLines=function(){for(var T=this.$getSelectedRows(),L=this.session,F=[],P=T.first;P<=T.last;P++)F.push(L.getLine(P));F.sort(function(j,W){return j.toLowerCase()<W.toLowerCase()?-1:j.toLowerCase()>W.toLowerCase()?1:0});for(var B=new S(0,0,0,0),P=T.first;P<=T.last;P++){var H=L.getLine(P);B.start.row=P,B.end.row=P,B.end.column=H.length,L.replace(B,F[P-T.first])}},x.prototype.toggleCommentLines=function(){var T=this.session.getState(this.getCursorPosition().row),L=this.$getSelectedRows();this.session.getMode().toggleCommentLines(T,this.session,L.first,L.last)},x.prototype.toggleBlockComment=function(){var T=this.getCursorPosition(),L=this.session.getState(T.row),F=this.getSelectionRange();this.session.getMode().toggleBlockComment(L,this.session,F,T)},x.prototype.getNumberAt=function(T,L){var F=/[\-]?[0-9]+(?:\.[0-9]+)?/g;F.lastIndex=0;for(var P=this.session.getLine(T);F.lastIndex<L;){var B=F.exec(P);if(B.index<=L&&B.index+B[0].length>=L){var H={value:B[0],start:B.index,end:B.index+B[0].length};return H}}return null},x.prototype.modifyNumber=function(T){var L=this.selection.getCursor().row,F=this.selection.getCursor().column,P=new S(L,F-1,L,F),B=this.session.getTextRange(P);if(!isNaN(parseFloat(B))&&isFinite(B)){var H=this.getNumberAt(L,F);if(H){var j=H.value.indexOf(".")>=0?H.start+H.value.indexOf(".")+1:H.end,W=H.start+H.value.length-j,U=parseFloat(H.value);U*=Math.pow(10,W),j!==H.end&&F<j?T*=Math.pow(10,H.end-F-1):T*=Math.pow(10,H.end-F),U+=T,U/=Math.pow(10,W);var G=U.toFixed(W),V=new S(L,H.start,L,H.end);this.session.replace(V,G),this.moveCursorTo(L,Math.max(H.start+1,F+G.length-H.value.length))}}else this.toggleWord()},x.prototype.toggleWord=function(){var T=this.selection.getCursor().row,L=this.selection.getCursor().column;this.selection.selectWord();var F=this.getSelectedText(),P=this.selection.getWordRange().start.column,B=F.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),H=L-P-1;H<0&&(H=0);var j=0,W=0,U=this;F.match(/[A-Za-z0-9_]+/)&&B.forEach(function(re,ae){W=j+re.length,H>=j&&H<=W&&(F=re,U.selection.clearSelection(),U.moveCursorTo(T,j+P),U.selection.selectTo(T,W+P)),j=W});for(var G=this.$toggleWordPairs,V,X=0;X<G.length;X++)for(var q=G[X],Y=0;Y<=1;Y++){var J=+!Y,Q=F.match(new RegExp("^\\s?_?("+h.escapeRegExp(q[Y])+")\\s?$","i"));if(Q){var ee=F.match(new RegExp("([_]|^|\\s)("+h.escapeRegExp(Q[1])+")($|\\s)","g"));ee&&(V=F.replace(new RegExp(h.escapeRegExp(q[Y]),"i"),function(re){var ae=q[J];return re.toUpperCase()==re?ae=ae.toUpperCase():re.charAt(0).toUpperCase()==re.charAt(0)&&(ae=ae.substr(0,0)+q[J].charAt(0).toUpperCase()+ae.substr(1)),ae}),this.insert(V),V="")}}},x.prototype.findLinkAt=function(T,L){var F,P,B=this.session.getLine(T),H=B.split(/((?:https?|ftp):\/\/[\S]+)/),j=L;j<0&&(j=0);var W=0,U=0,G;try{for(var V=a(H),X=V.next();!X.done;X=V.next()){var q=X.value;if(U=W+q.length,j>=W&&j<=U&&q.match(/((?:https?|ftp):\/\/[\S]+)/)){G=q.replace(/[\s:.,'";}\]]+$/,"");break}W=U}}catch(Y){F={error:Y}}finally{try{X&&!X.done&&(P=V.return)&&P.call(V)}finally{if(F)throw F.error}}return G},x.prototype.openLink=function(){var T=this.selection.getCursor(),L=this.findLinkAt(T.row,T.column);return L&&window.open(L,"_blank"),L!=null},x.prototype.removeLines=function(){var T=this.$getSelectedRows();this.session.removeFullLines(T.first,T.last),this.clearSelection()},x.prototype.duplicateSelection=function(){var T=this.selection,L=this.session,F=T.getRange(),P=T.isBackwards();if(F.isEmpty()){var B=F.start.row;L.duplicateLines(B,B)}else{var H=P?F.start:F.end,j=L.insert(H,L.getTextRange(F));F.start=H,F.end=j,T.setSelectionRange(F,P)}},x.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},x.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},x.prototype.moveText=function(T,L,F){return this.session.moveText(T,L,F)},x.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},x.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},x.prototype.$moveLines=function(T,L){var F,P,B=this.selection;if(!B.inMultiSelectMode||this.inVirtualSelectionMode){var H=B.toOrientedRange();F=this.$getSelectedRows(H),P=this.session.$moveLines(F.first,F.last,L?0:T),L&&T==-1&&(P=0),H.moveBy(P,0),B.fromOrientedRange(H)}else{var j=B.rangeList.ranges;B.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var W=0,U=0,G=j.length,V=0;V<G;V++){var X=V;j[V].moveBy(W,0),F=this.$getSelectedRows(j[V]);for(var q=F.first,Y=F.last;++V<G;){U&&j[V].moveBy(U,0);var J=this.$getSelectedRows(j[V]);if(L&&J.first!=Y)break;if(!L&&J.first>Y+1)break;Y=J.last}for(V--,W=this.session.$moveLines(q,Y,L?0:T),L&&T==-1&&(X=V+1);X<=V;)j[X].moveBy(W,0),X++;L||(W=0),U+=W}B.fromOrientedRange(B.ranges[0]),B.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},x.prototype.$getSelectedRows=function(T){return T=(T||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(T.start.row),last:this.session.getRowFoldEnd(T.end.row)}},x.prototype.onCompositionStart=function(T){this.renderer.showComposition(T)},x.prototype.onCompositionUpdate=function(T){this.renderer.setCompositionText(T)},x.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},x.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},x.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},x.prototype.isRowVisible=function(T){return T>=this.getFirstVisibleRow()&&T<=this.getLastVisibleRow()},x.prototype.isRowFullyVisible=function(T){return T>=this.renderer.getFirstFullyVisibleRow()&&T<=this.renderer.getLastFullyVisibleRow()},x.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},x.prototype.$moveByPage=function(T,L){var F=this.renderer,P=this.renderer.layerConfig,B=T*Math.floor(P.height/P.lineHeight);L===!0?this.selection.$moveSelection(function(){this.moveCursorBy(B,0)}):L===!1&&(this.selection.moveCursorBy(B,0),this.selection.clearSelection());var H=F.scrollTop;F.scrollBy(0,B*P.lineHeight),L!=null&&F.scrollCursorIntoView(null,.5),F.animateScrolling(H)},x.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},x.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},x.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},x.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},x.prototype.scrollPageDown=function(){this.$moveByPage(1)},x.prototype.scrollPageUp=function(){this.$moveByPage(-1)},x.prototype.scrollToRow=function(T){this.renderer.scrollToRow(T)},x.prototype.scrollToLine=function(T,L,F,P){this.renderer.scrollToLine(T,L,F,P)},x.prototype.centerSelection=function(){var T=this.getSelectionRange(),L={row:Math.floor(T.start.row+(T.end.row-T.start.row)/2),column:Math.floor(T.start.column+(T.end.column-T.start.column)/2)};this.renderer.alignCursor(L,.5)},x.prototype.getCursorPosition=function(){return this.selection.getCursor()},x.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},x.prototype.getSelectionRange=function(){return this.selection.getRange()},x.prototype.selectAll=function(){this.selection.selectAll()},x.prototype.clearSelection=function(){this.selection.clearSelection()},x.prototype.moveCursorTo=function(T,L){this.selection.moveCursorTo(T,L)},x.prototype.moveCursorToPosition=function(T){this.selection.moveCursorToPosition(T)},x.prototype.jumpToMatching=function(T,L){var F=this.getCursorPosition(),P=new $(this.session,F.row,F.column),B=P.getCurrentToken(),H=0;B&&B.type.indexOf("tag-name")!==-1&&(B=P.stepBackward());var j=B||P.stepForward();if(j){var W,U=!1,G={},V=F.column-j.start,X,q={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(j.value.match(/[{}()\[\]]/g)){for(;V<j.value.length&&!U;V++)if(q[j.value[V]])switch(X=q[j.value[V]]+"."+j.type.replace("rparen","lparen"),isNaN(G[X])&&(G[X]=0),j.value[V]){case"(":case"[":case"{":G[X]++;break;case")":case"]":case"}":G[X]--,G[X]===-1&&(W="bracket",U=!0);break}}else j.type.indexOf("tag-name")!==-1&&(isNaN(G[j.value])&&(G[j.value]=0),B.value==="<"&&H>1?G[j.value]++:B.value==="</"&&G[j.value]--,G[j.value]===-1&&(W="tag",U=!0));U||(B=j,H++,j=P.stepForward(),V=0)}while(j&&!U);if(W){var Y,J;if(W==="bracket")Y=this.session.getBracketRange(F),Y||(Y=new S(P.getCurrentTokenRow(),P.getCurrentTokenColumn()+V-1,P.getCurrentTokenRow(),P.getCurrentTokenColumn()+V-1),J=Y.start,(L||J.row===F.row&&Math.abs(J.column-F.column)<2)&&(Y=this.session.getBracketRange(J)));else if(W==="tag"){if(!j||j.type.indexOf("tag-name")===-1)return;if(Y=new S(P.getCurrentTokenRow(),P.getCurrentTokenColumn()-2,P.getCurrentTokenRow(),P.getCurrentTokenColumn()-2),Y.compare(F.row,F.column)===0){var Q=this.session.getMatchingTags(F);Q&&(Q.openTag.contains(F.row,F.column)?(Y=Q.closeTag,J=Y.start):(Y=Q.openTag,Q.closeTag.start.row===F.row&&Q.closeTag.start.column===F.column?J=Y.end:J=Y.start))}J=J||Y.start}J=Y&&Y.cursor||J,J&&(T?Y&&L?this.selection.setRange(Y):Y&&Y.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(J.row,J.column):this.selection.moveTo(J.row,J.column))}}},x.prototype.gotoLine=function(T,L,F){this.selection.clearSelection(),this.session.unfold({row:T-1,column:L||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(T-1,L||0),this.isRowFullyVisible(T-1)||this.scrollToLine(T-1,!0,F)},x.prototype.navigateTo=function(T,L){this.selection.moveTo(T,L)},x.prototype.navigateUp=function(T){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(-T||-1,0)},x.prototype.navigateDown=function(T){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(T||1,0)},x.prototype.navigateLeft=function(T){if(this.selection.isEmpty())for(T=T||1;T--;)this.selection.moveCursorLeft();else{var L=this.getSelectionRange().start;this.moveCursorToPosition(L)}this.clearSelection()},x.prototype.navigateRight=function(T){if(this.selection.isEmpty())for(T=T||1;T--;)this.selection.moveCursorRight();else{var L=this.getSelectionRange().end;this.moveCursorToPosition(L)}this.clearSelection()},x.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},x.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},x.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},x.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},x.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},x.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},x.prototype.replace=function(T,L){L&&this.$search.set(L);var F=this.$search.find(this.session),P=0;return F&&(this.$tryReplace(F,T)&&(P=1),this.selection.setSelectionRange(F),this.renderer.scrollSelectionIntoView(F.start,F.end)),P},x.prototype.replaceAll=function(T,L){L&&this.$search.set(L);var F=this.$search.findAll(this.session),P=0;if(!F.length)return P;var B=this.getSelectionRange();this.selection.moveTo(0,0);for(var H=F.length-1;H>=0;--H)this.$tryReplace(F[H],T)&&P++;return this.selection.setSelectionRange(B),P},x.prototype.$tryReplace=function(T,L){var F=this.session.getTextRange(T);return L=this.$search.replace(F,L),L!==null?(T.end=this.session.replace(T,L),T):null},x.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},x.prototype.find=function(T,L,F){L||(L={}),typeof T=="string"||T instanceof RegExp?L.needle=T:typeof T=="object"&&l.mixin(L,T);var P=this.selection.getRange();L.needle==null&&(T=this.session.getTextRange(P)||this.$search.$options.needle,T||(P=this.session.getWordRange(P.start.row,P.start.column),T=this.session.getTextRange(P)),this.$search.set({needle:T})),this.$search.set(L),L.start||this.$search.set({start:P});var B=this.$search.find(this.session);if(L.preventScroll)return B;if(B)return this.revealRange(B,F),B;L.backwards?P.start=P.end:P.end=P.start,this.selection.setRange(P)},x.prototype.findNext=function(T,L){this.find({skipCurrent:!0,backwards:!1},T,L)},x.prototype.findPrevious=function(T,L){this.find(T,{skipCurrent:!0,backwards:!0},L)},x.prototype.revealRange=function(T,L){this.session.unfold(T),this.selection.setSelectionRange(T);var F=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(T.start,T.end,.5),L!==!1&&this.renderer.animateScrolling(F)},x.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},x.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},x.prototype.destroy=function(){this.destroyed=!0,this.$toDestroy&&(this.$toDestroy.forEach(function(T){T.destroy()}),this.$toDestroy=[]),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},x.prototype.setAutoScrollEditorIntoView=function(T){if(T){var L,F=this,P=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var B=this.$scrollAnchor;B.style.cssText="position:absolute",this.container.insertBefore(B,this.container.firstChild);var H=this.on("changeSelection",function(){P=!0}),j=this.renderer.on("beforeRender",function(){P&&(L=F.renderer.container.getBoundingClientRect())}),W=this.renderer.on("afterRender",function(){if(P&&L&&(F.isFocused()||F.searchBox&&F.searchBox.isFocused())){var U=F.renderer,G=U.$cursorLayer.$pixelPos,V=U.layerConfig,X=G.top-V.offset;G.top>=0&&X+L.top<0?P=!0:G.top<V.height&&G.top+L.top+V.lineHeight>window.innerHeight?P=!1:P=null,P!=null&&(B.style.top=X+"px",B.style.left=G.left+"px",B.style.height=V.lineHeight+"px",B.scrollIntoView(P)),P=L=null}});this.setAutoScrollEditorIntoView=function(U){U||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",H),this.renderer.off("afterRender",W),this.renderer.off("beforeRender",j))}}},x.prototype.$resetCursorStyle=function(){var T=this.$cursorStyle||"ace",L=this.renderer.$cursorLayer;L&&(L.setSmoothBlinking(/smooth/.test(T)),L.isBlinking=!this.$readOnly&&T!="wide",d.setCssClass(L.element,"ace_slim-cursors",/slim/.test(T)))},x.prototype.prompt=function(T,L,F){var P=this;A.loadModule("ace/ext/prompt",function(B){B.prompt(P,T,L,F)})},x})();M.$uid=0,M.prototype.curOp=null,M.prototype.prevOp={},M.prototype.$mergeableCommands=["backspace","del","insertstring"],M.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],l.implement(M.prototype,b),A.defineOptions(M.prototype,"editor",{selectionStyle:{set:function(x){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:x})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(x){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(x){var T=this;if(this.textInput.setReadOnly(x),!this.destroyed){this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(F){var P=!1;if(F&&F.type=="keydown"){if(F&&F.key&&!F.ctrlKey&&!F.metaKey&&(F.key==" "&&F.preventDefault(),P=F.key.length==1),!P)return}else F&&F.type!=="exec"&&(P=!0);if(P){T.hoverTooltip||(T.hoverTooltip=new N);var B=d.createElement("div");B.textContent=D("editor.tooltip.disable-editing","Editing is disabled"),T.hoverTooltip.isOpen||T.hoverTooltip.showForRange(T,T.getSelectionRange(),B)}else T.hoverTooltip&&T.hoverTooltip.isOpen&&T.hoverTooltip.hide()});var L=this.textInput.getElement();x?(O.addListener(L,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(O.removeListener(L,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))}},initialValue:!1},copyWithEmptySelection:{set:function(x){this.textInput.setCopyWithEmptySelection(x)},initialValue:!1},cursorStyle:{set:function(x){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(x){this.setAutoScrollEditorIntoView(x)}},keyboardHandler:{set:function(x){this.setKeyboardHandler(x)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(x){this.session.setValue(x)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(x){this.setSession(x)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(x){this.renderer.$gutterLayer.setShowLineNumbers(x),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),x&&this.$relativeLineNumbers?k.attach(this):k.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(x){this.$showLineNumbers&&x?k.attach(this):k.detach(this)}},placeholder:{set:function(x){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var T=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(T&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),d.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!T&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),d.addCssClass(this.container,"ace_hasPlaceholder");var L=d.createElement("div");L.className="ace_placeholder",L.textContent=this.$placeholder||"",this.renderer.placeholderNode=L,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!T&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(x){var T={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(P){P.blur(),P.renderer.scroller.focus()},readOnly:!0},L=function(P){if(P.target==this.renderer.scroller&&P.keyCode===R.enter){P.preventDefault();var B=this.getCursorPosition().row;this.isRowVisible(B)||this.scrollToLine(B,!0,!0),this.focus()}},F;x?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(_.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",D("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",D("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",L.bind(this)),this.commands.addCommand(T),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",D("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",D("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),F||(F=new E(this)),F.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",L.bind(this)),this.commands.removeCommand(T),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),F&&F.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(x){this.$textInputAriaLabel=x},initialValue:""},enableMobileMenu:{set:function(x){this.$enableMobileMenu=x},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var k={getText:function(x,T){return(Math.abs(x.selection.lead.row-T)||T+1+(T<9?"":""))+""},getWidth:function(x,T,L){return Math.max(T.toString().length,(L.lastRow+1).toString().length,2)*L.characterWidth},update:function(x,T){T.renderer.$loop.schedule(T.renderer.CHANGE_GUTTER)},attach:function(x){x.renderer.$gutterLayer.$renderer=this,x.on("changeSelection",this.update),this.update(null,x)},detach:function(x){x.renderer.$gutterLayer.$renderer==this&&(x.renderer.$gutterLayer.$renderer=null),x.off("changeSelection",this.update),this.update(null,x)}};o.Editor=M}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,o,s){var a=n("../lib/dom"),l=(function(){function d(h,_){this.element=h,this.canvasHeight=_||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return d.prototype.moveContainer=function(h){a.translate(this.element,0,-(h.firstRowScreen*h.lineHeight%this.canvasHeight)-h.offset*this.$offsetCoefficient)},d.prototype.pageChanged=function(h,_){return Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)!==Math.floor(_.firstRowScreen*_.lineHeight/this.canvasHeight)},d.prototype.computeLineTop=function(h,_,p){var u=_.firstRowScreen*_.lineHeight,m=Math.floor(u/this.canvasHeight),g=p.documentToScreenRow(h,0)*_.lineHeight;return g-m*this.canvasHeight},d.prototype.computeLineHeight=function(h,_,p){return _.lineHeight*p.getRowLineCount(h)},d.prototype.getLength=function(){return this.cells.length},d.prototype.get=function(h){return this.cells[h]},d.prototype.shift=function(){this.$cacheCell(this.cells.shift())},d.prototype.pop=function(){this.$cacheCell(this.cells.pop())},d.prototype.push=function(h){if(Array.isArray(h)){this.cells.push.apply(this.cells,h);for(var _=a.createFragment(this.element),p=0;p<h.length;p++)_.appendChild(h[p].element);this.element.appendChild(_)}else this.cells.push(h),this.element.appendChild(h.element)},d.prototype.unshift=function(h){if(Array.isArray(h)){this.cells.unshift.apply(this.cells,h);for(var _=a.createFragment(this.element),p=0;p<h.length;p++)_.appendChild(h[p].element);this.element.firstChild?this.element.insertBefore(_,this.element.firstChild):this.element.appendChild(_)}else this.cells.unshift(h),this.element.insertAdjacentElement("afterbegin",h.element)},d.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},d.prototype.$cacheCell=function(h){h&&(h.element.remove(),this.cellCache.push(h))},d.prototype.createCell=function(h,_,p,u){var m=this.cellCache.pop();if(!m){var g=a.createElement("div");u&&u(g),this.element.appendChild(g),m={element:g,text:"",row:h}}return m.row=h,m},d})();o.Lines=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,o,s){var a=n("../lib/dom"),l=n("../lib/oop"),d=n("../lib/lang"),h=n("../lib/event_emitter").EventEmitter,_=n("./lines").Lines,p=n("../config").nls,u=(function(){function g(y){this.element=a.createElement("div"),this.element.className="ace_layer ace_gutter-layer",y.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new _(this.element),this.$lines.$offsetCoefficient=1}return g.prototype.setSession=function(y){this.session&&this.session.off("change",this.$updateAnnotations),this.session=y,y&&y.on("change",this.$updateAnnotations)},g.prototype.addGutterDecoration=function(y,v){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(y,v)},g.prototype.removeGutterDecoration=function(y,v){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(y,v)},g.prototype.setAnnotations=function(y){this.$annotations=[];for(var v=0;v<y.length;v++){var S=y[v],b=S.row,C=this.$annotations[b];C||(C=this.$annotations[b]={text:[],type:[],displayText:[]});var w=S.text,A=S.text,$=S.type;w=w?d.escapeHTML(w):S.html||"",A=A||S.html||"",C.text.indexOf(w)===-1&&(C.text.push(w),C.type.push($),C.displayText.push(A));var E=S.className;E?C.className=E:$==="error"?C.className=" ace_error":$==="security"&&!/\bace_error\b/.test(C.className)?C.className=" ace_security":$==="warning"&&!/\bace_(error|security)\b/.test(C.className)?C.className=" ace_warning":$==="info"&&!C.className?C.className=" ace_info":$==="hint"&&!C.className&&(C.className=" ace_hint")}},g.prototype.$updateAnnotations=function(y){if(this.$annotations.length){var v=y.start.row,S=y.end.row-v;if(S!==0)if(y.action=="remove")this.$annotations.splice(v,S+1,null);else{var b=new Array(S+1);b.unshift(v,1),this.$annotations.splice.apply(this.$annotations,b)}}},g.prototype.update=function(y){this.config=y;var v=this.session,S=y.firstRow,b=Math.min(y.lastRow+y.gutterOffset,v.getLength()-1);this.oldLastRow=b,this.config=y,this.$lines.moveContainer(y),this.$updateCursorRow();for(var C=v.getNextFoldLine(S),w=C?C.start.row:1/0,A=null,$=-1,E=S;;){if(E>w&&(E=C.end.row+1,C=v.getNextFoldLine(E,C),w=C?C.start.row:1/0),E>b){for(;this.$lines.getLength()>$+1;)this.$lines.pop();break}A=this.$lines.get(++$),A?A.row=E:(A=this.$lines.createCell(E,y,this.session,m),this.$lines.push(A)),this.$renderCell(A,y,C,E),E++}this._signal("afterRender"),this.$updateGutterWidth(y)},g.prototype.$updateGutterWidth=function(y){var v=this.session,S=v.gutterRenderer||this.$renderer,b=v.$firstLineNumber,C=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||v.$useWrapMode)&&(C=v.getLength()+b-1);var w=S?S.getWidth(v,C,y):C.toString().length*y.characterWidth,A=this.$padding||this.$computePadding();w+=A.left+A.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",w))},g.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var y=this.session.selection.getCursor();this.$cursorRow!==y.row&&(this.$cursorRow=y.row)}},g.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var y=this.session.selection.cursor.row;if(this.$cursorRow=y,!(this.$cursorCell&&this.$cursorCell.row==y)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var v=this.$lines.cells;this.$cursorCell=null;for(var S=0;S<v.length;S++){var b=v[S];if(b.row>=this.$cursorRow){if(b.row>this.$cursorRow){var C=this.session.getFoldLine(this.$cursorRow);if(S>0&&C&&C.start.row==v[S-1].row)b=v[S-1];else break}b.element.className="ace_gutter-active-line "+b.element.className,this.$cursorCell=b;break}}}}},g.prototype.scrollLines=function(y){var v=this.config;if(this.config=y,this.$updateCursorRow(),this.$lines.pageChanged(v,y))return this.update(y);this.$lines.moveContainer(y);var S=Math.min(y.lastRow+y.gutterOffset,this.session.getLength()-1),b=this.oldLastRow;if(this.oldLastRow=S,!v||b<y.firstRow)return this.update(y);if(S<v.firstRow)return this.update(y);if(v.firstRow<y.firstRow)for(var C=this.session.getFoldedRowCount(v.firstRow,y.firstRow-1);C>0;C--)this.$lines.shift();if(b>S)for(var C=this.session.getFoldedRowCount(S+1,b);C>0;C--)this.$lines.pop();y.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLines(y,y.firstRow,v.firstRow-1)),S>b&&this.$lines.push(this.$renderLines(y,b+1,S)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(y)},g.prototype.$renderLines=function(y,v,S){for(var b=[],C=v,w=this.session.getNextFoldLine(C),A=w?w.start.row:1/0;C>A&&(C=w.end.row+1,w=this.session.getNextFoldLine(C,w),A=w?w.start.row:1/0),!(C>S);){var $=this.$lines.createCell(C,y,this.session,m);this.$renderCell($,y,w,C),b.push($),C++}return b},g.prototype.$renderCell=function(y,v,S,b){var C=y.element,w=this.session,A=C.childNodes[0],$=C.childNodes[1],E=C.childNodes[2],D=C.childNodes[3],I=E.firstChild,R=w.$firstLineNumber,O=w.$breakpoints,N=w.$decorations,M=w.gutterRenderer||this.$renderer,k=this.$showFoldWidgets&&w.foldWidgets,x=S?S.start.row:Number.MAX_VALUE,T=v.lineHeight+"px",L=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",F=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",P=(M?M.getText(w,b):b+R).toString();if(this.$highlightGutterLine&&(b==this.$cursorRow||S&&b<this.$cursorRow&&b>=x&&this.$cursorRow<=S.end.row)&&(L+="ace_gutter-active-line ",this.$cursorCell!=y&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=y)),O[b]&&(L+=O[b]),N[b]&&(L+=N[b]),this.$annotations[b]&&b!==x&&(L+=this.$annotations[b].className),k){var B=k[b];B==null&&(B=k[b]=w.getFoldWidget(b))}if(B){var H="ace_fold-widget ace_"+B,j=B=="start"&&b==x&&b<S.end.row;if(j){H+=" ace_closed";for(var W="",U=!1,G=b+1;G<=S.end.row;G++)if(this.$annotations[G]){if(this.$annotations[G].className===" ace_error"){U=!0,W=" ace_error_fold";break}this.$annotations[G].className===" ace_security"?(U=!0,W=" ace_security_fold"):this.$annotations[G].className===" ace_warning"&&W!==" ace_security_fold"&&(U=!0,W=" ace_warning_fold")}L+=W}else H+=" ace_open";$.className!=H&&($.className=H),a.setStyle($.style,"height",T),a.setStyle($.style,"display","inline-block"),$.setAttribute("role","button"),$.setAttribute("tabindex","-1");var V=w.getFoldWidgetRange(b);V?$.setAttribute("aria-label",p("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[V.start.row+1,V.end.row+1])):S?$.setAttribute("aria-label",p("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[S.start.row+1,S.end.row+1])):$.setAttribute("aria-label",p("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[b+1])),j?($.setAttribute("aria-expanded","false"),$.setAttribute("title",p("gutter.code-folding.closed.title","Unfold code"))):($.setAttribute("aria-expanded","true"),$.setAttribute("title",p("gutter.code-folding.open.title","Fold code")))}else $&&(a.setStyle($.style,"display","none"),$.setAttribute("tabindex","0"),$.removeAttribute("role"),$.removeAttribute("aria-label"));var X=this.session.$gutterCustomWidgets[b];if(X?this.$addCustomWidget(b,X,y):D&&this.$removeCustomWidget(b,y),U&&this.$showFoldedAnnotations){E.className="ace_gutter_annotation",I.className=F,I.className+=W,a.setStyle(I.style,"height",T),a.setStyle(E.style,"display","block"),a.setStyle(E.style,"height",T);var q;switch(W){case" ace_error_fold":q=p("gutter.annotation.aria-label.error","Error, read annotations row $0",[P]);break;case" ace_security_fold":q=p("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[P]);break;case" ace_warning_fold":q=p("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[P]);break}E.setAttribute("aria-label",q),E.setAttribute("tabindex","-1"),E.setAttribute("role","button")}else if(this.$annotations[b]){E.className="ace_gutter_annotation",I.className=F,this.$useSvgGutterIcons?I.className+=this.$annotations[b].className:C.classList.add(this.$annotations[b].className.replace(" ","")),a.setStyle(I.style,"height",T),a.setStyle(E.style,"display","block"),a.setStyle(E.style,"height",T);var q;switch(this.$annotations[b].className){case" ace_error":q=p("gutter.annotation.aria-label.error","Error, read annotations row $0",[P]);break;case" ace_security":q=p("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[P]);break;case" ace_warning":q=p("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[P]);break;case" ace_info":q=p("gutter.annotation.aria-label.info","Info, read annotations row $0",[P]);break;case" ace_hint":q=p("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[P]);break}E.setAttribute("aria-label",q),E.setAttribute("tabindex","-1"),E.setAttribute("role","button")}else a.setStyle(E.style,"display","none"),E.removeAttribute("aria-label"),E.removeAttribute("role"),E.setAttribute("tabindex","0");return P!==A.data&&(A.data=P),C.className!=L&&(C.className=L),a.setStyle(y.element.style,"height",this.$lines.computeLineHeight(b,v,w)+"px"),a.setStyle(y.element.style,"top",this.$lines.computeLineTop(b,v,w)+"px"),y.text=P,E.style.display==="none"&&$.style.display==="none"&&!X?y.element.setAttribute("aria-hidden",!0):y.element.setAttribute("aria-hidden",!1),y},g.prototype.setHighlightGutterLine=function(y){this.$highlightGutterLine=y},g.prototype.setShowLineNumbers=function(y){this.$renderer=!y&&{getWidth:function(){return 0},getText:function(){return""}}},g.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},g.prototype.setShowFoldWidgets=function(y){y?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=y,this.$padding=null},g.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},g.prototype.$hideFoldWidget=function(y,v){var S=v||this.$getGutterCell(y);if(S&&S.element){var b=S.element.childNodes[1];b&&a.setStyle(b.style,"display","none")}},g.prototype.$showFoldWidget=function(y,v){var S=v||this.$getGutterCell(y);if(S&&S.element){var b=S.element.childNodes[1];b&&this.session.foldWidgets&&this.session.foldWidgets[S.row]&&a.setStyle(b.style,"display","inline-block")}},g.prototype.$getGutterCell=function(y){var v=this.$lines.cells,S=this.session.documentToScreenRow(y,0);return v[y-this.config.firstRowScreen-(y-S)]},g.prototype.$addCustomWidget=function(y,v,S){var b=v.className,C=v.label,w=v.title,A=v.callbacks;this.session.$gutterCustomWidgets[y]={className:b,label:C,title:w,callbacks:A},this.$hideFoldWidget(y,S);var $=S||this.$getGutterCell(y);if($&&$.element){var E=$.element.querySelector(".ace_custom-widget");E&&E.remove(),E=a.createElement("span"),E.className="ace_custom-widget ".concat(b),E.setAttribute("tabindex","-1"),E.setAttribute("role","button"),E.setAttribute("aria-label",C),E.setAttribute("title",w),a.setStyle(E.style,"display","inline-block"),a.setStyle(E.style,"height","inherit"),A&&A.onClick&&E.addEventListener("click",function(D){A.onClick(D,y),D.stopPropagation()}),$.element.appendChild(E)}},g.prototype.$removeCustomWidget=function(y,v){delete this.session.$gutterCustomWidgets[y],this.$showFoldWidget(y,v);var S=v||this.$getGutterCell(y);if(S&&S.element){var b=S.element.querySelector(".ace_custom-widget");b&&S.element.removeChild(b)}},g.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var y=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(y.borderLeftWidth)||0)+(parseInt(y.paddingLeft)||0)+1,this.$padding.right=(parseInt(y.borderRightWidth)||0)+(parseInt(y.paddingRight)||0),this.$padding},g.prototype.getRegion=function(y){var v=this.$padding||this.$computePadding(),S=this.element.getBoundingClientRect();if(y.x<v.left+S.left)return"markers";if(this.$showFoldWidgets&&y.x>S.right-v.right)return"foldWidgets"},g})();u.prototype.$fixedWidth=!1,u.prototype.$highlightGutterLine=!0,u.prototype.$renderer="",u.prototype.$showLineNumbers=!0,u.prototype.$showFoldWidgets=!0,l.implement(u.prototype,h);function m(g){var y=document.createTextNode("");g.appendChild(y);var v=a.createElement("span");g.appendChild(v);var S=a.createElement("span");g.appendChild(S);var b=a.createElement("span");return S.appendChild(b),g}o.Gutter=u}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,o,s){var a=n("../range").Range,l=n("../lib/dom"),d=(function(){function _(p){this.element=l.createElement("div"),this.element.className="ace_layer ace_marker-layer",p.appendChild(this.element)}return _.prototype.setPadding=function(p){this.$padding=p},_.prototype.setSession=function(p){this.session=p},_.prototype.setMarkers=function(p){this.markers=p},_.prototype.elt=function(p,u){var m=this.i!=-1&&this.element.childNodes[this.i];m?this.i++:(m=document.createElement("div"),this.element.appendChild(m),this.i=-1),m.style.cssText=u,m.className=p},_.prototype.update=function(p){if(p){this.config=p,this.i=0;var u;for(var m in this.markers){var g=this.markers[m];if(!g.range){g.update(u,this,this.session,p);continue}var y=g.range.clipRows(p.firstRow,p.lastRow);if(!y.isEmpty())if(y=y.toScreenRange(this.session),g.renderer){var v=this.$getTop(y.start.row,p),S=this.$padding+y.start.column*p.characterWidth;g.renderer(u,y,S,v,p)}else g.type=="fullLine"?this.drawFullLineMarker(u,y,g.clazz,p):g.type=="screenLine"?this.drawScreenLineMarker(u,y,g.clazz,p):y.isMultiLine()?g.type=="text"?this.drawTextMarker(u,y,g.clazz,p):this.drawMultiLineMarker(u,y,g.clazz,p):this.drawSingleLineMarker(u,y,g.clazz+" ace_start ace_br15",p)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},_.prototype.$getTop=function(p,u){return(p-u.firstRowScreen)*u.lineHeight},_.prototype.drawTextMarker=function(p,u,m,g,y){for(var v=this.session,S=u.start.row,b=u.end.row,C=S,w=0,A=0,$=v.getScreenLastRowColumn(C),E=new a(C,u.start.column,C,A);C<=b;C++)E.start.row=E.end.row=C,E.start.column=C==S?u.start.column:v.getRowWrapIndent(C),E.end.column=$,w=A,A=$,$=C+1<b?v.getScreenLastRowColumn(C+1):C==b?0:u.end.column,this.drawSingleLineMarker(p,E,m+(C==S?" ace_start":"")+" ace_br"+h(C==S||C==S+1&&u.start.column,w<A,A>$,C==b),g,C==b?0:1,y)},_.prototype.drawMultiLineMarker=function(p,u,m,g,y){var v=this.$padding,S=g.lineHeight,b=this.$getTop(u.start.row,g),C=v+u.start.column*g.characterWidth;if(y=y||"",this.session.$bidiHandler.isBidiRow(u.start.row)){var w=u.clone();w.end.row=w.start.row,w.end.column=this.session.getLine(w.start.row).length,this.drawBidiSingleLineMarker(p,w,m+" ace_br1 ace_start",g,null,y)}else this.elt(m+" ace_br1 ace_start","height:"+S+"px;right:"+v+"px;top:"+b+"px;left:"+C+"px;"+(y||""));if(this.session.$bidiHandler.isBidiRow(u.end.row)){var w=u.clone();w.start.row=w.end.row,w.start.column=0,this.drawBidiSingleLineMarker(p,w,m+" ace_br12",g,null,y)}else{b=this.$getTop(u.end.row,g);var A=u.end.column*g.characterWidth;this.elt(m+" ace_br12","height:"+S+"px;width:"+A+"px;top:"+b+"px;left:"+v+"px;"+(y||""))}if(S=(u.end.row-u.start.row-1)*g.lineHeight,!(S<=0)){b=this.$getTop(u.start.row+1,g);var $=(u.start.column?1:0)|(u.end.column?0:8);this.elt(m+($?" ace_br"+$:""),"height:"+S+"px;right:"+v+"px;top:"+b+"px;left:"+v+"px;"+(y||""))}},_.prototype.drawSingleLineMarker=function(p,u,m,g,y,v){if(this.session.$bidiHandler.isBidiRow(u.start.row))return this.drawBidiSingleLineMarker(p,u,m,g,y,v);var S=g.lineHeight,b=(u.end.column+(y||0)-u.start.column)*g.characterWidth,C=this.$getTop(u.start.row,g),w=this.$padding+u.start.column*g.characterWidth;this.elt(m,"height:"+S+"px;width:"+b+"px;top:"+C+"px;left:"+w+"px;"+(v||""))},_.prototype.drawBidiSingleLineMarker=function(p,u,m,g,y,v){var S=g.lineHeight,b=this.$getTop(u.start.row,g),C=this.$padding,w=this.session.$bidiHandler.getSelections(u.start.column,u.end.column);w.forEach(function(A){this.elt(m,"height:"+S+"px;width:"+(A.width+(y||0))+"px;top:"+b+"px;left:"+(C+A.left)+"px;"+(v||""))},this)},_.prototype.drawFullLineMarker=function(p,u,m,g,y){var v=this.$getTop(u.start.row,g),S=g.lineHeight;u.start.row!=u.end.row&&(S+=this.$getTop(u.end.row,g)-v),this.elt(m,"height:"+S+"px;top:"+v+"px;left:0;right:0;"+(y||""))},_.prototype.drawScreenLineMarker=function(p,u,m,g,y){var v=this.$getTop(u.start.row,g),S=g.lineHeight;this.elt(m,"height:"+S+"px;top:"+v+"px;left:0;right:0;"+(y||""))},_})();d.prototype.$padding=0;function h(_,p,u,m){return(_?1:0)|(p?2:0)|(u?4:0)|(m?8:0)}o.Marker=d}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,o,s){var a=new Set(["text","rparen","lparen"]);o.isTextToken=function(l){return a.has(l)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,o,s){var a=n("../lib/oop"),l=n("../lib/dom"),d=n("../lib/lang"),h=n("./lines").Lines,_=n("../lib/event_emitter").EventEmitter,p=n("../config").nls,u=n("./text_util").isTextToken,m=(function(){function g(y){this.dom=l,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",y.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new h(this.element)}return g.prototype.$updateEolChar=function(){var y=this.session.doc,v=y.getNewLineCharacter()==`
`&&y.getNewLineMode()!="windows",S=v?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=S)return this.EOL_CHAR=S,!0},g.prototype.setPadding=function(y){this.$padding=y,this.element.style.margin="0 "+y+"px"},g.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},g.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},g.prototype.$setFontMetrics=function(y){this.$fontMetrics=y,this.$fontMetrics.on("changeCharacterSize",function(v){this._signal("changeCharacterSize",v)}.bind(this)),this.$pollSizeChanges()},g.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},g.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},g.prototype.setSession=function(y){this.session=y,y&&this.$computeTabString()},g.prototype.setShowInvisibles=function(y){return this.showInvisibles==y?!1:(this.showInvisibles=y,typeof y=="string"?(this.showSpaces=/tab/i.test(y),this.showTabs=/space/i.test(y),this.showEOL=/eol/i.test(y)):this.showSpaces=this.showTabs=this.showEOL=y,this.$computeTabString(),!0)},g.prototype.setDisplayIndentGuides=function(y){return this.displayIndentGuides==y?!1:(this.displayIndentGuides=y,this.$computeTabString(),!0)},g.prototype.setHighlightIndentGuides=function(y){return this.$highlightIndentGuides===y?!1:(this.$highlightIndentGuides=y,y)},g.prototype.$computeTabString=function(){var y=this.session.getTabSize();this.tabSize=y;for(var v=this.$tabStrings=[0],S=1;S<y+1;S++)if(this.showTabs){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_tab",b.textContent=d.stringRepeat(this.TAB_CHAR,S),v.push(b)}else v.push(this.dom.createTextNode(d.stringRepeat(" ",S),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var C="ace_indent-guide",w=this.showSpaces?" ace_invisible ace_invisible_space":"",A=this.showSpaces?d.stringRepeat(this.SPACE_CHAR,this.tabSize):d.stringRepeat(" ",this.tabSize),$=this.showTabs?" ace_invisible ace_invisible_tab":"",E=this.showTabs?d.stringRepeat(this.TAB_CHAR,this.tabSize):A,b=this.dom.createElement("span");b.className=C+w,b.textContent=A,this.$tabStrings[" "]=b;var b=this.dom.createElement("span");b.className=C+$,b.textContent=E,this.$tabStrings["	"]=b}},g.prototype.updateLines=function(y,v,S){if(this.config.lastRow!=y.lastRow||this.config.firstRow!=y.firstRow)return this.update(y);this.config=y;for(var b=Math.max(v,y.firstRow),C=Math.min(S,y.lastRow),w=this.element.childNodes,A=0,E=y.firstRow;E<b;E++){var D=this.session.getFoldLine(E);if(D)if(D.containsRow(b)){b=D.start.row;break}else E=D.end.row;A++}for(var $=!1,E=b,D=this.session.getNextFoldLine(E),I=D?D.start.row:1/0;E>I&&(E=D.end.row+1,D=this.session.getNextFoldLine(E,D),I=D?D.start.row:1/0),!(E>C);){var R=w[A++];if(R){this.dom.removeChildren(R),this.$renderLine(R,E,E==I?D:!1),$&&(R.style.top=this.$lines.computeLineTop(E,y,this.session)+"px");var O=y.lineHeight*this.session.getRowLength(E)+"px";R.style.height!=O&&($=!0,R.style.height=O)}E++}if($)for(;A<this.$lines.cells.length;){var N=this.$lines.cells[A++];N.element.style.top=this.$lines.computeLineTop(N.row,y,this.session)+"px"}},g.prototype.scrollLines=function(y){var v=this.config;if(this.config=y,this.$lines.pageChanged(v,y))return this.update(y);this.$lines.moveContainer(y);var S=y.lastRow,b=v?v.lastRow:-1;if(!v||b<y.firstRow)return this.update(y);if(S<v.firstRow)return this.update(y);if(!v||v.lastRow<y.firstRow)return this.update(y);if(y.lastRow<v.firstRow)return this.update(y);if(v.firstRow<y.firstRow)for(var C=this.session.getFoldedRowCount(v.firstRow,y.firstRow-1);C>0;C--)this.$lines.shift();if(v.lastRow>y.lastRow)for(var C=this.session.getFoldedRowCount(y.lastRow+1,v.lastRow);C>0;C--)this.$lines.pop();y.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLinesFragment(y,y.firstRow,v.firstRow-1)),y.lastRow>v.lastRow&&this.$lines.push(this.$renderLinesFragment(y,v.lastRow+1,y.lastRow)),this.$highlightIndentGuide()},g.prototype.$renderLinesFragment=function(y,v,S){for(var b=[],C=v,w=this.session.getNextFoldLine(C),A=w?w.start.row:1/0;C>A&&(C=w.end.row+1,w=this.session.getNextFoldLine(C,w),A=w?w.start.row:1/0),!(C>S);){var $=this.$lines.createCell(C,y,this.session),E=$.element;this.dom.removeChildren(E),l.setStyle(E.style,"height",this.$lines.computeLineHeight(C,y,this.session)+"px"),l.setStyle(E.style,"top",this.$lines.computeLineTop(C,y,this.session)+"px"),this.$renderLine(E,C,C==A?w:!1),this.$useLineGroups()?E.className="ace_line_group":E.className="ace_line",b.push($),C++}return b},g.prototype.update=function(y){this.$lines.moveContainer(y),this.config=y;for(var v=y.firstRow,S=y.lastRow,b=this.$lines;b.getLength();)b.pop();b.push(this.$renderLinesFragment(y,v,S))},g.prototype.$renderToken=function(y,v,S,b){for(var C=this,w=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,A=this.dom.createFragment(this.element),$,E=0;$=w.exec(b);){var D=$[1],I=$[2],R=$[3],O=$[4],N=$[5];if(!(!C.showSpaces&&I)){var M=E!=$.index?b.slice(E,$.index):"";if(E=$.index+$[0].length,M&&A.appendChild(this.dom.createTextNode(M,this.element)),D){var k=C.session.getScreenTabSize(v+$.index),x=C.$tabStrings[k].cloneNode(!0);x.charCount=1,A.appendChild(x),v+=k-1}else if(I)if(C.showSpaces){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space",T.textContent=d.stringRepeat(C.SPACE_CHAR,I.length),A.appendChild(T)}else A.appendChild(this.dom.createTextNode(I,this.element));else if(R){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space ace_invalid",T.textContent=d.stringRepeat(C.SPACE_CHAR,R.length),A.appendChild(T)}else if(O){v+=1;var T=this.dom.createElement("span");T.style.width=C.config.characterWidth*2+"px",T.className=C.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",T.textContent=C.showSpaces?C.SPACE_CHAR:O,A.appendChild(T)}else if(N){v+=1;var T=this.dom.createElement("span");T.style.width=C.config.characterWidth*2+"px",T.className="ace_cjk",T.textContent=N,A.appendChild(T)}}}if(A.appendChild(this.dom.createTextNode(E?b.slice(E):b,this.element)),u(S.type))y.appendChild(A);else{var L="ace_"+S.type.replace(/\./g," ace_"),T=this.dom.createElement("span");S.type=="fold"&&(T.style.width=S.value.length*this.config.characterWidth+"px",T.setAttribute("title",p("inline-fold.closed.title","Unfold code"))),T.className=L,T.appendChild(A),y.appendChild(T)}return v+b.length},g.prototype.renderIndentGuide=function(y,v,S){var b=v.search(this.$indentGuideRe);if(b<=0||b>=S)return v;if(v[0]==" "){b-=b%this.tabSize;for(var C=b/this.tabSize,w=0;w<C;w++)y.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),v.substr(b)}else if(v[0]=="	"){for(var w=0;w<b;w++)y.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),v.substr(b)}return this.$highlightIndentGuide(),v},g.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var y=this.session.doc.$lines;if(y){var v=this.session.selection.getCursor(),S=/^\s*/.exec(this.session.doc.getLine(v.row))[0].length,b=Math.floor(S/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:b,start:v.row};var C=this.session.$bracketHighlight;if(C){for(var w=this.session.$bracketHighlight.ranges,A=0;A<w.length;A++)if(v.row!==w[A].start.row){this.$highlightIndentGuideMarker.end=w[A].start.row+1,v.row>w[A].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&y[v.row]!==""&&v.column===y[v.row].length){this.$highlightIndentGuideMarker.dir=1;for(var A=v.row+1;A<y.length;A++){var $=y[A],E=/^\s*/.exec($)[0].length;if($!==""&&(this.$highlightIndentGuideMarker.end=A,E<=S))break}}this.$renderHighlightIndentGuide()}}},g.prototype.$clearActiveIndentGuide=function(){for(var y=this.element.querySelectorAll(".ace_indent-guide-active"),v=0;v<y.length;v++)y[v].classList.remove("ace_indent-guide-active")},g.prototype.$setIndentGuideActive=function(y,v){var S=this.session.doc.getLine(y.row);if(S!==""){var b=y.element;if(y.element.classList&&y.element.classList.contains("ace_line_group"))if(y.element.childNodes.length>0)b=y.element.childNodes[0];else return;var C=b.childNodes;if(C){var w=C[v-1];w&&w.classList&&w.classList.contains("ace_indent-guide")&&w.classList.add("ace_indent-guide-active")}}},g.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var y=this.$lines.cells;this.$clearActiveIndentGuide();var v=this.$highlightIndentGuideMarker.indentLevel;if(v!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var S=0;S<y.length;S++){var b=y[S];if(this.$highlightIndentGuideMarker.end&&b.row>=this.$highlightIndentGuideMarker.start+1){if(b.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(b,v)}}else for(var S=y.length-1;S>=0;S--){var b=y[S];if(this.$highlightIndentGuideMarker.end&&b.row<this.$highlightIndentGuideMarker.start){if(b.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(b,v)}}}},g.prototype.$createLineElement=function(y){var v=this.dom.createElement("div");return v.className="ace_line",v.style.height=this.config.lineHeight+"px",v},g.prototype.$renderWrappedLine=function(y,v,S){var b=0,C=0,w=S[0],A=0,$=this.$createLineElement();y.appendChild($);for(var E=0;E<v.length;E++){var D=v[E],I=D.value;if(E==0&&this.displayIndentGuides){if(b=I.length,I=this.renderIndentGuide($,I,w),!I)continue;b-=I.length}if(b+I.length<w)A=this.$renderToken($,A,D,I),b+=I.length;else{for(;b+I.length>=w;){A=this.$renderToken($,A,D,I.substring(0,w-b)),I=I.substring(w-b),b=w,$=this.$createLineElement(),y.appendChild($);var R=this.dom.createTextNode(d.stringRepeat("",S.indent),this.element);R.charCount=0,$.appendChild(R),C++,A=0,w=S[C]||Number.MAX_VALUE}I.length!=0&&(b+=I.length,A=this.$renderToken($,A,D,I))}}S[S.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage($,A,null,"",!0)},g.prototype.$renderSimpleLine=function(y,v){for(var S=0,b=0;b<v.length;b++){var C=v[b],w=C.value;if(!(b==0&&this.displayIndentGuides&&(w=this.renderIndentGuide(y,w),!w))){if(S+w.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(y,S,C,w);S=this.$renderToken(y,S,C,w)}}},g.prototype.$renderOverflowMessage=function(y,v,S,b,C){S&&this.$renderToken(y,v,S,b.slice(0,this.MAX_LINE_LENGTH-v));var w=this.dom.createElement("span");w.className="ace_inline_button ace_keyword ace_toggle_wrap",w.textContent=C?"<hide>":"<click to see more...>",y.appendChild(w)},g.prototype.$renderLine=function(y,v,S){if(!S&&S!=!1&&(S=this.session.getFoldLine(v)),S)var b=this.$getFoldLineTokens(v,S);else var b=this.session.getTokens(v);var C=y;if(b.length){var w=this.session.getRowSplitData(v);if(w&&w.length){this.$renderWrappedLine(y,b,w);var C=y.lastChild}else{var C=y;this.$useLineGroups()&&(C=this.$createLineElement(),y.appendChild(C)),this.$renderSimpleLine(C,b)}}else this.$useLineGroups()&&(C=this.$createLineElement(),y.appendChild(C));if(this.showEOL&&C){S&&(v=S.end.row);var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_eol",A.textContent=v==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,C.appendChild(A)}},g.prototype.$getFoldLineTokens=function(y,v){var S=this.session,b=[];function C(A,$,E){for(var D=0,I=0;I+A[D].value.length<$;)if(I+=A[D].value.length,D++,D==A.length)return;if(I!=$){var R=A[D].value.substring($-I);R.length>E-$&&(R=R.substring(0,E-$)),b.push({type:A[D].type,value:R}),I=$+R.length,D+=1}for(;I<E&&D<A.length;){var R=A[D].value;R.length+I>E?b.push({type:A[D].type,value:R.substring(0,E-I)}):b.push(A[D]),I+=R.length,D+=1}}var w=S.getTokens(y);return v.walk(function(A,$,E,D,I){A!=null?b.push({type:"fold",value:A}):(I&&(w=S.getTokens($)),w.length&&C(w,D,E))},v.end.row,this.session.getLine(v.end.row).length),b},g.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},g})();m.prototype.EOF_CHAR="",m.prototype.EOL_CHAR_LF="",m.prototype.EOL_CHAR_CRLF="",m.prototype.EOL_CHAR=m.prototype.EOL_CHAR_LF,m.prototype.TAB_CHAR="",m.prototype.SPACE_CHAR="",m.prototype.$padding=0,m.prototype.MAX_LINE_LENGTH=1e4,m.prototype.showInvisibles=!1,m.prototype.showSpaces=!1,m.prototype.showTabs=!1,m.prototype.showEOL=!1,m.prototype.displayIndentGuides=!0,m.prototype.$highlightIndentGuides=!0,m.prototype.$tabStrings=[],m.prototype.destroy={},m.prototype.onChangeTabSize=m.prototype.$computeTabString,a.implement(m.prototype,_),o.Text=m}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,o,s){var a=n("../lib/dom"),l=(function(){function d(h){this.element=a.createElement("div"),this.element.className="ace_layer ace_cursor-layer",h.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),a.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return d.prototype.$updateOpacity=function(h){for(var _=this.cursors,p=_.length;p--;)a.setStyle(_[p].style,"opacity",h?"":"0")},d.prototype.$startCssAnimation=function(){for(var h=this.cursors,_=h.length;_--;)h[_].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&a.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},d.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,a.removeCssClass(this.element,"ace_animate-blinking")},d.prototype.setPadding=function(h){this.$padding=h},d.prototype.setSession=function(h){this.session=h},d.prototype.setBlinking=function(h){h!=this.isBlinking&&(this.isBlinking=h,this.restartTimer())},d.prototype.setBlinkInterval=function(h){h!=this.blinkInterval&&(this.blinkInterval=h,this.restartTimer())},d.prototype.setSmoothBlinking=function(h){h!=this.smoothBlinking&&(this.smoothBlinking=h,a.setCssClass(this.element,"ace_smooth-blinking",h),this.$updateCursors(!0),this.restartTimer())},d.prototype.addCursor=function(){var h=a.createElement("div");return h.className="ace_cursor",this.element.appendChild(h),this.cursors.push(h),h},d.prototype.removeCursor=function(){if(this.cursors.length>1){var h=this.cursors.pop();return h.parentNode.removeChild(h),h}},d.prototype.hideCursor=function(){this.isVisible=!1,a.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},d.prototype.showCursor=function(){this.isVisible=!0,a.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},d.prototype.restartTimer=function(){var h=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,a.removeCssClass(this.element,"ace_smooth-blinking")),h(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),a.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var _=function(){this.timeoutId=setTimeout(function(){h(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){h(!0),_()},this.blinkInterval),_()}},d.prototype.getPixelPosition=function(h,_){if(!this.config||!this.session)return{left:0,top:0};h||(h=this.session.selection.getCursor());var p=this.session.documentToScreenPosition(h),u=this.$padding+(this.session.$bidiHandler.isBidiRow(p.row,h.row)?this.session.$bidiHandler.getPosLeft(p.column):p.column*this.config.characterWidth),m=(p.row-(_?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:u,top:m}},d.prototype.isCursorInView=function(h,_){return h.top>=0&&h.top<_.maxHeight},d.prototype.update=function(h){this.config=h;var _=this.session.$selectionMarkers,p=0,u=0;(_===void 0||_.length===0)&&(_=[{cursor:null}]);for(var p=0,m=_.length;p<m;p++){var g=this.getPixelPosition(_[p].cursor,!0);if(!((g.top>h.height+h.offset||g.top<0)&&p>1)){var y=this.cursors[u++]||this.addCursor(),v=y.style;this.drawCursor?this.drawCursor(y,g,h,_[p],this.session):this.isCursorInView(g,h)?(a.setStyle(v,"display","block"),a.translate(y,g.left,g.top),a.setStyle(v,"width",Math.round(h.characterWidth)+"px"),a.setStyle(v,"height",h.lineHeight+"px")):a.setStyle(v,"display","none")}}for(;this.cursors.length>u;)this.removeCursor();var S=this.session.getOverwrite();this.$setOverwrite(S),this.$pixelPos=g,this.restartTimer()},d.prototype.$setOverwrite=function(h){h!=this.overwrite&&(this.overwrite=h,h?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))},d.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},d})();l.prototype.$padding=0,l.prototype.drawCursor=null,o.Cursor=l}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,o,s){var a=this&&this.__extends||(function(){var y=function(v,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(b[w]=C[w])},y(v,S)};return function(v,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(v,S);function b(){this.constructor=v}v.prototype=S===null?Object.create(S):(b.prototype=S.prototype,new b)}})(),l=n("./lib/oop"),d=n("./lib/dom"),h=n("./lib/event"),_=n("./lib/event_emitter").EventEmitter,p=32768,u=(function(){function y(v,S){this.element=d.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+S,this.inner=d.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),v.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addListener(this.element,"scroll",this.onScroll.bind(this)),h.addListener(this.element,"mousedown",h.preventDefault)}return y.prototype.setVisible=function(v){this.element.style.display=v?"":"none",this.isVisible=v,this.coeff=1},y})();l.implement(u.prototype,_);var m=(function(y){a(v,y);function v(S,b){var C=y.call(this,S,"-v")||this;return C.scrollTop=0,C.scrollHeight=0,b.$scrollbarWidth=C.width=d.scrollbarWidth(S.ownerDocument),C.inner.style.width=C.element.style.width=(C.width||15)+5+"px",C.$minWidth=0,C}return v.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var S=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-S)/(this.coeff-S)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},v.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},v.prototype.setHeight=function(S){this.element.style.height=S+"px"},v.prototype.setScrollHeight=function(S){this.scrollHeight=S,S>p?(this.coeff=p/S,S=p):this.coeff!=1&&(this.coeff=1),this.inner.style.height=S+"px"},v.prototype.setScrollTop=function(S){this.scrollTop!=S&&(this.skipEvent=!0,this.scrollTop=S,this.element.scrollTop=S*this.coeff)},v})(u);m.prototype.setInnerHeight=m.prototype.setScrollHeight;var g=(function(y){a(v,y);function v(S,b){var C=y.call(this,S,"-h")||this;return C.scrollLeft=0,C.height=b.$scrollbarWidth,C.inner.style.height=C.element.style.height=(C.height||15)+5+"px",C}return v.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},v.prototype.getHeight=function(){return this.isVisible?this.height:0},v.prototype.setWidth=function(S){this.element.style.width=S+"px"},v.prototype.setInnerWidth=function(S){this.inner.style.width=S+"px"},v.prototype.setScrollWidth=function(S){this.inner.style.width=S+"px"},v.prototype.setScrollLeft=function(S){this.scrollLeft!=S&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=S)},v})(u);o.ScrollBar=m,o.ScrollBarV=m,o.ScrollBarH=g,o.VScrollBar=m,o.HScrollBar=g}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,o,s){var a=this&&this.__extends||(function(){var g=function(y,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,b){S.__proto__=b}||function(S,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(S[C]=b[C])},g(y,v)};return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");g(y,v);function S(){this.constructor=y}y.prototype=v===null?Object.create(v):(S.prototype=v.prototype,new S)}})(),l=n("./lib/oop"),d=n("./lib/dom"),h=n("./lib/event"),_=n("./lib/event_emitter").EventEmitter;d.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var p=(function(){function g(y,v){this.element=d.createElement("div"),this.element.className="ace_sb"+v,this.inner=d.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,y.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return g.prototype.setVisible=function(y){this.element.style.display=y?"":"none",this.isVisible=y,this.coeff=1},g})();l.implement(p.prototype,_);var u=(function(g){a(y,g);function y(v,S){var b=g.call(this,v,"-v")||this;return b.scrollTop=0,b.scrollHeight=0,b.parent=v,b.width=b.VScrollWidth,b.renderer=S,b.inner.style.width=b.element.style.width=(b.width||15)+"px",b.$minWidth=0,b}return y.prototype.onMouseDown=function(v,S){if(v==="mousedown"&&!(h.getButton(S)!==0||S.detail===2)){if(S.target===this.inner){var b=this,C=S.clientY,w=function(O){C=O.clientY},A=function(){clearInterval(I)},$=S.clientY,E=this.thumbTop,D=function(){if(C!==void 0){var O=b.scrollTopFromThumbTop(E+C-$);O!==b.scrollTop&&b._emit("scroll",{data:O})}};h.capture(this.inner,w,A);var I=setInterval(D,20);return h.preventDefault(S)}var R=S.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(R)}),h.preventDefault(S)}},y.prototype.getHeight=function(){return this.height},y.prototype.scrollTopFromThumbTop=function(v){var S=v*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return S=S>>0,S<0?S=0:S>this.pageHeight-this.viewHeight&&(S=this.pageHeight-this.viewHeight),S},y.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},y.prototype.setHeight=function(v){this.height=Math.max(0,v),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},y.prototype.setScrollHeight=function(v,S){this.pageHeight===v&&!S||(this.pageHeight=v,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},y.prototype.setScrollTop=function(v){this.scrollTop=v,v<0&&(v=0),this.thumbTop=v*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},y})(p);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var m=(function(g){a(y,g);function y(v,S){var b=g.call(this,v,"-h")||this;return b.scrollLeft=0,b.scrollWidth=0,b.height=b.HScrollHeight,b.inner.style.height=b.element.style.height=(b.height||12)+"px",b.renderer=S,b}return y.prototype.onMouseDown=function(v,S){if(v==="mousedown"&&!(h.getButton(S)!==0||S.detail===2)){if(S.target===this.inner){var b=this,C=S.clientX,w=function(O){C=O.clientX},A=function(){clearInterval(I)},$=S.clientX,E=this.thumbLeft,D=function(){if(C!==void 0){var O=b.scrollLeftFromThumbLeft(E+C-$);O!==b.scrollLeft&&b._emit("scroll",{data:O})}};h.capture(this.inner,w,A);var I=setInterval(D,20);return h.preventDefault(S)}var R=S.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(R)}),h.preventDefault(S)}},y.prototype.getHeight=function(){return this.isVisible?this.height:0},y.prototype.scrollLeftFromThumbLeft=function(v){var S=v*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return S=S>>0,S<0?S=0:S>this.pageWidth-this.viewWidth&&(S=this.pageWidth-this.viewWidth),S},y.prototype.setWidth=function(v){this.width=Math.max(0,v),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},y.prototype.setScrollWidth=function(v,S){this.pageWidth===v&&!S||(this.pageWidth=v,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},y.prototype.setScrollLeft=function(v){this.scrollLeft=v,v<0&&(v=0),this.thumbLeft=v*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},y})(p);m.prototype.setInnerWidth=m.prototype.setScrollWidth,o.ScrollBar=u,o.ScrollBarV=u,o.ScrollBarH=m,o.VScrollBar=u,o.HScrollBar=m}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,o,s){var a=n("./lib/event"),l=(function(){function d(h,_){this.onRender=h,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=_||window;var p=this;this._flush=function(u){p.pending=!1;var m=p.changes;if(m&&(a.blockIdle(100),p.changes=0,p.onRender(m)),p.changes){if(p.$recursionLimit--<0)return;p.schedule()}else p.$recursionLimit=2}}return d.prototype.schedule=function(h){this.changes=this.changes|h,this.changes&&!this.pending&&(a.nextFrame(this._flush),this.pending=!0)},d.prototype.clear=function(h){var _=this.changes;return this.changes=0,_},d})();o.RenderLoop=l}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,o,s){var a=n("../lib/oop"),l=n("../lib/dom"),d=n("../lib/lang"),h=n("../lib/event"),_=n("../lib/useragent"),p=n("../lib/event_emitter").EventEmitter,u=512,m=typeof ResizeObserver=="function",g=200,y=(function(){function v(S){this.el=l.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=l.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=l.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),S.appendChild(this.el),this.$measureNode.textContent=d.stringRepeat("X",u),this.$characterSize={width:0,height:0},m?this.$addObserver():this.checkForSizeChanges()}return v.prototype.$setMeasureNodeStyles=function(S,b){S.width=S.height="auto",S.left=S.top="0px",S.visibility="hidden",S.position="absolute",S.whiteSpace="pre",_.isIE<8?S["font-family"]="inherit":S.font="inherit",S.overflow=b?"hidden":"visible"},v.prototype.checkForSizeChanges=function(S){if(S===void 0&&(S=this.$measureSizes()),S&&(this.$characterSize.width!==S.width||this.$characterSize.height!==S.height)){this.$measureNode.style.fontWeight="bold";var b=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=S,this.charSizes=Object.create(null),this.allowBoldFonts=b&&b.width===S.width&&b.height===S.height,this._emit("changeCharacterSize",{data:S})}},v.prototype.$addObserver=function(){var S=this;this.$observer=new window.ResizeObserver(function(b){S.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},v.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var S=this;return this.$pollSizeChangesTimer=h.onIdle(function b(){S.checkForSizeChanges(),h.onIdle(b,500)},500)},v.prototype.setPolling=function(S){S?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},v.prototype.$measureSizes=function(S){var b={height:(S||this.$measureNode).clientHeight,width:(S||this.$measureNode).clientWidth/u};return b.width===0||b.height===0?null:b},v.prototype.$measureCharWidth=function(S){this.$main.textContent=d.stringRepeat(S,u);var b=this.$main.getBoundingClientRect();return b.width/u},v.prototype.getCharacterWidth=function(S){var b=this.charSizes[S];return b===void 0&&(b=this.charSizes[S]=this.$measureCharWidth(S)/this.$characterSize.width),b},v.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},v.prototype.$getZoom=function(S){return!S||!S.parentElement?1:(Number(window.getComputedStyle(S).zoom)||1)*this.$getZoom(S.parentElement)},v.prototype.$initTransformMeasureNodes=function(){var S=function(b,C){return["div",{style:"position: absolute;top:"+b+"px;left:"+C+"px;"}]};this.els=l.buildDom([S(0,0),S(g,0),S(0,g),S(g,g)],this.el)},v.prototype.transformCoordinates=function(S,b){if(S){var C=this.$getZoom(this.el);S=E(1/C,S)}function w(H,j,W){var U=H[1]*j[0]-H[0]*j[1];return[(-j[1]*W[0]+j[0]*W[1])/U,(+H[1]*W[0]-H[0]*W[1])/U]}function A(H,j){return[H[0]-j[0],H[1]-j[1]]}function $(H,j){return[H[0]+j[0],H[1]+j[1]]}function E(H,j){return[H*j[0],H*j[1]]}this.els||this.$initTransformMeasureNodes();function D(H){var j=H.getBoundingClientRect();return[j.left,j.top]}var I=D(this.els[0]),R=D(this.els[1]),O=D(this.els[2]),N=D(this.els[3]),M=w(A(N,R),A(N,O),A($(R,O),$(N,I))),k=E(1+M[0],A(R,I)),x=E(1+M[1],A(O,I));if(b){var T=b,L=M[0]*T[0]/g+M[1]*T[1]/g+1,F=$(E(T[0],k),E(T[1],x));return $(E(1/L/g,F),I)}var P=A(S,I),B=w(A(k,E(M[0],P)),A(x,E(M[1],P)),P);return E(g,B)},v})();y.prototype.$characterSize={width:0,height:0},a.implement(y.prototype,p),o.FontMetrics=y}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,o,s){s.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: absolute;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
    pointer-events: auto;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,o,s){var a=n("../lib/dom"),l=n("../lib/oop"),d=n("../lib/event_emitter").EventEmitter,h=(function(){function _(p,u){this.renderer=u,this.pixelRatio=1,this.maxHeight=u.layerConfig.maxHeight,this.lineHeight=u.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setScrollBarV(p)}return _.prototype.$createCanvas=function(){this.canvas=a.createElement("canvas"),this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7",this.canvas.style.position="absolute"},_.prototype.setScrollBarV=function(p){this.$createCanvas(),this.scrollbarV=p,p.element.appendChild(this.canvas),this.setDimensions()},_.prototype.$updateDecorators=function(p){if(typeof this.canvas.getContext!="function")return;var u=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(p);var m=this.canvas.getContext("2d");function g(k,x){return k.priority<x.priority?-1:k.priority>x.priority?1:0}var y=this.renderer.session.$annotations;if(m.clearRect(0,0,this.canvas.width,this.canvas.height),y){var v={info:1,warning:2,error:3};y.forEach(function(k){k.priority=v[k.type]||null}),y=y.sort(g);for(var S=0;S<y.length;S++){var b=y[S].row,C=this.getVerticalOffsetForRow(b),w=C+this.lineHeight,A=Math.round(this.heightRatio*C),$=Math.round(this.heightRatio*w),E=Math.round((A+$)/2),D=$-E;D<this.halfMinDecorationHeight&&(D=this.halfMinDecorationHeight),E-D<0&&(E=D),E+D>this.canvasHeight&&(E=this.canvasHeight-D);var I=E-D,R=E+D,O=R-I;m.fillStyle=u[y[S].type]||null,m.fillRect(0,I,Math.round(this.oneZoneWidth-1),O)}}var N=this.renderer.session.selection.getCursor();if(N){var M=Math.round(this.getVerticalOffsetForRow(N.row)*this.heightRatio);m.fillStyle="rgba(0, 0, 0, 0.5)",m.fillRect(0,M,this.canvasWidth,2)}},_.prototype.getVerticalOffsetForRow=function(p){p=p|0;var u=this.renderer.session.documentToScreenRow(p,0)*this.lineHeight;return u},_.prototype.setDimensions=function(p){p=p||this.renderer.layerConfig,this.maxHeight=p.maxHeight,this.lineHeight=p.lineHeight,this.canvasHeight=p.height,this.canvasWidth=this.scrollbarV.width||this.canvasWidth,this.setZoneWidth(),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight},_.prototype.setZoneWidth=function(){this.oneZoneWidth=this.canvasWidth},_.prototype.destroy=function(){this.canvas.parentNode.removeChild(this.canvas)},_})();l.implement(h.prototype,d),o.Decorator=h}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(n,o,s){var a=n("./lib/oop"),l=n("./lib/dom"),d=n("./lib/lang"),h=n("./config"),_=n("./layer/gutter").Gutter,p=n("./layer/marker").Marker,u=n("./layer/text").Text,m=n("./layer/cursor").Cursor,g=n("./scrollbar").HScrollBar,y=n("./scrollbar").VScrollBar,v=n("./scrollbar_custom").HScrollBar,S=n("./scrollbar_custom").VScrollBar,b=n("./renderloop").RenderLoop,C=n("./layer/font_metrics").FontMetrics,w=n("./lib/event_emitter").EventEmitter,A=n("./css/editor-css"),$=n("./layer/decorators").Decorator,E=n("./lib/useragent"),D=n("./layer/text_util").isTextToken;l.importCssString(A,"ace_editor.css",!1);var I=(function(){function R(O,N){var M=this;this.container=O||l.createElement("div"),l.addCssClass(this.container,"ace_editor"),l.HI_DPI&&l.addCssClass(this.container,"ace_hidpi"),this.setTheme(N),h.get("useStrictCSP")==null&&h.set("useStrictCSP",!1),this.$gutter=l.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=l.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=l.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new _(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new p(this.content);var k=this.$textLayer=new u(this.content);this.canvas=k.element,this.$markerFront=new p(this.content),this.$cursorLayer=new m(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new y(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.on("scroll",function(x){M.$scrollAnimation||M.session.setScrollTop(x.data-M.scrollMargin.top)}),this.scrollBarH.on("scroll",function(x){M.$scrollAnimation||M.session.setScrollLeft(x.data-M.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new C(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(x){M.updateCharacterSize(),M.onResize(!0,M.gutterWidth,M.$size.width,M.$size.height),M._signal("changeCharacterSize",x)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!E.isIOS,this.$loop=new b(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),h.resetOptions(this),h._signal("renderer",this)}return R.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),l.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},R.prototype.setSession=function(O){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=O,O&&this.scrollMargin.top&&O.getScrollTop()<=0&&O.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(O),this.$markerBack.setSession(O),this.$markerFront.setSession(O),this.$gutterLayer.setSession(O),this.$textLayer.setSession(O),O&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},R.prototype.updateLines=function(O,N,M){if(N===void 0&&(N=1/0),this.$changedLines?(this.$changedLines.firstRow>O&&(this.$changedLines.firstRow=O),this.$changedLines.lastRow<N&&(this.$changedLines.lastRow=N)):this.$changedLines={firstRow:O,lastRow:N},this.$changedLines.lastRow<this.layerConfig.firstRow)if(M)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},R.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},R.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},R.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},R.prototype.updateFull=function(O){O?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},R.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},R.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},R.prototype.onResize=function(O,N,M,k){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=O?1:0;var x=this.container;k||(k=x.clientHeight||x.scrollHeight),!k&&this.$maxLines&&this.lineHeight>1&&(!x.style.height||x.style.height=="0px")&&(x.style.height="1px",k=x.clientHeight||x.scrollHeight),M||(M=x.clientWidth||x.scrollWidth);var T=this.$updateCachedSize(O,N,M,k);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!M&&!k)return this.resizing=0;O&&(this.$gutterLayer.$padding=null),O?this.$renderChanges(T|this.$changes,!0):this.$loop.schedule(T|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},R.prototype.$updateCachedSize=function(O,N,M,k){k-=this.$extraHeight||0;var x=0,T=this.$size,L={width:T.width,height:T.height,scrollerHeight:T.scrollerHeight,scrollerWidth:T.scrollerWidth};if(k&&(O||T.height!=k)&&(T.height=k,x|=this.CHANGE_SIZE,T.scrollerHeight=T.height,this.$horizScroll&&(T.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(T.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",x=x|this.CHANGE_SCROLL),M&&(O||T.width!=M)){x|=this.CHANGE_SIZE,T.width=M,N==null&&(N=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=N,l.setStyle(this.scrollBarH.element.style,"left",N+"px"),l.setStyle(this.scroller.style,"left",N+this.margin.left+"px"),T.scrollerWidth=Math.max(0,M-N-this.scrollBarV.getWidth()-this.margin.h),l.setStyle(this.$gutter.style,"left",this.margin.left+"px");var F=this.scrollBarV.getWidth()+"px";l.setStyle(this.scrollBarH.element.style,"right",F),l.setStyle(this.scroller.style,"right",F),l.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(T.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||O)&&(x|=this.CHANGE_FULL)}return T.$dirty=!M||!k,x&&this._signal("resize",L),x},R.prototype.onGutterResize=function(O){var N=this.$showGutter?O:0;N!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,N,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},R.prototype.adjustWrapLimit=function(){var O=this.$size.scrollerWidth-this.$padding*2,N=Math.floor(O/this.characterWidth);return this.session.adjustWrapLimit(N,this.$showPrintMargin&&this.$printMarginColumn)},R.prototype.setAnimatedScroll=function(O){this.setOption("animatedScroll",O)},R.prototype.getAnimatedScroll=function(){return this.$animatedScroll},R.prototype.setShowInvisibles=function(O){this.setOption("showInvisibles",O),this.session.$bidiHandler.setShowInvisibles(O)},R.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},R.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},R.prototype.setDisplayIndentGuides=function(O){this.setOption("displayIndentGuides",O)},R.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},R.prototype.setHighlightIndentGuides=function(O){this.setOption("highlightIndentGuides",O)},R.prototype.setShowPrintMargin=function(O){this.setOption("showPrintMargin",O)},R.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},R.prototype.setPrintMarginColumn=function(O){this.setOption("printMarginColumn",O)},R.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},R.prototype.getShowGutter=function(){return this.getOption("showGutter")},R.prototype.setShowGutter=function(O){return this.setOption("showGutter",O)},R.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},R.prototype.setFadeFoldWidgets=function(O){this.setOption("fadeFoldWidgets",O)},R.prototype.setHighlightGutterLine=function(O){this.setOption("highlightGutterLine",O)},R.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},R.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var O=l.createElement("div");O.className="ace_layer ace_print-margin-layer",this.$printMarginEl=l.createElement("div"),this.$printMarginEl.className="ace_print-margin",O.appendChild(this.$printMarginEl),this.content.insertBefore(O,this.content.firstChild)}var N=this.$printMarginEl.style;N.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",N.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},R.prototype.getContainerElement=function(){return this.container},R.prototype.getMouseEventTarget=function(){return this.scroller},R.prototype.getTextAreaContainer=function(){return this.container},R.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var O=this.textarea.style,N=this.$composition;if(!this.$keepTextAreaAtCursor&&!N){l.translate(this.textarea,-100,0);return}var M=this.$cursorLayer.$pixelPos;if(M){N&&N.markerRange&&(M=this.$cursorLayer.getPixelPosition(N.markerRange.start,!0));var k=this.layerConfig,x=M.top,T=M.left;x-=k.offset;var L=N&&N.useTextareaForIME||E.isMobile?this.lineHeight:1;if(x<0||x>k.height-L){l.translate(this.textarea,0,0);return}var F=1,P=this.$size.height-L;if(!N)x+=this.lineHeight;else if(N.useTextareaForIME){var B=this.textarea.value;F=this.characterWidth*this.session.$getStringScreenWidth(B)[0]}else x+=this.lineHeight+2;T-=this.scrollLeft,T>this.$size.scrollerWidth-F&&(T=this.$size.scrollerWidth-F),T+=this.gutterWidth+this.margin.left,l.setStyle(O,"height",L+"px"),l.setStyle(O,"width",F+"px"),l.translate(this.textarea,Math.min(T,this.$size.scrollerWidth-F),Math.min(x,P))}}},R.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},R.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},R.prototype.getLastFullyVisibleRow=function(){var O=this.layerConfig,N=O.lastRow,M=this.session.documentToScreenRow(N,0)*O.lineHeight;return M-this.session.getScrollTop()>O.height-O.lineHeight?N-1:N},R.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},R.prototype.setPadding=function(O){this.$padding=O,this.$textLayer.setPadding(O),this.$cursorLayer.setPadding(O),this.$markerFront.setPadding(O),this.$markerBack.setPadding(O),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},R.prototype.setScrollMargin=function(O,N,M,k){var x=this.scrollMargin;x.top=O|0,x.bottom=N|0,x.right=k|0,x.left=M|0,x.v=x.top+x.bottom,x.h=x.left+x.right,x.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-x.top),this.updateFull()},R.prototype.setMargin=function(O,N,M,k){var x=this.margin;x.top=O|0,x.bottom=N|0,x.right=k|0,x.left=M|0,x.v=x.top+x.bottom,x.h=x.left+x.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},R.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},R.prototype.setHScrollBarAlwaysVisible=function(O){this.setOption("hScrollBarAlwaysVisible",O)},R.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},R.prototype.setVScrollBarAlwaysVisible=function(O){this.setOption("vScrollBarAlwaysVisible",O)},R.prototype.$updateScrollBarV=function(){var O=this.layerConfig.maxHeight,N=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(O-=(N-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>O-N&&(O=this.scrollTop+N,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(O+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},R.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},R.prototype.freeze=function(){this.$frozen=!0},R.prototype.unfreeze=function(){this.$frozen=!1},R.prototype.$renderChanges=function(O,N){if(this.$changes&&(O|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!O&&!N){this.$changes|=O;return}if(this.$size.$dirty)return this.$changes|=O,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",O),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var M=this.layerConfig;if(O&this.CHANGE_FULL||O&this.CHANGE_SIZE||O&this.CHANGE_TEXT||O&this.CHANGE_LINES||O&this.CHANGE_SCROLL||O&this.CHANGE_H_SCROLL){if(O|=this.$computeLayerConfig()|this.$loop.clear(),M.firstRow!=this.layerConfig.firstRow&&M.firstRowScreen==this.layerConfig.firstRowScreen){var k=this.scrollTop+(M.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;k>0&&(this.scrollTop=k,O=O|this.CHANGE_SCROLL,O|=this.$computeLayerConfig()|this.$loop.clear())}M=this.layerConfig,this.$updateScrollBarV(),O&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),l.translate(this.content,-this.scrollLeft,-M.offset);var x=M.width+2*this.$padding+"px",T=M.minHeight+"px";l.setStyle(this.content.style,"width",x),l.setStyle(this.content.style,"height",T)}if(O&this.CHANGE_H_SCROLL&&(l.translate(this.content,-this.scrollLeft,-M.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),O&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(M),this.$showGutter&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M),this.$markerBack.update(M),this.$markerFront.update(M),this.$cursorLayer.update(M),this.$moveTextAreaToCursor(),this._signal("afterRender",O);return}if(O&this.CHANGE_SCROLL){this.$changedLines=null,O&this.CHANGE_TEXT||O&this.CHANGE_LINES?this.$textLayer.update(M):this.$textLayer.scrollLines(M),this.$showGutter&&(O&this.CHANGE_GUTTER||O&this.CHANGE_LINES?this.$gutterLayer.update(M):this.$gutterLayer.scrollLines(M)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M),this.$markerBack.update(M),this.$markerFront.update(M),this.$cursorLayer.update(M),this.$moveTextAreaToCursor(),this._signal("afterRender",O);return}O&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(M),this.$showGutter&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)):O&this.CHANGE_LINES?((this.$updateLines()||O&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)):O&this.CHANGE_TEXT||O&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)):O&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(M),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(M)),O&this.CHANGE_CURSOR&&(this.$cursorLayer.update(M),this.$moveTextAreaToCursor()),O&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(M),O&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(M),this._signal("afterRender",O)},R.prototype.$autosize=function(){var O=this.session.getScreenLength()*this.lineHeight,N=this.$maxLines*this.lineHeight,M=Math.min(N,Math.max((this.$minLines||1)*this.lineHeight,O))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(M+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&M>this.$maxPixelHeight&&(M=this.$maxPixelHeight);var k=M<=2*this.lineHeight,x=!k&&O>N;if(M!=this.desiredHeight||this.$size.height!=this.desiredHeight||x!=this.$vScroll){x!=this.$vScroll&&(this.$vScroll=x,this.scrollBarV.setVisible(x));var T=this.container.clientWidth;this.container.style.height=M+"px",this.$updateCachedSize(!0,this.$gutterWidth,T,M),this.desiredHeight=M,this._signal("autosize")}},R.prototype.$computeLayerConfig=function(){var O=this.session,N=this.$size,M=N.height<=2*this.lineHeight,k=this.session.getScreenLength(),x=k*this.lineHeight,T=this.$getLongestLine(),L=!M&&(this.$hScrollBarAlwaysVisible||N.scrollerWidth-T-2*this.$padding<0),F=this.$horizScroll!==L;F&&(this.$horizScroll=L,this.scrollBarH.setVisible(L));var P=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),M=N.height<=2*this.lineHeight);var B=N.scrollerHeight+this.lineHeight,H=!this.$maxLines&&this.$scrollPastEnd?(N.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;x+=H;var j=this.scrollMargin;this.session.setScrollTop(Math.max(-j.top,Math.min(this.scrollTop,x-N.scrollerHeight+j.bottom))),this.session.setScrollLeft(Math.max(-j.left,Math.min(this.scrollLeft,T+2*this.$padding-N.scrollerWidth+j.right)));var W=!M&&(this.$vScrollBarAlwaysVisible||N.scrollerHeight-x+H<0||this.scrollTop>j.top),U=P!==W;U&&(this.$vScroll=W,this.scrollBarV.setVisible(W));var G=this.scrollTop%this.lineHeight,V=Math.ceil(B/this.lineHeight)-1,X=Math.max(0,Math.round((this.scrollTop-G)/this.lineHeight)),q=X+V,Y,J,Q=this.lineHeight;X=O.screenToDocumentRow(X,0);var ee=O.getFoldLine(X);ee&&(X=ee.start.row),Y=O.documentToScreenRow(X,0),J=O.getRowLength(X)*Q,q=Math.min(O.screenToDocumentRow(q,0),O.getLength()-1),B=N.scrollerHeight+O.getRowLength(q)*Q+J,G=this.scrollTop-Y*Q,G<0&&Y>0&&(Y=Math.max(0,Y+Math.floor(G/Q)),G=this.scrollTop-Y*Q);var re=0;return(this.layerConfig.width!=T||F)&&(re=this.CHANGE_H_SCROLL),(F||U)&&(re|=this.$updateCachedSize(!0,this.gutterWidth,N.width,N.height),this._signal("scrollbarVisibilityChanged"),U&&(T=this.$getLongestLine())),this.layerConfig={width:T,padding:this.$padding,firstRow:X,firstRowScreen:Y,lastRow:q,lineHeight:Q,characterWidth:this.characterWidth,minHeight:B,maxHeight:x,offset:G,gutterOffset:Q?Math.max(0,Math.ceil((G+N.height-N.scrollerHeight)/Q)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(T-this.$padding),re},R.prototype.$updateLines=function(){if(this.$changedLines){var O=this.$changedLines.firstRow,N=this.$changedLines.lastRow;this.$changedLines=null;var M=this.layerConfig;if(!(O>M.lastRow+1)&&!(N<M.firstRow)){if(N===1/0){this.$showGutter&&this.$gutterLayer.update(M),this.$textLayer.update(M);return}return this.$textLayer.updateLines(M,O,N),!0}}},R.prototype.$getLongestLine=function(){var O=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(O+=1),this.$textLayer&&O>this.$textLayer.MAX_LINE_LENGTH&&(O=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(O*this.characterWidth))},R.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},R.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},R.prototype.addGutterDecoration=function(O,N){this.$gutterLayer.addGutterDecoration(O,N)},R.prototype.removeGutterDecoration=function(O,N){this.$gutterLayer.removeGutterDecoration(O,N)},R.prototype.updateBreakpoints=function(O){this._rows=O,this.$loop.schedule(this.CHANGE_GUTTER)},R.prototype.setAnnotations=function(O){this.$gutterLayer.setAnnotations(O),this.$loop.schedule(this.CHANGE_GUTTER)},R.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},R.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},R.prototype.showCursor=function(){this.$cursorLayer.showCursor()},R.prototype.scrollSelectionIntoView=function(O,N,M){this.scrollCursorIntoView(O,M),this.scrollCursorIntoView(N,M)},R.prototype.scrollCursorIntoView=function(O,N,M){if(this.$size.scrollerHeight!==0){var k=this.$cursorLayer.getPixelPosition(O),x=k.left,T=k.top,L=M&&M.top||0,F=M&&M.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var P=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;P+L>T?(N&&P+L>T+this.lineHeight&&(T-=N*this.$size.scrollerHeight),T===0&&(T=-this.scrollMargin.top),this.session.setScrollTop(T)):P+this.$size.scrollerHeight-F<T+this.lineHeight&&(N&&P+this.$size.scrollerHeight-F<T-this.lineHeight&&(T+=N*this.$size.scrollerHeight),this.session.setScrollTop(T+this.lineHeight+F-this.$size.scrollerHeight));var B=this.scrollLeft,H=2*this.layerConfig.characterWidth;x-H<B?(x-=H,x<this.$padding+H&&(x=-this.scrollMargin.left),this.session.setScrollLeft(x)):(x+=H,B+this.$size.scrollerWidth<x+this.characterWidth?this.session.setScrollLeft(Math.round(x+this.characterWidth-this.$size.scrollerWidth)):B<=this.$padding&&x-B<this.characterWidth&&this.session.setScrollLeft(0))}},R.prototype.getScrollTop=function(){return this.session.getScrollTop()},R.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},R.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},R.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},R.prototype.scrollToRow=function(O){this.session.setScrollTop(O*this.lineHeight)},R.prototype.alignCursor=function(O,N){typeof O=="number"&&(O={row:O,column:0});var M=this.$cursorLayer.getPixelPosition(O),k=this.$size.scrollerHeight-this.lineHeight,x=M.top-k*(N||0);return this.session.setScrollTop(x),x},R.prototype.$calcSteps=function(O,N){var M=0,k=this.STEPS,x=[],T=function(L,F,P){return P*(Math.pow(L-1,3)+1)+F};for(M=0;M<k;++M)x.push(T(M/this.STEPS,O,N-O));return x},R.prototype.scrollToLine=function(O,N,M,k){var x=this.$cursorLayer.getPixelPosition({row:O,column:0}),T=x.top;N&&(T-=this.$size.scrollerHeight/2);var L=this.scrollTop;this.session.setScrollTop(T),M!==!1&&this.animateScrolling(L,k)},R.prototype.animateScrolling=function(O,N){var M=this.scrollTop;if(!this.$animatedScroll)return;var k=this;if(O==M)return;if(this.$scrollAnimation){var x=this.$scrollAnimation.steps;if(x.length&&(O=x[0],O==M))return}var T=k.$calcSteps(O,M);this.$scrollAnimation={from:O,to:M,steps:T},clearInterval(this.$timer),k.session.setScrollTop(T.shift()),k.session.$scrollTop=M;function L(){k.$timer=clearInterval(k.$timer),k.$scrollAnimation=null,k.$stopAnimation=!1,N&&N()}this.$timer=setInterval(function(){if(k.$stopAnimation){L();return}if(!k.session)return clearInterval(k.$timer);T.length?(k.session.setScrollTop(T.shift()),k.session.$scrollTop=M):M!=null?(k.session.$scrollTop=-1,k.session.setScrollTop(M),M=null):L()},10)},R.prototype.scrollToY=function(O){this.scrollTop!==O&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=O)},R.prototype.scrollToX=function(O){this.scrollLeft!==O&&(this.scrollLeft=O),this.$loop.schedule(this.CHANGE_H_SCROLL)},R.prototype.scrollTo=function(O,N){this.session.setScrollTop(N),this.session.setScrollLeft(O)},R.prototype.scrollBy=function(O,N){N&&this.session.setScrollTop(this.session.getScrollTop()+N),O&&this.session.setScrollLeft(this.session.getScrollLeft()+O)},R.prototype.isScrollableBy=function(O,N){if(N<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||N>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||O<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||O>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},R.prototype.pixelToScreenCoordinates=function(O,N){var M;if(this.$hasCssTransforms){M={top:0,left:0};var k=this.$fontMetrics.transformCoordinates([O,N]);O=k[1]-this.gutterWidth-this.margin.left,N=k[0]}else M=this.scroller.getBoundingClientRect();var x=O+this.scrollLeft-M.left-this.$padding,T=x/this.characterWidth,L=Math.floor((N+this.scrollTop-M.top)/this.lineHeight),F=this.$blockCursor?Math.floor(T):Math.round(T);return{row:L,column:F,side:T-F>0?1:-1,offsetX:x}},R.prototype.screenToTextCoordinates=function(O,N){var M;if(this.$hasCssTransforms){M={top:0,left:0};var k=this.$fontMetrics.transformCoordinates([O,N]);O=k[1]-this.gutterWidth-this.margin.left,N=k[0]}else M=this.scroller.getBoundingClientRect();var x=O+this.scrollLeft-M.left-this.$padding,T=x/this.characterWidth,L=this.$blockCursor?Math.floor(T):Math.round(T),F=Math.floor((N+this.scrollTop-M.top)/this.lineHeight);return this.session.screenToDocumentPosition(F,Math.max(L,0),x)},R.prototype.textToScreenCoordinates=function(O,N){var M=this.scroller.getBoundingClientRect(),k=this.session.documentToScreenPosition(O,N),x=this.$padding+(this.session.$bidiHandler.isBidiRow(k.row,O)?this.session.$bidiHandler.getPosLeft(k.column):Math.round(k.column*this.characterWidth)),T=k.row*this.lineHeight;return{pageX:M.left+x-this.scrollLeft,pageY:M.top+T-this.scrollTop}},R.prototype.visualizeFocus=function(){l.addCssClass(this.container,"ace_focus")},R.prototype.visualizeBlur=function(){l.removeCssClass(this.container,"ace_focus")},R.prototype.showComposition=function(O){this.$composition=O,O.cssText||(O.cssText=this.textarea.style.cssText),O.useTextareaForIME==null&&(O.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(l.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):O.markerId=this.session.addMarker(O.markerRange,"ace_composition_marker","text")},R.prototype.setCompositionText=function(O){var N=this.session.selection.cursor;this.addToken(O,"composition_placeholder",N.row,N.column),this.$moveTextAreaToCursor()},R.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),l.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var O=this.session.selection.cursor;this.removeExtraToken(O.row,O.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},R.prototype.setGhostText=function(O,N){var M=this.session.selection.cursor,k=N||{row:M.row,column:M.column};this.removeGhostText();var x=this.$calculateWrappedTextChunks(O,k);this.addToken(x[0].text,"ghost_text",k.row,k.column),this.$ghostText={text:O,position:{row:k.row,column:k.column}};var T=l.createElement("div");if(x.length>1){var L=this.hideTokensAfterPosition(k.row,k.column),F;x.slice(1).forEach(function(U){var G=l.createElement("div"),V=l.createElement("span");V.className="ace_ghost_text",U.wrapped&&(G.className="ghost_text_line_wrapped"),U.text.length===0&&(U.text=" "),V.appendChild(l.createTextNode(U.text)),G.appendChild(V),T.appendChild(G),F=G}),L.forEach(function(U){var G=l.createElement("span");D(U.type)||(G.className="ace_"+U.type.replace(/\./g," ace_")),G.appendChild(l.createTextNode(U.value)),F.appendChild(G)}),this.$ghostTextWidget={el:T,row:k.row,column:k.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var P=this.$cursorLayer.getPixelPosition(k,!0),B=this.container,H=B.getBoundingClientRect().height,j=x.length*this.lineHeight,W=j<H-P.top;if(W)return;j<H?this.scrollBy(0,(x.length-1)*this.lineHeight):this.scrollToRow(k.row)}},R.prototype.$calculateWrappedTextChunks=function(O,N){var M=this.$size.scrollerWidth-this.$padding*2,k=Math.floor(M/this.characterWidth)-2;k=k<=0?60:k;for(var x=O.split(/\r?\n/),T=[],L=0;L<x.length;L++){var F=this.session.$getDisplayTokens(x[L],N.column),P=this.session.$computeWrapSplits(F,k,this.session.$tabSize);if(P.length>0){var B=0;P.push(x[L].length);for(var H=0;H<P.length;H++){var j=x[L].slice(B,P[H]);T.push({text:j,wrapped:!0}),B=P[H]}}else T.push({text:x[L],wrapped:!1})}return T},R.prototype.removeGhostText=function(){if(this.$ghostText){var O=this.$ghostText.position;this.removeExtraToken(O.row,O.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},R.prototype.addToken=function(O,N,M,k){var x=this.session;x.bgTokenizer.lines[M]=null;var T={type:N,value:O},L=x.getTokens(M);if(k==null||!L.length)L.push(T);else for(var F=0,P=0;P<L.length;P++){var B=L[P];if(F+=B.value.length,k<=F){var H=B.value.length-(F-k),j=B.value.slice(0,H),W=B.value.slice(H);L.splice(P,1,{type:B.type,value:j},T,{type:B.type,value:W});break}}this.updateLines(M,M)},R.prototype.hideTokensAfterPosition=function(O,N){for(var M=this.session.getTokens(O),k=0,x=!1,T=[],L=0;L<M.length;L++){var F=M[L];if(k+=F.value.length,F.type!=="ghost_text"){if(x){T.push({type:F.type,value:F.value}),F.type="hidden_token";continue}k===N&&(x=!0)}}return this.updateLines(O,O),T},R.prototype.removeExtraToken=function(O,N){this.session.bgTokenizer.lines[O]=null,this.updateLines(O,O)},R.prototype.setTheme=function(O,N){var M=this;if(this.$themeId=O,M._dispatchEvent("themeChange",{theme:O}),!O||typeof O=="string"){var k=O||this.$options.theme.initialValue;h.loadModule(["theme",k],x)}else x(O);function x(T){if(M.$themeId!=O)return N&&N();if(!T||!T.cssClass)throw new Error("couldn't load module "+O+" or it didn't call define");T.$id&&(M.$themeId=T.$id),l.importCssString(T.cssText,T.cssClass,M.container),M.theme&&l.removeCssClass(M.container,M.theme.cssClass);var L="padding"in T?T.padding:"padding"in(M.theme||{})?4:M.$padding;M.$padding&&L!=M.$padding&&M.setPadding(L),M.$theme=T.cssClass,M.theme=T,l.addCssClass(M.container,T.cssClass),l.setCssClass(M.container,"ace_dark",T.isDark),M.$size&&(M.$size.width=0,M.$updateSizeAsync()),M._dispatchEvent("themeLoaded",{theme:T}),N&&N(),E.isSafari&&M.scroller&&(M.scroller.style.background="red",M.scroller.style.background="")}},R.prototype.getTheme=function(){return this.$themeId},R.prototype.setStyle=function(O,N){l.setCssClass(this.container,O,N!==!1)},R.prototype.unsetStyle=function(O){l.removeCssClass(this.container,O)},R.prototype.setCursorStyle=function(O){l.setStyle(this.scroller.style,"cursor",O)},R.prototype.setMouseCursor=function(O){l.setStyle(this.scroller.style,"cursor",O)},R.prototype.attachToShadowRoot=function(){l.importCssString(A,"ace_editor.css",this.container)},R.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},R.prototype.$updateCustomScrollbar=function(O){var N=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),O===!0?(this.scrollBarV=new S(this.container,this),this.scrollBarH=new v(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollTop(M.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollLeft(M.data-N.scrollMargin.left)}),this.$scrollDecorator?(this.$scrollDecorator.setScrollBarV(this.scrollBarV),this.$scrollDecorator.$updateDecorators()):(this.$scrollDecorator=new $(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators())):(this.scrollBarV=new y(this.container,this),this.scrollBarH=new g(this.container,this),this.scrollBarV.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollTop(M.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(M){N.$scrollAnimation||N.session.setScrollLeft(M.data-N.scrollMargin.left)}))},R.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var O=this;this.$resizeTimer=d.delayedCall(function(){O.destroyed||O.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(N){var M=N[0].contentRect.width,k=N[0].contentRect.height;Math.abs(O.$size.width-M)>1||Math.abs(O.$size.height-k)>1?O.$resizeTimer.delay():O.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},R})();I.prototype.CHANGE_CURSOR=1,I.prototype.CHANGE_MARKER=2,I.prototype.CHANGE_GUTTER=4,I.prototype.CHANGE_SCROLL=8,I.prototype.CHANGE_LINES=16,I.prototype.CHANGE_TEXT=32,I.prototype.CHANGE_SIZE=64,I.prototype.CHANGE_MARKER_BACK=128,I.prototype.CHANGE_MARKER_FRONT=256,I.prototype.CHANGE_FULL=512,I.prototype.CHANGE_H_SCROLL=1024,I.prototype.$changes=0,I.prototype.$padding=null,I.prototype.$frozen=!1,I.prototype.STEPS=8,a.implement(I.prototype,w),h.defineOptions(I.prototype,"renderer",{useResizeObserver:{set:function(R){!R&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):R&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(R){this.$textLayer.setShowInvisibles(R)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(R){typeof R=="number"&&(this.$printMarginColumn=R),this.$showPrintMargin=!!R,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(R){this.$gutter.style.display=R?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(R){this.$gutterLayer.$useSvgGutterIcons=R},initialValue:!1},showFoldedAnnotations:{set:function(R){this.$gutterLayer.$showFoldedAnnotations=R},initialValue:!1},fadeFoldWidgets:{set:function(R){l.setCssClass(this.$gutter,"ace_fade-fold-widgets",R)},initialValue:!1},showFoldWidgets:{set:function(R){this.$gutterLayer.setShowFoldWidgets(R),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(R){this.$textLayer.setDisplayIndentGuides(R)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(R){this.$textLayer.setHighlightIndentGuides(R)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(R){this.$gutterLayer.setHighlightGutterLine(R),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(R){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(R){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(R){typeof R=="number"&&(R=R+"px"),this.container.style.fontSize=R,this.updateFontSize()},initialValue:12},fontFamily:{set:function(R){this.container.style.fontFamily=R,this.updateFontSize()}},maxLines:{set:function(R){this.updateFull()}},minLines:{set:function(R){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(R){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(R){R=+R||0,this.$scrollPastEnd!=R&&(this.$scrollPastEnd=R,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(R){this.$gutterLayer.$fixedWidth=!!R,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(R){this.$updateCustomScrollbar(R)},initialValue:!1},theme:{set:function(R){this.setTheme(R)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!E.isMobile&&!E.isIE}}),o.VirtualRenderer=I}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,o,s){var a=n("../lib/oop"),l=n("../lib/net"),d=n("../lib/event_emitter").EventEmitter,h=n("../config");function _(g){var y="importScripts('"+l.qualifyURL(g)+"');";try{return new Blob([y],{type:"application/javascript"})}catch{var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,S=new v;return S.append(y),S.getBlob("application/javascript")}}function p(g){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(h.get("loadWorkerFromBlob")){var y=_(g),v=window.URL||window.webkitURL,S=v.createObjectURL(y);return new Worker(S)}return new Worker(g)}var u=function(g){g.postMessage||(g=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=g,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){a.implement(this,d),this.$createWorkerFromOldConfig=function(g,y,v,S,b){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),h.get("packaged")||!n.toUrl)S=S||h.moduleUrl(y,"worker");else{var C=this.$normalizePath;S=S||C(n.toUrl("ace/worker/worker.js",null,"_"));var w={};g.forEach(function(A){w[A]=C(n.toUrl(A,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=p(S),b&&this.send("importScripts",b),this.$worker.postMessage({init:!0,tlns:w,module:y,classname:v}),this.$worker},this.onMessage=function(g){var y=g.data;switch(y.type){case"event":this._signal(y.name,{data:y.data});break;case"call":var v=this.callbacks[y.id];v&&(v(y.data),delete this.callbacks[y.id]);break;case"error":this.reportError(y.data);break;case"log":window.console&&console.log&&console.log.apply(console,y.data);break}},this.reportError=function(g){window.console&&console.error&&console.error(g)},this.$normalizePath=function(g){return l.qualifyURL(g)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(g){g.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(g,y){this.$worker.postMessage({command:g,args:y})},this.call=function(g,y,v){if(v){var S=this.callbackId++;this.callbacks[S]=v,y.push(S)}this.send(g,y)},this.emit=function(g,y){try{y.data&&y.data.err&&(y.data.err={message:y.data.err.message,stack:y.data.err.stack,code:y.data.err.code}),this.$worker&&this.$worker.postMessage({event:g,data:{data:y.data}})}catch(v){console.error(v.stack)}},this.attachToDocument=function(g){this.$doc&&this.terminate(),this.$doc=g,this.call("setValue",[g.getValue()]),g.on("change",this.changeListener,!0)},this.changeListener=function(g){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),g.action=="insert"?this.deltaQueue.push(g.start,g.lines):this.deltaQueue.push(g.start,g.end)},this.$sendDeltaQueue=function(){var g=this.deltaQueue;g&&(this.deltaQueue=null,g.length>50&&g.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:g}))}}).call(u.prototype);var m=function(g,y,v){var S=null,b=!1,C=Object.create(d),w=[],A=new u({messageBuffer:w,terminate:function(){},postMessage:function(E){w.push(E),S&&(b?setTimeout($):$())}});A.setEmitSync=function(E){b=E};var $=function(){var E=w.shift();E.command?S[E.command].apply(S,E.args):E.event&&C._signal(E.event,E.data)};return C.postMessage=function(E){A.onMessage({data:E})},C.callback=function(E,D){this.postMessage({type:"call",id:D,data:E})},C.emit=function(E,D){this.postMessage({type:"event",name:E,data:D})},h.loadModule(["worker",y],function(E){for(S=new E[v](C);w.length;)$()}),A};o.UIWorkerClient=m,o.WorkerClient=u,o.createWorker=p}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,o,s){var a=n("./range").Range,l=n("./lib/event_emitter").EventEmitter,d=n("./lib/oop"),h=(function(){function _(p,u,m,g,y,v){var S=this;this.length=u,this.session=p,this.doc=p.getDocument(),this.mainClass=y,this.othersClass=v,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=g,this.$onCursorChange=function(){setTimeout(function(){S.onCursorChange()})},this.$pos=m;var b=p.getUndoManager().$undoStack||p.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=b.length,this.setup(),p.selection.on("changeCursor",this.$onCursorChange)}return _.prototype.setup=function(){var p=this,u=this.doc,m=this.session;this.selectionBefore=m.selection.toJSON(),m.selection.inMultiSelectMode&&m.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column);var g=this.pos;g.$insertRight=!0,g.detach(),g.markerId=m.addMarker(new a(g.row,g.column,g.row,g.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(y){var v=u.createAnchor(y.row,y.column);v.$insertRight=!0,v.detach(),p.others.push(v)}),m.setUndoSelect(!1)},_.prototype.showOtherMarkers=function(){if(!this.othersActive){var p=this.session,u=this;this.othersActive=!0,this.others.forEach(function(m){m.markerId=p.addMarker(new a(m.row,m.column,m.row,m.column+u.length),u.othersClass,null,!1)})}},_.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var p=0;p<this.others.length;p++)this.session.removeMarker(this.others[p].markerId)}},_.prototype.onUpdate=function(p){if(this.$updating)return this.updateAnchors(p);var u=p;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var m=p.action==="insert"?u.end.column-u.start.column:u.start.column-u.end.column,g=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,y=u.start.column-this.pos.column;if(this.updateAnchors(p),g&&(this.length+=m),g&&!this.session.$fromUndo){if(p.action==="insert")for(var v=this.others.length-1;v>=0;v--){var S=this.others[v],b={row:S.row,column:S.column+y};this.doc.insertMergedLines(b,p.lines)}else if(p.action==="remove")for(var v=this.others.length-1;v>=0;v--){var S=this.others[v],b={row:S.row,column:S.column+y};this.doc.remove(new a(b.row,b.column,b.row,b.column-m))}}this.$updating=!1,this.updateMarkers()}},_.prototype.updateAnchors=function(p){this.pos.onChange(p);for(var u=this.others.length;u--;)this.others[u].onChange(p);this.updateMarkers()},_.prototype.updateMarkers=function(){if(!this.$updating){var p=this,u=this.session,m=function(y,v){u.removeMarker(y.markerId),y.markerId=u.addMarker(new a(y.row,y.column,y.row,y.column+p.length),v,null,!1)};m(this.pos,this.mainClass);for(var g=this.others.length;g--;)m(this.others[g],this.othersClass)}},_.prototype.onCursorChange=function(p){if(!(this.$updating||!this.session)){var u=this.session.selection.getCursor();u.row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",p)):(this.hideOtherMarkers(),this._emit("cursorLeave",p))}},_.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},_.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var p=this.session.getUndoManager(),u=(p.$undoStack||p.$undostack).length-this.$undoStackDepth,m=0;m<u;m++)p.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},_})();d.implement(h.prototype,l),o.PlaceHolder=h}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,o,s){var a=n("../lib/event"),l=n("../lib/useragent");function d(_,p){return _.row==p.row&&_.column==p.column}function h(_){var p=_.domEvent,u=p.altKey,m=p.shiftKey,g=p.ctrlKey,y=_.getAccelKey(),v=_.getButton();if(g&&l.isMac&&(v=p.button),_.editor.inMultiSelectMode&&v==2){_.editor.textInput.onContextMenu(_.domEvent);return}if(!g&&!u&&!y){v===0&&_.editor.inMultiSelectMode&&_.editor.exitMultiSelectMode();return}if(v===0){var S=_.editor,b=S.selection,C=S.inMultiSelectMode,w=_.getDocumentPosition(),A=b.getCursor(),$=_.inSelection()||b.isEmpty()&&d(w,A),E=_.x,D=_.y,I=function(j){E=j.clientX,D=j.clientY},R=S.session,O=S.renderer.pixelToScreenCoordinates(E,D),N=O,M;if(S.$mouseHandler.$enableJumpToDef)g&&u||y&&u?M=m?"block":"add":u&&S.$blockSelectEnabled&&(M="block");else if(y&&!u){if(M="add",!C&&m)return}else u&&S.$blockSelectEnabled&&(M="block");if(M&&l.isMac&&p.ctrlKey&&S.$mouseHandler.cancelContextMenu(),M=="add"){if(!C&&$)return;if(!C){var k=b.toOrientedRange();S.addSelectionMarker(k)}var x=b.rangeList.rangeAtPoint(w);S.inVirtualSelectionMode=!0,m&&(x=null,k=b.ranges[0]||k,S.removeSelectionMarker(k)),S.once("mouseup",function(){var j=b.toOrientedRange();x&&j.isEmpty()&&d(x.cursor,j.cursor)?b.substractPoint(j.cursor):(m?b.substractPoint(k.cursor):k&&(S.removeSelectionMarker(k),b.addRange(k)),b.addRange(j)),S.inVirtualSelectionMode=!1})}else if(M=="block"){_.stop(),S.inVirtualSelectionMode=!0;var T,L=[],F=function(){var j=S.renderer.pixelToScreenCoordinates(E,D),W=R.screenToDocumentPosition(j.row,j.column,j.offsetX);d(N,j)&&d(W,b.lead)||(N=j,S.selection.moveToPosition(W),S.renderer.scrollCursorIntoView(),S.removeSelectionMarkers(L),L=b.rectangularRangeBlock(N,O),S.$mouseHandler.$clickSelection&&L.length==1&&L[0].isEmpty()&&(L[0]=S.$mouseHandler.$clickSelection.clone()),L.forEach(S.addSelectionMarker,S),S.updateSelectionMarkers())};C&&!y?b.toSingleRange():!C&&y&&(T=b.toOrientedRange(),S.addSelectionMarker(T)),m?O=R.documentToScreenPosition(b.lead):b.moveToPosition(w),N={row:-1,column:-1};var P=function(j){F(),clearInterval(H),S.removeSelectionMarkers(L),L.length||(L=[b.toOrientedRange()]),T&&(S.removeSelectionMarker(T),b.toSingleRange(T));for(var W=0;W<L.length;W++)b.addRange(L[W]);S.inVirtualSelectionMode=!1,S.$mouseHandler.$clickSelection=null},B=F;a.capture(S.container,I,P);var H=setInterval(function(){B()},20);return _.preventDefault()}}}o.onMouseDown=h}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,o,s){o.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(l){l.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(l){l.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(l){l.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(l){l.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(l){l.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(l){l.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(l){l.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(l){l.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(l){l.multiSelect.rangeCount>1?l.multiSelect.joinSelections():l.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(l){l.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(l){l.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(l){l.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],o.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(l){l.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(l){return l&&l.inMultiSelectMode}}];var a=n("../keyboard/hash_handler").HashHandler;o.keyboardHandler=new a(o.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,o,s){var a=n("./range_list").RangeList,l=n("./range").Range,d=n("./selection").Selection,h=n("./mouse/multi_select_handler").onMouseDown,_=n("./lib/event"),p=n("./lib/lang"),u=n("./commands/multi_select_commands");o.commands=u.defaultCommands.concat(u.multiSelectCommands);var m=n("./search").Search,g=new m;function y(A,$,E){return g.$options.wrap=!0,g.$options.needle=$,g.$options.backwards=E==-1,g.find(A)}var v=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(v.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(A,$){if(A){if(!this.inMultiSelectMode&&this.rangeCount===0){var E=this.toOrientedRange();if(this.rangeList.add(E),this.rangeList.add(A),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),$||this.fromOrientedRange(A);this.rangeList.removeAll(),this.rangeList.add(E),this.$onAddRange(E)}A.cursor||(A.cursor=A.end);var D=this.rangeList.add(A);return this.$onAddRange(A),D.length&&this.$onRemoveRange(D),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$||this.fromOrientedRange(A)}},this.toSingleRange=function(A){A=A||this.ranges[0];var $=this.rangeList.removeAll();$.length&&this.$onRemoveRange($),A&&this.fromOrientedRange(A)},this.substractPoint=function(A){var $=this.rangeList.substractPoint(A);if($)return this.$onRemoveRange($),$[0]},this.mergeOverlappingRanges=function(){var A=this.rangeList.merge();A.length&&this.$onRemoveRange(A)},this.$onAddRange=function(A){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(A),this._signal("addRange",{range:A})},this.$onRemoveRange=function(A){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var $=this.rangeList.ranges.pop();A.push($),this.rangeCount=0}for(var E=A.length;E--;){var D=this.ranges.indexOf(A[E]);this.ranges.splice(D,1)}this._signal("removeRange",{ranges:A}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),$=$||this.ranges[0],$&&!$.isEqual(this.getRange())&&this.fromOrientedRange($)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var A=this.ranges.length?this.ranges:[this.getRange()],$=[],E=0;E<A.length;E++){var D=A[E],I=D.start.row,R=D.end.row;if(I===R)$.push(D.clone());else{for($.push(new l(I,D.start.column,I,this.session.getLine(I).length));++I<R;)$.push(this.getLineRange(I,!0));$.push(new l(R,0,R,D.end.column))}E==0&&!this.isBackwards()&&($=$.reverse())}this.toSingleRange();for(var E=$.length;E--;)this.addRange($[E])},this.joinSelections=function(){var A=this.rangeList.ranges,$=A[A.length-1],E=l.fromPoints(A[0].start,$.end);this.toSingleRange(),this.setSelectionRange(E,$.cursor==$.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var A=this.rangeList.ranges,$=A[A.length-1],E=l.fromPoints(A[0].start,$.end);this.toSingleRange(),this.setSelectionRange(E,$.cursor==$.start)}else{var D=this.session.documentToScreenPosition(this.cursor),I=this.session.documentToScreenPosition(this.anchor),R=this.rectangularRangeBlock(D,I);R.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(A,$,E){var D=[],I=A.column<$.column;if(I)var R=A.column,O=$.column,N=A.offsetX,M=$.offsetX;else var R=$.column,O=A.column,N=$.offsetX,M=A.offsetX;var k=A.row<$.row;if(k)var x=A.row,T=$.row;else var x=$.row,T=A.row;R<0&&(R=0),x<0&&(x=0),x==T&&(E=!0);for(var L,F=x;F<=T;F++){var P=l.fromPoints(this.session.screenToDocumentPosition(F,R,N),this.session.screenToDocumentPosition(F,O,M));if(P.isEmpty()){if(L&&b(P.end,L))break;L=P.end}P.cursor=I?P.start:P.end,D.push(P)}if(k&&D.reverse(),!E){for(var B=D.length-1;D[B].isEmpty()&&B>0;)B--;if(B>0)for(var H=0;D[H].isEmpty();)H++;for(var j=B;j>=H;j--)D[j].isEmpty()&&D.splice(j,1)}return D}}).call(d.prototype);var S=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(A){A.cursor||(A.cursor=A.end);var $=this.getSelectionStyle();return A.marker=this.session.addMarker(A,"ace_selection",$),this.session.$selectionMarkers.push(A),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,A},this.removeSelectionMarker=function(A){if(A.marker){this.session.removeMarker(A.marker);var $=this.session.$selectionMarkers.indexOf(A);$!=-1&&this.session.$selectionMarkers.splice($,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(A){for(var $=this.session.$selectionMarkers,E=A.length;E--;){var D=A[E];if(D.marker){this.session.removeMarker(D.marker);var I=$.indexOf(D);I!=-1&&$.splice(I,1)}}this.session.selectionMarkerCount=$.length},this.$onAddRange=function(A){this.addSelectionMarker(A.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(A){this.removeSelectionMarkers(A.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(A){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(A){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(A){var $=A.command,E=A.editor;if(E.multiSelect){if($.multiSelectAction)$.multiSelectAction=="forEach"?D=E.forEachSelection($,A.args):$.multiSelectAction=="forEachLine"?D=E.forEachSelection($,A.args,!0):$.multiSelectAction=="single"?(E.exitMultiSelectMode(),D=$.exec(E,A.args||{})):D=$.multiSelectAction(E,A.args||{});else{var D=$.exec(E,A.args||{});E.multiSelect.addRange(E.multiSelect.toOrientedRange()),E.multiSelect.mergeOverlappingRanges()}return D}},this.forEachSelection=function(A,$,E){if(!this.inVirtualSelectionMode){var D=E&&E.keepOrder,I=E==!0||E&&E.$byLines,R=this.session,O=this.selection,N=O.rangeList,M=(D?O:N).ranges,k;if(!M.length)return A.exec?A.exec(this,$||{}):A(this,$||{});var x=O._eventRegistry;O._eventRegistry={};var T=new d(R);this.inVirtualSelectionMode=!0;for(var L=M.length;L--;){if(I)for(;L>0&&M[L].start.row==M[L-1].end.row;)L--;T.fromOrientedRange(M[L]),T.index=L,this.selection=R.selection=T;var F=A.exec?A.exec(this,$||{}):A(this,$||{});!k&&F!==void 0&&(k=F),T.toOrientedRange(M[L])}T.detach(),this.selection=R.selection=O,this.inVirtualSelectionMode=!1,O._eventRegistry=x,O.mergeOverlappingRanges(),O.ranges[0]&&O.fromOrientedRange(O.ranges[0]);var P=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),P&&P.from==P.to&&this.renderer.animateScrolling(P.from),k}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var A="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var $=this.multiSelect.rangeList.ranges,E=[],D=0;D<$.length;D++)E.push(this.session.getTextRange($[D]));var I=this.session.getDocument().getNewLineCharacter();A=E.join(I),A.length==(E.length-1)*I.length&&(A="")}else this.selection.isEmpty()||(A=this.session.getTextRange(this.getSelectionRange()));return A},this.$checkMultiselectChange=function(A,$){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var E=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&$==this.multiSelect.anchor)return;var D=$==this.multiSelect.anchor?E.cursor==E.start?E.end:E.start:E.cursor;D.row!=$.row||this.session.$clipPositionToDocument(D.row,D.column).column!=$.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(A,$,E){if($=$||{},$.needle=A||$.needle,$.needle==null){var D=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();$.needle=this.session.getTextRange(D)}this.$search.set($);var I=this.$search.findAll(this.session);if(!I.length)return 0;var R=this.multiSelect;E||R.toSingleRange(I[0]);for(var O=I.length;O--;)R.addRange(I[O],!0);return D&&R.rangeList.rangeAtPoint(D.start)&&R.addRange(D,!0),I.length},this.selectMoreLines=function(A,$){var E=this.selection.toOrientedRange(),D=E.cursor==E.end,I=this.session.documentToScreenPosition(E.cursor);this.selection.$desiredColumn&&(I.column=this.selection.$desiredColumn);var R=this.session.screenToDocumentPosition(I.row+A,I.column);if(E.isEmpty())var N=R;else var O=this.session.documentToScreenPosition(D?E.end:E.start),N=this.session.screenToDocumentPosition(O.row+A,O.column);if(D){var M=l.fromPoints(R,N);M.cursor=M.start}else{var M=l.fromPoints(N,R);M.cursor=M.end}if(M.desiredColumn=I.column,!this.selection.inMultiSelectMode)this.selection.addRange(E);else if($)var k=E.cursor;this.selection.addRange(M),k&&this.selection.substractPoint(k)},this.transposeSelections=function(A){for(var $=this.session,E=$.multiSelect,D=E.ranges,I=D.length;I--;){var R=D[I];if(R.isEmpty()){var O=$.getWordRange(R.start.row,R.start.column);R.start.row=O.start.row,R.start.column=O.start.column,R.end.row=O.end.row,R.end.column=O.end.column}}E.mergeOverlappingRanges();for(var N=[],I=D.length;I--;){var R=D[I];N.unshift($.getTextRange(R))}A<0?N.unshift(N.pop()):N.push(N.shift());for(var I=D.length;I--;){var R=D[I],M=R.clone();$.replace(R,N[I]),R.start.row=M.start.row,R.start.column=M.start.column}E.fromOrientedRange(E.ranges[0])},this.selectMore=function(A,$,E){var D=this.session,I=D.multiSelect,R=I.toOrientedRange();if(!(R.isEmpty()&&(R=D.getWordRange(R.start.row,R.start.column),R.cursor=A==-1?R.start:R.end,this.multiSelect.addRange(R),E))){var O=D.getTextRange(R),N=y(D,O,A);N&&(N.cursor=A==-1?N.start:N.end,this.session.unfold(N),this.multiSelect.addRange(N),this.renderer.scrollCursorIntoView(null,.5)),$&&this.multiSelect.substractPoint(R.cursor)}},this.alignCursors=function(){var A=this.session,$=A.multiSelect,E=$.ranges,D=-1,I=E.filter(function(B){if(B.cursor.row==D)return!0;D=B.cursor.row});if(!E.length||I.length==E.length-1){var R=this.selection.getRange(),O=R.start.row,N=R.end.row,M=O==N;if(M){var k=this.session.getLength(),x;do x=this.session.getLine(N);while(/[=:]/.test(x)&&++N<k);do x=this.session.getLine(O);while(/[=:]/.test(x)&&--O>0);O<0&&(O=0),N>=k&&(N=k-1)}var T=this.session.removeFullLines(O,N);T=this.$reAlignText(T,M),this.session.insert({row:O,column:0},T.join(`
`)+`
`),M||(R.start.column=0,R.end.column=T[T.length-1].length),this.selection.setRange(R)}else{I.forEach(function(B){$.substractPoint(B.cursor)});var L=0,F=1/0,P=E.map(function(B){var H=B.cursor,j=A.getLine(H.row),W=j.substr(H.column).search(/\S/g);return W==-1&&(W=0),H.column>L&&(L=H.column),W<F&&(F=W),W});E.forEach(function(B,H){var j=B.cursor,W=L-j.column,U=P[H]-F;W>U?A.insert(j,p.stringRepeat(" ",W-U)):A.remove(new l(j.row,j.column,j.row,j.column-W+U)),B.start.column=B.end.column=L,B.start.row=B.end.row=j.row,B.cursor=B.end}),$.fromOrientedRange(E[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(A,$){var E=!0,D=!0,I,R,O;return A.map(function(T){var L=T.match(/(\s*)(.*?)(\s*)([=:].*)/);return L?I==null?(I=L[1].length,R=L[2].length,O=L[3].length,L):(I+R+O!=L[1].length+L[2].length+L[3].length&&(D=!1),I!=L[1].length&&(E=!1),I>L[1].length&&(I=L[1].length),R<L[2].length&&(R=L[2].length),O>L[3].length&&(O=L[3].length),L):[T]}).map($?M:E?D?k:M:x);function N(T){return p.stringRepeat(" ",T)}function M(T){return T[2]?N(I)+T[2]+N(R-T[2].length+O)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function k(T){return T[2]?N(I+R-T[2].length)+T[2]+N(O)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}function x(T){return T[2]?N(I)+T[2]+N(O)+T[4].replace(/^([=:])\s+/,"$1 "):T[0]}}}).call(S.prototype);function b(A,$){return A.row==$.row&&A.column==$.column}o.onSessionChange=function(A){var $=A.session;$&&!$.multiSelect&&($.$selectionMarkers=[],$.selection.$initRangeList(),$.multiSelect=$.selection),this.multiSelect=$&&$.multiSelect;var E=A.oldSession;E&&(E.multiSelect.off("addRange",this.$onAddRange),E.multiSelect.off("removeRange",this.$onRemoveRange),E.multiSelect.off("multiSelect",this.$onMultiSelect),E.multiSelect.off("singleSelect",this.$onSingleSelect),E.multiSelect.lead.off("change",this.$checkMultiselectChange),E.multiSelect.anchor.off("change",this.$checkMultiselectChange)),$&&($.multiSelect.on("addRange",this.$onAddRange),$.multiSelect.on("removeRange",this.$onRemoveRange),$.multiSelect.on("multiSelect",this.$onMultiSelect),$.multiSelect.on("singleSelect",this.$onSingleSelect),$.multiSelect.lead.on("change",this.$checkMultiselectChange),$.multiSelect.anchor.on("change",this.$checkMultiselectChange)),$&&this.inMultiSelectMode!=$.selection.inMultiSelectMode&&($.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function C(A){A.$multiselectOnSessionChange||(A.$onAddRange=A.$onAddRange.bind(A),A.$onRemoveRange=A.$onRemoveRange.bind(A),A.$onMultiSelect=A.$onMultiSelect.bind(A),A.$onSingleSelect=A.$onSingleSelect.bind(A),A.$multiselectOnSessionChange=o.onSessionChange.bind(A),A.$checkMultiselectChange=A.$checkMultiselectChange.bind(A),A.$multiselectOnSessionChange(A),A.on("changeSession",A.$multiselectOnSessionChange),A.on("mousedown",h),A.commands.addCommands(u.defaultCommands),w(A))}function w(A){if(!A.textInput)return;var $=A.textInput.getElement(),E=!1;_.addListener($,"keydown",function(I){var R=I.keyCode==18&&!(I.ctrlKey||I.shiftKey||I.metaKey);A.$blockSelectEnabled&&R?E||(A.renderer.setMouseCursor("crosshair"),E=!0):E&&D()},A),_.addListener($,"keyup",D,A),_.addListener($,"blur",D,A);function D(I){E&&(A.renderer.setMouseCursor(""),E=!1)}}o.MultiSelect=C,n("./config").defineOptions(S.prototype,"editor",{enableMultiselect:{set:function(A){C(this),A?this.on("mousedown",h):this.off("mousedown",h)},value:!0},enableBlockSelect:{set:function(A){this.$blockSelectEnabled=A},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,o,s){var a=n("../../range").Range,l=o.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(d,h,_){var p=d.getLine(_);return this.foldingStartMarker.test(p)?"start":h=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(p)?"end":""},this.getFoldWidgetRange=function(d,h,_){return null},this.indentationBlock=function(d,h,_){var p=/\S/,u=d.getLine(h),m=u.search(p);if(m!=-1){for(var g=_||u.length,y=d.getLength(),v=h,S=h;++h<y;){var b=d.getLine(h).search(p);if(b!=-1){if(b<=m){var C=d.getTokenAt(h,0);if(!C||C.type!=="string")break}S=h}}if(S>v){var w=d.getLine(S).length;return new a(v,g,S,w)}}},this.openingBracketBlock=function(d,h,_,p,u){var m={row:_,column:p+1},g=d.$findClosingBracket(h,m,u);if(g){var y=d.foldWidgets[g.row];return y==null&&(y=d.getFoldWidget(g.row)),y=="start"&&g.row>m.row&&(g.row--,g.column=d.getLine(g.row).length),a.fromPoints(m,g)}},this.closingBracketBlock=function(d,h,_,p,u){var m={row:_,column:p},g=d.$findOpeningBracket(h,m);if(g)return g.column++,m.column--,a.fromPoints(g,m)}}).call(l.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(n,o,s){var a=n("../lib/dom"),l=n("../range").Range,d=n("../config").nls;function h(p,u,m){for(var g=0,y=p.length-1;g<=y;){var v=g+y>>1,S=m(u,p[v]);if(S>0)g=v+1;else if(S<0)y=v-1;else return v}return-(g+1)}function _(p,u,m){var g=p.getAnnotations().sort(l.comparePoints);if(g.length){var y=h(g,{row:u,column:-1},l.comparePoints);y<0&&(y=-y-1),y>=g.length?y=m>0?0:g.length-1:y===0&&m<0&&(y=g.length-1);var v=g[y];if(!(!v||!m)){if(v.row===u){do v=g[y+=m];while(v&&v.row===u);if(!v)return g.slice()}var S=[];u=v.row;do S[m<0?"unshift":"push"](v),v=g[y+=m];while(v&&v.row==u);return S.length&&S}}}o.showErrorMarker=function(p,u){var m=p.session,g=p.getCursorPosition(),y=g.row,v=m.widgetManager.getWidgetsAtRow(y).filter(function(I){return I.type=="errorMarker"})[0];v?v.destroy():y-=u;var S=_(m,y,u),b;if(S){var C=S[0];g.column=(C.pos&&typeof C.column!="number"?C.pos.sc:C.column)||0,g.row=C.row,b=p.renderer.$gutterLayer.$annotations[g.row]}else{if(v)return;b={displayText:[d("error-marker.good-state","Looks good!")],className:"ace_ok"}}p.session.unfold(g.row),p.selection.moveToPosition(g);var w={row:g.row,fixedWidth:!0,coverGutter:!0,el:a.createElement("div"),type:"errorMarker"},A=w.el.appendChild(a.createElement("div")),$=w.el.appendChild(a.createElement("div"));$.className="error_widget_arrow "+b.className;var E=p.renderer.$cursorLayer.getPixelPosition(g).left;$.style.left=E+p.renderer.gutterWidth-5+"px",w.el.className="error_widget_wrapper",A.className="error_widget "+b.className,b.displayText.forEach(function(I,R){A.appendChild(a.createTextNode(I)),R<b.displayText.length-1&&A.appendChild(a.createElement("br"))}),A.appendChild(a.createElement("div"));var D=function(I,R,O){if(R===0&&(O==="esc"||O==="return"))return w.destroy(),{command:"null"}};w.destroy=function(){p.$mouseHandler.isMousePressed||(p.keyBinding.removeKeyboardHandler(D),m.widgetManager.removeLineWidget(w),p.off("changeSelection",w.destroy),p.off("changeSession",w.destroy),p.off("mouseup",w.destroy),p.off("change",w.destroy))},p.keyBinding.addKeyboardHandler(D),p.on("changeSelection",w.destroy),p.on("changeSession",w.destroy),p.on("mouseup",w.destroy),p.on("change",w.destroy),p.session.widgetManager.addLineWidget(w),w.el.onmousedown=p.focus.bind(p),p.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})},a.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,o,s){n("./loader_build")(o);var a=n("./lib/dom"),l=n("./range").Range,d=n("./editor").Editor,h=n("./edit_session").EditSession,_=n("./undomanager").UndoManager,p=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),o.config=n("./config"),o.edit=function(m,g){if(typeof m=="string"){var y=m;if(m=document.getElementById(y),!m)throw new Error("ace.edit can't find div #"+y)}if(m&&m.env&&m.env.editor instanceof d)return m.env.editor;var v="";if(m&&/input|textarea/i.test(m.tagName)){var S=m;v=S.value,m=a.createElement("pre"),S.parentNode.replaceChild(m,S)}else m&&(v=m.textContent,m.innerHTML="");var b=o.createEditSession(v),C=new d(new p(m),b,g),w={document:b,editor:C,onResize:C.resize.bind(C,null)};return S&&(w.textarea=S),C.on("destroy",function(){w.editor.container.env=null}),C.container.env=C.env=w,C},o.createEditSession=function(m,g){var y=new h(m,g);return y.setUndoManager(new _),y},o.Range=l,o.Editor=d,o.EditSession=h,o.UndoManager=_,o.VirtualRenderer=p;var u=o.config.version;o.version=u}),(function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var o=(function(){return this})();!o&&typeof window<"u"&&(o=window),!o&&typeof self<"u"&&(o=self),o.ace||(o.ace=n);for(var s in n)n.hasOwnProperty(s)&&(o.ace[s]=n[s]);o.ace.default=o.ace,t&&(t.exports=o.ace)})})()})(ace$1);var aceExports=ace$1.exports,lodash_isequal={exports:{}};lodash_isequal.exports;(function(t,e){var n=200,o="__lodash_hash_undefined__",s=1,a=2,l=9007199254740991,d="[object Arguments]",h="[object Array]",_="[object AsyncFunction]",p="[object Boolean]",u="[object Date]",m="[object Error]",g="[object Function]",y="[object GeneratorFunction]",v="[object Map]",S="[object Number]",b="[object Null]",C="[object Object]",w="[object Promise]",A="[object Proxy]",$="[object RegExp]",E="[object Set]",D="[object String]",I="[object Symbol]",R="[object Undefined]",O="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",k="[object Float32Array]",x="[object Float64Array]",T="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",P="[object Uint8Array]",B="[object Uint8ClampedArray]",H="[object Uint16Array]",j="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,V={};V[k]=V[x]=V[T]=V[L]=V[F]=V[P]=V[B]=V[H]=V[j]=!0,V[d]=V[h]=V[N]=V[p]=V[M]=V[u]=V[m]=V[g]=V[v]=V[S]=V[C]=V[$]=V[E]=V[D]=V[O]=!1;var X=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,q=typeof self=="object"&&self&&self.Object===Object&&self,Y=X||q||Function("return this")(),J=e&&!e.nodeType&&e,Q=J&&!0&&t&&!t.nodeType&&t,ee=Q&&Q.exports===J,re=ee&&X.process,ae=(function(){try{return re&&re.binding&&re.binding("util")}catch{}})(),se=ae&&ae.isTypedArray;function ie(z,K){for(var Z=-1,te=z==null?0:z.length,ue=0,oe=[];++Z<te;){var pe=z[Z];K(pe,Z,z)&&(oe[ue++]=pe)}return oe}function ce(z,K){for(var Z=-1,te=K.length,ue=z.length;++Z<te;)z[ue+Z]=K[Z];return z}function le(z,K){for(var Z=-1,te=z==null?0:z.length;++Z<te;)if(K(z[Z],Z,z))return!0;return!1}function ne(z,K){for(var Z=-1,te=Array(z);++Z<z;)te[Z]=K(Z);return te}function _e(z){return function(K){return z(K)}}function ge(z,K){return z.has(K)}function Te(z,K){return z==null?void 0:z[K]}function Oe(z){var K=-1,Z=Array(z.size);return z.forEach(function(te,ue){Z[++K]=[ue,te]}),Z}function Me(z,K){return function(Z){return z(K(Z))}}function be(z){var K=-1,Z=Array(z.size);return z.forEach(function(te){Z[++K]=te}),Z}var Le=Array.prototype,xe=Function.prototype,Ee=Object.prototype,$e=Y["__core-js_shared__"],Ue=xe.toString,ve=Ee.hasOwnProperty,fe=(function(){var z=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""})(),Ce=Ee.toString,We=RegExp("^"+Ue.call(ve).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=ee?Y.Buffer:void 0,De=Y.Symbol,Re=Y.Uint8Array,Ae=Ee.propertyIsEnumerable,Ye=Le.splice,Ne=De?De.toStringTag:void 0,Xe=Object.getOwnPropertySymbols,rt=He?He.isBuffer:void 0,dt=Me(Object.keys,Object),Pe=nt(Y,"DataView"),Je=nt(Y,"Map"),ot=nt(Y,"Promise"),at=nt(Y,"Set"),st=nt(Y,"WeakMap"),Qe=nt(Object,"create"),Et=Ze(Pe),Ct=Ze(Je),$t=Ze(ot),At=Ze(at),wt=Ze(st),pt=De?De.prototype:void 0,lt=pt?pt.valueOf:void 0;function Ge(z){var K=-1,Z=z==null?0:z.length;for(this.clear();++K<Z;){var te=z[K];this.set(te[0],te[1])}}function Tt(){this.__data__=Qe?Qe(null):{},this.size=0}function xt(z){var K=this.has(z)&&delete this.__data__[z];return this.size-=K?1:0,K}function Dt(z){var K=this.__data__;if(Qe){var Z=K[z];return Z===o?void 0:Z}return ve.call(K,z)?K[z]:void 0}function ft(z){var K=this.__data__;return Qe?K[z]!==void 0:ve.call(K,z)}function Rt(z,K){var Z=this.__data__;return this.size+=this.has(z)?0:1,Z[z]=Qe&&K===void 0?o:K,this}Ge.prototype.clear=Tt,Ge.prototype.delete=xt,Ge.prototype.get=Dt,Ge.prototype.has=ft,Ge.prototype.set=Rt;function Fe(z){var K=-1,Z=z==null?0:z.length;for(this.clear();++K<Z;){var te=z[K];this.set(te[0],te[1])}}function It(){this.__data__=[],this.size=0}function kt(z){var K=this.__data__,Z=gt(K,z);if(Z<0)return!1;var te=K.length-1;return Z==te?K.pop():Ye.call(K,Z,1),--this.size,!0}function Ot(z){var K=this.__data__,Z=gt(K,z);return Z<0?void 0:K[Z][1]}function Mt(z){return gt(this.__data__,z)>-1}function Lt(z,K){var Z=this.__data__,te=gt(Z,z);return te<0?(++this.size,Z.push([z,K])):Z[te][1]=K,this}Fe.prototype.clear=It,Fe.prototype.delete=kt,Fe.prototype.get=Ot,Fe.prototype.has=Mt,Fe.prototype.set=Lt;function ze(z){var K=-1,Z=z==null?0:z.length;for(this.clear();++K<Z;){var te=z[K];this.set(te[0],te[1])}}function mt(){this.size=0,this.__data__={hash:new Ge,map:new(Je||Fe),string:new Ge}}function Nt(z){var K=yt(this,z).delete(z);return this.size-=K?1:0,K}function Pt(z){return yt(this,z).get(z)}function Ft(z){return yt(this,z).has(z)}function Bt(z,K){var Z=yt(this,z),te=Z.size;return Z.set(z,K),this.size+=Z.size==te?0:1,this}ze.prototype.clear=mt,ze.prototype.delete=Nt,ze.prototype.get=Pt,ze.prototype.has=Ft,ze.prototype.set=Bt;function tt(z){var K=-1,Z=z==null?0:z.length;for(this.__data__=new ze;++K<Z;)this.add(z[K])}function Ht(z){return this.__data__.set(z,o),this}function _t(z){return this.__data__.has(z)}tt.prototype.add=tt.prototype.push=Ht,tt.prototype.has=_t;function je(z){var K=this.__data__=new Fe(z);this.size=K.size}function jt(){this.__data__=new Fe,this.size=0}function Ut(z){var K=this.__data__,Z=K.delete(z);return this.size=K.size,Z}function ct(z){return this.__data__.get(z)}function en(z){return this.__data__.has(z)}function tn(z,K){var Z=this.__data__;if(Z instanceof Fe){var te=Z.__data__;if(!Je||te.length<n-1)return te.push([z,K]),this.size=++Z.size,this;Z=this.__data__=new ze(te)}return Z.set(z,K),this.size=Z.size,this}je.prototype.clear=jt,je.prototype.delete=Ut,je.prototype.get=ct,je.prototype.has=en,je.prototype.set=tn;function nn(z,K){var Z=vt(z),te=!Z&&yn(z),ue=!Z&&!te&&Wt(z),oe=!Z&&!te&&!ue&&Qt(z),pe=Z||te||ue||oe,me=pe?ne(z.length,String):[],ye=me.length;for(var he in z)ve.call(z,he)&&!(pe&&(he=="length"||ue&&(he=="offset"||he=="parent")||oe&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||pn(he,ye)))&&me.push(he);return me}function gt(z,K){for(var Z=z.length;Z--;)if(Kt(z[Z][0],K))return Z;return-1}function rn(z,K,Z){var te=K(z);return vt(z)?te:ce(te,Z(z))}function ut(z){return z==null?z===void 0?R:b:Ne&&Ne in Object(z)?hn(z):gn(z)}function Gt(z){return ht(z)&&ut(z)==d}function zt(z,K,Z,te,ue){return z===K?!0:z==null||K==null||!ht(z)&&!ht(K)?z!==z&&K!==K:on(z,K,Z,te,zt,ue)}function on(z,K,Z,te,ue,oe){var pe=vt(z),me=vt(K),ye=pe?h:Ke(z),he=me?h:Ke(K);ye=ye==d?C:ye,he=he==d?C:he;var we=ye==C,Be=he==C,Se=ye==he;if(Se&&Wt(z)){if(!Wt(K))return!1;pe=!0,we=!1}if(Se&&!we)return oe||(oe=new je),pe||Qt(z)?Vt(z,K,Z,te,ue,oe):cn(z,K,ye,Z,te,ue,oe);if(!(Z&s)){var Ie=we&&ve.call(z,"__wrapped__"),ke=Be&&ve.call(K,"__wrapped__");if(Ie||ke){var qe=Ie?z.value():z,Ve=ke?K.value():K;return oe||(oe=new je),ue(qe,Ve,Z,te,oe)}}return Se?(oe||(oe=new je),un(z,K,Z,te,ue,oe)):!1}function an(z){if(!Jt(z)||mn(z))return!1;var K=qt(z)?We:U;return K.test(Ze(z))}function sn(z){return ht(z)&&Yt(z.length)&&!!V[ut(z)]}function ln(z){if(!_n(z))return dt(z);var K=[];for(var Z in Object(z))ve.call(z,Z)&&Z!="constructor"&&K.push(Z);return K}function Vt(z,K,Z,te,ue,oe){var pe=Z&s,me=z.length,ye=K.length;if(me!=ye&&!(pe&&ye>me))return!1;var he=oe.get(z);if(he&&oe.get(K))return he==K;var we=-1,Be=!0,Se=Z&a?new tt:void 0;for(oe.set(z,K),oe.set(K,z);++we<me;){var Ie=z[we],ke=K[we];if(te)var qe=pe?te(ke,Ie,we,K,z,oe):te(Ie,ke,we,z,K,oe);if(qe!==void 0){if(qe)continue;Be=!1;break}if(Se){if(!le(K,function(Ve,et){if(!ge(Se,et)&&(Ie===Ve||ue(Ie,Ve,Z,te,oe)))return Se.push(et)})){Be=!1;break}}else if(!(Ie===ke||ue(Ie,ke,Z,te,oe))){Be=!1;break}}return oe.delete(z),oe.delete(K),Be}function cn(z,K,Z,te,ue,oe,pe){switch(Z){case M:if(z.byteLength!=K.byteLength||z.byteOffset!=K.byteOffset)return!1;z=z.buffer,K=K.buffer;case N:return!(z.byteLength!=K.byteLength||!oe(new Re(z),new Re(K)));case p:case u:case S:return Kt(+z,+K);case m:return z.name==K.name&&z.message==K.message;case $:case D:return z==K+"";case v:var me=Oe;case E:var ye=te&s;if(me||(me=be),z.size!=K.size&&!ye)return!1;var he=pe.get(z);if(he)return he==K;te|=a,pe.set(z,K);var we=Vt(me(z),me(K),te,ue,oe,pe);return pe.delete(z),we;case I:if(lt)return lt.call(z)==lt.call(K)}return!1}function un(z,K,Z,te,ue,oe){var pe=Z&s,me=Xt(z),ye=me.length,he=Xt(K),we=he.length;if(ye!=we&&!pe)return!1;for(var Be=ye;Be--;){var Se=me[Be];if(!(pe?Se in K:ve.call(K,Se)))return!1}var Ie=oe.get(z);if(Ie&&oe.get(K))return Ie==K;var ke=!0;oe.set(z,K),oe.set(K,z);for(var qe=pe;++Be<ye;){Se=me[Be];var Ve=z[Se],et=K[Se];if(te)var Zt=pe?te(et,Ve,Se,K,z,oe):te(Ve,et,Se,z,K,oe);if(!(Zt===void 0?Ve===et||ue(Ve,et,Z,te,oe):Zt)){ke=!1;break}qe||(qe=Se=="constructor")}if(ke&&!qe){var St=z.constructor,bt=K.constructor;St!=bt&&"constructor"in z&&"constructor"in K&&!(typeof St=="function"&&St instanceof St&&typeof bt=="function"&&bt instanceof bt)&&(ke=!1)}return oe.delete(z),oe.delete(K),ke}function Xt(z){return rn(z,bn,dn)}function yt(z,K){var Z=z.__data__;return fn(K)?Z[typeof K=="string"?"string":"hash"]:Z.map}function nt(z,K){var Z=Te(z,K);return an(Z)?Z:void 0}function hn(z){var K=ve.call(z,Ne),Z=z[Ne];try{z[Ne]=void 0;var te=!0}catch{}var ue=Ce.call(z);return te&&(K?z[Ne]=Z:delete z[Ne]),ue}var dn=Xe?function(z){return z==null?[]:(z=Object(z),ie(Xe(z),function(K){return Ae.call(z,K)}))}:En,Ke=ut;(Pe&&Ke(new Pe(new ArrayBuffer(1)))!=M||Je&&Ke(new Je)!=v||ot&&Ke(ot.resolve())!=w||at&&Ke(new at)!=E||st&&Ke(new st)!=O)&&(Ke=function(z){var K=ut(z),Z=K==C?z.constructor:void 0,te=Z?Ze(Z):"";if(te)switch(te){case Et:return M;case Ct:return v;case $t:return w;case At:return E;case wt:return O}return K});function pn(z,K){return K=K??l,!!K&&(typeof z=="number"||G.test(z))&&z>-1&&z%1==0&&z<K}function fn(z){var K=typeof z;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?z!=="__proto__":z===null}function mn(z){return!!fe&&fe in z}function _n(z){var K=z&&z.constructor,Z=typeof K=="function"&&K.prototype||Ee;return z===Z}function gn(z){return Ce.call(z)}function Ze(z){if(z!=null){try{return Ue.call(z)}catch{}try{return z+""}catch{}}return""}function Kt(z,K){return z===K||z!==z&&K!==K}var yn=Gt((function(){return arguments})())?Gt:function(z){return ht(z)&&ve.call(z,"callee")&&!Ae.call(z,"callee")},vt=Array.isArray;function vn(z){return z!=null&&Yt(z.length)&&!qt(z)}var Wt=rt||Cn;function Sn(z,K){return zt(z,K)}function qt(z){if(!Jt(z))return!1;var K=ut(z);return K==g||K==y||K==_||K==A}function Yt(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=l}function Jt(z){var K=typeof z;return z!=null&&(K=="object"||K=="function")}function ht(z){return z!=null&&typeof z=="object"}var Qt=se?_e(se):sn;function bn(z){return vn(z)?nn(z):ln(z)}function En(){return[]}function Cn(){return!1}t.exports=Sn})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,extSplit={exports:{}};(function(t,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,o,s){var a=n("./lib/oop");n("./lib/lang");var l=n("./lib/event_emitter").EventEmitter,d=n("./editor").Editor,h=n("./virtual_renderer").VirtualRenderer,_=n("./edit_session").EditSession,p;p=function(u,m,g){this.BELOW=1,this.BESIDE=0,this.$container=u,this.$theme=m,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(g||1),this.$cEditor=this.$editors[0],this.on("focus",function(y){this.$cEditor=y}.bind(this))},(function(){a.implement(this,l),this.$createEditor=function(){var u=document.createElement("div");u.className=this.$editorCSS,u.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(u);var m=new d(new h(u,this.$theme));return m.on("focus",function(){this._emit("focus",m)}.bind(this)),this.$editors.push(m),m.setFontSize(this.$fontSize),m},this.setSplits=function(u){var m;if(u<1)throw"The number of splits have to be > 0!";if(u!=this.$splits){if(u>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<u;)m=this.$editors[this.$splits],this.$container.appendChild(m.container),m.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<u;)this.$createEditor(),this.$splits++}else for(;this.$splits>u;)m=this.$editors[this.$splits-1],this.$container.removeChild(m.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(u){return this.$editors[u]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(u){this.$editors.forEach(function(m){m.setTheme(u)})},this.setKeyboardHandler=function(u){this.$editors.forEach(function(m){m.setKeyboardHandler(u)})},this.forEach=function(u,m){this.$editors.forEach(u,m)},this.$fontSize="",this.setFontSize=function(u){this.$fontSize=u,this.forEach(function(m){m.setFontSize(u)})},this.$cloneSession=function(u){var m=new _(u.getDocument(),u.getMode()),g=u.getUndoManager();return m.setUndoManager(g),m.setTabSize(u.getTabSize()),m.setUseSoftTabs(u.getUseSoftTabs()),m.setOverwrite(u.getOverwrite()),m.setBreakpoints(u.getBreakpoints()),m.setUseWrapMode(u.getUseWrapMode()),m.setUseWorker(u.getUseWorker()),m.setWrapLimitRange(u.$wrapLimitRange.min,u.$wrapLimitRange.max),m.$foldData=u.$cloneFoldData(),m},this.setSession=function(u,m){var g;m==null?g=this.$cEditor:g=this.$editors[m];var y=this.$editors.some(function(v){return v.session===u});return y&&(u=this.$cloneSession(u)),g.setSession(u),u},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(u){this.$orientation!=u&&(this.$orientation=u,this.resize())},this.resize=function(){var u=this.$container.clientWidth,m=this.$container.clientHeight,g;if(this.$orientation==this.BESIDE)for(var y=u/this.$splits,v=0;v<this.$splits;v++)g=this.$editors[v],g.container.style.width=y+"px",g.container.style.top="0px",g.container.style.left=v*y+"px",g.container.style.height=m+"px",g.resize();else for(var S=m/this.$splits,v=0;v<this.$splits;v++)g=this.$editors[v],g.container.style.width=u+"px",g.container.style.top=v*S+"px",g.container.style.left="0px",g.container.style.height=S+"px",g.resize()}}).call(p.prototype),o.Split=p}),ace.define("ace/ext/split",["require","exports","module","ace/ext/split","ace/split"],function(n,o,s){s.exports=n("../split")}),(function(){ace.require(["ace/ext/split"],function(n){t&&(t.exports=n)})})()})(extSplit);var extSplitExports=extSplit.exports,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function getValue(t,e){return t==null?void 0:t[e]}function isHostObject(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,splice=arrayProto.splice,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(t){return this.has(t)&&delete this.__data__[t]}function hashGet(t){var e=this.__data__;if(nativeCreate){var n=e[t];return n===HASH_UNDEFINED?void 0:n}return hasOwnProperty.call(e,t)?e[t]:void 0}function hashHas(t){var e=this.__data__;return nativeCreate?e[t]!==void 0:hasOwnProperty.call(e,t)}function hashSet(t,e){var n=this.__data__;return n[t]=nativeCreate&&e===void 0?HASH_UNDEFINED:e,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(t){var e=this.__data__,n=assocIndexOf(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():splice.call(e,n,1),!0}function listCacheGet(t){var e=this.__data__,n=assocIndexOf(e,t);return n<0?void 0:e[n][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet(t,e){var n=this.__data__,o=assocIndexOf(n,t);return o<0?n.push([t,e]):n[o][1]=e,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(t){return getMapData(this,t).delete(t)}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){return getMapData(this,t).set(t,e),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function assocIndexOf(t,e){for(var n=t.length;n--;)if(eq(t[n][0],e))return n;return-1}function baseGet(t,e){e=isKey(e,t)?[e]:castPath(e);for(var n=0,o=e.length;t!=null&&n<o;)t=t[toKey(e[n++])];return n&&n==o?t:void 0}function baseIsNative(t){if(!isObject(t)||isMasked(t))return!1;var e=isFunction(t)||isHostObject(t)?reIsNative:reIsHostCtor;return e.test(toSource(t))}function baseToString(t){if(typeof t=="string")return t;if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function castPath(t){return isArray(t)?t:stringToPath(t)}function getMapData(t,e){var n=t.__data__;return isKeyable(e)?n[typeof e=="string"?"string":"hash"]:n.map}function getNative(t,e){var n=getValue(t,e);return baseIsNative(n)?n:void 0}function isKey(t,e){if(isArray(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||isSymbol(t)?!0:reIsPlainProp.test(t)||!reIsDeepProp.test(t)||e!=null&&t in Object(e)}function isKeyable(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var stringToPath=memoize(function(t){t=toString(t);var e=[];return reLeadingDot.test(t)&&e.push(""),t.replace(rePropName,function(n,o,s,a){e.push(s?a.replace(reEscapeChar,"$1"):o||n)}),e});function toKey(t){if(typeof t=="string"||isSymbol(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function toSource(t){if(t!=null){try{return funcToString.call(t)}catch{}try{return t+""}catch{}}return""}function memoize(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(FUNC_ERROR_TEXT);var n=function(){var o=arguments,s=e?e.apply(this,o):o[0],a=n.cache;if(a.has(s))return a.get(s);var l=t.apply(this,o);return n.cache=a.set(s,l),l};return n.cache=new(memoize.Cache||MapCache),n}memoize.Cache=MapCache;function eq(t,e){return t===e||t!==t&&e!==e}var isArray=Array.isArray;function isFunction(t){var e=isObject(t)?objectToString.call(t):"";return e==funcTag||e==genTag}function isObject(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function isObjectLike(t){return!!t&&typeof t=="object"}function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toString(t){return t==null?"":baseToString(t)}function get(t,e,n){var o=t==null?void 0:baseGet(t,e);return o===void 0?n:o}var lodash_get=get,diffMatchPatch={exports:{}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,o=1,s=0;e.Diff=function(a,l){return[a,l]},e.prototype.diff_main=function(a,l,d,h){typeof h>"u"&&(this.Diff_Timeout<=0?h=Number.MAX_VALUE:h=new Date().getTime()+this.Diff_Timeout*1e3);var _=h;if(a==null||l==null)throw new Error("Null input. (diff_main)");if(a==l)return a?[new e.Diff(s,a)]:[];typeof d>"u"&&(d=!0);var p=d,u=this.diff_commonPrefix(a,l),m=a.substring(0,u);a=a.substring(u),l=l.substring(u),u=this.diff_commonSuffix(a,l);var g=a.substring(a.length-u);a=a.substring(0,a.length-u),l=l.substring(0,l.length-u);var y=this.diff_compute_(a,l,p,_);return m&&y.unshift(new e.Diff(s,m)),g&&y.push(new e.Diff(s,g)),this.diff_cleanupMerge(y),y},e.prototype.diff_compute_=function(a,l,d,h){var _;if(!a)return[new e.Diff(o,l)];if(!l)return[new e.Diff(n,a)];var p=a.length>l.length?a:l,u=a.length>l.length?l:a,m=p.indexOf(u);if(m!=-1)return _=[new e.Diff(o,p.substring(0,m)),new e.Diff(s,u),new e.Diff(o,p.substring(m+u.length))],a.length>l.length&&(_[0][0]=_[2][0]=n),_;if(u.length==1)return[new e.Diff(n,a),new e.Diff(o,l)];var g=this.diff_halfMatch_(a,l);if(g){var y=g[0],v=g[1],S=g[2],b=g[3],C=g[4],w=this.diff_main(y,S,d,h),A=this.diff_main(v,b,d,h);return w.concat([new e.Diff(s,C)],A)}return d&&a.length>100&&l.length>100?this.diff_lineMode_(a,l,h):this.diff_bisect_(a,l,h)},e.prototype.diff_lineMode_=function(a,l,d){var h=this.diff_linesToChars_(a,l);a=h.chars1,l=h.chars2;var _=h.lineArray,p=this.diff_main(a,l,!1,d);this.diff_charsToLines_(p,_),this.diff_cleanupSemantic(p),p.push(new e.Diff(s,""));for(var u=0,m=0,g=0,y="",v="";u<p.length;){switch(p[u][0]){case o:g++,v+=p[u][1];break;case n:m++,y+=p[u][1];break;case s:if(m>=1&&g>=1){p.splice(u-m-g,m+g),u=u-m-g;for(var S=this.diff_main(y,v,!1,d),b=S.length-1;b>=0;b--)p.splice(u,0,S[b]);u=u+S.length}g=0,m=0,y="",v="";break}u++}return p.pop(),p},e.prototype.diff_bisect_=function(a,l,d){for(var h=a.length,_=l.length,p=Math.ceil((h+_)/2),u=p,m=2*p,g=new Array(m),y=new Array(m),v=0;v<m;v++)g[v]=-1,y[v]=-1;g[u+1]=0,y[u+1]=0;for(var S=h-_,b=S%2!=0,C=0,w=0,A=0,$=0,E=0;E<p&&!(new Date().getTime()>d);E++){for(var D=-E+C;D<=E-w;D+=2){var I=u+D,R;D==-E||D!=E&&g[I-1]<g[I+1]?R=g[I+1]:R=g[I-1]+1;for(var O=R-D;R<h&&O<_&&a.charAt(R)==l.charAt(O);)R++,O++;if(g[I]=R,R>h)w+=2;else if(O>_)C+=2;else if(b){var N=u+S-D;if(N>=0&&N<m&&y[N]!=-1){var M=h-y[N];if(R>=M)return this.diff_bisectSplit_(a,l,R,O,d)}}}for(var k=-E+A;k<=E-$;k+=2){var N=u+k,M;k==-E||k!=E&&y[N-1]<y[N+1]?M=y[N+1]:M=y[N-1]+1;for(var x=M-k;M<h&&x<_&&a.charAt(h-M-1)==l.charAt(_-x-1);)M++,x++;if(y[N]=M,M>h)$+=2;else if(x>_)A+=2;else if(!b){var I=u+S-k;if(I>=0&&I<m&&g[I]!=-1){var R=g[I],O=u+R-I;if(M=h-M,R>=M)return this.diff_bisectSplit_(a,l,R,O,d)}}}}return[new e.Diff(n,a),new e.Diff(o,l)]},e.prototype.diff_bisectSplit_=function(a,l,d,h,_){var p=a.substring(0,d),u=l.substring(0,h),m=a.substring(d),g=l.substring(h),y=this.diff_main(p,u,!1,_),v=this.diff_main(m,g,!1,_);return y.concat(v)},e.prototype.diff_linesToChars_=function(a,l){var d=[],h={};d[0]="";function _(g){for(var y="",v=0,S=-1,b=d.length;S<g.length-1;){S=g.indexOf(`
`,v),S==-1&&(S=g.length-1);var C=g.substring(v,S+1);(h.hasOwnProperty?h.hasOwnProperty(C):h[C]!==void 0)?y+=String.fromCharCode(h[C]):(b==p&&(C=g.substring(v),S=g.length),y+=String.fromCharCode(b),h[C]=b,d[b++]=C),v=S+1}return y}var p=4e4,u=_(a);p=65535;var m=_(l);return{chars1:u,chars2:m,lineArray:d}},e.prototype.diff_charsToLines_=function(a,l){for(var d=0;d<a.length;d++){for(var h=a[d][1],_=[],p=0;p<h.length;p++)_[p]=l[h.charCodeAt(p)];a[d][1]=_.join("")}},e.prototype.diff_commonPrefix=function(a,l){if(!a||!l||a.charAt(0)!=l.charAt(0))return 0;for(var d=0,h=Math.min(a.length,l.length),_=h,p=0;d<_;)a.substring(p,_)==l.substring(p,_)?(d=_,p=d):h=_,_=Math.floor((h-d)/2+d);return _},e.prototype.diff_commonSuffix=function(a,l){if(!a||!l||a.charAt(a.length-1)!=l.charAt(l.length-1))return 0;for(var d=0,h=Math.min(a.length,l.length),_=h,p=0;d<_;)a.substring(a.length-_,a.length-p)==l.substring(l.length-_,l.length-p)?(d=_,p=d):h=_,_=Math.floor((h-d)/2+d);return _},e.prototype.diff_commonOverlap_=function(a,l){var d=a.length,h=l.length;if(d==0||h==0)return 0;d>h?a=a.substring(d-h):d<h&&(l=l.substring(0,d));var _=Math.min(d,h);if(a==l)return _;for(var p=0,u=1;;){var m=a.substring(_-u),g=l.indexOf(m);if(g==-1)return p;u+=g,(g==0||a.substring(_-u)==l.substring(0,u))&&(p=u,u++)}},e.prototype.diff_halfMatch_=function(a,l){if(this.Diff_Timeout<=0)return null;var d=a.length>l.length?a:l,h=a.length>l.length?l:a;if(d.length<4||h.length*2<d.length)return null;var _=this;function p(w,A,$){for(var E=w.substring($,$+Math.floor(w.length/4)),D=-1,I="",R,O,N,M;(D=A.indexOf(E,D+1))!=-1;){var k=_.diff_commonPrefix(w.substring($),A.substring(D)),x=_.diff_commonSuffix(w.substring(0,$),A.substring(0,D));I.length<x+k&&(I=A.substring(D-x,D)+A.substring(D,D+k),R=w.substring(0,$-x),O=w.substring($+k),N=A.substring(0,D-x),M=A.substring(D+k))}return I.length*2>=w.length?[R,O,N,M,I]:null}var u=p(d,h,Math.ceil(d.length/4)),m=p(d,h,Math.ceil(d.length/2)),g;if(!u&&!m)return null;m?u?g=u[4].length>m[4].length?u:m:g=m:g=u;var y,v,S,b;a.length>l.length?(y=g[0],v=g[1],S=g[2],b=g[3]):(S=g[0],b=g[1],y=g[2],v=g[3]);var C=g[4];return[y,v,S,b,C]},e.prototype.diff_cleanupSemantic=function(a){for(var l=!1,d=[],h=0,_=null,p=0,u=0,m=0,g=0,y=0;p<a.length;)a[p][0]==s?(d[h++]=p,u=g,m=y,g=0,y=0,_=a[p][1]):(a[p][0]==o?g+=a[p][1].length:y+=a[p][1].length,_&&_.length<=Math.max(u,m)&&_.length<=Math.max(g,y)&&(a.splice(d[h-1],0,new e.Diff(n,_)),a[d[h-1]+1][0]=o,h--,h--,p=h>0?d[h-1]:-1,u=0,m=0,g=0,y=0,_=null,l=!0)),p++;for(l&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),p=1;p<a.length;){if(a[p-1][0]==n&&a[p][0]==o){var v=a[p-1][1],S=a[p][1],b=this.diff_commonOverlap_(v,S),C=this.diff_commonOverlap_(S,v);b>=C?(b>=v.length/2||b>=S.length/2)&&(a.splice(p,0,new e.Diff(s,S.substring(0,b))),a[p-1][1]=v.substring(0,v.length-b),a[p+1][1]=S.substring(b),p++):(C>=v.length/2||C>=S.length/2)&&(a.splice(p,0,new e.Diff(s,v.substring(0,C))),a[p-1][0]=o,a[p-1][1]=S.substring(0,S.length-C),a[p+1][0]=n,a[p+1][1]=v.substring(C),p++),p++}p++}},e.prototype.diff_cleanupSemanticLossless=function(a){function l(C,w){if(!C||!w)return 6;var A=C.charAt(C.length-1),$=w.charAt(0),E=A.match(e.nonAlphaNumericRegex_),D=$.match(e.nonAlphaNumericRegex_),I=E&&A.match(e.whitespaceRegex_),R=D&&$.match(e.whitespaceRegex_),O=I&&A.match(e.linebreakRegex_),N=R&&$.match(e.linebreakRegex_),M=O&&C.match(e.blanklineEndRegex_),k=N&&w.match(e.blanklineStartRegex_);return M||k?5:O||N?4:E&&!I&&R?3:I||R?2:E||D?1:0}for(var d=1;d<a.length-1;){if(a[d-1][0]==s&&a[d+1][0]==s){var h=a[d-1][1],_=a[d][1],p=a[d+1][1],u=this.diff_commonSuffix(h,_);if(u){var m=_.substring(_.length-u);h=h.substring(0,h.length-u),_=m+_.substring(0,_.length-u),p=m+p}for(var g=h,y=_,v=p,S=l(h,_)+l(_,p);_.charAt(0)===p.charAt(0);){h+=_.charAt(0),_=_.substring(1)+p.charAt(0),p=p.substring(1);var b=l(h,_)+l(_,p);b>=S&&(S=b,g=h,y=_,v=p)}a[d-1][1]!=g&&(g?a[d-1][1]=g:(a.splice(d-1,1),d--),a[d][1]=y,v?a[d+1][1]=v:(a.splice(d+1,1),d--))}d++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(a){for(var l=!1,d=[],h=0,_=null,p=0,u=!1,m=!1,g=!1,y=!1;p<a.length;)a[p][0]==s?(a[p][1].length<this.Diff_EditCost&&(g||y)?(d[h++]=p,u=g,m=y,_=a[p][1]):(h=0,_=null),g=y=!1):(a[p][0]==n?y=!0:g=!0,_&&(u&&m&&g&&y||_.length<this.Diff_EditCost/2&&u+m+g+y==3)&&(a.splice(d[h-1],0,new e.Diff(n,_)),a[d[h-1]+1][0]=o,h--,_=null,u&&m?(g=y=!0,h=0):(h--,p=h>0?d[h-1]:-1,g=y=!1),l=!0)),p++;l&&this.diff_cleanupMerge(a)},e.prototype.diff_cleanupMerge=function(a){a.push(new e.Diff(s,""));for(var l=0,d=0,h=0,_="",p="",u;l<a.length;)switch(a[l][0]){case o:h++,p+=a[l][1],l++;break;case n:d++,_+=a[l][1],l++;break;case s:d+h>1?(d!==0&&h!==0&&(u=this.diff_commonPrefix(p,_),u!==0&&(l-d-h>0&&a[l-d-h-1][0]==s?a[l-d-h-1][1]+=p.substring(0,u):(a.splice(0,0,new e.Diff(s,p.substring(0,u))),l++),p=p.substring(u),_=_.substring(u)),u=this.diff_commonSuffix(p,_),u!==0&&(a[l][1]=p.substring(p.length-u)+a[l][1],p=p.substring(0,p.length-u),_=_.substring(0,_.length-u))),l-=d+h,a.splice(l,d+h),_.length&&(a.splice(l,0,new e.Diff(n,_)),l++),p.length&&(a.splice(l,0,new e.Diff(o,p)),l++),l++):l!==0&&a[l-1][0]==s?(a[l-1][1]+=a[l][1],a.splice(l,1)):l++,h=0,d=0,_="",p="";break}a[a.length-1][1]===""&&a.pop();var m=!1;for(l=1;l<a.length-1;)a[l-1][0]==s&&a[l+1][0]==s&&(a[l][1].substring(a[l][1].length-a[l-1][1].length)==a[l-1][1]?(a[l][1]=a[l-1][1]+a[l][1].substring(0,a[l][1].length-a[l-1][1].length),a[l+1][1]=a[l-1][1]+a[l+1][1],a.splice(l-1,1),m=!0):a[l][1].substring(0,a[l+1][1].length)==a[l+1][1]&&(a[l-1][1]+=a[l+1][1],a[l][1]=a[l][1].substring(a[l+1][1].length)+a[l+1][1],a.splice(l+1,1),m=!0)),l++;m&&this.diff_cleanupMerge(a)},e.prototype.diff_xIndex=function(a,l){var d=0,h=0,_=0,p=0,u;for(u=0;u<a.length&&(a[u][0]!==o&&(d+=a[u][1].length),a[u][0]!==n&&(h+=a[u][1].length),!(d>l));u++)_=d,p=h;return a.length!=u&&a[u][0]===n?p:p+(l-_)},e.prototype.diff_prettyHtml=function(a){for(var l=[],d=/&/g,h=/</g,_=/>/g,p=/\n/g,u=0;u<a.length;u++){var m=a[u][0],g=a[u][1],y=g.replace(d,"&amp;").replace(h,"&lt;").replace(_,"&gt;").replace(p,"&para;<br>");switch(m){case o:l[u]='<ins style="background:#e6ffe6;">'+y+"</ins>";break;case n:l[u]='<del style="background:#ffe6e6;">'+y+"</del>";break;case s:l[u]="<span>"+y+"</span>";break}}return l.join("")},e.prototype.diff_text1=function(a){for(var l=[],d=0;d<a.length;d++)a[d][0]!==o&&(l[d]=a[d][1]);return l.join("")},e.prototype.diff_text2=function(a){for(var l=[],d=0;d<a.length;d++)a[d][0]!==n&&(l[d]=a[d][1]);return l.join("")},e.prototype.diff_levenshtein=function(a){for(var l=0,d=0,h=0,_=0;_<a.length;_++){var p=a[_][0],u=a[_][1];switch(p){case o:d+=u.length;break;case n:h+=u.length;break;case s:l+=Math.max(d,h),d=0,h=0;break}}return l+=Math.max(d,h),l},e.prototype.diff_toDelta=function(a){for(var l=[],d=0;d<a.length;d++)switch(a[d][0]){case o:l[d]="+"+encodeURI(a[d][1]);break;case n:l[d]="-"+a[d][1].length;break;case s:l[d]="="+a[d][1].length;break}return l.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(a,l){for(var d=[],h=0,_=0,p=l.split(/\t/g),u=0;u<p.length;u++){var m=p[u].substring(1);switch(p[u].charAt(0)){case"+":try{d[h++]=new e.Diff(o,decodeURI(m))}catch{throw new Error("Illegal escape in diff_fromDelta: "+m)}break;case"-":case"=":var g=parseInt(m,10);if(isNaN(g)||g<0)throw new Error("Invalid number in diff_fromDelta: "+m);var y=a.substring(_,_+=g);p[u].charAt(0)=="="?d[h++]=new e.Diff(s,y):d[h++]=new e.Diff(n,y);break;default:if(p[u])throw new Error("Invalid diff operation in diff_fromDelta: "+p[u])}}if(_!=a.length)throw new Error("Delta length ("+_+") does not equal source text length ("+a.length+").");return d},e.prototype.match_main=function(a,l,d){if(a==null||l==null||d==null)throw new Error("Null input. (match_main)");return d=Math.max(0,Math.min(d,a.length)),a==l?0:a.length?a.substring(d,d+l.length)==l?d:this.match_bitap_(a,l,d):-1},e.prototype.match_bitap_=function(a,l,d){if(l.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var h=this.match_alphabet_(l),_=this;function p(R,O){var N=R/l.length,M=Math.abs(d-O);return _.Match_Distance?N+M/_.Match_Distance:M?1:N}var u=this.Match_Threshold,m=a.indexOf(l,d);m!=-1&&(u=Math.min(p(0,m),u),m=a.lastIndexOf(l,d+l.length),m!=-1&&(u=Math.min(p(0,m),u)));var g=1<<l.length-1;m=-1;for(var y,v,S=l.length+a.length,b,C=0;C<l.length;C++){for(y=0,v=S;y<v;)p(C,d+v)<=u?y=v:S=v,v=Math.floor((S-y)/2+y);S=v;var w=Math.max(1,d-v+1),A=Math.min(d+v,a.length)+l.length,$=Array(A+2);$[A+1]=(1<<C)-1;for(var E=A;E>=w;E--){var D=h[a.charAt(E-1)];if(C===0?$[E]=($[E+1]<<1|1)&D:$[E]=($[E+1]<<1|1)&D|((b[E+1]|b[E])<<1|1)|b[E+1],$[E]&g){var I=p(C,E-1);if(I<=u)if(u=I,m=E-1,m>d)w=Math.max(1,2*d-m);else break}}if(p(C+1,d)>u)break;b=$}return m},e.prototype.match_alphabet_=function(a){for(var l={},d=0;d<a.length;d++)l[a.charAt(d)]=0;for(var d=0;d<a.length;d++)l[a.charAt(d)]|=1<<a.length-d-1;return l},e.prototype.patch_addContext_=function(a,l){if(l.length!=0){if(a.start2===null)throw Error("patch not initialized");for(var d=l.substring(a.start2,a.start2+a.length1),h=0;l.indexOf(d)!=l.lastIndexOf(d)&&d.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)h+=this.Patch_Margin,d=l.substring(a.start2-h,a.start2+a.length1+h);h+=this.Patch_Margin;var _=l.substring(a.start2-h,a.start2);_&&a.diffs.unshift(new e.Diff(s,_));var p=l.substring(a.start2+a.length1,a.start2+a.length1+h);p&&a.diffs.push(new e.Diff(s,p)),a.start1-=_.length,a.start2-=_.length,a.length1+=_.length+p.length,a.length2+=_.length+p.length}},e.prototype.patch_make=function(a,l,d){var h,_;if(typeof a=="string"&&typeof l=="string"&&typeof d>"u")h=a,_=this.diff_main(h,l,!0),_.length>2&&(this.diff_cleanupSemantic(_),this.diff_cleanupEfficiency(_));else if(a&&typeof a=="object"&&typeof l>"u"&&typeof d>"u")_=a,h=this.diff_text1(_);else if(typeof a=="string"&&l&&typeof l=="object"&&typeof d>"u")h=a,_=l;else if(typeof a=="string"&&typeof l=="string"&&d&&typeof d=="object")h=a,_=d;else throw new Error("Unknown call format to patch_make.");if(_.length===0)return[];for(var p=[],u=new e.patch_obj,m=0,g=0,y=0,v=h,S=h,b=0;b<_.length;b++){var C=_[b][0],w=_[b][1];switch(!m&&C!==s&&(u.start1=g,u.start2=y),C){case o:u.diffs[m++]=_[b],u.length2+=w.length,S=S.substring(0,y)+w+S.substring(y);break;case n:u.length1+=w.length,u.diffs[m++]=_[b],S=S.substring(0,y)+S.substring(y+w.length);break;case s:w.length<=2*this.Patch_Margin&&m&&_.length!=b+1?(u.diffs[m++]=_[b],u.length1+=w.length,u.length2+=w.length):w.length>=2*this.Patch_Margin&&m&&(this.patch_addContext_(u,v),p.push(u),u=new e.patch_obj,m=0,v=S,g=y);break}C!==o&&(g+=w.length),C!==n&&(y+=w.length)}return m&&(this.patch_addContext_(u,v),p.push(u)),p},e.prototype.patch_deepCopy=function(a){for(var l=[],d=0;d<a.length;d++){var h=a[d],_=new e.patch_obj;_.diffs=[];for(var p=0;p<h.diffs.length;p++)_.diffs[p]=new e.Diff(h.diffs[p][0],h.diffs[p][1]);_.start1=h.start1,_.start2=h.start2,_.length1=h.length1,_.length2=h.length2,l[d]=_}return l},e.prototype.patch_apply=function(a,l){if(a.length==0)return[l,[]];a=this.patch_deepCopy(a);var d=this.patch_addPadding(a);l=d+l+d,this.patch_splitMax(a);for(var h=0,_=[],p=0;p<a.length;p++){var u=a[p].start2+h,m=this.diff_text1(a[p].diffs),g,y=-1;if(m.length>this.Match_MaxBits?(g=this.match_main(l,m.substring(0,this.Match_MaxBits),u),g!=-1&&(y=this.match_main(l,m.substring(m.length-this.Match_MaxBits),u+m.length-this.Match_MaxBits),(y==-1||g>=y)&&(g=-1))):g=this.match_main(l,m,u),g==-1)_[p]=!1,h-=a[p].length2-a[p].length1;else{_[p]=!0,h=g-u;var v;if(y==-1?v=l.substring(g,g+m.length):v=l.substring(g,y+this.Match_MaxBits),m==v)l=l.substring(0,g)+this.diff_text2(a[p].diffs)+l.substring(g+m.length);else{var S=this.diff_main(m,v,!1);if(m.length>this.Match_MaxBits&&this.diff_levenshtein(S)/m.length>this.Patch_DeleteThreshold)_[p]=!1;else{this.diff_cleanupSemanticLossless(S);for(var b=0,C,w=0;w<a[p].diffs.length;w++){var A=a[p].diffs[w];A[0]!==s&&(C=this.diff_xIndex(S,b)),A[0]===o?l=l.substring(0,g+C)+A[1]+l.substring(g+C):A[0]===n&&(l=l.substring(0,g+C)+l.substring(g+this.diff_xIndex(S,b+A[1].length))),A[0]!==n&&(b+=A[1].length)}}}}}return l=l.substring(d.length,l.length-d.length),[l,_]},e.prototype.patch_addPadding=function(a){for(var l=this.Patch_Margin,d="",h=1;h<=l;h++)d+=String.fromCharCode(h);for(var h=0;h<a.length;h++)a[h].start1+=l,a[h].start2+=l;var _=a[0],p=_.diffs;if(p.length==0||p[0][0]!=s)p.unshift(new e.Diff(s,d)),_.start1-=l,_.start2-=l,_.length1+=l,_.length2+=l;else if(l>p[0][1].length){var u=l-p[0][1].length;p[0][1]=d.substring(p[0][1].length)+p[0][1],_.start1-=u,_.start2-=u,_.length1+=u,_.length2+=u}if(_=a[a.length-1],p=_.diffs,p.length==0||p[p.length-1][0]!=s)p.push(new e.Diff(s,d)),_.length1+=l,_.length2+=l;else if(l>p[p.length-1][1].length){var u=l-p[p.length-1][1].length;p[p.length-1][1]+=d.substring(0,u),_.length1+=u,_.length2+=u}return d},e.prototype.patch_splitMax=function(a){for(var l=this.Match_MaxBits,d=0;d<a.length;d++)if(!(a[d].length1<=l)){var h=a[d];a.splice(d--,1);for(var _=h.start1,p=h.start2,u="";h.diffs.length!==0;){var m=new e.patch_obj,g=!0;for(m.start1=_-u.length,m.start2=p-u.length,u!==""&&(m.length1=m.length2=u.length,m.diffs.push(new e.Diff(s,u)));h.diffs.length!==0&&m.length1<l-this.Patch_Margin;){var y=h.diffs[0][0],v=h.diffs[0][1];y===o?(m.length2+=v.length,p+=v.length,m.diffs.push(h.diffs.shift()),g=!1):y===n&&m.diffs.length==1&&m.diffs[0][0]==s&&v.length>2*l?(m.length1+=v.length,_+=v.length,g=!1,m.diffs.push(new e.Diff(y,v)),h.diffs.shift()):(v=v.substring(0,l-m.length1-this.Patch_Margin),m.length1+=v.length,_+=v.length,y===s?(m.length2+=v.length,p+=v.length):g=!1,m.diffs.push(new e.Diff(y,v)),v==h.diffs[0][1]?h.diffs.shift():h.diffs[0][1]=h.diffs[0][1].substring(v.length))}u=this.diff_text2(m.diffs),u=u.substring(u.length-this.Patch_Margin);var S=this.diff_text1(h.diffs).substring(0,this.Patch_Margin);S!==""&&(m.length1+=S.length,m.length2+=S.length,m.diffs.length!==0&&m.diffs[m.diffs.length-1][0]===s?m.diffs[m.diffs.length-1][1]+=S:m.diffs.push(new e.Diff(s,S))),g||a.splice(++d,0,m)}}},e.prototype.patch_toText=function(a){for(var l=[],d=0;d<a.length;d++)l[d]=a[d];return l.join("")},e.prototype.patch_fromText=function(a){var l=[];if(!a)return l;for(var d=a.split(`
`),h=0,_=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;h<d.length;){var p=d[h].match(_);if(!p)throw new Error("Invalid patch string: "+d[h]);var u=new e.patch_obj;for(l.push(u),u.start1=parseInt(p[1],10),p[2]===""?(u.start1--,u.length1=1):p[2]=="0"?u.length1=0:(u.start1--,u.length1=parseInt(p[2],10)),u.start2=parseInt(p[3],10),p[4]===""?(u.start2--,u.length2=1):p[4]=="0"?u.length2=0:(u.start2--,u.length2=parseInt(p[4],10)),h++;h<d.length;){var m=d[h].charAt(0);try{var g=decodeURI(d[h].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+g)}if(m=="-")u.diffs.push(new e.Diff(n,g));else if(m=="+")u.diffs.push(new e.Diff(o,g));else if(m==" ")u.diffs.push(new e.Diff(s,g));else{if(m=="@")break;if(m!=="")throw new Error('Invalid patch mode "'+m+'" in: '+g)}h++}}return l},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var a,l;this.length1===0?a=this.start1+",0":this.length1==1?a=this.start1+1:a=this.start1+1+","+this.length1,this.length2===0?l=this.start2+",0":this.length2==1?l=this.start2+1:l=this.start2+1+","+this.length2;for(var d=["@@ -"+a+" +"+l+` @@
`],h,_=0;_<this.diffs.length;_++){switch(this.diffs[_][0]){case o:h="+";break;case n:h="-";break;case s:h=" ";break}d[_+1]=h+encodeURI(this.diffs[_][1])+`
`}return d.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=o,t.exports.DIFF_EQUAL=s})(diffMatchPatch);var diffMatchPatchExports=diffMatchPatch.exports,modeJson={exports:{}};(function(t,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,o,s){var a=n("../lib/oop"),l=n("./text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};a.inherits(d,l),o.JsonHighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,o,s){var a=n("../range").Range,l=function(){};(function(){this.checkOutdent=function(d,h){return/^\s+$/.test(d)?/^\s*\}/.test(h):!1},this.autoOutdent=function(d,h){var _=d.getLine(h),p=_.match(/^(\s*\})/);if(!p)return 0;var u=p[1].length,m=d.findMatchingBracket({row:h,column:u});if(!m||m.row==h)return 0;var g=this.$getIndent(d.getLine(m.row));d.replace(new a(h,0,h,u-1),g)},this.$getIndent=function(d){return d.match(/^\s*/)[0]}}).call(l.prototype),o.MatchingBraceOutdent=l}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,o,s){var a=n("../../lib/oop"),l=n("../../range").Range,d=n("./fold_mode").FoldMode,h=o.FoldMode=function(_){_&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+_.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+_.end)))};a.inherits(h,d),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(_,p,u){var m=_.getLine(u);if(this.singleLineBlockCommentRe.test(m)&&!this.startRegionRe.test(m)&&!this.tripleStarBlockCommentRe.test(m))return"";var g=this._getFoldWidgetBase(_,p,u);return!g&&this.startRegionRe.test(m)?"start":g},this.getFoldWidgetRange=function(_,p,u,m){var g=_.getLine(u);if(this.startRegionRe.test(g))return this.getCommentRegionBlock(_,g,u);var S=g.match(this.foldingStartMarker);if(S){var y=S.index;if(S[1])return this.openingBracketBlock(_,S[1],u,y);var v=_.getCommentFoldRange(u,y+S[0].length,1);return v&&!v.isMultiLine()&&(m?v=this.getSectionRange(_,u):p!="all"&&(v=null)),v}if(p!=="markbegin"){var S=g.match(this.foldingStopMarker);if(S){var y=S.index+S[0].length;return S[1]?this.closingBracketBlock(_,S[1],u,y):_.getCommentFoldRange(u,y,-1)}}},this.getSectionRange=function(_,p){var u=_.getLine(p),m=u.search(/\S/),g=p,y=u.length;p+=1;for(var v=p,S=_.getLength();++p<S;){u=_.getLine(p);var b=u.search(/\S/);if(b!==-1){if(m>b)break;var C=this.getFoldWidgetRange(_,"all",p);if(C){if(C.start.row<=g)break;if(C.isMultiLine())p=C.end.row;else if(m==b)break}v=p}}return new l(g,y,v,_.getLine(v).length)},this.getCommentRegionBlock=function(_,p,u){for(var m=p.search(/\s*$/),g=_.getLength(),y=u,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,S=1;++u<g;){p=_.getLine(u);var b=v.exec(p);if(b&&(b[1]?S--:S++,!S))break}var C=u;if(C>y)return new l(y,m,C,p.length)}}.call(h.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,o,s){var a=n("../lib/oop"),l=n("./text").Mode,d=n("./json_highlight_rules").JsonHighlightRules,h=n("./matching_brace_outdent").MatchingBraceOutdent,_=n("./folding/cstyle").FoldMode,p=n("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=d,this.$outdent=new h,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new _};a.inherits(u,l),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(m,g,y){var v=this.$getIndent(g);if(m=="start"){var S=g.match(/^.*[\{\(\[]\s*$/);S&&(v+=y)}return v},this.checkOutdent=function(m,g,y){return this.$outdent.checkOutdent(g,y)},this.autoOutdent=function(m,g,y){this.$outdent.autoOutdent(g,y)},this.createWorker=function(m){var g=new p(["ace"],"ace/mode/json_worker","JsonWorker");return g.attachToDocument(m.getDocument()),g.on("annotate",function(y){m.setAnnotations(y.data)}),g.on("terminate",function(){m.clearAnnotations()}),g},this.$id="ace/mode/json"}.call(u.prototype),o.Mode=u}),(function(){ace.require(["ace/mode/json"],function(n){t&&(t.exports=n)})})()})(modeJson);var modeJson5={exports:{}};(function(t,e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,o,s){var a=n("../lib/oop"),l=n("./text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};a.inherits(d,l),o.JsonHighlightRules=d}),ace.define("ace/mode/json5_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/json_highlight_rules"],function(n,o,s){var a=n("../lib/oop"),l=n("./json_highlight_rules").JsonHighlightRules,d=function(){l.call(this);var h=[{token:"variable",regex:/[a-zA-Z$_\u00a1-\uffff][\w$\u00a1-\uffff]*\s*(?=:)/},{token:"variable",regex:/['](?:(?:\\.)|(?:[^'\\]))*?[']\s*(?=:)/},{token:"constant.language.boolean",regex:/(?:null)\b/},{token:"string",regex:/'/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/'|$/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:/"(?![^"]*":)/,next:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\/bfnrt]|$)/,consumeLineEnd:!0},{token:"string",regex:/"|$/,next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:/[+-]?(?:Infinity|NaN)\b/}];for(var _ in this.$rules)this.$rules[_].unshift.apply(this.$rules[_],h);this.normalizeRules()};a.inherits(d,l),o.Json5HighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,o,s){var a=n("../range").Range,l=function(){};(function(){this.checkOutdent=function(d,h){return/^\s+$/.test(d)?/^\s*\}/.test(h):!1},this.autoOutdent=function(d,h){var _=d.getLine(h),p=_.match(/^(\s*\})/);if(!p)return 0;var u=p[1].length,m=d.findMatchingBracket({row:h,column:u});if(!m||m.row==h)return 0;var g=this.$getIndent(d.getLine(m.row));d.replace(new a(h,0,h,u-1),g)},this.$getIndent=function(d){return d.match(/^\s*/)[0]}}).call(l.prototype),o.MatchingBraceOutdent=l}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,o,s){var a=n("../../lib/oop"),l=n("../../range").Range,d=n("./fold_mode").FoldMode,h=o.FoldMode=function(_){_&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+_.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+_.end)))};a.inherits(h,d),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(_,p,u){var m=_.getLine(u);if(this.singleLineBlockCommentRe.test(m)&&!this.startRegionRe.test(m)&&!this.tripleStarBlockCommentRe.test(m))return"";var g=this._getFoldWidgetBase(_,p,u);return!g&&this.startRegionRe.test(m)?"start":g},this.getFoldWidgetRange=function(_,p,u,m){var g=_.getLine(u);if(this.startRegionRe.test(g))return this.getCommentRegionBlock(_,g,u);var S=g.match(this.foldingStartMarker);if(S){var y=S.index;if(S[1])return this.openingBracketBlock(_,S[1],u,y);var v=_.getCommentFoldRange(u,y+S[0].length,1);return v&&!v.isMultiLine()&&(m?v=this.getSectionRange(_,u):p!="all"&&(v=null)),v}if(p!=="markbegin"){var S=g.match(this.foldingStopMarker);if(S){var y=S.index+S[0].length;return S[1]?this.closingBracketBlock(_,S[1],u,y):_.getCommentFoldRange(u,y,-1)}}},this.getSectionRange=function(_,p){var u=_.getLine(p),m=u.search(/\S/),g=p,y=u.length;p+=1;for(var v=p,S=_.getLength();++p<S;){u=_.getLine(p);var b=u.search(/\S/);if(b!==-1){if(m>b)break;var C=this.getFoldWidgetRange(_,"all",p);if(C){if(C.start.row<=g)break;if(C.isMultiLine())p=C.end.row;else if(m==b)break}v=p}}return new l(g,y,v,_.getLine(v).length)},this.getCommentRegionBlock=function(_,p,u){for(var m=p.search(/\s*$/),g=_.getLength(),y=u,v=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,S=1;++u<g;){p=_.getLine(u);var b=v.exec(p);if(b&&(b[1]?S--:S++,!S))break}var C=u;if(C>y)return new l(y,m,C,p.length)}}.call(h.prototype)}),ace.define("ace/mode/json5",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json5_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle"],function(n,o,s){var a=n("../lib/oop"),l=n("./text").Mode,d=n("./json5_highlight_rules").Json5HighlightRules,h=n("./matching_brace_outdent").MatchingBraceOutdent,_=n("./folding/cstyle").FoldMode,p=function(){this.HighlightRules=d,this.$outdent=new h,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new _};a.inherits(p,l),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.checkOutdent=function(u,m,g){return this.$outdent.checkOutdent(m,g)},this.autoOutdent=function(u,m,g){this.$outdent.autoOutdent(m,g)},this.$id="ace/mode/json5"}.call(p.prototype),o.Mode=p}),(function(){ace.require(["ace/mode/json5"],function(n){t&&(t.exports=n)})})()})(modeJson5);var workerJson={};(function(t){function e(s,a){for(var l=s,d="";l;){var h=a[l];if(typeof h=="string")return h+d;if(h)return h.location.replace(/\/*$/,"/")+(d||h.main||h.name);if(h===!1)return"";var _=l.lastIndexOf("/");if(_===-1)break;d=l.substr(_)+d,l=l.slice(0,_)}return s}if(!(typeof t.window<"u"&&t.document)&&!(t.require&&t.define)){t.console||(t.console=function(){var s=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:s})},t.console.error=t.console.warn=t.console.log=t.console.trace=t.console),t.window=t,t.ace=t,t.onerror=function(s,a,l,d,h){postMessage({type:"error",data:{message:s,data:h&&h.data,file:a,line:l,col:d,stack:h&&h.stack}})},t.normalizeModule=function(s,a){if(a.indexOf("!")!==-1){var l=a.split("!");return t.normalizeModule(s,l[0])+"!"+t.normalizeModule(s,l[1])}if(a.charAt(0)=="."){var d=s.split("/").slice(0,-1).join("/");for(a=(d?d+"/":"")+a;a.indexOf(".")!==-1&&h!=a;){var h=a;a=a.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return a},t.require=function(s,a){if(a||(a=s,s=null),!a.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");a=t.normalizeModule(s,a);var l=t.require.modules[a];if(l)return l.initialized||(l.initialized=!0,l.exports=l.factory().exports),l.exports;if(!t.require.tlns)return console.log("unable to load "+a);var d=e(a,t.require.tlns);return d.slice(-3)!=".js"&&(d+=".js"),t.require.id=a,t.require.modules[a]={},importScripts(d),t.require(s,a)},t.require.modules={},t.require.tlns={},t.define=function(s,a,l){if(arguments.length==2?(l=a,typeof s!="string"&&(a=s,s=t.require.id)):arguments.length==1&&(l=s,a=[],s=t.require.id),typeof l!="function"){t.require.modules[s]={exports:l,initialized:!0};return}a.length||(a=["require","exports","module"]);var d=function(h){return t.require(s,h)};t.require.modules[s]={exports:{},factory:function(){var h=this,_=l.apply(this,a.slice(0,l.length).map(function(p){switch(p){case"require":return d;case"exports":return h.exports;case"module":return h;default:return d(p)}}));return _&&(h.exports=_),h}}},t.define.amd={},t.require.tlns={},t.initBaseUrls=function(s){for(var a in s)this.require.tlns[a]=s[a]},t.initSender=function(){var s=t.require("ace/lib/event_emitter").EventEmitter,a=t.require("ace/lib/oop"),l=function(){};return function(){a.implement(this,s),this.callback=function(d,h){postMessage({type:"call",id:h,data:d})},this.emit=function(d,h){postMessage({type:"event",name:d,data:h})}}.call(l.prototype),new l};var n=t.main=null,o=t.sender=null;t.onmessage=function(s){var a=s.data;if(a.event&&o)o._signal(a.event,a.data);else if(a.command)if(n[a.command])n[a.command].apply(n,a.args);else{if(!t[a.command])throw new Error("Unknown command:"+a.command);t[a.command].apply(t,a.args)}else if(a.init){t.initBaseUrls(a.tlns),o=t.sender=t.initSender();var l=this.require(a.module)[a.classname];n=t.main=new l(o)}}}})(workerJson),ace.define("ace/lib/oop",[],function(t,e,n){e.inherits=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(o,s){for(var a in s)o[a]=s[a];return o},e.implement=function(o,s){e.mixin(o,s)}}),ace.define("ace/apply_delta",[],function(t,e,n){e.applyDelta=function(o,s,a){var l=s.start.row,d=s.start.column,h=o[l]||"";switch(s.action){case"insert":var _=s.lines;if(_.length===1)o[l]=h.substring(0,d)+s.lines[0]+h.substring(d);else{var p=[l,1].concat(s.lines);o.splice.apply(o,p),o[l]=h.substring(0,d)+o[l],o[l+s.lines.length-1]+=h.substring(d)}break;case"remove":var u=s.end.column,m=s.end.row;l===m?o[l]=h.substring(0,d)+h.substring(u):o.splice(l,m-l+1,h.substring(0,d)+o[m].substring(u))}}}),ace.define("ace/lib/event_emitter",[],function(t,e,n){var o={},s=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(l,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var h=this._eventRegistry[l]||[],_=this._defaultHandlers[l];if(!(!h.length&&!_)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=l),d.stopPropagation||(d.stopPropagation=s),d.preventDefault||(d.preventDefault=a),h=h.slice();for(var p=0;p<h.length&&(h[p](d,this),!d.propagationStopped);p++);if(_&&!d.defaultPrevented)return _(d,this)}},o._signal=function(l,d){var h=(this._eventRegistry||{})[l];if(h){h=h.slice();for(var _=0;_<h.length;_++)h[_](d,this)}},o.once=function(l,d){var h=this;if(this.on(l,function _(){h.off(l,_),d.apply(null,arguments)}),!d)return new Promise(function(_){d=_})},o.setDefaultHandler=function(l,d){var h=this._defaultHandlers;if(h||(h=this._defaultHandlers={_disabled_:{}}),h[l]){var _=h[l],p=h._disabled_[l];p||(h._disabled_[l]=p=[]),p.push(_);var u=p.indexOf(d);u!=-1&&p.splice(u,1)}h[l]=d},o.removeDefaultHandler=function(l,d){var h=this._defaultHandlers;if(h){var _=h._disabled_[l];if(h[l]==d)_&&this.setDefaultHandler(l,_.pop());else if(_){var p=_.indexOf(d);p!=-1&&_.splice(p,1)}}},o.on=o.addEventListener=function(l,d,h){this._eventRegistry=this._eventRegistry||{};var _=this._eventRegistry[l];return _||(_=this._eventRegistry[l]=[]),_.indexOf(d)==-1&&_[h?"unshift":"push"](d),d},o.off=o.removeListener=o.removeEventListener=function(l,d){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[l];if(h){var _=h.indexOf(d);_!==-1&&h.splice(_,1)}},o.removeAllListeners=function(l){l||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[l]=void 0),this._defaultHandlers&&(this._defaultHandlers[l]=void 0)},e.EventEmitter=o}),ace.define("ace/range",[],function(t,e,n){var o=(function(){function s(a,l,d,h){this.start={row:a,column:l},this.end={row:d,column:h}}return s.prototype.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},s.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},s.prototype.contains=function(a,l){return this.compare(a,l)==0},s.prototype.compareRange=function(a){var l,d=a.end,h=a.start;return l=this.compare(d.row,d.column),l==1?(l=this.compare(h.row,h.column),l==1?2:l==0?1:0):l==-1?-2:(l=this.compare(h.row,h.column),l==-1?-1:l==1?42:0)},s.prototype.comparePoint=function(a){return this.compare(a.row,a.column)},s.prototype.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},s.prototype.intersects=function(a){var l=this.compareRange(a);return l==-1||l==0||l==1},s.prototype.isEnd=function(a,l){return this.end.row==a&&this.end.column==l},s.prototype.isStart=function(a,l){return this.start.row==a&&this.start.column==l},s.prototype.setStart=function(a,l){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=l)},s.prototype.setEnd=function(a,l){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=l)},s.prototype.inside=function(a,l){return this.compare(a,l)==0?!(this.isEnd(a,l)||this.isStart(a,l)):!1},s.prototype.insideStart=function(a,l){return this.compare(a,l)==0?!this.isEnd(a,l):!1},s.prototype.insideEnd=function(a,l){return this.compare(a,l)==0?!this.isStart(a,l):!1},s.prototype.compare=function(a,l){return!this.isMultiLine()&&a===this.start.row?l<this.start.column?-1:l>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?l>=this.start.column?0:-1:this.end.row===a?l<=this.end.column?0:1:0},s.prototype.compareStart=function(a,l){return this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},s.prototype.compareEnd=function(a,l){return this.end.row==a&&this.end.column==l?1:this.compare(a,l)},s.prototype.compareInside=function(a,l){return this.end.row==a&&this.end.column==l?1:this.start.row==a&&this.start.column==l?-1:this.compare(a,l)},s.prototype.clipRows=function(a,l){if(this.end.row>l)var d={row:l+1,column:0};else if(this.end.row<a)var d={row:a,column:0};if(this.start.row>l)var h={row:l+1,column:0};else if(this.start.row<a)var h={row:a,column:0};return s.fromPoints(h||this.start,d||this.end)},s.prototype.extend=function(a,l){var d=this.compare(a,l);if(d==0)return this;if(d==-1)var h={row:a,column:l};else var _={row:a,column:l};return s.fromPoints(h||this.start,_||this.end)},s.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},s.prototype.isMultiLine=function(){return this.start.row!==this.end.row},s.prototype.clone=function(){return s.fromPoints(this.start,this.end)},s.prototype.collapseRows=function(){return this.end.column==0?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},s.prototype.toScreenRange=function(a){var l=a.documentToScreenPosition(this.start),d=a.documentToScreenPosition(this.end);return new s(l.row,l.column,d.row,d.column)},s.prototype.moveBy=function(a,l){this.start.row+=a,this.start.column+=l,this.end.row+=a,this.end.column+=l},s})();o.fromPoints=function(s,a){return new o(s.row,s.column,a.row,a.column)},o.comparePoints=function(s,a){return s.row-a.row||s.column-a.column},e.Range=o}),ace.define("ace/anchor",[],function(t,e,n){function o(h,_,p){var u=p?h.column<=_.column:h.column<_.column;return h.row<_.row||h.row==_.row&&u}function s(h,_,p){var u=h.action=="insert",m=(u?1:-1)*(h.end.row-h.start.row),g=(u?1:-1)*(h.end.column-h.start.column),y=h.start,v=u?y:h.end;return o(_,y,p)?{row:_.row,column:_.column}:o(v,_,!p)?{row:_.row+m,column:_.column+(_.row==v.row?g:0)}:{row:y.row,column:y.column}}var a=t("./lib/oop"),l=t("./lib/event_emitter").EventEmitter,d=(function(){function h(_,p,u){this.$onChange=this.onChange.bind(this),this.attach(_),typeof p!="number"?this.setPosition(p.row,p.column):this.setPosition(p,u)}return h.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},h.prototype.getDocument=function(){return this.document},h.prototype.onChange=function(_){if(!(_.start.row==_.end.row&&_.start.row!=this.row)&&!(_.start.row>this.row)){var p=s(_,{row:this.row,column:this.column},this.$insertRight);this.setPosition(p.row,p.column,!0)}},h.prototype.setPosition=function(_,p,u){var m;if(u?m={row:_,column:p}:m=this.$clipPositionToDocument(_,p),!(this.row==m.row&&this.column==m.column)){var g={row:this.row,column:this.column};this.row=m.row,this.column=m.column,this._signal("change",{old:g,value:m})}},h.prototype.detach=function(){this.document.off("change",this.$onChange)},h.prototype.attach=function(_){this.document=_||this.document,this.document.on("change",this.$onChange)},h.prototype.$clipPositionToDocument=function(_,p){var u={};return _>=this.document.getLength()?(u.row=Math.max(0,this.document.getLength()-1),u.column=this.document.getLine(u.row).length):_<0?(u.row=0,u.column=0):(u.row=_,u.column=Math.min(this.document.getLine(u.row).length,Math.max(0,p))),p<0&&(u.column=0),u},h})();d.prototype.$insertRight=!1,a.implement(d.prototype,l),e.Anchor=d}),ace.define("ace/document",[],function(t,e,n){var o=t("./lib/oop"),s=t("./apply_delta").applyDelta,a=t("./lib/event_emitter").EventEmitter,l=t("./range").Range,d=t("./anchor").Anchor,h=(function(){function _(p){this.$lines=[""],p.length===0?this.$lines=[""]:Array.isArray(p)?this.insertMergedLines({row:0,column:0},p):this.insert({row:0,column:0},p)}return _.prototype.setValue=function(p){var u=this.getLength()-1;this.remove(new l(0,0,u,this.getLine(u).length)),this.insert({row:0,column:0},p||"")},_.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},_.prototype.createAnchor=function(p,u){return new d(this,p,u)},_.prototype.$detectNewLine=function(p){var u=p.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=u?u[1]:`
`,this._signal("changeNewLineMode")},_.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},_.prototype.setNewLineMode=function(p){this.$newLineMode!==p&&(this.$newLineMode=p,this._signal("changeNewLineMode"))},_.prototype.getNewLineMode=function(){return this.$newLineMode},_.prototype.isNewLine=function(p){return p==`\r
`||p=="\r"||p==`
`},_.prototype.getLine=function(p){return this.$lines[p]||""},_.prototype.getLines=function(p,u){return this.$lines.slice(p,u+1)},_.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},_.prototype.getLength=function(){return this.$lines.length},_.prototype.getTextRange=function(p){return this.getLinesForRange(p).join(this.getNewLineCharacter())},_.prototype.getLinesForRange=function(p){var u;if(p.start.row===p.end.row)u=[this.getLine(p.start.row).substring(p.start.column,p.end.column)];else{u=this.getLines(p.start.row,p.end.row),u[0]=(u[0]||"").substring(p.start.column);var m=u.length-1;p.end.row-p.start.row==m&&(u[m]=u[m].substring(0,p.end.column))}return u},_.prototype.insertLines=function(p,u){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(p,u)},_.prototype.removeLines=function(p,u){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(p,u)},_.prototype.insertNewLine=function(p){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(p,["",""])},_.prototype.insert=function(p,u){return this.getLength()<=1&&this.$detectNewLine(u),this.insertMergedLines(p,this.$split(u))},_.prototype.insertInLine=function(p,u){var m=this.clippedPos(p.row,p.column),g=this.pos(p.row,p.column+u.length);return this.applyDelta({start:m,end:g,action:"insert",lines:[u]},!0),this.clonePos(g)},_.prototype.clippedPos=function(p,u){var m=this.getLength();p===void 0?p=m:p<0?p=0:p>=m&&(p=m-1,u=void 0);var g=this.getLine(p);return u==null&&(u=g.length),u=Math.min(Math.max(u,0),g.length),{row:p,column:u}},_.prototype.clonePos=function(p){return{row:p.row,column:p.column}},_.prototype.pos=function(p,u){return{row:p,column:u}},_.prototype.$clipPosition=function(p){var u=this.getLength();return p.row>=u?(p.row=Math.max(0,u-1),p.column=this.getLine(u-1).length):(p.row=Math.max(0,p.row),p.column=Math.min(Math.max(p.column,0),this.getLine(p.row).length)),p},_.prototype.insertFullLines=function(p,u){p=Math.min(Math.max(p,0),this.getLength());var m=0;p<this.getLength()?(u=u.concat([""]),m=0):(u=[""].concat(u),p--,m=this.$lines[p].length),this.insertMergedLines({row:p,column:m},u)},_.prototype.insertMergedLines=function(p,u){var m=this.clippedPos(p.row,p.column),g={row:m.row+u.length-1,column:(u.length==1?m.column:0)+u[u.length-1].length};return this.applyDelta({start:m,end:g,action:"insert",lines:u}),this.clonePos(g)},_.prototype.remove=function(p){var u=this.clippedPos(p.start.row,p.start.column),m=this.clippedPos(p.end.row,p.end.column);return this.applyDelta({start:u,end:m,action:"remove",lines:this.getLinesForRange({start:u,end:m})}),this.clonePos(u)},_.prototype.removeInLine=function(p,u,m){var g=this.clippedPos(p,u),y=this.clippedPos(p,m);return this.applyDelta({start:g,end:y,action:"remove",lines:this.getLinesForRange({start:g,end:y})},!0),this.clonePos(g)},_.prototype.removeFullLines=function(p,u){p=Math.min(Math.max(0,p),this.getLength()-1),u=Math.min(Math.max(0,u),this.getLength()-1);var m=u==this.getLength()-1&&p>0,g=u<this.getLength()-1,y=m?p-1:p,v=m?this.getLine(y).length:0,S=g?u+1:u,b=g?0:this.getLine(S).length,C=new l(y,v,S,b),w=this.$lines.slice(p,u+1);return this.applyDelta({start:C.start,end:C.end,action:"remove",lines:this.getLinesForRange(C)}),w},_.prototype.removeNewLine=function(p){p<this.getLength()-1&&p>=0&&this.applyDelta({start:this.pos(p,this.getLine(p).length),end:this.pos(p+1,0),action:"remove",lines:["",""]})},_.prototype.replace=function(p,u){if(p instanceof l||(p=l.fromPoints(p.start,p.end)),u.length===0&&p.isEmpty())return p.start;if(u==this.getTextRange(p))return p.end;this.remove(p);var m;return u?m=this.insert(p.start,u):m=p.start,m},_.prototype.applyDeltas=function(p){for(var u=0;u<p.length;u++)this.applyDelta(p[u])},_.prototype.revertDeltas=function(p){for(var u=p.length-1;u>=0;u--)this.revertDelta(p[u])},_.prototype.applyDelta=function(p,u){var m=p.action=="insert";(m?p.lines.length<=1&&!p.lines[0]:!l.comparePoints(p.start,p.end))||(m&&p.lines.length>2e4?this.$splitAndapplyLargeDelta(p,2e4):(s(this.$lines,p,u),this._signal("change",p)))},_.prototype.$safeApplyDelta=function(p){var u=this.$lines.length;(p.action=="remove"&&p.start.row<u&&p.end.row<u||p.action=="insert"&&p.start.row<=u)&&this.applyDelta(p)},_.prototype.$splitAndapplyLargeDelta=function(p,u){for(var m=p.lines,g=m.length-u+1,y=p.start.row,v=p.start.column,S=0,b=0;S<g;S=b){b+=u-1;var C=m.slice(S,b);C.push(""),this.applyDelta({start:this.pos(y+S,v),end:this.pos(y+b,v=0),action:p.action,lines:C},!0)}p.lines=m.slice(S),p.start.row=y+S,p.start.column=v,this.applyDelta(p,!0)},_.prototype.revertDelta=function(p){this.$safeApplyDelta({start:this.clonePos(p.start),end:this.clonePos(p.end),action:p.action=="insert"?"remove":"insert",lines:p.lines.slice()})},_.prototype.indexToPosition=function(p,u){for(var m=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,y=u||0,v=m.length;y<v;y++)if(p-=m[y].length+g,p<0)return{row:y,column:p+m[y].length+g};return{row:v-1,column:p+m[v-1].length+g}},_.prototype.positionToIndex=function(p,u){for(var m=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,y=0,v=Math.min(p.row,m.length),S=u||0;S<v;++S)y+=m[S].length+g;return y+p.column},_.prototype.$split=function(p){return p.split(/\r\n|\r|\n/)},_})();h.prototype.$autoNewLine="",h.prototype.$newLineMode="auto",o.implement(h.prototype,a),e.Document=h}),ace.define("ace/lib/deep_copy",[],function(t,e,n){e.deepCopy=function o(s){if(typeof s!="object"||!s)return s;var a;if(Array.isArray(s)){a=[];for(var l=0;l<s.length;l++)a[l]=o(s[l]);return a}if(Object.prototype.toString.call(s)!=="[object Object]")return s;a={};for(var l in s)a[l]=o(s[l]);return a}}),ace.define("ace/lib/lang",[],function(t,e,n){e.last=function(a){return a[a.length-1]},e.stringReverse=function(a){return a.split("").reverse().join("")},e.stringRepeat=function(a,l){for(var d="";l>0;)l&1&&(d+=a),(l>>=1)&&(a+=a);return d};var o=/^\s\s*/,s=/\s\s*$/;e.stringTrimLeft=function(a){return a.replace(o,"")},e.stringTrimRight=function(a){return a.replace(s,"")},e.copyObject=function(a){var l={};for(var d in a)l[d]=a[d];return l},e.copyArray=function(a){for(var l=[],d=0,h=a.length;d<h;d++)a[d]&&typeof a[d]=="object"?l[d]=this.copyObject(a[d]):l[d]=a[d];return l},e.deepCopy=t("./deep_copy").deepCopy,e.arrayToMap=function(a){for(var l={},d=0;d<a.length;d++)l[a[d]]=1;return l},e.createMap=function(a){var l=Object.create(null);for(var d in a)l[d]=a[d];return l},e.arrayRemove=function(a,l){for(var d=0;d<=a.length;d++)l===a[d]&&a.splice(d,1)},e.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(a){return(""+a).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(a,l){var d=[];return a.replace(l,function(h){d.push({offset:arguments[arguments.length-2],length:h.length})}),d},e.deferredCall=function(a){var l=null,d=function(){l=null,a()},h=function(_){return h.cancel(),l=setTimeout(d,_||0),h};return h.schedule=h,h.call=function(){return this.cancel(),a(),h},h.cancel=function(){return clearTimeout(l),l=null,h},h.isPending=function(){return l},h},e.delayedCall=function(a,l){var d=null,h=function(){d=null,a()},_=function(p){d==null&&(d=setTimeout(h,p||l))};return _.delay=function(p){d&&clearTimeout(d),d=setTimeout(h,p||l)},_.schedule=_,_.call=function(){this.cancel(),a()},_.cancel=function(){d&&clearTimeout(d),d=null},_.isPending=function(){return d},_},e.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},e.skipEmptyMatch=function(a,l,d){return d&&a.codePointAt(l)>65535?2:1}}),ace.define("ace/worker/mirror",[],function(t,e,n){var o=t("../document").Document,s=t("../lib/lang"),a=e.Mirror=function(l){this.sender=l;var d=this.doc=new o(""),h=this.deferredUpdate=s.delayedCall(this.onUpdate.bind(this)),_=this;l.on("change",function(p){var u=p.data;if(u[0].start)d.applyDeltas(u);else for(var m=0;m<u.length;m+=2){var g,y;if(Array.isArray(u[m+1])?g={action:"insert",start:u[m],lines:u[m+1]}:g={action:"remove",start:u[m],end:u[m+1]},(g.action=="insert"?g.start:g.end).row>=d.$lines.length)throw y=new Error("Invalid delta"),y.data={path:_.$path,linesLength:d.$lines.length,start:g.start,end:g.end},y;d.applyDelta(g,!0)}if(_.$timeout)return h.schedule(_.$timeout);_.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(l){this.$timeout=l},this.setValue=function(l){this.doc.setValue(l),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(l){this.sender.callback(this.doc.getValue(),l)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(a.prototype)}),ace.define("ace/mode/json/json_parse",[],function(t,e,n){var o,s,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,d=function(S){throw{name:"SyntaxError",message:S,at:o,text:l}},h=function(S){return S&&S!==s&&d("Expected '"+S+"' instead of '"+s+"'"),s=l.charAt(o),o+=1,s},_=function(){var S,b="";for(s==="-"&&(b="-",h("-"));s>="0"&&s<="9";)b+=s,h();if(s===".")for(b+=".";h()&&s>="0"&&s<="9";)b+=s;if(s==="e"||s==="E")for(b+=s,h(),(s==="-"||s==="+")&&(b+=s,h());s>="0"&&s<="9";)b+=s,h();if(S=+b,!isNaN(S))return S;d("Bad number")},p=function(){var S,b,C="",w;if(s==='"')for(;h();){if(s==='"')return h(),C;if(s==="\\")if(h(),s==="u"){for(w=0,b=0;b<4&&(S=parseInt(h(),16),!!isFinite(S));b+=1)w=w*16+S;C+=String.fromCharCode(w)}else{if(typeof a[s]!="string")break;C+=a[s]}else{if(s==`
`||s=="\r")break;C+=s}}d("Bad string")},u=function(){for(;s&&s<=" ";)h()},m=function(){switch(s){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null}d("Unexpected '"+s+"'")},g,y=function(){var S=[];if(s==="["){if(h("["),u(),s==="]")return h("]"),S;for(;s;){if(S.push(g()),u(),s==="]")return h("]"),S;h(","),u()}}d("Bad array")},v=function(){var S,b={};if(s==="{"){if(h("{"),u(),s==="}")return h("}"),b;for(;s;){if(S=p(),u(),h(":"),Object.hasOwnProperty.call(b,S)&&d('Duplicate key "'+S+'"'),b[S]=g(),u(),s==="}")return h("}"),b;h(","),u()}}d("Bad object")};return g=function(){switch(u(),s){case"{":return v();case"[":return y();case'"':return p();case"-":return _();default:return s>="0"&&s<="9"?_():m()}},function(S,b){var C;return l=S,o=0,s=" ",C=g(),u(),s&&d("Syntax error"),typeof b=="function"?(function w(A,$){var E,D,I=A[$];if(I&&typeof I=="object")for(E in I)Object.hasOwnProperty.call(I,E)&&(D=w(I,E),D!==void 0?I[E]=D:delete I[E]);return b.call(A,$,I)})({"":C},""):C}}),ace.define("ace/mode/json_worker",[],function(t,e,n){var o=t("../lib/oop"),s=t("../worker/mirror").Mirror,a=t("./json/json_parse"),l=e.JsonWorker=function(d){s.call(this,d),this.setTimeout(200)};o.inherits(l,s),function(){this.onUpdate=function(){var d=this.doc.getValue(),h=[];try{d&&a(d)}catch(p){var _=this.doc.indexToPosition(p.at-1);h.push({row:_.row,column:_.column,text:p.message,type:"error"})}this.sender.emit("annotate",h)}}.call(l.prototype)});var themeClouds_midnight={exports:{}};(function(t,e){ace.define("ace/theme/clouds_midnight-css",["require","exports","module"],function(n,o,s){s.exports=`.ace-clouds-midnight .ace_gutter {
  background: #232323;
  color: #929292
}

.ace-clouds-midnight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-clouds-midnight {
  background-color: #191919;
  color: #929292
}

.ace-clouds-midnight .ace_cursor {
  color: #7DA5DC
}

.ace-clouds-midnight .ace_marker-layer .ace_selection {
  background: #000000
}

.ace-clouds-midnight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #191919;
}

.ace-clouds-midnight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-clouds-midnight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-clouds-midnight .ace_marker-layer .ace_active-line {
  background: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_gutter-active-line {
  background-color: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_marker-layer .ace_selected-word {
  border: 1px solid #000000
}

.ace-clouds-midnight .ace_invisible {
  color: #666
}

.ace-clouds-midnight .ace_keyword,
.ace-clouds-midnight .ace_meta,
.ace-clouds-midnight .ace_support.ace_constant.ace_property-value {
  color: #927C5D
}

.ace-clouds-midnight .ace_keyword.ace_operator {
  color: #4B4B4B
}

.ace-clouds-midnight .ace_keyword.ace_other.ace_unit {
  color: #366F1A
}

.ace-clouds-midnight .ace_constant.ace_language {
  color: #39946A
}

.ace-clouds-midnight .ace_constant.ace_numeric {
  color: #46A609
}

.ace-clouds-midnight .ace_constant.ace_character.ace_entity {
  color: #A165AC
}

.ace-clouds-midnight .ace_invalid {
  color: #FFFFFF;
  background-color: #E92E2E
}

.ace-clouds-midnight .ace_fold {
  background-color: #927C5D;
  border-color: #929292
}

.ace-clouds-midnight .ace_storage,
.ace-clouds-midnight .ace_support.ace_class,
.ace-clouds-midnight .ace_support.ace_function,
.ace-clouds-midnight .ace_support.ace_other,
.ace-clouds-midnight .ace_support.ace_type {
  color: #E92E2E
}

.ace-clouds-midnight .ace_string {
  color: #5D90CD
}

.ace-clouds-midnight .ace_comment {
  color: #3C403B
}

.ace-clouds-midnight .ace_entity.ace_name.ace_tag,
.ace-clouds-midnight .ace_entity.ace_other.ace_attribute-name {
  color: #606060
}

.ace-clouds-midnight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-clouds-midnight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/clouds_midnight",["require","exports","module","ace/theme/clouds_midnight-css","ace/lib/dom"],function(n,o,s){o.isDark=!0,o.cssClass="ace-clouds-midnight",o.cssText=n("./clouds_midnight-css");var a=n("../lib/dom");a.importCssString(o.cssText,o.cssClass,!1)}),(function(){ace.require(["ace/theme/clouds_midnight"],function(n){t&&(t.exports=n)})})()})(themeClouds_midnight);var themeChrome={exports:{}};(function(t,e){ace.define("ace/theme/chrome-css",["require","exports","module"],function(n,o,s){s.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(n,o,s){o.isDark=!1,o.cssClass="ace-chrome",o.cssText=n("./chrome-css");var a=n("../lib/dom");a.importCssString(o.cssText,o.cssClass,!1)}),(function(){ace.require(["ace/theme/chrome"],function(n){t&&(t.exports=n)})})()})(themeChrome);var extLanguage_tools={exports:{}};(function(t,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,o,s){function a(E){var D=new Date().toLocaleString("en-us",E);return D.length==1?"0"+D:D}var l=n("./lib/dom"),d=n("./lib/oop"),h=n("./lib/event_emitter").EventEmitter,_=n("./lib/lang"),p=n("./range").Range,u=n("./range_list").RangeList,m=n("./keyboard/hash_handler").HashHandler,g=n("./tokenizer").Tokenizer,y=n("./clipboard"),v={CURRENT_WORD:function(E){return E.session.getTextRange(E.session.getWordRange())},SELECTION:function(E,D,I){var R=E.session.getTextRange();return I?R.replace(/\n\r?([ \t]*\S)/g,`
`+I+"$1"):R},CURRENT_LINE:function(E){return E.session.getLine(E.getCursorPosition().row)},PREV_LINE:function(E){return E.session.getLine(E.getCursorPosition().row-1)},LINE_INDEX:function(E){return E.getCursorPosition().row},LINE_NUMBER:function(E){return E.getCursorPosition().row+1},SOFT_TABS:function(E){return E.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(E){return E.session.getTabSize()},CLIPBOARD:function(E){return y.getText&&y.getText()},FILENAME:function(E){return/[^/\\]*$/.exec(this.FILEPATH(E))[0]},FILENAME_BASE:function(E){return/[^/\\]*$/.exec(this.FILEPATH(E))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(E){return this.FILEPATH(E).replace(/[^/\\]*$/,"")},FILEPATH:function(E){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(E){var D=E.session.$mode||{};return D.blockComment&&D.blockComment.start||""},BLOCK_COMMENT_END:function(E){var D=E.session.$mode||{};return D.blockComment&&D.blockComment.end||""},LINE_COMMENT:function(E){var D=E.session.$mode||{};return D.lineCommentStart||""},CURRENT_YEAR:a.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:a.bind(null,{year:"2-digit"}),CURRENT_MONTH:a.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:a.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:a.bind(null,{month:"short"}),CURRENT_DATE:a.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:a.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:a.bind(null,{weekday:"short"}),CURRENT_HOUR:a.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:a.bind(null,{minute:"2-digit"}),CURRENT_SECOND:a.bind(null,{second:"2-digit"})};v.SELECTED_TEXT=v.SELECTION;var S=(function(){function E(){this.snippetMap={},this.snippetNameMap={},this.variables=v}return E.prototype.getTokenizer=function(){return E.$tokenizer||this.createTokenizer()},E.prototype.createTokenizer=function(){function D(O){return O=O.substr(1),/^\d+$/.test(O)?[{tabstopId:parseInt(O,10)}]:[{text:O}]}function I(O){return"(?:[^\\\\"+O+"]|\\\\.)"}var R={regex:"/("+I("/")+"+)/",onMatch:function(O,N,M){var k=M[0];return k.fmtString=!0,k.guard=O.slice(1,-1),k.flag="",""},next:"formatString"};return E.$tokenizer=new g({start:[{regex:/\\./,onMatch:function(O,N,M){var k=O[1];return(k=="}"&&M.length||"`$\\".indexOf(k)!=-1)&&(O=k),[O]}},{regex:/}/,onMatch:function(O,N,M){return[M.length?M.shift():O]}},{regex:/\$(?:\d+|\w+)/,onMatch:D},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(O,N,M){var k=D(O.substr(1));return M.unshift(k[0]),k},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+I("\\|")+"*\\|",onMatch:function(O,N,M){var k=O.slice(1,-1).replace(/\\[,|\\]|,/g,function(x){return x.length==2?x[1]:"\0"}).split("\0").map(function(x){return{value:x}});return M[0].choices=k,[k[0]]},next:"start"},R,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(O,N,M){return M.length&&M[0].expectElse?(M[0].expectElse=!1,M[0].ifEnd={elseEnd:M[0]},[M[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(O,N,M){var k=O[1];return k=="}"&&M.length||"`$\\".indexOf(k)!=-1?O=k:k=="n"?O=`
`:k=="t"?O="	":"ulULE".indexOf(k)!=-1&&(O={changeCase:k,local:k>"a"}),[O]}},{regex:"/\\w*}",onMatch:function(O,N,M){var k=M.shift();return k&&(k.flag=O.slice(1,-1)),this.next=k&&k.tabstopId?"start":"",[k||O]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(O,N,M){return[{text:O.slice(1)}]}},{regex:/\${\w+/,onMatch:function(O,N,M){var k={text:O.slice(2)};return M.unshift(k),[k]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(O,N,M){var k=M.shift();return this.next=k&&k.tabstopId?"start":"",[k||O]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(O,N,M){var k=M[0];return k.formatFunction=O.slice(2,-1),[M.shift()]},next:"formatString"},R,{regex:/:[\?\-+]?/,onMatch:function(O,N,M){O[1]=="+"&&(M[0].ifEnd=M[0]),O[1]=="?"&&(M[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),E.$tokenizer},E.prototype.tokenizeTmSnippet=function(D,I){return this.getTokenizer().getLineTokens(D,I).tokens.map(function(R){return R.value||R})},E.prototype.getVariableValue=function(D,I,R){if(/^\d+$/.test(I))return(this.variables.__||{})[I]||"";if(/^[A-Z]\d+$/.test(I))return(this.variables[I[0]+"__"]||{})[I.substr(1)]||"";if(I=I.replace(/^TM_/,""),!this.variables.hasOwnProperty(I))return"";var O=this.variables[I];return typeof O=="function"&&(O=this.variables[I](D,I,R)),O??""},E.prototype.tmStrFormat=function(D,I,R){if(!I.fmt)return D;var O=I.flag||"",N=I.guard;N=new RegExp(N,O.replace(/[^gim]/g,""));var M=typeof I.fmt=="string"?this.tokenizeTmSnippet(I.fmt,"formatString"):I.fmt,k=this,x=D.replace(N,function(){var T=k.variables.__;k.variables.__=[].slice.call(arguments);for(var L=k.resolveVariables(M,R),F="E",P=0;P<L.length;P++){var B=L[P];if(typeof B=="object")if(L[P]="",B.changeCase&&B.local){var H=L[P+1];H&&typeof H=="string"&&(B.changeCase=="u"?L[P]=H[0].toUpperCase():L[P]=H[0].toLowerCase(),L[P+1]=H.substr(1))}else B.changeCase&&(F=B.changeCase);else F=="U"?L[P]=B.toUpperCase():F=="L"&&(L[P]=B.toLowerCase())}return k.variables.__=T,L.join("")});return x},E.prototype.tmFormatFunction=function(D,I,R){return I.formatFunction=="upcase"?D.toUpperCase():I.formatFunction=="downcase"?D.toLowerCase():D},E.prototype.resolveVariables=function(D,I){function R(F){var P=D.indexOf(F,k+1);P!=-1&&(k=P)}for(var O=[],N="",M=!0,k=0;k<D.length;k++){var x=D[k];if(typeof x=="string"){O.push(x),x==`
`?(M=!0,N=""):M&&(N=/^\t*/.exec(x)[0],M=/\S/.test(x));continue}if(x){if(M=!1,x.fmtString){var T=D.indexOf(x,k+1);T==-1&&(T=D.length),x.fmt=D.slice(k+1,T),k=T}if(x.text){var L=this.getVariableValue(I,x.text,N)+"";x.fmtString&&(L=this.tmStrFormat(L,x,I)),x.formatFunction&&(L=this.tmFormatFunction(L,x,I)),L&&!x.ifEnd?(O.push(L),R(x)):!L&&x.ifEnd&&R(x.ifEnd)}else x.elseEnd?R(x.elseEnd):(x.tabstopId!=null||x.changeCase!=null)&&O.push(x)}}return O},E.prototype.getDisplayTextForSnippet=function(D,I){var R=b.call(this,D,I);return R.text},E.prototype.insertSnippetForSelection=function(D,I,R){R===void 0&&(R={});var O=b.call(this,D,I,R),N=D.getSelectionRange(),M=D.session.replace(N,O.text),k=new C(D),x=D.inVirtualSelectionMode&&D.selection.index;k.addTabstops(O.tabstops,N.start,M,x)},E.prototype.insertSnippet=function(D,I,R){R===void 0&&(R={});var O=this;if(D.inVirtualSelectionMode)return O.insertSnippetForSelection(D,I,R);D.forEachSelection(function(){O.insertSnippetForSelection(D,I,R)},null,{keepOrder:!0}),D.tabstopManager&&D.tabstopManager.tabNext()},E.prototype.$getScope=function(D){var I=D.session.$mode.$id||"";if(I=I.split("/").pop(),I==="html"||I==="php"){I==="php"&&!D.session.$mode.inlinePhp&&(I="html");var R=D.getCursorPosition(),O=D.session.getState(R.row);typeof O=="object"&&(O=O[0]),O.substring&&(O.substring(0,3)=="js-"?I="javascript":O.substring(0,4)=="css-"?I="css":O.substring(0,4)=="php-"&&(I="php"))}return I},E.prototype.getActiveScopes=function(D){var I=this.$getScope(D),R=[I],O=this.snippetMap;return O[I]&&O[I].includeScopes&&R.push.apply(R,O[I].includeScopes),R.push("_"),R},E.prototype.expandWithTab=function(D,I){var R=this,O=D.forEachSelection(function(){return R.expandSnippetForSelection(D,I)},null,{keepOrder:!0});return O&&D.tabstopManager&&D.tabstopManager.tabNext(),O},E.prototype.expandSnippetForSelection=function(D,I){var R=D.getCursorPosition(),O=D.session.getLine(R.row),N=O.substring(0,R.column),M=O.substr(R.column),k=this.snippetMap,x;return this.getActiveScopes(D).some(function(T){var L=k[T];return L&&(x=this.findMatchingSnippet(L,N,M)),!!x},this),x?(I&&I.dryRun||(D.session.doc.removeInLine(R.row,R.column-x.replaceBefore.length,R.column+x.replaceAfter.length),this.variables.M__=x.matchBefore,this.variables.T__=x.matchAfter,this.insertSnippetForSelection(D,x.content),this.variables.M__=this.variables.T__=null),!0):!1},E.prototype.findMatchingSnippet=function(D,I,R){for(var O=D.length;O--;){var N=D[O];if(!(N.startRe&&!N.startRe.test(I))&&!(N.endRe&&!N.endRe.test(R))&&!(!N.startRe&&!N.endRe))return N.matchBefore=N.startRe?N.startRe.exec(I):[""],N.matchAfter=N.endRe?N.endRe.exec(R):[""],N.replaceBefore=N.triggerRe?N.triggerRe.exec(I)[0]:"",N.replaceAfter=N.endTriggerRe?N.endTriggerRe.exec(R)[0]:"",N}},E.prototype.register=function(D,I){function R(T){return T&&!/^\^?\(.*\)\$?$|^\\b$/.test(T)&&(T="(?:"+T+")"),T||""}function O(T,L,F){return T=R(T),L=R(L),T=L+T,T&&T[T.length-1]!="$"&&(T+="$"),new RegExp(T)}function N(T){T.scope||(T.scope=I||"_"),I=T.scope,M[I]||(M[I]=[],k[I]={});var L=k[I];if(T.name){var F=L[T.name];F&&x.unregister(F),L[T.name]=T}M[I].push(T),T.prefix&&(T.tabTrigger=T.prefix),!T.content&&T.body&&(T.content=Array.isArray(T.body)?T.body.join(`
`):T.body),T.tabTrigger&&!T.trigger&&(!T.guard&&/^\w/.test(T.tabTrigger)&&(T.guard="\\b"),T.trigger=_.escapeRegExp(T.tabTrigger)),!(!T.trigger&&!T.guard&&!T.endTrigger&&!T.endGuard)&&(T.startRe=O(T.trigger,T.guard),T.triggerRe=new RegExp(T.trigger),T.endRe=O(T.endTrigger,T.endGuard),T.endTriggerRe=new RegExp(T.endTrigger))}var M=this.snippetMap,k=this.snippetNameMap,x=this;D||(D=[]),Array.isArray(D)?D.forEach(N):Object.keys(D).forEach(function(T){N(D[T])}),this._signal("registerSnippets",{scope:I})},E.prototype.unregister=function(D,I){function R(M){var k=N[M.scope||I];if(k&&k[M.name]){delete k[M.name];var x=O[M.scope||I],T=x&&x.indexOf(M);T>=0&&x.splice(T,1)}}var O=this.snippetMap,N=this.snippetNameMap;D.content?R(D):Array.isArray(D)&&D.forEach(R)},E.prototype.parseSnippetFile=function(D){D=D.replace(/\r/g,"");for(var I=[],R={},O=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,N;N=O.exec(D);){if(N[1])try{R=JSON.parse(N[1]),I.push(R)}catch{}if(N[4])R.content=N[4].replace(/^\t/gm,""),I.push(R),R={};else{var M=N[2],k=N[3];if(M=="regex"){var x=/\/((?:[^\/\\]|\\.)*)|$/g;R.guard=x.exec(k)[1],R.trigger=x.exec(k)[1],R.endTrigger=x.exec(k)[1],R.endGuard=x.exec(k)[1]}else M=="snippet"?(R.tabTrigger=k.match(/^\S*/)[0],R.name||(R.name=k)):M&&(R[M]=k)}}return I},E.prototype.getSnippetByName=function(D,I){var R=this.snippetNameMap,O;return this.getActiveScopes(I).some(function(N){var M=R[N];return M&&(O=M[D]),!!O},this),O},E})();d.implement(S.prototype,h);var b=function(E,D,I){function R(X){for(var q=[],Y=0;Y<X.length;Y++){var J=X[Y];if(typeof J=="object"){if(L[J.tabstopId])continue;var Q=X.lastIndexOf(J,Y-1);J=q[Q]||{tabstopId:J.tabstopId}}q[Y]=J}return q}I===void 0&&(I={});var O=E.getCursorPosition(),N=E.session.getLine(O.row),M=E.session.getTabString(),k=N.match(/^\s*/)[0];O.column<k.length&&(k=k.slice(0,O.column)),D=D.replace(/\r/g,"");var x=this.tokenizeTmSnippet(D);x=this.resolveVariables(x,E),x=x.map(function(X){return X==`
`&&!I.excludeExtraIndent?X+k:typeof X=="string"?X.replace(/\t/g,M):X});var T=[];x.forEach(function(X,q){if(typeof X=="object"){var Y=X.tabstopId,J=T[Y];if(J||(J=T[Y]=[],J.index=Y,J.value="",J.parents={}),J.indexOf(X)===-1){X.choices&&!J.choices&&(J.choices=X.choices),J.push(X);var Q=x.indexOf(X,q+1);if(Q!==-1){var ee=x.slice(q+1,Q),re=ee.some(function(ae){return typeof ae=="object"});re&&!J.value?J.value=ee:ee.length&&(!J.value||typeof J.value!="string")&&(J.value=ee.join(""))}}}}),T.forEach(function(X){X.length=0});for(var L={},F=0;F<x.length;F++){var P=x[F];if(typeof P=="object"){var B=P.tabstopId,H=T[B],j=x.indexOf(P,F+1);if(L[B]){L[B]===P&&(delete L[B],Object.keys(L).forEach(function(X){H.parents[X]=!0}));continue}L[B]=P;var W=H.value;typeof W!="string"?W=R(W):P.fmt&&(W=this.tmStrFormat(W,P,E)),x.splice.apply(x,[F+1,Math.max(0,j-F)].concat(W,P)),H.indexOf(P)===-1&&H.push(P)}}var U=0,G=0,V="";return x.forEach(function(X){if(typeof X=="string"){var q=X.split(`
`);q.length>1?(G=q[q.length-1].length,U+=q.length-1):G+=X.length,V+=X}else X&&(X.start?X.end={row:U,column:G}:X.start={row:U,column:G})}),{text:V,tabstops:T,tokens:x}},C=(function(){function E(D){if(this.index=0,this.ranges=[],this.tabstops=[],D.tabstopManager)return D.tabstopManager;D.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=_.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(D)}return E.prototype.attach=function(D){this.$openTabstops=null,this.selectedTabstop=null,this.editor=D,this.session=D.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},E.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},E.prototype.onChange=function(D){for(var I=D.action[0]=="r",R=this.selectedTabstop||{},O=R.parents||{},N=this.tabstops.slice(),M=0;M<N.length;M++){var k=N[M],x=k==R||O[k.index];if(k.rangeList.$bias=x?0:1,D.action=="remove"&&k!==R){var T=k.parents&&k.parents[R.index],L=k.rangeList.pointIndex(D.start,T);L=L<0?-L-1:L+1;var F=k.rangeList.pointIndex(D.end,T);F=F<0?-F-1:F-1;for(var P=k.rangeList.ranges.slice(L,F),B=0;B<P.length;B++)this.removeRange(P[B])}k.rangeList.$onChange(D)}var H=this.session;!this.$inChange&&I&&H.getLength()==1&&!H.getValue()&&this.detach()},E.prototype.updateLinkedFields=function(){var D=this.selectedTabstop;if(!(!D||!D.hasLinkedRanges||!D.firstNonLinked)){this.$inChange=!0;for(var I=this.session,R=I.getTextRange(D.firstNonLinked),O=0;O<D.length;O++){var N=D[O];if(N.linked){var M=N.original,k=o.snippetManager.tmStrFormat(R,M,this.editor);I.replace(N,k)}}this.$inChange=!1}},E.prototype.onAfterExec=function(D){D.command&&!D.command.readOnly&&this.updateLinkedFields()},E.prototype.onChangeSelection=function(){if(this.editor){for(var D=this.editor.selection.lead,I=this.editor.selection.anchor,R=this.editor.selection.isEmpty(),O=0;O<this.ranges.length;O++)if(!this.ranges[O].linked){var N=this.ranges[O].contains(D.row,D.column),M=R||this.ranges[O].contains(I.row,I.column);if(N&&M)return}this.detach()}},E.prototype.onChangeSession=function(){this.detach()},E.prototype.tabNext=function(D){var I=this.tabstops.length,R=this.index+(D||1);R=Math.min(Math.max(R,1),I),R==I&&(R=0),this.selectTabstop(R),this.updateTabstopMarkers(),R===0&&this.detach()},E.prototype.selectTabstop=function(D){this.$openTabstops=null;var I=this.tabstops[this.index];if(I&&this.addTabstopMarkers(I),this.index=D,I=this.tabstops[this.index],!(!I||!I.length)){this.selectedTabstop=I;var R=I.firstNonLinked||I;if(I.choices&&(R.cursor=R.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(R);else{var O=this.editor.multiSelect;O.toSingleRange(R);for(var N=0;N<I.length;N++)I.hasLinkedRanges&&I[N].linked||O.addRange(I[N].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},E.prototype.addTabstops=function(D,I,R){var O=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!D[0]){var N=p.fromPoints(R,R);A(N.start,I),A(N.end,I),D[0]=[N],D[0].index=0}var M=this.index,k=[M+1,0],x=this.ranges,T=this.snippetId=(this.snippetId||0)+1;D.forEach(function(L,F){var P=this.$openTabstops[F]||L;P.snippetId=T;for(var B=0;B<L.length;B++){var H=L[B],j=p.fromPoints(H.start,H.end||H.start);w(j.start,I),w(j.end,I),j.original=H,j.tabstop=P,x.push(j),P!=L?P.unshift(j):P[B]=j,H.fmtString||P.firstNonLinked&&O?(j.linked=!0,P.hasLinkedRanges=!0):P.firstNonLinked||(P.firstNonLinked=j)}P.firstNonLinked||(P.hasLinkedRanges=!1),P===L&&(k.push(P),this.$openTabstops[F]=P),this.addTabstopMarkers(P),P.rangeList=P.rangeList||new u,P.rangeList.$bias=0,P.rangeList.addList(P)},this),k.length>2&&(this.tabstops.length&&k.push(k.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,k))},E.prototype.addTabstopMarkers=function(D){var I=this.session;D.forEach(function(R){R.markerId||(R.markerId=I.addMarker(R,"ace_snippet-marker","text"))})},E.prototype.removeTabstopMarkers=function(D){var I=this.session;D.forEach(function(R){I.removeMarker(R.markerId),R.markerId=null})},E.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var D=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&D--,this.tabstops.forEach(function(I){I.snippetId===D?this.addTabstopMarkers(I):this.removeTabstopMarkers(I)},this)}},E.prototype.removeRange=function(D){var I=D.tabstop.indexOf(D);I!=-1&&D.tabstop.splice(I,1),I=this.ranges.indexOf(D),I!=-1&&this.ranges.splice(I,1),I=D.tabstop.rangeList.ranges.indexOf(D),I!=-1&&D.tabstop.splice(I,1),this.session.removeMarker(D.markerId),D.tabstop.length||(I=this.tabstops.indexOf(D.tabstop),I!=-1&&this.tabstops.splice(I,1),this.tabstops.length||this.detach())},E})();C.prototype.keyboardHandler=new m,C.prototype.keyboardHandler.bindKeys({Tab:function(E){o.snippetManager&&o.snippetManager.expandWithTab(E)||(E.tabstopManager.tabNext(1),E.renderer.scrollCursorIntoView())},"Shift-Tab":function(E){E.tabstopManager.tabNext(-1),E.renderer.scrollCursorIntoView()},Esc:function(E){E.tabstopManager.detach()}});var w=function(E,D){E.row==0&&(E.column+=D.column),E.row+=D.row},A=function(E,D){E.row==D.row&&(E.column-=D.column),E.row-=D.row};l.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),o.snippetManager=new S;var $=n("./editor").Editor;(function(){this.insertSnippet=function(E,D){return o.snippetManager.insertSnippet(this,E,D)},this.expandSnippet=function(E){return o.snippetManager.expandWithTab(this,E)}}).call($.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,o,s){var a=n("../virtual_renderer").VirtualRenderer,l=n("../editor").Editor,d=n("../range").Range,h=n("../lib/event"),_=n("../lib/lang"),p=n("../lib/dom"),u=n("../config").nls,m=n("./../lib/useragent"),g=function(w){return"suggest-aria-id:".concat(w)},y=m.isSafari?"menu":"listbox",v=m.isSafari?"menuitem":"option",S=m.isSafari?"aria-current":"aria-selected",b=function(w){var A=new a(w);A.$maxLines=4;var $=new l(A);return $.setHighlightActiveLine(!1),$.setShowPrintMargin(!1),$.renderer.setShowGutter(!1),$.renderer.setHighlightGutterLine(!1),$.$mouseHandler.$focusTimeout=0,$.$highlightTagPending=!0,$},C=(function(){function w(A){var $=p.createElement("div"),E=b($);A&&A.appendChild($),$.style.display="none",E.renderer.content.style.cursor="default",E.renderer.setStyle("ace_autocomplete"),E.renderer.$textLayer.element.setAttribute("role",y),E.renderer.$textLayer.element.setAttribute("aria-roledescription",u("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),E.renderer.$textLayer.element.setAttribute("aria-label",u("autocomplete.popup.aria-label","Autocomplete suggestions")),E.renderer.textarea.setAttribute("aria-hidden","true"),E.setOption("displayIndentGuides",!1),E.setOption("dragDelay",150);var D=function(){};E.focus=D,E.$isFocused=!0,E.renderer.$cursorLayer.restartTimer=D,E.renderer.$cursorLayer.element.style.opacity="0",E.renderer.$maxLines=8,E.renderer.$keepTextAreaAtCursor=!1,E.setHighlightActiveLine(!1),E.session.highlight(""),E.session.$searchHighlight.clazz="ace_highlight-marker",E.on("mousedown",function(x){var T=x.getDocumentPosition();E.selection.moveToPosition(T),O.start.row=O.end.row=T.row,x.stop()});var I,R=new d(-1,0,-1,1/0),O=new d(-1,0,-1,1/0);O.id=E.session.addMarker(O,"ace_active-line","fullLine"),E.setSelectOnHover=function(x){x?R.id&&(E.session.removeMarker(R.id),R.id=null):R.id=E.session.addMarker(R,"ace_line-hover","fullLine")},E.setSelectOnHover(!1),E.on("mousemove",function(x){if(!I){I=x;return}if(!(I.x==x.x&&I.y==x.y)){I=x,I.scrollTop=E.renderer.scrollTop,E.isMouseOver=!0;var T=I.getDocumentPosition().row;R.start.row!=T&&(R.id||E.setRow(T),M(T))}}),E.renderer.on("beforeRender",function(){if(I&&R.start.row!=-1){I.$pos=null;var x=I.getDocumentPosition().row;R.id||E.setRow(x),M(x,!0)}}),E.renderer.on("afterRender",function(){for(var x=E.renderer.$textLayer,T=x.config.firstRow,L=x.config.lastRow;T<=L;T++){var F=x.element.childNodes[T-x.config.firstRow];F.setAttribute("role",v),F.setAttribute("aria-roledescription",u("autocomplete.popup.item.aria-roledescription","item")),F.setAttribute("aria-setsize",E.data.length),F.setAttribute("aria-describedby","doc-tooltip"),F.setAttribute("aria-posinset",T+1);var P=E.getData(T);if(P){var B="".concat(P.caption||P.value).concat(P.meta?", ".concat(P.meta):"");F.setAttribute("aria-label",B)}var H=F.querySelectorAll(".ace_completion-highlight");H.forEach(function(j){j.setAttribute("role","mark")})}}),E.renderer.on("afterRender",function(){var x=E.getRow(),T=E.renderer.$textLayer,L=T.element.childNodes[x-T.config.firstRow],F=document.activeElement;if(L!==E.selectedNode&&E.selectedNode&&(p.removeCssClass(E.selectedNode,"ace_selected"),E.selectedNode.removeAttribute(S),E.selectedNode.removeAttribute("id")),F.removeAttribute("aria-activedescendant"),E.selectedNode=L,L){var P=g(x);p.addCssClass(L,"ace_selected"),L.id=P,T.element.setAttribute("aria-activedescendant",P),F.setAttribute("aria-activedescendant",P),L.setAttribute(S,"true")}});var N=function(){M(-1)},M=function(x,T){x!==R.start.row&&(R.start.row=R.end.row=x,T||E.session._emit("changeBackMarker"),E._emit("changeHoverMarker"))};E.getHoveredRow=function(){return R.start.row},h.addListener(E.container,"mouseout",function(){E.isMouseOver=!1,N()}),E.on("hide",N),E.on("changeSelection",N),E.session.doc.getLength=function(){return E.data.length},E.session.doc.getLine=function(x){var T=E.data[x];return typeof T=="string"?T:T&&T.value||""};var k=E.session.bgTokenizer;return k.$tokenizeRow=function(x){function T(X,q){X&&F.push({type:(L.className||"")+(q||""),value:X})}var L=E.data[x],F=[];if(!L)return F;typeof L=="string"&&(L={value:L});for(var P=L.caption||L.value||L.name,B=P.toLowerCase(),H=(E.filterText||"").toLowerCase(),j=0,W=0,U=0;U<=H.length;U++)if(U!=W&&(L.matchMask&1<<U||U==H.length)){var G=H.slice(W,U);W=U;var V=B.indexOf(G,j);if(V==-1)continue;T(P.slice(j,V),""),j=V+G.length,T(P.slice(V,j),"completion-highlight")}return T(P.slice(j,P.length),""),F.push({type:"completion-spacer",value:" "}),L.meta&&F.push({type:"completion-meta",value:L.meta}),L.message&&F.push({type:"completion-message",value:L.message}),F},k.$updateOnChange=D,k.start=D,E.session.$computeWidth=function(){return this.screenWidth=0},E.isOpen=!1,E.isTopdown=!1,E.autoSelect=!0,E.filterText="",E.isMouseOver=!1,E.data=[],E.setData=function(x,T){E.filterText=T||"",E.setValue(_.stringRepeat(`
`,x.length),-1),E.data=x||[],E.setRow(0)},E.getData=function(x){return E.data[x]},E.getRow=function(){return O.start.row},E.setRow=function(x){x=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,x)),O.start.row!=x&&(E.selection.clearSelection(),O.start.row=O.end.row=x||0,E.session._emit("changeBackMarker"),E.moveCursorTo(x||0,0),E.isOpen&&E._signal("select"))},E.on("changeSelection",function(){E.isOpen&&E.setRow(E.selection.lead.row),E.renderer.scrollCursorIntoView()}),E.hide=function(){this.container.style.display="none",E.anchorPos=null,E.anchor=null,E.isOpen&&(E.isOpen=!1,this._signal("hide"))},E.tryShow=function(x,T,L,F){if(!F&&E.isOpen&&E.anchorPos&&E.anchor&&E.anchorPos.top===x.top&&E.anchorPos.left===x.left&&E.anchor===L)return!0;var P=this.container,B=this.renderer.scrollBar.width||10,H=window.innerHeight-B,j=window.innerWidth-B,W=this.renderer,U=W.$maxLines*T*1.4,G={top:0,bottom:0},V=H-x.top-3*this.$borderSize-T,X=x.top-3*this.$borderSize;L||(X<=V||V>=U?L="bottom":L="top"),L==="top"?(G.bottom=x.top-this.$borderSize,G.top=G.bottom-U):L==="bottom"&&(G.top=x.top+T+this.$borderSize,G.bottom=G.top+U);var q=G.top>=0&&G.bottom<=H;if(!F&&!q)return!1;q?W.$maxPixelHeight=null:L==="top"?W.$maxPixelHeight=X:W.$maxPixelHeight=V,P.style.display="";var Y=P.offsetParent&&P.offsetParent.getBoundingClientRect();L==="top"?(P.style.top="",P.style.bottom=H+B-G.bottom-(Y?H+B-Y.bottom:0)+"px",E.isTopdown=!1):(P.style.top=G.top-(Y?Y.top:0)+"px",P.style.bottom="",E.isTopdown=!0);var J=x.left;return J+P.offsetWidth>j&&(J=j-P.offsetWidth),P.style.left=J-(Y?Y.left:0)+"px",P.style.right="",E.isOpen||(E.isOpen=!0,this._signal("show"),I=null),E.anchorPos=x,E.anchor=L,!0},E.show=function(x,T,L){this.tryShow(x,T,L?"bottom":void 0,!0)},E.goTo=function(x){var T=this.getRow(),L=this.session.getLength()-1;switch(x){case"up":T=T<=0?L:T-1;break;case"down":T=T>=L?-1:T+1;break;case"start":T=0;break;case"end":T=L}this.setRow(T)},E.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},E.$imageSize=0,E.$borderSize=1,E}return w})();p.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: absolute;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),o.AcePopup=C,o.$singleLineEditor=b,o.getAriaId=g}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,o,s){var a=(function(){function l(d){this.editor=d,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return l.prototype.setScreenReaderContent=function(d){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var _=this.popup.getRow(),p=this.popup.renderer.$textLayer,u=p.element.childNodes[_-p.config.firstRow];if(u){for(var m="doc-tooltip ",g=0;g<this._lines.length;g++)m+="ace-inline-screenreader-line-".concat(g," ");u.setAttribute("aria-describedby",m)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=d.split(/\r\n|\r|\n/);var h=this.createCodeBlock();this.screenReaderDiv.appendChild(h)},l.prototype.destroy=function(){this.screenReaderDiv.remove()},l.prototype.createCodeBlock=function(){var d=document.createElement("pre");d.setAttribute("id","ace-inline-screenreader");for(var h=0;h<this._lines.length;h++){var _=document.createElement("code");_.setAttribute("id","ace-inline-screenreader-line-".concat(h));var p=document.createTextNode(this._lines[h]);_.appendChild(p),d.appendChild(_)}return d},l})();o.AceInlineScreenReader=a}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,o,s){var a=n("../snippets").snippetManager,l=n("./inline_screenreader").AceInlineScreenReader,d=(function(){function h(){this.editor=null}return h.prototype.show=function(_,p,u){if(u=u||"",_&&this.editor&&this.editor!==_&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!_||!p)return!1;this.inlineScreenReader||(this.inlineScreenReader=new l(_));var m=p.snippet?a.getDisplayTextForSnippet(_,p.snippet):p.value;return p.hideInlinePreview||!m||!m.startsWith(u)?!1:(this.editor=_,this.inlineScreenReader.setScreenReaderContent(m),m=m.slice(u.length),m===""?_.removeGhostText():_.setGhostText(m),!0)},h.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},h.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},h.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},h})();o.AceInline=d}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,o,s){o.parForEach=function(l,d,h){var _=0,p=l.length;p===0&&h();for(var u=0;u<p;u++)d(l[u],function(m,g){_++,_===p&&h(m,g)})};var a=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;o.retrievePrecedingIdentifier=function(l,d,h){h=h||a;for(var _=[],p=d-1;p>=0&&h.test(l[p]);p--)_.push(l[p]);return _.reverse().join("")},o.retrieveFollowingIdentifier=function(l,d,h){h=h||a;for(var _=[],p=d;p<l.length&&h.test(l[p]);p++)_.push(l[p]);return _},o.getCompletionPrefix=function(l){var d=l.getCursorPosition(),h=l.session.getLine(d.row),_;return l.completers.forEach(function(p){p.identifierRegexps&&p.identifierRegexps.forEach(function(u){!_&&u&&(_=this.retrievePrecedingIdentifier(h,d.column,u))}.bind(this))}.bind(this)),_||this.retrievePrecedingIdentifier(h,d.column)},o.triggerAutocomplete=function(l,h){var h=h??l.session.getPrecedingCharacter();return l.completers.some(function(_){if(_.triggerCharacters&&Array.isArray(_.triggerCharacters))return _.triggerCharacters.includes(h)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,o,s){var a=n("./keyboard/hash_handler").HashHandler,l=n("./autocomplete/popup").AcePopup,d=n("./autocomplete/inline").AceInline,h=n("./autocomplete/popup").getAriaId,_=n("./autocomplete/util"),p=n("./lib/lang"),u=n("./lib/dom"),m=n("./snippets").snippetManager,g=n("./config"),y=n("./lib/event"),v=n("./lib/scroll").preventParentScroll,S=function(A,$){$.completer&&$.completer.destroy()},b=(function(){function A(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new a,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=p.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=p.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=p.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=p.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=p.delayedCall(function(){var $=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!$||this.editor.completers.length===0||(this.completions=new w(A.completionsForLoading),this.openPopup(this.editor,$.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(A,"completionsForLoading",{get:function(){return[{caption:g.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),A.prototype.$init=function(){return this.popup=new l(this.parentNode||document.body||document.documentElement),this.popup.on("click",function($){this.insertMatch(),$.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),y.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},A.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new d,this.inlineRenderer},A.prototype.getPopup=function(){return this.popup||this.$init()},A.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},A.prototype.$seen=function($){!this.hasSeen.has($)&&$&&$.completer&&$.completer.onSeen&&typeof $.completer.onSeen=="function"&&($.completer.onSeen(this.editor,$),this.hasSeen.add($))},A.prototype.$onPopupChange=function($){if(this.inlineRenderer&&this.inlineEnabled){var E=$?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(E),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},A.prototype.$updateGhostText=function($){var E=this.base.row,D=this.base.column,I=this.editor.getCursorPosition().column,R=this.editor.session.getLine(E).slice(D,I);this.inlineRenderer.show(this.editor,$,R)?this.$seen($):this.inlineRenderer.hide()},A.prototype.$onPopupRender=function(){var $=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var E=this.popup.getFirstVisibleRow();E<=this.popup.getLastVisibleRow();E++){var D=this.popup.getData(E);D&&(!$||D.hideInlinePreview)&&this.$seen(D)}},A.prototype.$onPopupShow=function($){this.$onPopupChange($),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},A.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var $=this.editor.container.parentNode,E=[];$;)E.push($),$.addEventListener("scroll",this.onLayoutChange,{passive:!0}),$=$.parentNode;this.$elements=E}},A.prototype.unObserveLayoutChanges=function(){var $=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(E){E.removeEventListener("scroll",$.onLayoutChange,{passive:!0})}),this.$elements=null},A.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},A.prototype.$updatePopupPosition=function(){var $=this.editor,E=$.renderer,D=E.layerConfig.lineHeight,I=E.$cursorLayer.getPixelPosition(this.base,!0);I.left-=this.popup.getTextLeftOffset();var R=$.container.getBoundingClientRect();I.top+=R.top-E.layerConfig.offset,I.left+=R.left-$.renderer.scrollLeft,I.left+=E.gutterWidth;var O={top:I.top,left:I.left};E.$ghostText&&E.$ghostTextWidget&&this.base.row===E.$ghostText.position.row&&(O.top+=E.$ghostTextWidget.el.offsetHeight);var N=$.container.getBoundingClientRect().bottom-D,M=N<O.top?{top:N,left:O.left}:O;this.popup.tryShow(M,D,"bottom")||this.popup.tryShow(I,D,"top")||this.popup.show(I,D)},A.prototype.openPopup=function($,E,D){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var I=this.popup.getRow(),R=this.popup.data[I];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:h(this.popup.getRow()),inline:this.inlineEnabled}),$.keyBinding.addKeyboardHandler(this.keyboardHandler);var O;this.stickySelection&&(O=this.popup.data.indexOf(R)),(!O||O===-1)&&(O=0),this.popup.setRow(this.autoSelect?O:-1),O===I&&R!==this.completions.filtered[O]&&this.$onPopupChange();var N=this.inlineRenderer&&this.inlineEnabled;if(O===I&&N){var M=this.popup.getData(this.popup.getRow());this.$updateGhostText(M)}D||(this.popup.setTheme($.getTheme()),this.popup.setFontSize($.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},A.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},A.prototype.changeListener=function($){var E=this.editor.selection.lead;(E.row!=this.base.row||E.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},A.prototype.blurListener=function($){var E=document.activeElement,D=this.editor.textInput.getElement(),I=$.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains($.relatedTarget),R=this.popup&&this.popup.container;E!=D&&E.parentNode!=R&&!I&&E!=this.tooltipNode&&$.relatedTarget!=D&&this.detach()},A.prototype.mousedownListener=function($){this.detach()},A.prototype.mousewheelListener=function($){this.popup&&!this.popup.isMouseOver&&this.detach()},A.prototype.mouseOutListener=function($){this.popup.isOpen&&this.$updatePopupPosition()},A.prototype.goTo=function($){this.popup.goTo($)},A.prototype.insertMatch=function($,E){if($||($=this.popup.getData(this.popup.getRow())),!$)return!1;if($.value==="")return this.detach();var D=this.completions,I=this.getCompletionProvider().insertMatch(this.editor,$,D.filterText,E);return this.completions==D&&this.detach(),I},A.prototype.showPopup=function($,E){this.editor&&this.detach(),this.activated=!0,this.editor=$,$.completer!=this&&($.completer&&$.completer.detach(),$.completer=this),$.on("changeSelection",this.changeListener),$.on("blur",this.blurListener),$.on("mousedown",this.mousedownListener),$.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,E)},A.prototype.getCompletionProvider=function($){return this.completionProvider||(this.completionProvider=new C($)),this.completionProvider},A.prototype.gatherCompletions=function($,E){return this.getCompletionProvider().gatherCompletions($,E)},A.prototype.updateCompletions=function($,E){if($&&this.base&&this.completions){var I=this.editor.getCursorPosition(),R=this.editor.session.getTextRange({start:this.base,end:I});if(R==this.completions.filterText)return;if(this.completions.setFilter(R),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==R&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,R,$);return}if(E&&E.matches){var I=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(I.row,I.column),this.base.$insertRight=!0,this.completions=new w(E.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",$)}var D=this.editor.getSession(),I=this.editor.getCursorPosition(),R=_.getCompletionPrefix(this.editor);this.base=D.doc.createAnchor(I.row,I.column-R.length),this.base.$insertRight=!0;var O={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:R,pos:I}).provideCompletions(this.editor,O,function(N,M,k){var x=M.filtered,T=_.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),k){if(!x.length){var L=!this.autoShown&&this.emptyMessage;if(typeof L=="function"&&(L=this.emptyMessage(T)),L){var F=[{caption:L,value:""}];this.completions=new w(F),this.openPopup(this.editor,T,$),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(x.length==1&&x[0].value==T&&!x[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&x.length==1)return this.insertMatch(x[0])}this.completions=!k&&this.showLoadingState?new w(A.completionsForLoading.concat(x),M.filterText):M,this.openPopup(this.editor,T,$),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!k)}.bind(this)),this.showLoadingState&&!this.autoShown&&(!this.popup||!this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},A.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},A.prototype.updateDocTooltip=function(){var $=this.popup,E=this.completions&&this.completions.filtered,D=E&&(E[$.getHoveredRow()]||E[$.getRow()]),I=null;if(!D||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var R=this.editor.completers.length,O=0;O<R;O++){var N=this.editor.completers[O];if(N.getDocTooltip&&D.completerId===N.id){I=N.getDocTooltip(D);break}}if(!I&&typeof D!="string"&&(I=D),typeof I=="string"&&(I={docText:I}),!I||!I.docHTML&&!I.docText)return this.hideDocTooltip();this.showDocTooltip(I)},A.prototype.showDocTooltip=function($){this.tooltipNode||(this.tooltipNode=u.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",v));var E=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(E.isDark?"ace_dark ":"")+(E.cssClass||"");var D=this.tooltipNode;$.docHTML?D.innerHTML=$.docHTML:$.docText&&(D.textContent=$.docText),D.parentNode||this.popup.container.appendChild(this.tooltipNode);var I=this.popup,R=I.container.getBoundingClientRect(),O=400,N=300,M=I.renderer.scrollBar.width||10,k=R.left,x=window.innerWidth-R.right-M,T=I.isTopdown?R.top:window.innerHeight-M-R.bottom,L=[Math.min(x/O,1),Math.min(k/O,1),Math.min(T/N*.9)],F=Math.max.apply(Math,L),P=D.style;P.display="block",F==L[0]?(P.left=R.right+1+"px",P.right="",P.maxWidth=O*F+"px",P.top=R.top+"px",P.bottom="",P.maxHeight=Math.min(window.innerHeight-M-R.top,N)+"px"):F==L[1]?(P.right=window.innerWidth-R.left+"px",P.left="",P.maxWidth=O*F+"px",P.top=R.top+"px",P.bottom="",P.maxHeight=Math.min(window.innerHeight-M-R.top,N)+"px"):F==L[2]&&(P.left=window.innerWidth-R.left+"px",P.maxWidth=Math.min(O,window.innerWidth)+"px",I.isTopdown?(P.top=R.bottom+"px",P.left=R.left+"px",P.right="",P.bottom="",P.maxHeight=Math.min(window.innerHeight-M-R.bottom,N)+"px"):(P.top=I.container.offsetTop-D.offsetHeight+"px",P.left=R.left+"px",P.right="",P.bottom="",P.maxHeight=Math.min(I.container.offsetTop,N)+"px"))},A.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var $=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==$&&this.editor.focus(),this.tooltipNode=null,$.parentNode&&$.parentNode.removeChild($)}},A.prototype.onTooltipClick=function($){for(var E=$.target;E&&E!=this.tooltipNode;){if(E.nodeName=="A"&&E.href){E.rel="noreferrer",E.target="_blank";break}E=E.parentNode}},A.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var $=this.popup.container;$&&$.parentNode&&$.parentNode.removeChild($)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",S),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},A.for=function($){return $.completer instanceof A||($.completer&&($.completer.destroy(),$.completer=null),g.get("sharedPopups")?(A.$sharedInstance||(A.$sharedInstance=new A),$.completer=A.$sharedInstance):($.completer=new A,$.once("destroy",S))),$.completer},A})();b.prototype.commands={Up:function(A){A.completer.goTo("up")},Down:function(A){A.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(A){A.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(A){A.completer.goTo("end")},Esc:function(A){A.completer.detach()},Return:function(A){return A.completer.insertMatch()},"Shift-Return":function(A){A.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(A){var $=A.completer.insertMatch();if($||A.tabstopManager)return $;A.completer.goTo("down")},Backspace:function(A){A.execCommand("backspace");var $=_.getCompletionPrefix(A);!$&&A.completer&&A.completer.detach()},PageUp:function(A){A.completer.popup.gotoPageUp()},PageDown:function(A){A.completer.popup.gotoPageDown()}},b.startCommand={name:"startAutocomplete",exec:function(A,$){var E=b.for(A);E.autoInsert=!1,E.autoSelect=!0,E.autoShown=!1,E.showPopup(A,$),E.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var C=(function(){function A($){this.initialPosition=$,this.active=!0}return A.prototype.insertByIndex=function($,E,D){return!this.completions||!this.completions.filtered?!1:this.insertMatch($,this.completions.filtered[E],D)},A.prototype.insertMatch=function($,E,D){if(!E)return!1;if($.startOperation({command:{name:"insertMatch"}}),E.completer&&E.completer.insertMatch)E.completer.insertMatch($,E);else{if(!this.completions)return!1;var I=this.completions.filterText.length,R=0;if(E.range&&E.range.start.row===E.range.end.row&&(I-=this.initialPosition.prefix.length,I+=this.initialPosition.pos.column-E.range.start.column,R+=E.range.end.column-this.initialPosition.pos.column),I||R){var O;$.selection.getAllRanges?O=$.selection.getAllRanges():O=[$.getSelectionRange()];for(var N=0,M;M=O[N];N++)M.start.column-=I,M.end.column+=R,$.session.remove(M)}E.snippet?m.insertSnippet($,E.snippet):this.$insertString($,E),E.completer&&E.completer.onInsert&&typeof E.completer.onInsert=="function"&&E.completer.onInsert($,E),E.command&&E.command==="startAutocomplete"&&$.execCommand(E.command)}return $.endOperation(),!0},A.prototype.$insertString=function($,E){var D=E.value||E;$.execCommand("insertstring",D)},A.prototype.gatherCompletions=function($,E){var D=$.getSession(),I=$.getCursorPosition(),R=_.getCompletionPrefix($),O=[];this.completers=$.completers;var N=$.completers.length;return $.completers.forEach(function(M,k){M.getCompletions($,D,I,R,function(x,T){M.hideInlinePreview&&(T=T.map(function(L){return Object.assign(L,{hideInlinePreview:M.hideInlinePreview})})),!x&&T&&(O=O.concat(T)),E(null,{prefix:_.getCompletionPrefix($),matches:O,finished:--N===0})})}),!0},A.prototype.provideCompletions=function($,E,D){var I=function(M){var k=M.prefix,x=M.matches;this.completions=new w(x),E.exactMatch&&(this.completions.exactMatch=!0),E.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(k),(M.finished||this.completions.filtered.length)&&D(null,this.completions,M.finished)}.bind(this),R=!0,O=null;if(this.gatherCompletions($,function(M,k){if(this.active){M&&(D(M,[],!0),this.detach());var x=k.prefix;if(x.indexOf(k.prefix)===0){if(R){O=k;return}I(k)}}}.bind(this)),R=!1,O){var N=O;O=null,I(N)}},A.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function($){typeof $.cancel=="function"&&$.cancel()})},A})(),w=(function(){function A($,E){this.all=$,this.filtered=$,this.filterText=E||"",this.exactMatch=!1,this.ignoreCaption=!1}return A.prototype.setFilter=function($){if($.length>this.filterText&&$.lastIndexOf(this.filterText,0)===0)var E=this.filtered;else var E=this.all;this.filterText=$,E=this.filterCompletions(E,this.filterText),E=E.sort(function(I,R){return R.exactMatch-I.exactMatch||R.$score-I.$score||(I.caption||I.value).localeCompare(R.caption||R.value)});var D=null;E=E.filter(function(I){var R=I.snippet||I.caption||I.value;return R===D?!1:(D=R,!0)}),this.filtered=E},A.prototype.filterCompletions=function($,E){var D=[],I=E.toUpperCase(),R=E.toLowerCase();e:for(var O=0,N;N=$[O];O++){if(N.skipFilter){N.$score=N.score,D.push(N);continue}var M=!this.ignoreCaption&&N.caption||N.value||N.snippet;if(M){var k=-1,x=0,T=0,L,F;if(this.exactMatch){if(E!==M.substr(0,E.length))continue e}else{var P=M.toLowerCase().indexOf(R);if(P>-1)T=P;else for(var B=0;B<E.length;B++){var H=M.indexOf(R[B],k+1),j=M.indexOf(I[B],k+1);if(L=H>=0&&(j<0||H<j)?H:j,L<0)continue e;F=L-k-1,F>0&&(k===-1&&(T+=10),T+=F,x|=1<<B),k=L}}N.matchMask=x,N.exactMatch=T?0:1,N.$score=(N.score||0)-T,D.push(N)}}return D},A})();o.Autocomplete=b,o.CompletionProvider=C,o.FilteredList=w}),ace.define("ace/marker_group",["require","exports","module"],function(n,o,s){var a=(function(){function l(d,h){h&&(this.markerType=h.markerType),this.markers=[],this.session=d,d.addDynamicMarker(this)}return l.prototype.getMarkerAtPosition=function(d){return this.markers.find(function(h){return h.range.contains(d.row,d.column)})},l.prototype.markersComparator=function(d,h){return d.range.start.row-h.range.start.row},l.prototype.setMarkers=function(d){this.markers=d.sort(this.markersComparator).slice(0,this.MAX_MARKERS),this.session._signal("changeBackMarker")},l.prototype.update=function(d,h,_,p){if(!(!this.markers||!this.markers.length))for(var u=p.firstRow,m=p.lastRow,g,y=0,v=0,S=0;S<this.markers.length;S++){var b=this.markers[S];if(!(b.range.end.row<u)&&!(b.range.start.row>m)&&(b.range.start.row===v?y++:(v=b.range.start.row,y=0),!(y>200))){var C=b.range.clipRows(u,m);if(!(C.start.row===C.end.row&&C.start.column===C.end.column)){var w=C.toScreenRange(_);if(w.isEmpty()){g=_.getNextFoldLine(C.end.row,g),g&&g.end.row>C.end.row&&(u=g.end.row);continue}this.markerType==="fullLine"?h.drawFullLineMarker(d,w,b.className,p):w.isMultiLine()?this.markerType==="line"?h.drawMultiLineMarker(d,w,b.className,p):h.drawTextMarker(d,w,b.className,p):h.drawSingleLineMarker(d,w,b.className+" ace_br15",p)}}}},l})();a.prototype.MAX_MARKERS=1e4,o.MarkerGroup=a}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,o,s){function a(_,p){var u=_.getTextRange(d.fromPoints({row:0,column:0},p));return u.split(h).length-1}function l(_,p){var u=a(_,p),m=_.getValue().split(h),g=Object.create(null),y=m[u];return m.forEach(function(v,S){if(!(!v||v===y)){var b=Math.abs(u-S),C=m.length-b;g[v]?g[v]=Math.max(C,g[v]):g[v]=C}}),g}var d=n("../range").Range,h=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;o.getCompletions=function(_,p,u,m,g){var y=l(p,u),v=Object.keys(y);g(null,v.map(function(S){return{caption:S,value:S,score:y[S],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/marker_group","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,o,s){var a=n("../snippets").snippetManager,l=n("../autocomplete").Autocomplete,d=n("../config"),h=n("../lib/lang"),_=n("../autocomplete/util"),p=n("../marker_group").MarkerGroup,u=n("../autocomplete/text_completer"),m={getCompletions:function(R,O,N,M,k){if(O.$mode.completer)return O.$mode.completer.getCompletions(R,O,N,M,k);var x=R.session.getState(N.row),T=O.$mode.getCompletions(x,O,N,M);T=T.map(function(L){return L.completerId=m.id,L}),k(null,T)},id:"keywordCompleter"},g=function(R){var O={};return R.replace(/\${(\d+)(:(.*?))?}/g,function(N,M,k,x){return O[M]=x||""}).replace(/\$(\d+?)/g,function(N,M){return O[M]})},y={getCompletions:function(R,O,N,M,k){var x=[],T=O.getTokenAt(N.row,N.column);T&&T.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?x.push("html-tag"):x=a.getActiveScopes(R);var L=a.snippetMap,F=[];x.forEach(function(P){for(var B=L[P]||[],H=B.length;H--;){var j=B[H],W=j.name||j.tabTrigger;W&&F.push({caption:W,snippet:j.content,meta:j.tabTrigger&&!j.name?j.tabTrigger+" ":"snippet",completerId:y.id})}},this),k(null,F)},getDocTooltip:function(R){R.snippet&&!R.docHTML&&(R.docHTML=["<b>",h.escapeHTML(R.caption),"</b>","<hr></hr>",h.escapeHTML(g(R.snippet))].join(""))},id:"snippetCompleter"},v=[y,u,m];o.setCompleters=function(R){v.length=0,R&&v.push.apply(v,R)},o.addCompleter=function(R){v.push(R)},o.textCompleter=u,o.keyWordCompleter=m,o.snippetCompleter=y;var S={name:"expandSnippet",exec:function(R){return a.expandWithTab(R)},bindKey:"Tab"},b=function(R,O){C(O.session.$mode)},C=function(R){typeof R=="string"&&(R=d.$modes[R]),R&&(a.files||(a.files={}),w(R.$id,R.snippetFileId),R.modes&&R.modes.forEach(C))},w=function(R,O){!O||!R||a.files[R]||(a.files[R]={},d.loadModule(O,function(N){N&&(a.files[R]=N,!N.snippets&&N.snippetText&&(N.snippets=a.parseSnippetFile(N.snippetText)),a.register(N.snippets||[],N.scope),N.includeScopes&&(a.snippetMap[N.scope].includeScopes=N.includeScopes,N.includeScopes.forEach(function(M){C("ace/mode/"+M)})))}))},A=function(R){var O=R.editor,N=O.completer&&O.completer.activated;if(R.command.name==="backspace")N&&!_.getCompletionPrefix(O)&&O.completer.detach();else if(R.command.name==="insertstring"&&!N){$=R;var M=R.editor.$liveAutocompletionDelay;M?E.delay(M):D(R)}},$,E=h.delayedCall(function(){D($)},0),D=function(R){var O=R.editor,N=_.getCompletionPrefix(O),M=R.args,k=_.triggerAutocomplete(O,M);if(N&&N.length>=O.$liveAutocompletionThreshold||k){var x=l.for(O);x.autoShown=!0,x.showPopup(O)}},I=n("../editor").Editor;n("../config").defineOptions(I.prototype,"editor",{enableBasicAutocompletion:{set:function(R){R?(l.for(this),this.completers||(this.completers=Array.isArray(R)?R:v),this.commands.addCommand(l.startCommand)):this.commands.removeCommand(l.startCommand)},value:!1},enableLiveAutocompletion:{set:function(R){R?(this.completers||(this.completers=Array.isArray(R)?R:v),this.commands.on("afterExec",A)):this.commands.off("afterExec",A)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(R){R?(this.commands.addCommand(S),this.on("changeMode",b),b(null,this)):(this.commands.removeCommand(S),this.off("changeMode",b))},value:!1}}),o.MarkerGroup=p}),(function(){ace.require(["ace/ext/language_tools"],function(n){t&&(t.exports=n)})})()})(extLanguage_tools);const styles$m={jsonError:{border:"1px solid red",minHeight:200},jsonNoError:{border:"1px solid #00000000",minHeight:200}};function Editor(t){return React$2.createElement(_default$3,{style:t.error===!0?styles$m.jsonError:t.error===!1?styles$m.jsonNoError:void 0,mode:t.mode||"json",width:"100%",height:"100%",showPrintMargin:t.editValueMode,showGutter:t.editValueMode,highlightActiveLine:t.editValueMode,defaultValue:t.defaultValue,theme:t.themeType==="dark"?"clouds_midnight":"chrome",value:t.value,readOnly:!t.onChange,onChange:e=>{var n;return(n=t.onChange)==null?void 0:n.call(t,e)},name:t.name||"UNIQUE_ID_OF_DIV1",fontSize:t.fontSize||14,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:t.editValueMode,tabSize:t.editValueMode?2:void 0},editorProps:{$blockScrolling:!0}})}const styles$l={flex:{display:"flex"},button:{height:48,minWidth:48},wrapper:{width:"calc(100vw - 40px)",height:"calc(100vh - 188px)"}};class ConfigJsonEditor extends ConfigGeneric{componentDidMount(){super.componentDidMount();const{data:e,attr:n}=this.props,o=ConfigGeneric.getValue(e,n)||"{}";this.setState({value:o,initialized:!0,jsonError:this.validateJson(o)})}validateJson(e){let n=!1;if(this.props.schema.validateJson!==!1&&(e||!this.props.schema.allowEmpty))try{this.props.schema.json5?lib.parse(e):JSON.parse(e)}catch(o){console.log("Error in JSON",o),n=!0}return n}renderItem(e,n){if(!this.state.initialized)return null;const{schema:o,data:s,attr:a}=this.props,{value:l,showSelectId:d}=this.state,h=o.readOnly===!0;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},React$2.createElement("div",{style:styles$l.flex},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{color:"grey",disabled:n,style:styles$l.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_JSON editor"))),d?React$2.createElement(CustomModal,{title:this.getText(o.label),overflowHidden:!0,applyDisabled:this.state.jsonError&&this.props.schema.doNotApplyWithError||h,onClose:()=>this.setState({showSelectId:!1,value:ConfigGeneric.getValue(s,a)||{}}),onApply:h?void 0:()=>this.setState({showSelectId:!1},()=>this.onChange(a,l))},React$2.createElement("div",{style:{...styles$l.wrapper,border:this.state.jsonError?"2px solid red":"2px solid transparent"}},React$2.createElement(Editor,{mode:this.props.schema.json5?"json5":"json",value:typeof l=="object"?JSON.stringify(l):l,onChange:h?void 0:_=>this.setState({value:_,jsonError:this.validateJson(_)}),name:"ConfigJsonEditor",themeType:this.props.oContext.themeType}))):null,o.help||this.state.jsonError?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.state.jsonError?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Invalid JSON"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const LANGUAGES=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"ru",label:""},{value:"pt",label:"Portugues"},{value:"nl",label:"Nederlands"},{value:"fr",label:"franais"},{value:"it",label:"Italiano"},{value:"es",label:"Espanol"},{value:"pl",label:"Polski"},{value:"uk",label:""},{value:"zh-cn",label:""}];class ConfigLanguage extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr),n=[...LANGUAGES];this.props.schema.system?n.unshift({value:"",label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_System language")}):n.unshift({value:"",label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_none")}),this.setState({value:this.props.schema.system?e||"":e||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage(),selectOptions:n})}renderItem(e,n){var s,a;if(!this.state.selectOptions)return null;const o=(s=this.state.selectOptions)==null?void 0:s.find(l=>l.value===this.state.value||!l.value&&!this.state.value);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:n,value:this.state.value||"_",renderValue:()=>this.getText(o==null?void 0:o.label,this.props.schema.noTranslation),onChange:l=>{let{value:d}=l.target;d==="_"&&(d=""),this.setState({value:d},()=>{const h=this.onChange(this.props.attr,d);if(h instanceof Promise&&h.catch(_=>console.error(_)),this.props.schema.changeGuiLanguage)if(d){if(d===AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage())return;AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.setLanguage(d),this.props.oContext.changeLanguage&&this.props.oContext.changeLanguage()}else this.props.oContext.socket.getSystemConfig().then(_=>{_.common.language!==AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()&&_.common.language&&(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.setLanguage(_.common.language),this.props.oContext.changeLanguage&&this.props.oContext.changeLanguage())}).catch(_=>console.error(`Cannot read system config: ${_}`))})}},(a=this.state.selectOptions)==null?void 0:a.map(l=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:l.value,value:l.value},l.label))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigLicense extends ConfigGeneric{scrollRef;constructor(e){super(e),this.scrollRef=React$2.createRef()}scrolledDown(){return this.scrollRef.current?this.scrollRef.current.offsetHeight+this.scrollRef.current.scrollTop>=this.scrollRef.current.scrollHeight:!1}componentDidMount(){super.componentDidMount(),ConfigGeneric.getValue(this.props.data,this.props.attr)||(this.props.schema.licenseUrl?(this.setState({showLicenseDialog:!0,loading:!0,scrolledDown:!1}),fetch(this.props.schema.licenseUrl).then(e=>e.text()).then(e=>this.setState({license:e,loading:!1})).catch(e=>this.setState({license:e.toString(),loading:!1,error:!0,scrolledDown:!1}))):this.setState({showLicenseDialog:!0,scrolledDown:!1}),setTimeout(()=>{this.scrollRef.current&&(this.scrolledDown()?this.setState({scrolledDown:!0}):this.scrollRef.current.addEventListener("scroll",()=>{!this.state.scrolledDown&&this.scrolledDown()&&this.setState({scrolledDown:!0})}))},1e3))}renderItem(e,n){return this.state.showLicenseDialog?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{maxWidth:"lg",open:!0,onClose:(o,s)=>{s!=="escapeKeyDown"&&s!=="backdropClick"&&this.setState({showLicenseDialog:!1})}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogTitle,null,this.props.schema.title?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(this.props.schema.title):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_License agreement")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContent,null,this.props.schema.licenseUrl?React$2.createElement(React$2.Fragment,null,this.state.loading?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.LinearProgress,null):null,React$2.createElement("pre",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.state.license)):null,!this.props.schema.licenseUrl&&this.props.schema.texts?React$2.createElement("div",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.props.schema.texts.map((o,s)=>this.props.schema.noTranslation?React$2.createElement("p",{key:s},o):React$2.createElement("p",{key:s},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(o)))):null),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogActions,null,this.props.schema.checkBox?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControlLabel,{control:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{disabled:n,checked:!!this.state.licenseChecked,onClick:()=>this.setState({licenseChecked:!this.state.licenseChecked})}),label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(this.props.schema.checkBox)}):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{disabled:n||this.state.loading||this.state.error||this.props.schema.checkBox&&!this.state.licenseChecked||!this.state.scrolledDown,onClick:()=>{this.setState({showLicenseDialog:!1});const o=this.onChange(this.props.attr,!0);o instanceof Promise&&o.catch(s=>console.error(`Cannot set value: ${s}`))},color:"primary",variant:"contained",startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Check,null)},this.props.schema.agreeText?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(this.props.schema.agreeText):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Accept license")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{onClick:()=>{this.setState({showLicenseDialog:!1}),setTimeout(()=>this.setState({showLicenseDialog:!0}),2e3)},color:"grey",variant:"contained",startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Close")))):null}}const styles$k={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"}};class ConfigNumber extends ConfigGeneric{updateTimeout;componentDidMount(){super.componentDidMount();let e=ConfigGeneric.getValue(this.props.data,this.props.attr);if(e==null&&(e=""),Array.isArray(e)&&this.props.oContext.multiEdit){e=ConfigGeneric.DIFFERENT_VALUE,this.setState({_value:e,oldValue:e});return}this.setState({_value:e.toString(),oldValue:e.toString()})}static getDerivedStateFromProps(e,n){if(e.schema.min!==void 0&&e.schema.min<0||e.schema.max!==void 0&&e.schema.max<0)return null;const o=ConfigGeneric.getValue(e.data,e.attr);return e.oContext.multiEdit&&n._value===ConfigGeneric.DIFFERENT_VALUE?{_value:ConfigGeneric.DIFFERENT_VALUE}:o==null||n.oldValue===null||n.oldValue===void 0||o.toString()!==parseFloat(n._value).toString()&&o.toString()!==n.oldValue.toString()?{_value:o}:null}checkValue(e){if(e==null||(e=e.toString().trim().replace(",","."),e==="-"))return null;const n=e===""?0:parseFloat(e);return e!==""&&Number.isNaN(n)?"ra_Not a number":e!==""&&window.isFinite(n)?this.props.schema.min!==void 0&&n<this.props.schema.min?"ra_Too small":this.props.schema.max!==void 0&&n>this.props.schema.max?"ra_Too big":e===""||e==="-"||Number.isNaN(n)?"ra_Not a number":null:"ra_Not a number"}renderItem(e,n){var a;const o=Array.isArray(this.state._value)||this.state._value===ConfigGeneric.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0),o){const l=ConfigGeneric.getValue(this.props.data,this.props.attr),d=(l==null?void 0:l.filter(h=>h||h===0).map(h=>({label:h.toString(),value:h})))||[];return d.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Autocomplete,{style:styles$k.indeterminate,fullWidth:!0,freeSolo:!0,value:d[0],getOptionSelected:(h,_)=>h.label===_.label,onChange:(h,_)=>{const p=this.onChange(this.props.attr,_==null?void 0:_.value,()=>{this.setState({_value:_==null?void 0:_.value,oldValue:this.state._value})});p instanceof Promise&&p.catch(u=>console.error(u))},options:d,getOptionLabel:h=>h.label,renderInput:h=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{...h,label:this.getText(this.props.schema.label),variant:"standard",slotProps:{htmlInput:{...h.inputProps,readOnly:this.props.schema.readOnly||!1},input:{endAdornment:this.props.schema.unit?this.getText(this.props.schema.unit,this.props.schema.noTranslation):void 0}},error:!!e,placeholder:this.getText(this.props.schema.placeholder),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n})})}!e&&this.state._value!==null&&this.state._value!==void 0&&this.state._value&&(e=this.checkValue(this.state._value),e&&(e=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(e)));const s=parseFloat(((a=this.state._value)==null?void 0:a.toString().replace(",","."))||"");return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",style:styles$k.control},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{sx:{"& .up-down":{display:"none"},"&:hover .up-down":{display:"block"}},variant:"standard",type:Number.isNaN(s)?"text":this.props.schema.min!==void 0&&this.props.schema.min>=0?"number":"text",fullWidth:!0,slotProps:{htmlInput:{min:this.props.schema.min,max:this.props.schema.max,step:this.props.schema.step,readOnly:this.props.schema.readOnly||!1},input:{endAdornment:this.props.schema.unit?this.getText(this.props.schema.unit,this.props.schema.noTranslation):null}},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!e,disabled:!!n,onChange:l=>{const d=l.target.value,h=this.checkValue(d);h?this.onError(this.props.attr,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(h)):this.onError(this.props.attr),this.setState({_value:d,oldValue:this.state._value},()=>{const _=parseFloat(d.toString().replace(",","."));Number.isNaN(_)?this.onChange(this.props.attr,d.toString().replace(",",".")):this.onChange(this.props.attr,_)})},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:e&&typeof e=="string"?e:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}))}}class ConfigOAuth2 extends ConfigGeneric{authWindow;oid;url;constructor(e){super(e),this.state={...this.state,accessTokens:"",success:!1,blocked:!1,running:!1,pressed:!1},this.url=`https://oauth2.iobroker.in/${e.schema.identifier}?redirect=true`,e.schema.scope&&(this.url+=`&scope=${encodeURIComponent(e.schema.scope)}`),this.oid=`${this.props.oContext.adapterName}.${this.props.oContext.instance}.${this.props.schema.saveTokenIn||"oauth2Tokens"}`}async componentDidMount(){super.componentDidMount(),window.addEventListener?window.addEventListener("message",this.onMessage,!1):window.attachEvent("onmessage",this.onMessage,!1),await this.props.oContext.socket.subscribeState(this.oid,this.onTokensUpdated);const e=await this.props.oContext.socket.getState(this.oid);if(e){const n=JSON.parse(e.val);new Date(n.access_token_expires_on).getTime()>Date.now()&&this.setState({accessTokens:e.val})}}onTokensUpdated=(e,n)=>{if(n!=null&&n.val){const o=JSON.parse(n.val);if(new Date(o.access_token_expires_on).getTime()>Date.now()){this.state.accessTokens!==n.val&&this.setState({accessTokens:n.val});return}}this.setState({accessTokens:""})};componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener?window.removeEventListener("message",this.onMessage,!1):window.detachEvent("onmessage",this.onMessage,!1),this.props.oContext.socket.unsubscribeState(this.oid,this.onTokensUpdated)}saveToken(e){try{e&&!e.startsWith("{")&&(e=atob(e));const n=JSON.parse(e);n.access_token&&n.refresh_token&&n.expires_in&&(n.access_token_expires_on||=new Date(Date.now()+n.expires_in*1e3).toISOString(),this.props.oContext.socket.setState(this.oid,JSON.stringify(n),!0).catch(o=>console.log(`Error occurred: ${o.toString()}`)))}catch(n){console.warn(n)}}onMessage=e=>{var n,o,s;if(e.origin==="https://oauth2.iobroker.in"&&(typeof e.data=="string"&&e.data.startsWith(`${this.props.schema.identifier}-authentication:`)||typeof e.message=="string"&&e.message.startsWith(`${this.props.schema.identifier}-authentication:`))){const a=(e.data||e.message).split(":");a[1]==="success"?(this.setState({accessTokens:a[2],success:!0,pressed:!1},()=>this.saveToken(this.state.accessTokens)),(n=this.authWindow)==null||n.postMessage("close",e.origin),this.authWindow=null):(s=(o=this.props).onError)==null||s.call(o,a[2])}};onOpenUrl(){this.authWindow=window.open(this.url,this.props.schema.identifier),!this.authWindow||this.authWindow.closed||typeof this.authWindow.closed>"u"?this.setState({blocked:!0}):this.setState({pressed:!0})}renderItem(){let e="";if(this.state.accessTokens)try{const s=JSON.parse(this.state.accessTokens);e=new Date(s.access_token_expires_on).toLocaleString()}catch{}let n;this.state.accessTokens?n=this.props.schema.refreshLabel?this.getText(this.props.schema.refreshLabel):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Renew %s access",this.props.schema.identifier[0].toUpperCase()+this.props.schema.identifier.slice(1)):n=this.props.schema.label?this.getText(this.props.schema.label):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Get %s access",this.props.schema.identifier[0].toUpperCase()+this.props.schema.identifier.slice(1));const o=this.getIcon();return React$2.createElement("div",{style:{width:"100%",margin:"0 0 1rem 0"}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{disabled:this.state.running,endIcon:o||React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.CloudUpload,null),variant:"contained",onClick:()=>this.onOpenUrl()},n),this.state.blocked?React$2.createElement("div",{style:{color:"red",fontSize:16,marginTop:20}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please allow popups in your browser for this page!")):null,this.state.accessTokens?React$2.createElement("div",{style:{color:"green",fontSize:16,marginTop:20}},this.props.alive?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Successfully authorized. Token valid till %s and will be automatically renewed.",e):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Successfully authorized. Token valid till %s but it can expire as the instance is not running.",e)):null,this.state.pressed?React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{width:"100%",margin:"1rem 0 1rem 0"}},React$2.createElement("span",{style:{marginRight:4}},`${AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_If the button above does not work, you can authorize manually this app by visiting this url")}`,":"),React$2.createElement("br",null),React$2.createElement("a",{target:this.props.schema.identifier,href:this.url,rel:"noreferrer"},this.url)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{value:this.state.accessTokens,label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Enter the code from that page here"),variant:"standard",onChange:s=>{let a=s.target.value;a&&!a.startsWith("{")&&(a=atob(a));try{const l=JSON.parse(a);l.access_token&&(l.access_token_expires_on=new Date(Date.now()+(l.expires_in-10)*1e3).toISOString(),this.setState({accessTokens:JSON.stringify(l)},()=>this.saveToken(this.state.accessTokens)))}catch{}},fullWidth:!0})):null)}}const styles$j={flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}};class ConfigObjectId extends ConfigGeneric{componentDidMount(){super.componentDidMount();const{data:e,attr:n}=this.props,o=ConfigGeneric.getValue(e,n)||"";this.setState({value:o,initialized:!0})}renderItem(e,n){if(!this.state.initialized)return null;const o=this.props.oContext.socket,{schema:s,attr:a}=this.props,{value:l,showSelectId:d}=this.state;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0,variant:"standard"},s.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,{shrink:!0},this.getText(s.label)):null,React$2.createElement("div",{style:styles$j.flex},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,value:l,error:!!e,disabled:n,placeholder:this.getText(s.placeholder),label:this.getText(s.label),helperText:this.renderHelp(s.help,s.helpLink,s.noTranslation),onChange:h=>{const _=h.target.value;this.setState({value:_},()=>this.onChange(a,_))}}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{color:"grey",disabled:n,style:styles$j.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},"...")),d?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogSelectID,{imagePrefix:this.props.oContext.imagePrefix===void 0?"../..":this.props.oContext.imagePrefix,dialogName:`admin.${this.props.oContext.adapterName}`,filterFunc:s.filterFunc,themeType:this.props.oContext.themeType,theme:this.props.oContext.theme,types:s.types?Array.isArray(s.types)?s.types:[s.types]:void 0,customFilter:s.customFilter,filters:s.filters,socket:o,selected:l,root:s.root,onClose:()=>this.setState({showSelectId:!1}),onOk:h=>this.setState({showSelectId:!1,value:h},()=>this.onChange(a,h))}):null)}}const styles$i={fullWidth:{width:"100%",display:"inline-block"},halfWidth1:{width:"calc(50% - 5px)",display:"inline-block",marginRight:8},halfWidth2:{width:"calc(50% - 5px)",display:"inline-block"}},PASSWORD_PLACEHOLDER="____ppp____";class ConfigPassword extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({_repeat:e?PASSWORD_PLACEHOLDER:"",_visible:!1,value:e?PASSWORD_PLACEHOLDER:"",_notEqual:!1})}onChangePassword(e,n){e===void 0&&(e=this.state.value),n===void 0&&(n=this.state._repeat);const o=!!this.props.schema.repeat&&n!==e;this.setState({value:e,_repeat:n,_notEqual:o},()=>{if(o)this.onError(this.props.attr,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Passwords are not equal!"));else{this.onError(this.props.attr);const s=this.onChange(this.props.attr,e);s instanceof Promise&&s.catch(a=>this.onError(this.props.attr,a))}})}renderItem(e,n){if(this.state._notEqual===void 0)return null;const o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state.value!==PASSWORD_PLACEHOLDER?"text":"password",value:this.state.value,error:!!e||this.state._notEqual,disabled:!!n,onChange:s=>this.onChangePassword(s.target.value),label:this.getText(this.props.schema.label),slotProps:{input:{autoComplete:"new-password",endAdornment:this.state.value&&this.state.value!==PASSWORD_PLACEHOLDER&&this.props.schema.visible&&!n&&!this.props.schema.readOnly?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputAdornment,{position:"end"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"large",tabIndex:-1,onClick:s=>{s.preventDefault(),s.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.VisibilityOff,null):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Visibility,null))):void 0},htmlInput:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1}},helperText:this.state._notEqual?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)});if(this.props.schema.repeat&&!this.props.schema.readOnly){const s=this.state._visible?null:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,type:"password",value:this.state._repeat,error:!!e||this.state._notEqual,disabled:!!n,onChange:a=>this.onChangePassword(void 0,a.target.value),label:`${this.getText(this.props.schema.label)} (${AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_repeat")})`,slotProps:{input:{autoComplete:"new-password"},htmlInput:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0}},helperText:this.state._notEqual?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)});return React$2.createElement("div",{style:styles$i.fullWidth},React$2.createElement("div",{style:styles$i.halfWidth1},o),React$2.createElement("div",{style:styles$i.halfWidth2},s))}return o}}class ConfigPattern extends ConfigGeneric{renderItem(e,n){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,disabled:!!n,slotProps:{input:{endAdornment:this.props.schema.copyToClipboard?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{tabIndex:-1,size:"small",onClick:()=>{AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.copyToClipboard(this.getPattern(this.props.schema.pattern,null,this.props.schema.noTranslation)),window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Copied"))}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.IconCopy,null)):void 0}},value:this.getPattern(this.props.schema.pattern,null,!0),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const styles$h={warning:{"& .Mui-error":{color:"orange"}}};class ConfigPort extends ConfigGeneric{updateTimeout;async componentDidMount(){super.componentDidMount();let e=ConfigGeneric.getValue(this.props.data,this.props.attr);e==null&&(e=""),this.setState({_value:e.toString(),oldValue:e.toString()});const n=await this.props.oContext.socket.getAdapterInstances(),o=`system.adapter.${this.props.oContext.adapterName}.${this.props.oContext.instance}`,s=await this.props.oContext.socket.getObject(o),a=s==null?void 0:s.common.host,l=[];n.forEach(d=>{var _,p,u,m;if(!d||d._id===o||d.common.host!==a||!((_=d.native)!=null&&_.bind))return;if(d!=null&&d.native&&d.native.secure&&d.native.leEnabled&&d.native.leUpdate){const g=parseInt(d.native.leCheckPort||d.native.lePort,10);g&&l.push({name:`${d._id.replace("system.adapter.","")} (LE)`,port:g,v6bind:d.native.bind.includes(":")?d.native.bind:d.native.v6bind,bind:d.native.bind,enabled:!!((p=d.common)!=null&&p.enabled)})}const h=parseInt((u=d==null?void 0:d.native)==null?void 0:u.port,10);h&&l.push({name:d._id.replace("system.adapter.",""),bind:d.native.bind,v6bind:d.native.bind.includes(":")?d.native.bind:d.native.v6bind,port:h,enabled:!!((m=d.common)!=null&&m.enabled)})}),this.setState({ports:l})}static getDerivedStateFromProps(e,n){const o=ConfigGeneric.getValue(e.data,e.attr);return o==null||n.oldValue===null||n.oldValue===void 0||o.toString()!==parseInt(n._value,10).toString()&&o.toString()!==n.oldValue.toString()?{_value:o}:null}checkValue(e){if(e==null)return null;const n=this.props.schema.min===void 0?20:this.props.schema.min,o=this.props.schema.max||65535;e=e.toString().trim();const s=e===""?0:parseInt(e,10);return e!==""&&Number.isNaN(s)?"ra_Not a number":e!==""&&window.isFinite(Number(e))?s<n?"ra_Too small":s>o?"ra_Too big":e===""||e==="-"||Number.isNaN(s)?"ra_Not a number":null:"ra_Not a number"}renderItem(e,n){this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0);const o=this.props.schema.min===void 0?20:this.props.schema.min,s=this.props.schema.max||65535;let a;if(this.state.ports){const l=parseInt(this.state._value,10);if(l){const d=this.props.data.bind,h=this.state.ports.filter(p=>{if(p.port!==l)return!1;const u=p.bind,m=p.v6bind;return!d||!u||d==="0.0.0.0"||u==="0.0.0.0"||d==="::"||m==="::"||d===u||d===m});let _=h.findIndex(p=>p.port===l&&p.enabled);if(_!==-1){const p=this.state.ports.find(u=>u.port===l&&u.enabled&&h.some(m=>m.name===u.name&&m.bind===u.bind));e=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Port is already used by %s",(p==null?void 0:p.name)||h[_].name)}else if(_=h.findIndex(p=>p.port===l&&!p.enabled),_!==-1){a=!0;const p=this.state.ports.find(u=>u.port===l&&!u.enabled&&h.some(m=>m.name===u.name&&m.bind===u.bind));e=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Port could be used by %s",(p==null?void 0:p.name)||h[_].name)}}}return!e&&this.state._value!==null&&this.state._value!==void 0&&(e=this.checkValue(this.state._value),typeof e=="string"&&(e=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(e))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",type:"number",fullWidth:!0,slotProps:{htmlInput:{min:o,max:s,readOnly:this.props.schema.readOnly||!1}},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!e,disabled:!!n,sx:a?styles$h.warning:void 0,onChange:l=>{const d=Number(l.target.value.toString().replace(/[^0-9]/g,"")).toString(),h=this.checkValue(d);h?this.onError(this.props.attr,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(h)):this.onError(this.props.attr),this.setState({_value:d,oldValue:this.state._value},()=>{if(d.trim()===parseInt(d,10).toString()){const _=this.onChange(this.props.attr,parseInt(d,10)||0);_ instanceof Promise&&_.catch(p=>{console.error(`Cannot set value for ${this.props.attr}: ${p}`)})}})},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:e&&typeof e=="string"?e:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}class ConfigRoom extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.props.oContext.socket.getEnums("rooms").then(n=>{const o=Object.keys(n).map(s=>({value:this.props.schema.short?s.replace("enum.rooms.",""):s,label:this.getText(n[s].common.name),obj:n[s]}));this.props.schema.allowDeactivate!==!1&&o.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.NONE_LABEL),value:ConfigGeneric.NONE_VALUE}),this.setState({value:e,selectOptions:o})}).catch(n=>console.error(`Cannot get enums: ${n}`))}renderItem(e,n){if(!this.state.selectOptions)return null;const o=this.state.selectOptions.find(s=>s.value===this.state.value);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",fullWidth:!0},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:!!n,value:this.state.value||"_",renderValue:()=>o?o.obj?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.TextWithIcon,{value:o.obj,themeType:this.props.oContext.themeType,lang:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()}):o.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:s.value,value:s.value,style:s.value===ConfigGeneric.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.TextWithIcon,{value:s.obj,themeType:this.props.oContext.themeType,lang:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage()}):s.label))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$g={noMargin:{"&>div":{marginTop:0}}};class ConfigSelect extends ConfigGeneric{initialValue="";componentDidMount(){super.componentDidMount();let e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.props.schema.multiple&&(typeof e=="string"?e=[e]:e==null&&(e=[]));const n=[];(this.props.schema.options||[]).forEach(o=>{const s=o;Array.isArray(s.items)?(n.push({label:this.getText(o.label,this.props.schema.noTranslation),value:o.value,group:!0,color:o.color}),s.items.forEach(a=>n.push({label:this.getText(a.label,this.props.schema.noTranslation),value:a.value,hidden:a.hidden,color:o.color}))):n.push({label:this.getText(o.label,this.props.schema.noTranslation),value:o.value,hidden:o.hidden,color:o.color})}),Array.isArray(e)&&!this.props.schema.multiple?(this.initialValue=[...e],n.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE}),this.setState({value:ConfigGeneric.DIFFERENT_VALUE,selectOptions:n})):this.setState({value:e,selectOptions:n})}_getValue(){let e=this.state.value===null||this.state.value===void 0?ConfigGeneric.getValue(this.props.data,this.props.attr):this.state.value;return this.props.schema.multiple&&(typeof e=="string"?e=[e]:e==null&&(e=[])),e}renderItem(e,n){if(!this.state.selectOptions)return null;const o=(this.state.selectOptions||[]).filter(l=>l.hidden?this.props.custom?!this.executeCustom(l.hidden,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(l.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),s=this._getValue(),a=this.props.schema.multiple?null:o.find(l=>l.value==s);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",fullWidth:!0,sx:this.props.table!==void 0&&styles$g.noMargin,id:`jsonSelect_${this.props.attr}_${this.props.index||this.props.index===0?this.props.index:""}`},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,multiple:this.props.schema.multiple,disabled:!!n,value:s||"_",renderValue:l=>this.props.schema.multiple?React$2.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:.5}},l.map(d=>{const h=o.find(_=>_.value===d);if(h||this.props.schema.showAllValues!==!1){const _=(h==null?void 0:h.label)||d;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Chip,{key:d,label:_})}return null})):a!=null&&a.color?React$2.createElement("div",{style:{color:a.color}},(a==null?void 0:a.label)===void 0?l:a.label):(a==null?void 0:a.label)===void 0?l:a.label,onChange:l=>{this.setState({value:l.target.value==="_"?"":l.target.value},()=>{let d;this.state.value===ConfigGeneric.DIFFERENT_VALUE?d=this.onChange(this.props.attr,this.initialValue):d=this.onChange(this.props.attr,this.state.value),d instanceof Promise&&d.catch(h=>console.error(h))})}},o.map((l,d)=>l.group?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListSubheader,{key:d,style:{color:l.color}},l.label):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:d,value:l.value,style:l.value===ConfigGeneric.DIFFERENT_VALUE?{opacity:.5}:{}},this.props.schema.multiple?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{checked:s.includes(l.value),onClick:()=>{const h=JSON.parse(JSON.stringify(this._getValue())),_=s.indexOf(l.value);_!==-1?h.splice(_,1):(h.push(l.value),h.sort()),this.setState({value:h},()=>this.onChange(this.props.attr,h))}}):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListItemText,{primary:l.label,style:{color:l.color}})))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$f={menuPaper:{maxHeight:800}};class ConfigSelectSendTo extends ConfigGeneric{initialized=!1;localContext;askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData,null,!0);try{e=JSON.parse(n)}catch{console.error(`Cannot parse json data: ${n}`)}}e===void 0&&(e=null),this.setState({running:!0},()=>{this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.schema.command||"send",e).then(n=>this.setState({list:n,running:!1})).catch(n=>{console.error(`Cannot send command: ${n}`)})})}else{const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({value:e,running:!1})}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(n=>e[n]=ConfigGeneric.getValue(this.props.data,n)),JSON.stringify(e)}_getValue(){let e=this.state.value===null||this.state.value===void 0?ConfigGeneric.getValue(this.props.data,this.props.attr):this.state.value;return this.props.schema.multiple&&(typeof e=="string"?e=[e]:e==null&&(e=[])),e}renderItem(e,n){if(this.props.alive){const l=this.getContext();(l!==this.localContext||!this.initialized)&&(this.localContext=l,setTimeout(()=>this.askInstance(),this.initialized?300:50),this.initialized=!0)}const o=this._getValue();if(!this.props.alive||!this.state.running&&!Array.isArray(this.state.list))return this.props.schema.multiple||this.props.schema.manual===!1?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cannot retrieve options, as instance is offline"):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,value:o,error:!!e,disabled:!!n,onChange:l=>{const d=l.target.value;this.setState({value:d},()=>this.onChange(this.props.attr,(d||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),slotProps:{input:{endAdornment:this.state.value&&!this.props.schema.noClearButton?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputAdornment,{position:"end"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{tabIndex:-1,size:"small",onClick:()=>this.setState({value:""},()=>this.onChange(this.props.attr,""))},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null))):null}}});if(this.state.running)return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.CircularProgress,{size:"24"});const s=this.state.list.filter(l=>l.hidden?this.props.custom?!this.executeCustom(l.hidden,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(l.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),a=s.find(l=>l.value===o);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",fullWidth:!0},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,multiple:this.props.schema.multiple,disabled:!!n,sx:{"&.MuiSelect-paper":this.props.schema.multiple?styles$f.menuPaper:void 0},value:o,renderValue:l=>this.props.schema.multiple?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},l.map(d=>{const h=s.find(_=>_.value===d);if(h||this.props.schema.showAllValues!==!1){const _=(h==null?void 0:h.label)||d;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Chip,{key:d,label:_})}return null})):this.getText((a==null?void 0:a.label)||l,this.props.schema.noTranslation),onChange:l=>{const d=this.onChange(this.props.attr,l.target.value);d instanceof Promise&&d.catch(h=>console.error(`Cannot set value: ${h}`))}},s.map((l,d)=>l.group?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListSubheader,{key:d},this.getText(l.label,this.props.schema.noTranslation)):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:d,value:l.value},this.props.schema.multiple?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{checked:o.includes(l.value),onClick:()=>{const h=JSON.parse(JSON.stringify(this._getValue())),_=o.indexOf(l.value);_!==-1?h.splice(_,1):(h.push(l.value),h.sort()),this.setState({value:h},()=>this.onChange(this.props.attr,h))}}):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListItemText,{primary:l.label})))),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const styles$e={fullWidth:{width:"100%"}};function ip2int(t){return t.split(".").reduce((e,n)=>(e<<8)+parseInt(n,10),0)>>>0}function findNetworkAddressOfHost(t,e){var s,a;const n=(a=(s=t==null?void 0:t.native)==null?void 0:s.hardware)==null?void 0:a.networkInterfaces;if(!n)return null;let o;return Object.keys(n).forEach(l=>n[l].forEach(d=>{d.internal||e.includes(":")&&d.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&d.family!=="IPv4"||(d.family==="IPv4"&&!d.address.startsWith("172")&&(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/))?o=d.address:o||(d.family==="IPv4"&&e.includes(".")&&(ip2int(e)&ip2int(d.netmask),ip2int(d.address)&ip2int(d.netmask)),o=d.address))})),o||Object.keys(n).forEach(l=>n[l].forEach(d=>{d.internal||e.includes(":")&&d.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&d.family!=="IPv4"||(d.family==="IPv6"&&(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/))?o=d.address:o||(d.family==="IPv4"&&e.includes(".")&&(ip2int(e)&ip2int(d.netmask),ip2int(d.address)&ip2int(d.netmask)),o=d.address))})),o||Object.keys(n).forEach(l=>{n[l].forEach(d=>{d.internal||e.includes(":")&&d.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&d.family!=="IPv4"||(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/),o=d.address)})}),o||Object.keys(n).forEach(l=>{n[l].forEach(d=>{d.internal||(o=d.address)})}),o}class ConfigSendto extends ConfigGeneric{async componentDidMount(){var n;super.componentDidMount();let e=window.location.hostname;if(this.props.schema.openUrl){const o=await this.props.oContext.socket.getCurrentInstance(),s=await this.props.oContext.socket.getObject(`system.adapter.${o}`);if(s){const a=await this.props.oContext.socket.getObject(`system.host.${(n=s==null?void 0:s.common)==null?void 0:n.host}`);if(a){const l=findNetworkAddressOfHost(a,window.location.hostname);if(l)e=`${l}:${window.location.port}`;else{console.warn(`Cannot find suitable IP in host ${s.common.host} for ${s._id}`);return}}}}await new Promise(o=>{this.setState({_error:"",_message:"",hostname:e},o)}),this.props.schema.onLoaded&&this._onClick()}renderErrorDialog(){return this.state._error?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogError,{text:this.state._error,onClose:()=>this.setState({_error:""})}):null}renderMessageDialog(){return this.state._message?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogMessage,{text:this.state._message,onClose:()=>this.setState({_message:""})}):null}_onClick(){this.props.oContext.onCommandRunning(!0),this.setState({running:!0});const e=`${window.location.protocol}//${window.location.host}${window.location.pathname.replace(/\/index\.html$/,"")}`,n=`${window.location.protocol}//${this.state.hostname.split(":").length>3?`[${this.state.hostname}]`:this.state.hostname}${window.location.pathname.replace(/\/index\.html$/,"")}`;let o=this.props.schema.data;if(o===void 0&&this.props.schema.jsonData){const a=this.getPattern(this.props.schema.jsonData,{_origin:e,_originIp:n,...this.props.data},!0);try{o=JSON.parse(a)}catch{console.error(`Cannot parse json data: ${a}`)}}o===void 0&&(o=null),this.props.schema.openUrl&&!o&&(o={_origin:e,_originIp:n});let s;this.props.schema.timeout&&(s=setTimeout(()=>{this.props.oContext.onCommandRunning(!1),this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Request timed out"),running:!1})},parseInt(this.props.schema.timeout,10)||1e4)),this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.schema.command||"send",o).then(async a=>{var l,d,h,_,p;if(s&&(clearTimeout(s),s=void 0),a!=null&&a.error)if(this.props.schema.error&&this.props.schema.error[a.error]){let u=this.getText(this.props.schema.error[a.error]);(l=a.args)==null||l.forEach(m=>u=u.replace("%s",m)),this.setState({_error:u})}else this.setState({_error:a.error?typeof a.error=="string"?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(a.error):JSON.stringify(a.error):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Error")});else{if(a!=null&&a.command){(h=(d=this.props.oContext).onBackEndCommand)==null||h.call(d,a.command);return}if(a!=null&&a.reloadBrowser&&this.props.schema.reloadBrowser)window.location.reload();else if(a!=null&&a.openUrl&&this.props.schema.openUrl)window.open(a.openUrl,a.window||this.props.schema.window||"_blank");else if(a!=null&&a.result&&((_=this.props.schema.result)!=null&&_[a.result])){let u=this.getText(this.props.schema.result[a.result]);(p=a.args)==null||p.forEach(m=>u=u.replace("%s",m)),window.alert(u)}if(a!=null&&a.native&&this.props.schema.useNative){for(const[u,m]of Object.entries(a.native))await this.onChangeAsync(u,m);setTimeout(()=>this.props.oContext.forceUpdate(Object.keys(a.native),this.props.data),300)}else a!=null&&a.result?window.alert(typeof a.result=="object"?JSON.stringify(a.result):a.result):window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Ok"));a!=null&&a.saveConfig&&this.props.onChange(null,null,null,!0)}}).catch(a=>{this.props.schema.error&&this.props.schema.error[a.toString()]?this.setState({_error:this.getText(this.props.schema.error[a.toString()])}):this.setState({_error:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(a.toString())||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Error")})}).then(()=>{this.props.oContext.onCommandRunning(!1),this.setState({running:!1})})}renderDialogConfirm(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let n=null;return e.type==="warning"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Warning,null):e.type==="error"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,null):e.type==="info"&&(n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Info,null)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{title:this.getText(e.title)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),icon:n||void 0,onClose:o=>this.setState({confirmDialog:!1},()=>o&&this._onClick())})}renderItem(e,n){const o=this.getIcon();return React$2.createElement("div",{style:styles$e.fullWidth},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",style:{...styles$e.fullWidth,...this.props.schema.controlStyle||void 0},disabled:n||!this.props.alive,startIcon:o,title:this.props.alive?this.getText(this.props.schema.title)||"":AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Instance is not alive"),onClick:()=>{this.props.schema.confirm?this.setState({confirmDialog:!0}):this._onClick()}},this.props.schema.showProcess&&this.state.running?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation)),this.renderErrorDialog(),this.renderMessageDialog())}}const styles$d={fullWidth:{width:"100%"}};class ConfigSetState extends ConfigGeneric{async _onClick(){var o,s;let e=this.props.schema.val;if(typeof e=="string"&&e.includes("${")){e=this.getPattern(e,null,!0);const a=await this.props.oContext.socket.getObject(this.props.schema.id);((o=a==null?void 0:a.common)==null?void 0:o.type)==="number"?e=parseFloat(e):((s=a==null?void 0:a.common)==null?void 0:s.type)==="boolean"&&(e=e==="true"||e===!0||e==="1"||e===1)}const n=(this.props.schema.id||"").replace(/%INSTANCE%/g,(this.props.oContext.instance||0).toString());try{await this.props.oContext.socket.setState(n,{val:e,ack:!!this.props.schema.ack}),this.props.schema.okText&&window.alert(this.getText(this.props.schema.okText))}catch(a){this.props.schema.error&&this.props.schema.error[a.toString()]?window.alert(this.getText(this.props.schema.error[a.toString()])):window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(a.toString())||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Error"))}}renderDialogConfirm(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let n=null;return e.type==="warning"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Warning,null):e.type==="error"?n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,null):e.type==="info"&&(n=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Info,null)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{title:this.getText(e.title)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),icon:n,onClose:o=>this.setState({confirmDialog:!1},()=>o&&this._onClick())})}renderItem(e,n){const o=this.getIcon();return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",style:styles$d.fullWidth,disabled:n,onClick:async()=>{this.props.schema.confirm?this.setState({confirmDialog:!0}):await this._onClick()},startIcon:o||void 0},this.getText(this.props.schema.label,this.props.schema.noTranslation))}}const styles$c={fullWidth:{width:"100%"},slider:{marginLeft:10,marginRight:10,width:"calc(100% - 20px)"}};class ConfigSlider extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({_value:e})}static getDerivedStateFromProps(e,n){if(e.schema.min!==void 0&&e.schema.min<0||e.schema.max!==void 0&&e.schema.max<0)return null;const o=ConfigGeneric.getValue(e.data,e.attr);return o==null||o.toString()!==parseFloat(n._value).toString()?{_value:o}:null}renderItem(e,n){const o=this.props.schema.min||0,s=this.props.schema.max||100,a=this.props.schema.unit?this.getText(this.props.schema.unit,this.props.schema.noTranslation):"",l=[{value:o,label:o+a},{value:s,label:s+a}];return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{style:styles$c.fullWidth},this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,{gutterBottom:!0},this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Slider,{style:styles$c.slider,value:this.state._value,getAriaValueText:d=>d+a,step:this.props.schema.step||(s-o)/100,valueLabelDisplay:"auto",marks:l,min:o,max:s,disabled:!!n,onChange:d=>{const h=d.target.value;this.setState({_value:h},()=>this.onChange(this.props.attr,h))}}),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}function getIconByName(t,e){return t==="edit"||t==="rename"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Edit,{style:e}):t==="delete"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,{style:e}):t==="refresh"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Refresh,{style:e}):t==="newDevice"||t==="new"||t==="add"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Add,{style:e}):t==="discover"||t==="search"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Search,{style:e}):t==="unpairDevice"||t==="unpair"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.LinkOff,{style:e}):t==="pairDevice"||t==="pair"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Link,{style:e}):t==="identify"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.NotListedLocation,{style:e}):t==="play"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.PlayArrow,{style:e}):t==="stop"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Stop,{style:e}):t==="pause"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Pause,{style:e}):t==="forward"||t==="next"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.FastForward,{style:e}):t==="rewind"||t==="previous"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.FastRewind,{style:e}):t==="lamp"||t==="light"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Lightbulb,{style:e}):t==="backlight"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Fluorescent,{style:e}):t==="dimmer"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.WbIncandescent,{style:e}):t==="socket"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Power,{style:e}):t==="settings"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Settings,{style:e}):t==="users"||t==="group"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Group,{style:e}):t==="user"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Person,{style:e}):t==="qrcode"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.QrCode,{style:e}):t==="connection"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Wifi,{style:e}):t==="no-connection"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.WifiOff,{style:e}):t==="visible"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Visibility,{style:e}):null}function valueBlinkOnce$1(t,e){return typeof e=="string"?{"@keyframes newStateAnimationOnceColor":{"0%":{color:e},"100%":{color:t.palette.mode==="dark"?"#fff":"#000"}},animation:"newStateAnimationOnceColor 2s ease-in-out"}:{"@keyframes newStateAnimationOnce":{"0%":{color:"#00f900"},"80%":{color:t.palette.mode==="dark"?"#518851":"#008000"},"100%":{color:t.palette.mode==="dark"?"#fff":"#000"}},animation:"newStateAnimationOnce 2s ease-in-out"}}class ConfigState extends ConfigGeneric{controlTimeout=null;delayedUpdate={timer:null,value:null};getObjectID(){let e=(this.props.schema.oid||"").toString();return e.includes("${")&&(e=this.getPattern(e,null,!0)),this.props.schema.foreign?e:`${this.props.schema.system?"system.adapter.":""}${this.props.oContext.adapterName}.${this.props.oContext.instance||0}.${e}`}async componentDidMount(){var o,s;super.componentDidMount();const e=await this.props.oContext.socket.getObject(this.getObjectID());if((o=e==null?void 0:e.common)!=null&&o.states&&!this.props.schema.options){if(Array.isArray((s=e==null?void 0:e.common)==null?void 0:s.states)){const a={};e.common.states.forEach((l,d)=>{a[d.toString()]=l}),e.common.states=a}Object.keys(e.common.states).length||(e.common.states=void 0)}const n=this.props.schema.control||this.detectType(e);try{const a=await this.props.oContext.socket.getState(this.getObjectID());this.setState({stateValue:a?a.val:null,controlType:n,obj:e},async()=>{await this.props.oContext.socket.subscribeState(this.getObjectID(),this.onStateChanged)})}catch(a){console.error(`Cannot get state ${this.getObjectID()}: ${a}`),this.setState({controlType:n,obj:e})}}componentWillUnmount(){super.componentWillUnmount(),this.props.oContext.socket.unsubscribeState(this.getObjectID(),this.onStateChanged),this.delayedUpdate.timer&&(clearTimeout(this.delayedUpdate.timer),this.delayedUpdate.timer=null),this.controlTimeout&&(clearTimeout(this.controlTimeout),this.controlTimeout=null,this.props.oContext.socket.setState(this.getObjectID(),this.state.stateValue,!1).catch(e=>console.error(`Cannot control value: ${e.toString()}`)))}onStateChanged=(e,n)=>{let o=n?n.val:null;this.state.controlType==="button"||this.state.controlType==="switch"?(o=!!o,this.state.stateValue!==o&&this.setState({stateValue:o})):o!==null&&(this.state.controlType==="slider"||this.state.controlType==="number")?(o=parseFloat(o),console.log(`${Date.now()} Received new value: ${o}`),o!==this.state.stateValue?(this.delayedUpdate.timer&&(clearTimeout(this.delayedUpdate.timer),this.delayedUpdate.timer=null),this.delayedUpdate.value=o,this.delayedUpdate.timer=setTimeout(()=>{this.setState({stateValue:this.delayedUpdate.value})},500)):this.delayedUpdate.timer&&(clearTimeout(this.delayedUpdate.timer),this.delayedUpdate.timer=null)):this.state.stateValue.toString()!==o.toString()&&this.setState({stateValue:o})};detectType(e){if(e||={},e.common||={},e.common.type==="boolean"){if(this.props.schema.controlled!==!1){if(e.common.read===!1||this.props.schema.controlled===!0)return"button";if(e.common.write||this.props.schema.controlled===!0)return"switch"}return"text"}return e.common.type==="number"&&this.props.schema.controlled!==!1?e.common.write||this.props.schema.controlled===!0?e.common.states||this.props.schema.options?"select":e.common.max!==void 0?"slider":"input":"text":e.common.write&&this.props.schema.controlled!==!1?e.common.states||this.props.schema.options?"select":"input":"text"}getNormalizedStates(){let e;return this.props.schema.options?e=this.props.schema.options.map(n=>typeof n=="string"?{value:n,label:this.getText(n,this.props.schema.noTranslation)}:{value:n.value,label:this.getText(n.label,this.props.schema.noTranslation),color:n.color}):this.state.obj.common.states?(e=[],Object.keys(this.state.obj.common.states).forEach(n=>{e.push({value:n,label:this.getText(this.state.obj.common.states[n],this.props.schema.noTranslation)})})):e=[],e}renderItem(e,n){var s,a,l,d,h;if(!this.state.obj)return null;let o;if(this.state.controlType==="select"||!this.state.controlType&&(this.state.obj.common.type==="number"||this.state.obj.common.type==="string")&&this.state.obj.common.write!==!1&&(this.props.schema.options||this.state.obj.common.states)){const _=this.getNormalizedStates(),p=_.find(u=>u.value===this.state.stateValue);o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{fullWidth:!0},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,"$",this.getText(this.props.schema.label)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{value:this.state.stateValue,disabled:!!this.props.schema.readOnly||n,onChange:u=>{this.setState({stateValue:u.target.value},()=>{let m=this.state.stateValue;this.state.obj.common.type==="number"&&(m=parseFloat(m.toString().replace(",","."))),this.props.oContext.socket.setState(this.getObjectID(),m,!1)})},renderValue:u=>p!=null&&p.color?React$2.createElement("div",{style:{color:p.color}},p.label):u},_.map(u=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{key:(u.value??"").toString(),value:u.value,style:{color:u.color}},"$",u.label))))}else if(this.state.controlType==="button"||!this.state.controlType&&this.state.obj.common.type==="boolean"&&(this.state.obj.common.write&&this.state.obj.common.read===!1||(s=this.state.obj.common.role)!=null&&s.includes("button"))){let _=null;this.props.schema.falseImage&&(_=getIconByName(this.props.schema.falseImage));const p=this.getText(this.props.schema.falseText||this.props.schema.label,this.props.schema.noTranslation);!p&&_?o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{style:this.props.schema.falseTextStyle,disabled:!!this.props.schema.readOnly,onClick:async()=>{this.props.schema.confirm?this.setState({confirmDialog:!0,confirmCallback:async u=>{u&&await this.props.oContext.socket.setState(this.getObjectID(),this.props.schema.buttonValue!==void 0?this.props.schema.buttonValue:!0,!1)}}):await this.props.oContext.socket.setState(this.getObjectID(),this.props.schema.buttonValue!==void 0?this.props.schema.buttonValue:!0,!1)}},_):o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:this.props.schema.variant||"contained",startIcon:_,style:this.props.schema.falseTextStyle,disabled:n||!!this.props.schema.readOnly,onClick:async()=>{this.props.schema.confirm?this.setState({confirmDialog:!0,confirmCallback:async u=>{u&&await this.props.oContext.socket.setState(this.getObjectID(),this.props.schema.buttonValue!==void 0?this.props.schema.buttonValue:!0,!1)}}):await this.props.oContext.socket.setState(this.getObjectID(),this.props.schema.buttonValue!==void 0?this.props.schema.buttonValue:!0,!1)}},p||this.getObjectID().split(".").pop())}else if(this.state.controlType==="input"||!this.state.controlType&&this.state.obj.common.write&&this.state.obj.common.type==="string")o=React$2.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",gap:8,alignItems:"baseline"}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{style:{flex:1},value:this.state.stateValue,variant:"standard",disabled:!!this.props.schema.readOnly||n,slotProps:{input:{endAdornment:this.getText(this.props.schema.unit,this.props.schema.noTranslation)||this.state.obj.common.unit||void 0},htmlInput:{readOnly:!!this.props.schema.readOnly}},onKeyUp:_=>{this.props.schema.setOnEnterKey&&_.key==="Enter"&&this.props.oContext.socket.setState(this.getObjectID(),this.state.stateValue,!1)},onChange:_=>{this.setState({stateValue:_.target.value},()=>{this.props.schema.setOnEnterKey||this.props.schema.showEnterButton||(this.controlTimeout&&clearTimeout(this.controlTimeout),this.controlTimeout=setTimeout(async()=>{this.controlTimeout=null;let p=this.state.stateValue;this.state.obj.common.type==="number"&&(p=parseFloat(p.toString().replace(",","."))),await this.props.oContext.socket.setState(this.getObjectID(),p,!1)},this.props.schema.controlDelay||0))})},label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}),this.props.schema.showEnterButton&&!this.props.schema.readOnly&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:"outlined",disabled:n,onClick:()=>{this.props.oContext.socket.setState(this.getObjectID(),this.state.stateValue,!1)}},this.getText(typeof this.props.schema.showEnterButton=="string"?this.props.schema.showEnterButton:"Set")));else{let _;this.props.schema.size==="normal"?_=16:this.props.schema.size==="large"?_=20:typeof this.props.schema.size=="number"&&(_=this.props.schema.size);let p=this.getText(this.props.schema.label,this.props.schema.noTranslation);const u={display:"flex",alignItems:"center",fontSize:_||"1rem",gap:8};this.props.schema.narrow||(u.width="100%",u.justifyContent="space-between"),p.trim()&&!p.trim().endsWith(":")&&this.props.schema.addColon&&(p=`${p.trim()}:`);let m;this.props.schema.blinkOnUpdate&&(m=valueBlinkOnce$1(this.props.oContext.theme,this.props.schema.blinkOnUpdate));let g;this.props.schema.labelIcon&&(g=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:this.props.schema.labelIcon,style:{marginRight:4}}));let y;if(p&&g?y=React$2.createElement("div",{style:{whiteSpace:"nowrap"}},g,p):p?y=React$2.createElement("div",{style:{whiteSpace:"nowrap"}},p):g&&(y=g),this.state.controlType==="switch"||!this.state.controlType&&this.state.obj.common.type==="boolean"&&(this.state.obj.common.write&&this.state.obj.common.read!==!1||(a=this.state.obj.common.role)!=null&&a.includes("switch"))){let v=null;const S=this.getText(this.props.schema.falseText,this.props.schema.noTranslation);this.props.schema.falseImage&&(v=getIconByName(this.props.schema.falseImage,S?{marginLeft:8}:void 0));let b=null;const C=this.getText(this.props.schema.trueText,this.props.schema.noTranslation);this.props.schema.trueImage&&(b=getIconByName(this.props.schema.trueImage,C?{marginRight:8}:void 0)),o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Switch,{checked:!!this.state.stateValue,disabled:!!this.props.schema.readOnly||n,onChange:async()=>{this.props.schema.confirm?this.setState({confirmDialog:!0,confirmCallback:async w=>{w&&await this.props.oContext.socket.setState(this.getObjectID(),!this.state.stateValue,!1)}}):await this.props.oContext.socket.setState(this.getObjectID(),!this.state.stateValue,!1)}}),(S||v||C||b)&&(o=React$2.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:14}},React$2.createElement("span",{style:this.props.schema.falseTextStyle},S,v),o,React$2.createElement("span",{style:this.props.schema.trueTextStyle},b,C))),y&&(o=React$2.createElement("div",{style:u},y,o))}else if(this.state.controlType==="slider"||!this.state.controlType&&this.state.obj.common.type==="number"&&(this.state.obj.common.write&&(this.state.obj.common.max!==void 0||this.state.obj.common.unit==="%")||(l=this.state.obj.common.role)!=null&&l.includes("slider")||(d=this.state.obj.common.role)!=null&&d.includes("dimmer")||(h=this.state.obj.common.role)!=null&&h.includes("blind"))){let v=null;const S=this.getText(this.props.schema.falseText,this.props.schema.noTranslation);this.props.schema.falseImage&&(v=getIconByName(this.props.schema.falseImage,S?{marginLeft:8}:void 0));let b=null;const C=this.getText(this.props.schema.trueText,this.props.schema.noTranslation);this.props.schema.trueImage&&(b=getIconByName(this.props.schema.trueImage,C?{marginRight:8}:void 0));const w=this.props.schema.min===void 0?this.state.obj.common.min||0:this.props.schema.min,A=this.props.schema.max===void 0?this.state.obj.common.max===void 0?100:this.state.obj.common.max:this.props.schema.max,$=this.props.schema.step===void 0?this.state.obj.common.step||1:this.props.schema.step;o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Slider,{style:{width:"100%",flexGrow:1},min:w,max:A,disabled:!!this.props.schema.readOnly||n,step:$,value:this.state.stateValue,valueLabelDisplay:"auto",valueLabelFormat:E=>`${E}${this.getText(this.props.schema.unit,this.props.schema.noTranslation)||this.state.obj.common.unit||""}`,onChange:(E,D)=>{this.setState({stateValue:D},()=>{this.controlTimeout&&clearTimeout(this.controlTimeout),this.controlTimeout=setTimeout(async()=>{console.log(`${Date.now()} Send new value: ${this.state.stateValue}`),this.controlTimeout=null,await this.props.oContext.socket.setState(this.getObjectID(),this.state.stateValue,!1)},this.props.schema.controlDelay||0)})}}),(S||v||C||b)&&(o=React$2.createElement("div",{style:{display:"flex",width:"100%",flexGrow:1,alignItems:"center"}},React$2.createElement("span",{style:{marginRight:16,...this.props.schema.falseTextStyle}},S,v),o,React$2.createElement("span",{style:{marginLeft:16,...this.props.schema.trueTextStyle}},b,C))),y&&(o=React$2.createElement("div",{style:u},y,o))}else if(this.state.obj.common.type==="number"&&this.state.obj.common.write&&!this.state.controlType){const v=this.props.schema.min===void 0?this.state.obj.common.min===void 0?void 0:this.state.obj.common.min:this.props.schema.min,S=this.props.schema.max===void 0?this.state.obj.common.max===void 0?void 0:this.state.obj.common.max:this.props.schema.max,b=this.props.schema.step===void 0?this.state.obj.common.step===void 0?void 0:this.state.obj.common.step:this.props.schema.step;o=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",style:{width:"100%"},value:this.state.stateValue,type:"number",disabled:!!this.props.schema.readOnly||n,slotProps:{htmlInput:{min:v,max:S,step:b,readOnly:!!this.props.schema.readOnly},input:{endAdornment:this.getText(this.props.schema.unit,this.props.schema.noTranslation)||this.state.obj.common.unit||void 0}},onChange:C=>{this.setState({stateValue:C.target.value},()=>{this.controlTimeout&&clearTimeout(this.controlTimeout),this.controlTimeout=setTimeout(async()=>{this.controlTimeout=null;const w=parseFloat(this.state.stateValue);await this.props.oContext.socket.setState(this.getObjectID(),w,!1)},this.props.schema.controlDelay||0)})},label:this.getText(this.props.schema.label,this.props.schema.noTranslation),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}else if(this.state.obj.common.type==="boolean"){let v=null,S,b;this.state.stateValue?(S=this.getText(this.props.schema.trueText,this.props.schema.noTranslation),this.props.schema.trueImage&&(v=getIconByName(this.props.schema.falseImage,S?{marginRight:8}:void 0)),b=this.props.schema.trueTextStyle):(S=this.getText(this.props.schema.falseText,this.props.schema.noTranslation),this.props.schema.falseImage&&(v=getIconByName(this.props.schema.falseImage,S?{marginLeft:8}:void 0)),b=this.props.schema.falseTextStyle),b=Object.assign(u,b),o=React$2.createElement("div",{style:b},y,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{style:{display:"flex",alignItems:"center",gap:8},sx:m,key:this.props.schema.blinkOnUpdate?S:void 0},v,S||(this.state.stateValue?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_true"):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_false"))))}else{const v=this.getText(this.props.schema.unit,this.props.schema.noTranslation)||this.state.obj.common.unit;let S=this.state.stateValue;if(S!=null&&(this.props.schema.options||this.state.obj.common.states)){const A=this.getNormalizedStates().find($=>$.value===S);A&&(S=A.label)}let b,C;this.state.controlType==="html"?(C=(S||"").toString(),b=React$2.createElement("span",{dangerouslySetInnerHTML:{__html:S}})):this.state.stateValue===null?(b="null",C=b):this.state.stateValue===void 0?(b="undefined",C=b):(b=S.toString(),C=b),o=React$2.createElement("div",{style:u},y,React$2.createElement("div",{style:{display:"flex",alignItems:"baseline",gap:4}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{sx:m,key:this.props.schema.blinkOnUpdate?C:void 0},b),v?React$2.createElement("span",{style:{opacity:.7,fontSize:"smaller"}},v):null))}}return o}}const styles$b={fullWidth:t=>({width:"100%",backgroundColor:t.palette.mode==="dark"?"#FFF":"#000",borderStyle:"hidden"}),primary:t=>({backgroundColor:t.palette.primary.main}),secondary:t=>({backgroundColor:t.palette.secondary.main})};class ConfigStaticDivider extends ConfigGeneric{renderItem(){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"hr",sx:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.oContext.theme,styles$b.fullWidth,this.props.schema.color==="primary"?styles$b.primary:this.props.schema.color==="secondary"?styles$b.secondary:{backgroundColor:this.props.schema.color||(this.props.oContext.themeType==="dark"?"#333":"#ddd")},{height:this.props.schema.color?this.props.schema.height||2:this.props.schema.height||1})})}}const styles$a={header:t=>({width:"100%",background:t.palette.primary.main,color:t.palette.primary.contrastText,padding:"4px !important",borderRadius:"3px",marginBlockEnd:0,marginBlockStart:0})};class ConfigStaticHeader extends ConfigGeneric{renderItem(){let e="h5";switch((this.props.schema.size||5).toString()){case"1":e="h1";break;case"2":e="h2";break;case"3":e="h3";break;case"4":e="h4";break;case"5":default:e="h5";break}return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:e,sx:styles$a.header},this.getText(this.props.schema.label||this.props.schema.text,this.props.schema.noTranslation))}}class ConfigStaticImage extends ConfigGeneric{renderItem(){let e=this.props.schema.src;return e&&!e.startsWith(".")&&!e.startsWith("http")&&!e.startsWith(`adapter/${this.props.oContext.adapterName}/`)&&!e.startsWith(`./adapter/${this.props.oContext.adapterName}/`)&&(e=`adapter/${this.props.oContext.adapterName}/${e}`),React$2.createElement("img",{src:e,style:{cursor:this.props.schema.href?"pointer":void 0,width:"100%",height:"100%"},onClick:this.props.schema.href?()=>this.props.schema.href&&window.open(this.props.schema.href,"_blank"):null,alt:""})}}function valueBlinkOnce(t,e,n){return typeof n=="string"?{"@keyframes newValueAnimationOnceColor":{"0%":{color:e?`${n} !important`:n},"100%":{color:t.palette.mode==="dark"?e?"#fff !important":"#fff":e?"#000 !important":"#000"}},animation:"newValueAnimationOnceColor 2s ease-in-out"}:{"@keyframes newValueAnimationOnce":{"0%":{color:e?"#00f900 !important":"#00f900"},"80%":{color:t.palette.mode==="dark"?e?"#518851 !important":"#518851":e?"#008000 !important":"#008000"},"100%":{color:t.palette.mode==="dark"?e?"#fff !important":"#fff":e?"#000 !important":"#000"}},animation:"newValueAnimationOnce 2s ease-in-out"}}function valueBlink(t,e){return typeof e=="string"?{"@keyframes blinkAnimationColor":{"0%":{color:e},"100%":{color:t.palette.mode==="dark"?"#fff":"#000"}},animation:"blinkAnimationColor 2s ease-in-out infinite"}:{"@keyframes blinkAnimation":{"0%":{color:"#00f900"},"80%":{color:t.palette.mode==="dark"?"#518851":"#008000"},"100%":{color:t.palette.mode==="dark"?"#fff":"#000"}},animation:"blinkAnimation 2s ease-in-out infinite"}}const styles$9={label:{fontWeight:"bold",whiteSpace:"nowrap"},valueImage:{maxHeight:"100%"},valueAndUnit:{display:"flex",gap:4,alignItems:"baseline"},value:{},unit:{fontSize:"smaller",opacity:.7}};class ConfigStaticInfo extends ConfigGeneric{renderItem(e){let n=this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation);this.props.schema.addColon&&typeof n=="string"&&!n.trim().endsWith(":")&&(n=`${n.trim()}:`),n&&(n.includes("<a ")||n.includes("<br")||n.includes("<b>")||n.includes("<i>"))&&(n=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.renderTextWithA(n));let o;this.props.schema.size==="normal"?o=16:this.props.schema.size==="large"?o=20:typeof this.props.schema.size=="number"&&(o=this.props.schema.size);const s={width:"100%",height:"100%",display:"flex",alignItems:"center",position:"relative",fontSize:o};this.props.schema.narrow?s.gap=8:s.justifyContent="space-between";let a,l;this.props.schema.data&&typeof this.props.schema.data=="object"&&this.props.schema.data.en?l=this.getText(this.props.schema.data):typeof this.props.schema.data=="object"||this.props.schema.data===void 0||this.props.schema.data===null?l=JSON.stringify(this.props.schema.data):typeof this.props.schema.data=="number"?(l=this.props.schema.data.toString(),this.props.oContext.isFloatComma&&(l=l.replace(".",","))):(!this.props.schema.booleanAsCheckbox||typeof this.props.schema.data!="boolean")&&(l=this.props.schema.data.toString());let d=!1;if(this.props.schema.booleanAsCheckbox&&typeof this.props.schema.data=="boolean")a=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Checkbox,{checked:!!a,disabled:!0,size:this.props.schema.size==="small"?"small":this.props.schema.size==="large"?"large":void 0});else if(l.startsWith("data:image/"))a=React$2.createElement("div",{style:{...styles$9.value,...styles$9.valueImage,...this.props.schema.styleValue||void 0}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:l}));else{const u={...styles$9.value,...this.props.schema.styleValue||void 0};this.props.schema.html?a=React$2.createElement("div",{style:u,dangerouslySetInnerHTML:{__html:l}}):Array.isArray(this.props.schema.data)?(d=!0,a=React$2.createElement("div",{style:u},this.props.schema.data.map((m,g)=>React$2.createElement("div",{key:g},typeof m=="object"||m===null||m===void 0?JSON.stringify(m):m)))):l.includes(`
`)?(d=!0,a=React$2.createElement("div",{style:u},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.renderTextWithA(l))):a=React$2.createElement("div",{style:u},l)}if(this.props.schema.blinkOnUpdate&&this.props.schema.blink){const u=valueBlinkOnce(this.props.oContext.theme,!0,this.props.schema.blinkOnUpdate),m=valueBlink(this.props.oContext.theme,this.props.schema.blink);a=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{key:l,sx:{...u,...m}},a)}else if(this.props.schema.blinkOnUpdate){const u=valueBlinkOnce(this.props.oContext.theme,!1,this.props.schema.blinkOnUpdate);a=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{key:l,sx:u},a)}else if(this.props.schema.blink){const u=valueBlink(this.props.oContext.theme,this.props.schema.blink);a=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{sx:u},a)}this.props.schema.unit&&(a=React$2.createElement("div",{style:styles$9.valueAndUnit},a,React$2.createElement("div",{style:{...styles$9.unit,...this.props.schema.styleUnit||void 0}},this.getText(this.props.schema.unit,this.props.schema.noTranslation))));let h;this.props.schema.labelIcon&&(h=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:this.props.schema.labelIcon,style:{marginRight:4}}));let _;this.props.schema.copyToClipboard&&(_=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ContentCopy,{className:"staticCopyButton",style:{position:"absolute",top:"calc(50% - 12px)",right:0,cursor:"pointer"},onClick:()=>{AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.copyToClipboard(l),window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Copied"))}}));const p={"& .staticCopyButton":{display:"none"},"& .staticCopyButton:action":{transform:"scale(0.9)"},"&:hover .staticCopyButton":{display:"block"}};return this.props.schema.highlight&&(p["&:hover"]={backgroundColor:this.props.oContext.themeType==="dark"?"#51515180":"#b8b8b880"}),d&&(s.alignItems="top"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"div",style:s,sx:p},React$2.createElement("div",{style:{...styles$9.label,...this.props.schema.styleLabel||void 0}},h,n),a,_)}}const styles$8={fullWidth:{height:"100%",width:"100%"},link:t=>({textDecoration:"underline",color:t.palette.mode==="dark"?"#4dabf5":"#254e72",cursor:"pointer"})};function onLink(t,e,n){let o,s="";t?t.toString().startsWith("#")||t.toString().startsWith("/")?(o=e||"_self",s=t):t.startsWith("http://")||t.startsWith("https://")?(o=e||"_blank",s=t):(s=`#tab-instances/config/${n}/${t}`,o=e||"_self"):(s=`#tab-instances/config/${n}`,o=e||"_self"),o==="_self"?setTimeout(a=>{a.startsWith("#")?window.location.hash=a:a.startsWith("/")?s=`${window.location.protocol}:${window.location.host}${s}`:(a.startsWith("http://")||a.startsWith("https://"))&&(window.location.href=a)},100,s):(s.startsWith("#")?s=`${window.location.protocol}:${window.location.host}${window.location.pathname}${s}`:s.startsWith("/")&&(s=`${window.location.protocol}:${window.location.host}${s}`),window.open(s,o))}class ConfigStaticText extends ConfigGeneric{renderItem(e,n){if(this.props.schema.button){const s=this.getIcon();return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",style:{...styles$8.fullWidth,...this.props.schema.controlStyle||void 0},disabled:n,startIcon:s,onClick:this.props.schema.href?()=>{const a=this.props.schema.href?this.getText(this.props.schema.href,!0):null;a&&(this.props.oContext.onBackEndCommand?this.props.oContext.onBackEndCommand({command:"link",url:a,target:this.props.schema.target,close:this.props.schema.close}):onLink(a,this.props.schema.target,`${this.props.oContext.adapterName}.${this.props.oContext.instance}`))}:null},this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation))}let o=this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation);return o&&(o.includes("<a ")||o.includes("<br")||o.includes("<b>")||o.includes("<i>"))&&(o=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.renderTextWithA(o)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"span",style:{...this.props.schema.controlStyle||void 0},sx:this.props.schema.href?styles$8.link:void 0,onClick:this.props.schema.href?()=>{const s=this.props.schema.href?this.getText(this.props.schema.href,!0):null;s&&(this.props.oContext.onBackEndCommand?this.props.oContext.onBackEndCommand({command:"link",url:s,target:this.props.schema.target||"_blank",close:this.props.schema.close}):onLink(s,this.props.schema.target||"_blank",`${this.props.oContext.adapterName}.${this.props.oContext.instance}`))}:null},o)}}const MAX_SIZE=1024*1024,styles$7={paper:{width:"100%",marginBottom:16,backgroundColor:"rgba(255, 255, 255, 0.1)"},headerText:{width:"100%"},table:{minWidth:750},label:{display:"flex",justifyContent:"space-between"},title:{flex:"1 1 100%"},rootTool:{paddingLeft:16,paddingRight:8},silver:{opacity:.2},flex:{display:"flex",alignItems:"baseline"},filteredOut:{padding:10,display:"flex",textAlign:"center"},buttonEmpty:{width:34,display:"inline-block"},buttonCell:{whiteSpace:"nowrap"},dropZone:{width:"100%",height:100,position:"relative"},dropZoneEmpty:{},uploadDiv:{position:"relative",width:"100%",minHeight:300,opacity:.9,marginTop:30,cursor:"pointer",outline:"none"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"calc(100% - 10px)",height:"calc(100% - 10px)",minHeight:300,position:"relative",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},tooltip:{pointerEvents:"none"}};function objectToArray(t,e,n){e=e||"key";const o=[];return Object.keys(t).forEach(s=>{const a={};a[e]=s,n?(a[n]=t[s],o.push(a)):o.push(Object.assign(a,t[s]))}),o}function arrayToObject(t,e,n){e=e||"key";const o={};return t.forEach(s=>{let a=s[e];a==null&&(a=""),delete s[e],n?o[a]=s[n]:o[a]=s}),o}function encrypt$1(t,e){let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(t[o%t.length].charCodeAt(0)^e.charCodeAt(o));return n}function decrypt$1(t,e){let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(t[o%t.length].charCodeAt(0)^e.charCodeAt(o));return n}class ConfigTable extends ConfigGeneric{filterRefs;typingTimer=null;resizeTimeout=null;secret="Zgfr56gFe87jJOM";refDiv;constructor(e){super(e),this.filterRefs={},this.props.schema.items=this.props.schema.items||[],this.props.schema.items.forEach(n=>{n.filter&&(this.filterRefs[n.attr]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.createRef())}),this.refDiv=React$2.createRef()}async componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr)||[];let n;if(this.props.schema.objKeyName?n=objectToArray(e,this.props.schema.objKeyName,this.props.schema.objValueName):n=e,Array.isArray(n)||(n=[]),this.props.schema.encryptedAttributes){const o=await this.props.oContext.socket.getCompactSystemConfig();this.secret=(o==null?void 0:o.native.secret)||this.secret,e.forEach(s=>{this.props.schema.encryptedAttributes.forEach(a=>{s[a]&&(s[a]=decrypt$1(this.secret,s[a]))})})}this.setState({value:n,visibleValue:null,orderBy:"",order:"asc",iteration:0,filterOn:[],width:0,tableErrors:{}},()=>this.validateUniqueProps())}componentWillUnmount(){this.typingTimer&&(clearTimeout(this.typingTimer),this.typingTimer=null),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),super.componentWillUnmount()}itemTable(e,n,o){var d;const{schema:s}=this.props,a=(d=s.items)==null?void 0:d.find(h=>h.attr===e);if(!a)return null;const l={items:{[e]:a}};return React$2.createElement(ConfigPanel,{oContext:this.props.oContext,alive:this.props.alive,arrayIndex:o,changed:this.props.changed,common:this.props.common,expertMode:this.props.expertMode,custom:!0,data:n,globalData:this.props.data,index:o+this.state.iteration,onChange:(h,_)=>{const p=JSON.parse(JSON.stringify(this.state.value));p[o][h]=_,this.setState({value:p},()=>{this.validateUniqueProps(),this.onChangeWrapper(p,!0)})},onError:this.onTableRowError(o),originalData:this.props.originalData,schema:l,table:!0,themeName:this.props.themeName})}validateUniqueProps(){if(!this.props.schema.uniqueColumns)return;let e=null,n=null;for(const o of this.props.schema.uniqueColumns){const s=[];this.state.value.find(l=>{const d=l[o];return s.includes(d)?(e||(e=o,n=d),this.onError(o,"is not unique"),!0):(s.push(d),!1)})||this.onError(o,null)}e?this.setState({errorMessage:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t('Non-allowed duplicate entry "%s" in column "%s"',n,e)}):this.setState({errorMessage:""})}onTableRowError=e=>(n,o)=>{const s={...this.state.tableErrors};s[e]||(s[e]={}),o?s[e][n]=o:(delete s[e][n],Object.keys(s[e]).length===0&&delete s[e]),this.setState({tableErrors:s}),this.props.onError(n,o)};static descendingComparator(e,n,o){return n[o]<e[o]?-1:n[o]>e[o]?1:0}static getComparator(e,n){return e==="desc"?(o,s)=>ConfigTable.descendingComparator(o,s,n):(o,s)=>-ConfigTable.descendingComparator(o,s,n)}static getFilterValue(e){var n,o,s;return(s=(o=(n=e==null?void 0:e.current)==null?void 0:n.children[0])==null?void 0:o.children[0])==null?void 0:s.value}static setFilterValue(e,n){return e.current.children[0].children[0].value=n}handleRequestSort=(e,n=!1)=>{const{order:o,orderBy:s}=this.state,l=n?o:s===e&&o==="asc"?"desc":"asc",d=this.stableSort(l,e);JSON.stringify(d)!==JSON.stringify(this.state.value)&&this.setState({value:d,order:l,orderBy:e,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,d))};stableSort=(e,n)=>{const{value:o}=this.state,s=ConfigTable.getComparator(e,n),a=o.map((l,d)=>({el:l,index:d}));return a.sort((l,d)=>{const h=s(l.el,d.el);return h!==0?h:l.index-d.index}),a.map(l=>l.el)};renderShowHideFilter(e){return e.filter?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Show/hide filter input"),size:"small",onClick:()=>{const n=[...this.state.filterOn],o=this.state.filterOn.indexOf(e.attr);o===-1?n.push(e.attr):n.splice(o,1),this.setState({filterOn:n},()=>{o&&ConfigTable.getFilterValue(this.filterRefs[e.attr])&&(ConfigTable.setFilterValue(this.filterRefs[e.attr],""),this.applyFilter())})}},this.state.filterOn.includes(e.attr)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.FilterAltOff,null):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.FilterAlt,null)):null}renderImportExportButtons(e){return React$2.createElement(React$2.Fragment,null,!e.noDelete&&e.import?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Import data from %s file","CSV"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.setState({showImportDialog:!0})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.UploadFile,null))):null,e.export?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Export data to %s file","CSV"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onExport()},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Download,null))):null,e.noDelete?null:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{disabled:!0,size:"small"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,null)))}renderAddButton(e){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:e?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cannot add items with set filter"):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Add row"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement("span",null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",color:"primary",disabled:!!e&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Add,null))))}enhancedTableHead(e,n){var l;const{schema:o}=this.props,{order:s,orderBy:a}=this.state;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableHead,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,null,(l=o.items)==null?void 0:l.map((d,h)=>this.renderOneFilter({schema:o,style:{width:d.width},showAddButton:!h&&!o.noDelete,headCell:d,order:s,orderBy:a,index:h,doAnyFilterSet:n})),!o.noDelete&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{style:{paddingLeft:20,paddingRight:20,width:e,textAlign:"right"},padding:"checkbox"},this.renderImportExportButtons(o))))}onDelete=e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(e,1);const o={...this.state.tableErrors};o[e]&&(Object.keys(o[e]).forEach(a=>{this.props.onError(a,void 0)}),delete o[e]);const s={};Object.keys(o).forEach(a=>{const l=parseInt(a,10);l>e?s[l-1]=o[l]:s[l]=o[l]}),this.setState({value:n,iteration:this.state.iteration+1e4,tableErrors:s},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))};onExport(){const{schema:e}=this.props,{value:n}=this.state,s=[e.items.map(d=>d.attr).join(";")];n.forEach(d=>{const h=[];e.items.forEach(_=>{d[_.attr]&&typeof d[_.attr]=="string"&&d[_.attr].includes(";")?h.push(`"${d[_.attr]}"`):h.push(d[_.attr]===void 0||d[_.attr]===null?"":d[_.attr])}),s.push(h.join(";"))});const a=document.createElement("a");a.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(s.join(`
`))}`);const l=new Date;a.setAttribute("download",`${l.getFullYear()}_${(l.getMonth()+1).toString().padStart(2,"0")}_${l.getDate().toString().padStart(2,"0")}_${this.props.oContext.adapterName}.${this.props.oContext.instance}_${this.props.attr}.csv`),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}onImport(e){var l;const n=e.split(`
`).map(d=>d.replace("\r","").trim()),{schema:o}=this.props,s=n.shift().split(";").filter(d=>d&&o.items.find(h=>h.attr===d)),a=[];n.forEach(d=>{const h=d.split(";"),_={};for(let p=0;p<h.length;p++){let u=h[p];if(u.startsWith('"')){for(u=u.substring(1);p<h.length&&!u.endsWith('"');)u+=`;${h[++p]}`;u=u.substring(0,u.length-1)}let m=u;if(u==="true")m=!0;else if(u==="false")m=!1;else if(window.isFinite(u)){const g=this.props.schema.items.find(y=>y.attr===s[p]);g&&g.type==="number"?m=parseFloat(u):m=u}else m=u;_[s[p]]=m}a.push(_)}),a.length?(l=this.state.value)!=null&&l.length?this.setState({showTypeOfImportDialog:a,showImportDialog:!1}):this.setState({value:a,showImportDialog:!1}):window.alert("ra_No data found in file")}onClone=e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),o=JSON.parse(JSON.stringify(n[e]));if(typeof this.props.schema.clone=="string"&&typeof o[this.props.schema.clone]=="string"){let s=1,a=o[this.props.schema.clone];const l=a.match(/(\d+)$/);for(l?(a=a.replace(l[0],""),s=parseInt(l[0],10)+1):a+="_";n.find(d=>d[this.props.schema.clone]===a+s.toString());)s++;o[this.props.schema.clone]=`${o[this.props.schema.clone]}_${s}`}n.splice(e,0,o),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))};onChangeWrapper=(e,n)=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((o,s)=>{this.typingTimer=null;let a;if(this.props.schema.encryptedAttributes){const l=JSON.parse(JSON.stringify(o));if(l.forEach(d=>{this.props.schema.encryptedAttributes.forEach(h=>{d[h]&&(d[h]=encrypt$1(this.secret,d[h]))})}),this.props.schema.objKeyName){const d=arrayToObject(l,this.props.schema.objKeyName,this.props.schema.objValueName);a=this.onChange(this.props.attr,d)}else a=this.onChange(this.props.attr,l)}else if(this.props.schema.objKeyName){const l=arrayToObject(JSON.parse(JSON.stringify(o)),this.props.schema.objKeyName,this.props.schema.objValueName);a=this.onChange(this.props.attr,l)}else a=this.onChange(this.props.attr,o);a instanceof Promise&&a.catch(l=>console.error(`Cannot save: ${l}`)),s&&(this.applyFilter(!1,o),this.handleRequestSort(this.state.orderBy,!0))},300,e,n)};onAdd=()=>{var s;const{schema:e}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),o=(s=e.items)==null?void 0:s.reduce((a,l)=>{let d;return l.defaultFunc?this.props.custom?d=l.defaultFunc?this.executeCustom(l.defaultFunc,this.props.data,this.props.customObj,this.props.oContext.instanceObj,n.length,this.props.data):this.props.schema.default:d=l.defaultFunc?this.execute(l.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:d=l.default===void 0?null:l.default,a[l.attr]=d,a},{});n.push(o),this.setState({value:n},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))};isAnyFilterSet(){return!!Object.keys(this.filterRefs).find(e=>ConfigTable.getFilterValue(this.filterRefs[e]))}applyFilter=(e,n,o)=>{n=n||this.state.value;let s=n.map((a,l)=>l);if(Object.keys(this.filterRefs).forEach(a=>{let l=ConfigTable.getFilterValue(this.filterRefs[a]);!e&&l?(l=l.toLowerCase(),s=s.filter(d=>n[d]&&n[d][a]&&n[d][a].toLowerCase().includes(l))):this.filterRefs[a].current&&ConfigTable.setFilterValue(this.filterRefs[a],"")}),s.length===n.length&&(s=null),s===null&&this.state.visibleValue===null){o&&o();return}JSON.stringify(s)!==JSON.stringify(this.state.visibleValue)?this.setState({visibleValue:s},()=>o&&o()):o&&o()};onMoveUp(e){const n=JSON.parse(JSON.stringify(this.state.value)),o=n[e];n.splice(e,1),n.splice(e-1,0,o),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onMoveDown(e){const n=JSON.parse(JSON.stringify(this.state.value)),o=n[e];n.splice(e,1),n.splice(e+1,0,o),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onDrop(e){const n=e[0],o=new FileReader;o.onabort=()=>console.log("file reading was aborted"),o.onerror=()=>console.log("file reading has failed"),o.onload=()=>{if(n.size>MAX_SIZE){window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_File is too big. Max %sk allowed. Try use SVG.",Math.round(MAX_SIZE/1024)));return}const s=new Uint8Array(o.result).reduce((a,l)=>a+String.fromCharCode(l),"");this.onImport(s)},o.readAsArrayBuffer(n)}showTypeOfImportDialog(){return this.state.showTypeOfImportDialog?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{open:!0,onClose:()=>this.setState({showTypeOfImportDialog:!1}),maxWidth:"md"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogTitle,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Append or replace?")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContent,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Append %s entries or replace existing?",this.state.showTypeOfImportDialog.length)),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogActions,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:"contained",color:"primary",autoFocus:!0,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.value));this.state.showTypeOfImportDialog.forEach(n=>e.push(n)),this.setState({value:e,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(e)))}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Append")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:"contained",color:"secondary",autoFocus:!0,onClick:()=>{const e=this.state.showTypeOfImportDialog;this.setState({value:e,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(e)))}},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Replace")))):null}showImportDialog(){return this.state.showImportDialog?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Dialog,{open:!0,onClose:()=>this.setState({showImportDialog:!1}),sx:{"& .MuiDialog-paper":{minHeight:500}},maxWidth:"md",fullWidth:!0},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogTitle,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Import from %s","CSV")),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogContent,null,React$2.createElement(Dropzone,{multiple:!1,accept:{"text/csv":[".csv"]},maxSize:MAX_SIZE,onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(e,n)=>{this.setState({uploadFile:!1}),e.length?this.onDrop(e):window.alert(n&&n[0]&&n[0].errors&&n[0].errors[0]&&n[0].errors[0].message||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cannot upload"))}},({getRootProps:e,getInputProps:n})=>React$2.createElement("div",{style:{...styles$7.uploadDiv,...this.state.uploadFile==="dragging"?styles$7.uploadDivDragging:void 0,...styles$7.dropZone,...this.state.icon?void 0:styles$7.dropZoneEmpty},...e()},React$2.createElement("input",{...n()}),React$2.createElement("div",{style:styles$7.uploadCenterDiv},React$2.createElement("div",{style:styles$7.uploadCenterTextAndIcon},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.UploadFile,{style:styles$7.uploadCenterIcon}),React$2.createElement("div",{style:styles$7.uploadCenterText},this.state.uploadFile==="dragging"?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Drop file here"):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Place your files here or click here to open the browse dialog"))))))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.DialogActions,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Button,{variant:"contained",onClick:()=>this.setState({showImportDialog:!1}),color:"primary",startIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("Cancel")))):null}renderOneFilter(e){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{key:`${e.headCell.attr}_${e.index}`,style:e.style,align:"left",sortDirection:e.orderBy===e.headCell.attr?e.order:!1},React$2.createElement("div",{style:{...styles$7.flex,...e.schema.showFirstAddOnTop?{flexDirection:"column"}:void 0}},e.showAddButton?this.renderAddButton(e.doAnyFilterSet):null,e.headCell.sort&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableSortLabel,{active:!0,style:e.orderBy!==e.headCell.attr?styles$7.silver:void 0,direction:e.orderBy===e.headCell.attr?e.order:"asc",onClick:()=>this.handleRequestSort(e.headCell.attr)}),e.headCell.filter&&this.state.filterOn.includes(e.headCell.attr)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",ref:this.filterRefs[e.headCell.attr],onChange:()=>this.applyFilter(),title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_You can filter entries by entering here some text"),slotProps:{input:{endAdornment:ConfigTable.getFilterValue(this.filterRefs[e.headCell.attr])&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputAdornment,{position:"end"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",tabIndex:-1,onClick:()=>{ConfigTable.setFilterValue(this.filterRefs[e.headCell.attr],""),this.applyFilter()}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)))}},fullWidth:!0,placeholder:this.getText(e.headCell.title)}):React$2.createElement("span",{style:styles$7.headerText},this.getText(e.headCell.title)),this.renderShowHideFilter(e.headCell)))}enhancedFilterCard(){var l;const{schema:e}=this.props,{order:n,orderBy:o}=this.state;let s;this.props.schema.compact&&(s={paddingTop:1,paddingBottom:1});const a=!e.noDelete&&e.import||e.export;return a||e.items.find(d=>d.sort||d.filter)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{size:{xs:e.xs||12,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Card,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Paper,{style:styles$7.paper},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Accordion,{style:styles$7.paper},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.AccordionSummary,{expandIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ExpandMore,null)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,null,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Filter and Data Actions"))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.AccordionDetails,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Table,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableBody,null,((l=e.items)==null?void 0:l.find(d=>d.sort||d.filter))&&e.items.map((d,h)=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,{key:`${d.attr}_${h}`},this.renderOneFilter({schema:e,style:s,showAddButton:!1,headCell:d,order:n,orderBy:o,index:h,doAnyFilterSet:!1}))),a?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{align:"left",style:s},React$2.createElement("span",{style:styles$7.headerText},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Actions"))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{style:s},this.renderImportExportButtons(e))):null))))))):null}enhancedBottomCard(){const{schema:e}=this.props;let n;this.props.schema.compact&&(n={paddingTop:1,paddingBottom:1});const o=this.isAnyFilterSet();return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{size:{xs:e.xs||12,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Card,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Paper,{style:styles$7.paper},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Table,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableBody,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{colSpan:e.items.length+1,style:n},this.renderAddButton(o))))))))}renderCards(){const{schema:e}=this.props;let{visibleValue:n}=this.state,o;this.props.schema.compact&&(o={paddingTop:1,paddingBottom:1}),n||=this.state.value.map((a,l)=>l);const s=this.isAnyFilterSet();return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{container:!0},this.showImportDialog(),this.showTypeOfImportDialog(),this.enhancedFilterCard(),n.map((a,l)=>{var d;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{key:`${a}_${l}`,size:{xs:e.xs||12,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Card,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Paper,{style:styles$7.paper},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Table,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableBody,null,(d=e.items)==null?void 0:d.map(h=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,{key:`${h.attr}_${a}`},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{align:"left",style:o},React$2.createElement("span",{style:styles$7.headerText},this.getText(h.title))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{align:"left",style:o},this.itemTable(h.attr,this.state.value[a],a)))),!e.noDelete&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{align:"left",style:o},React$2.createElement("span",{style:styles$7.headerText},this.getText("Actions"))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{align:"left",style:o},!s&&!this.state.orderBy?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Move up"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement("span",null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onMoveUp(a),disabled:l===0},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ArrowUpward,null)))):null,!s&&!this.state.orderBy?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Move down"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement("span",null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onMoveDown(a),disabled:l===n.length-1},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ArrowDownward,null)))):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Delete current row"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:this.onDelete(a)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,null))),this.props.schema.clone?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Clone current row"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:this.onClone(a)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ContentCopy,null))):null)))))))}),this.enhancedBottomCard())}renderTable(){const{schema:e}=this.props;let{visibleValue:n}=this.state;n=n||this.state.value.map((a,l)=>l);const o=this.isAnyFilterSet();let s;return this.props.schema.compact&&(s={paddingTop:1,paddingBottom:1}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Paper,{style:styles$7.paper},this.showImportDialog(),this.showTypeOfImportDialog(),e.label?React$2.createElement("div",{style:styles$7.label},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Toolbar,{variant:"dense",style:styles$7.rootTool},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,{style:styles$7.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(e.label)))):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableContainer,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Table,{style:styles$7.table,size:"small"},this.enhancedTableHead(!o&&!this.state.orderBy?120:64,o),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableBody,null,n.map((a,l)=>{var d;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,{hover:!0,key:`${a}_${l}`},(d=e.items)==null?void 0:d.map(h=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{key:`${h.attr}_${a}`,align:"left",style:s},this.itemTable(h.attr,this.state.value[a],a))),!e.noDelete&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{align:"left",style:{...s,...styles$7.buttonCell}},!o&&!this.state.orderBy?l?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Move up"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onMoveUp(a)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ArrowUpward,null))):React$2.createElement("div",{style:styles$7.buttonEmpty}):null,!o&&!this.state.orderBy?l<n.length-1?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Move down"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.onMoveDown(a)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ArrowDownward,null))):React$2.createElement("div",{style:styles$7.buttonEmpty}):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Delete current row"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:this.onDelete(a)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Delete,null))),this.props.schema.clone?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Clone current row"),slotProps:{popper:{sx:styles$7.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:this.onClone(a)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ContentCopy,null))):null))}),!e.noDelete&&n.length>=(e.showSecondAddAt||5)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableRow,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TableCell,{colSpan:e.items.length+1,style:{...s}},this.renderAddButton(o))):null)),!n.length&&this.state.value.length?React$2.createElement("div",{style:styles$7.filteredOut},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,{style:styles$7.title,variant:"h6",id:"tableTitle",component:"div"},AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_All items are filtered out"),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{size:"small",onClick:()=>this.applyFilter(!0)},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)))):null),e.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,{style:{paddingLeft:16}},this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null,this.state.errorMessage?React$2.createElement("div",{style:{display:"flex",padding:"5px"}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Warning,{color:"error"}),React$2.createElement("span",{style:{color:"red",alignSelf:"center"}},this.state.errorMessage)):null)}componentDidUpdate(){var e;(e=this.refDiv.current)!=null&&e.clientWidth&&this.refDiv.current.clientWidth!==this.state.width&&(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var n;this.resizeTimeout=null,this.setState({width:(n=this.refDiv.current)==null?void 0:n.clientWidth})},50))}getCurrentBreakpoint(){return this.state.width?this.state.width<600?"xs":this.state.width<900?"sm":this.state.width<1200?"md":this.state.width<1536?"lg":"xl":"md"}renderItem(){const{schema:e}=this.props;if(!this.state.value||!Array.isArray(this.state.value))return null;const n=this.getCurrentBreakpoint();let o;return n&&(e.useCardFor||["xs"]).includes(n)?o=this.renderCards():o=this.renderTable(),React$2.createElement("div",{ref:this.refDiv,style:{width:"100%"}},o)}}const styles$6={indeterminate:{opacity:.5},label:{width:"100%",fontSize:14,marginBottom:2},helper:{width:"100%",fontSize:12},error:{width:"100%",fontSize:12,color:"#FF0000"}};class ConfigText extends ConfigGeneric{updateTimeout=null;componentDidMount(){super.componentDidMount();let e=ConfigGeneric.getValue(this.props.data,this.props.attr);if(Array.isArray(e)&&this.props.oContext.multiEdit){e=ConfigGeneric.DIFFERENT_VALUE,this.setState({value:e,oldValue:e,jsonError:!1});return}this.setState({value:e,oldValue:e,jsonError:this.validateJson(e)})}validateJson(e){let n=!1;if(this.props.schema.validateJson&&(e||!this.props.schema.allowEmpty))try{JSON.parse(e)}catch(o){console.log("Error in JSON",o),n=!0}return n}static getDerivedStateFromProps(e,n){if(e.oContext.multiEdit&&n.value===ConfigGeneric.DIFFERENT_VALUE)return{value:ConfigGeneric.DIFFERENT_VALUE};let o=ConfigGeneric.getValue(e.data,e.attr);return o!=null&&(o=o.toString()),o==null||o!==n.value&&o!==n.oldValue?{value:o}:null}renderItem(e,n){const o=Array.isArray(this.state.value)||this.state.value===ConfigGeneric.DIFFERENT_VALUE;if(this.props.schema.time){let l="";return typeof this.state.value=="number"?this.state.value&&this.state.value<9466596e5?l=new Date(this.state.value*1e3).toLocaleString():l=new Date(this.state.value).toLocaleString():typeof this.state.value=="string"&&(l=new Date(this.state.value).toLocaleString()),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,value:l,error:!!e||!!this.state.jsonError,disabled:!!n,slotProps:{htmlInput:{readOnly:!0}},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=null,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=null),o){const l=ConfigGeneric.getValue(this.props.data,this.props.attr),d=(l==null?void 0:l.filter(h=>h||h===0).map(h=>({label:h.toString()||"",value:h})))||[];return d.unshift({label:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t(ConfigGeneric.DIFFERENT_LABEL),value:ConfigGeneric.DIFFERENT_VALUE}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Autocomplete,{style:styles$6.indeterminate,fullWidth:!0,value:d[0],onChange:(h,_)=>{const p=_?_.value:"",u=this.onChange(this.props.attr,p,()=>{this.setState({value:p,oldValue:p,jsonError:this.validateJson(_)})});u instanceof Promise&&u.catch(m=>console.error(`Cannot set value: ${m}`))},options:d,getOptionLabel:h=>h.label,renderInput:h=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",...h,error:!!e,placeholder:this.getText(this.props.schema.placeholder),slotProps:{htmlInput:{...h.inputProps,maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1}},label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n})})}let s,a;if((this.props.schema.readOnly||n)&&this.props.schema.copyToClipboard?(this.props.schema.minRows>1&&(a={position:"absolute",right:3,top:20,zIndex:1e3}),s=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{tabIndex:-1,style:a,size:"small",onClick:()=>{AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.copyToClipboard(this.state.value),window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Copied"))}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.IconCopy,null))):!this.props.schema.readOnly&&!n&&this.state.value&&!this.props.schema.noClearButton&&(this.props.schema.minRows>1&&(a={position:"absolute",right:3,top:20,zIndex:1e3}),s=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{style:a,size:"small",tabIndex:-1,onClick:()=>this.setState({value:"",oldValue:this.state.value},()=>this.onChange(this.props.attr,""))},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Close,null)),this.props.schema.minRows<=1&&(s=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputAdornment,{position:"end"},s))),this.props.schema.minRows>1){const l=this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation);return React$2.createElement("div",{style:{width:"100%",position:"relative"}},this.props.schema.label?React$2.createElement("div",{style:styles$6.label},this.getText(this.props.schema.label)):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextareaAutosize,{style:{width:"100%",resize:"vertical",backgroundColor:this.props.oContext.themeType==="dark"?"#363636":"#cccccc",color:this.props.oContext.themeType==="dark"?"#fff":"#111"},minRows:this.props.schema.minRows,maxRows:this.props.schema.maxRows,value:this.state.value===null||this.state.value===void 0?"":this.state.value,disabled:!!n,readOnly:this.props.schema.readOnly||!1,onChange:d=>{const h=d.target.value;this.setState({value:h,oldValue:this.state.value,jsonError:this.validateJson(h)},()=>this.onChange(this.props.attr,h||""))},placeholder:this.getText(this.props.schema.placeholder)}),l||e||this.state.jsonError?React$2.createElement("div",{style:e?styles$6.error:styles$6.helper},e||(this.state.jsonError?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Invalid JSON"):l)):null)}return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e||!!this.state.jsonError,disabled:!!n,slotProps:{htmlInput:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1},input:{endAdornment:s}},onChange:l=>{const d=l.target.value;this.setState({value:d,oldValue:this.state.value,jsonError:this.validateJson(d)},()=>this.onChange(this.props.attr,d))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.state.jsonError?AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Invalid JSON"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const styles$5={fullWidth:{width:"100%"}};class ConfigTextSendTo extends ConfigGeneric{initialized=!1;localContext;askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData,null,!0);try{e=JSON.parse(n)}catch{console.error(`Cannot parse json data: ${n}`)}}e===void 0&&(e=null),this.props.oContext.socket.sendTo(`${this.props.oContext.adapterName}.${this.props.oContext.instance}`,this.props.schema.command||"send",e).then(n=>{if(typeof n=="object"){const o=n;this.setState({text:o.text||"",style:o.style,icon:o.icon,iconStyle:o.iconStyle})}else typeof n=="string"&&this.setState({text:n||""})}).catch(n=>console.error(`Cannot send command: ${n}`))}}getLocalContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(n=>e[n]=ConfigGeneric.getValue(this.props.data,n)),JSON.stringify(e)}renderItem(){if(this.props.alive){const n=this.getLocalContext();(n!==this.localContext||!this.initialized)&&(this.localContext=n,setTimeout(()=>this.askInstance(),this.initialized?300:50),this.initialized=!0)}if(this.state.text===void 0)return null;let e=null;return this.state.icon&&(e=getIconByName(this.state.icon,{marginRight:this.state.text?8:void 0,...this.state.iconStyle||void 0}),e||(e=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:this.state.icon,style:{marginRight:this.state.text?8:void 0,...this.state.iconStyle||void 0}}))),this.props.schema.container==="text"?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,slotProps:{input:{endAdornment:this.props.schema.copyToClipboard?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{tabIndex:-1,size:"small",onClick:()=>{AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.copyToClipboard(this.state.text),window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Copied"))}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.IconCopy,null)):void 0}},value:this.state.text,label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):React$2.createElement("div",{style:{...styles$5.fullWidth,...this.state.style||void 0}},e,this.props.schema.container==="html"?React$2.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.text||""}}):this.state.text)}}class ConfigTimePicker extends ConfigGeneric{componentDidMount(){super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);this.setState({value:e})}renderItem(e,n){const o=this.props.schema.returnFormat!=="HH:mm:ss",s=new Date(Date.parse(`Thu, 01 Jan 1970 ${this.state.value||"00:00:00"}`));return React$2.createElement(TimePicker,{sx:a=>({width:"100%",borderBottom:`1px solid ${a.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${a.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),ampm:this.props.oContext.systemConfig.dateFormat.includes("/"),timeSteps:this.props.schema.timeSteps||this.props.schema.timesteps||{hours:1,minutes:5,seconds:5},format:this.props.schema.format||"HH:mm:ss",disabled:!!n,value:s,onChange:a=>{let l;l=a instanceof Date?a.toTimeString().split(" ")[0]:a.toTimeString(),o&&(l=l.split(":").slice(0,2).join(":")),this.setState({value:l},()=>this.onChange(this.props.attr,this.state.value))},views:this.props.schema.views||["hours","minutes","seconds"],label:this.getText(this.props.schema.label)})}}function convertID2Topic(t,e){let n;return e&&t.substring(0,e.length)===e?n=t.substring(e.length+1):n=t,n=n.replace(/\./g,"/").replace(/_/g," "),n}class ConfigTopic extends ConfigGeneric{componentDidMount(){var n;super.componentDidMount();const e=ConfigGeneric.getValue(this.props.data,this.props.attr);if(!e&&((n=this.props.customObj)!=null&&n._id)){const o=convertID2Topic(this.props.customObj._id,`${this.props.oContext.adapterName}.${this.props.oContext.instance}`);this.setState({value:o})}else this.setState({value:e||""})}renderItem(e,n){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,slotProps:{htmlInput:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0}},value:this.state.value,error:!!e,disabled:n,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),onChange:o=>{const s=o.target.value;this.setState({value:s},()=>this.onChange(this.props.attr,s))}})}}class ConfigUUID extends ConfigGeneric{async componentDidMount(){var n;super.componentDidMount();const e=await this.props.oContext.socket.getObject("system.meta.uuid");this.setState({uuid:((n=e==null?void 0:e.native)==null?void 0:n.uuid)||"unknown"})}renderItem(e,n){return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",fullWidth:!0,error:!!e,disabled:!!n,slotProps:{htmlInput:{readOnly:!0},input:{endAdornment:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{tabIndex:-1,onClick:()=>{AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.copyToClipboard(this.state.uuid),window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Copied %s",this.state.uuid))}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ContentCopy,null))}},value:this.state.uuid||"",label:this.getText(this.props.schema.label)||AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Serial number (UUID)"),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const styles$4={icon:{width:16,height:16,marginRight:8}};class ConfigUser extends ConfigGeneric{componentDidMount(){super.componentDidMount(),this.props.oContext.socket.getUsers().then(e=>{const n={},o=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage();this.props.schema.short?e.forEach(s=>{var a,l;return n[s._id]={color:(a=s.common)==null?void 0:a.color,icon:(l=s.common)==null?void 0:l.icon,name:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getObjectNameFromObj(s,o)}}):e.forEach(s=>{var a,l;return n[s._id.replace(/^system\.user\./,"")]={color:(a=s.common)==null?void 0:a.color,icon:(l=s.common)==null?void 0:l.icon,name:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getObjectNameFromObj(s,o)}}),this.setState({users:n})}).catch(e=>console.error(`Cannot get users: ${e}`))}renderItem(e,n){var s,a;const o=ConfigGeneric.getValue(this.props.data,this.props.attr);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormControl,{variant:"standard",fullWidth:!0},this.state.users&&this.props.schema.label?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.users?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Select,{variant:"standard",error:!!e,disabled:!!n,value:o,renderValue:l=>{var d,h,_;return React$2.createElement("span",null,this.state.users&&((d=this.state.users[l])!=null&&d.icon)?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:this.state.users&&((h=this.state.users[l])==null?void 0:h.icon),style:styles$4.icon}):null,this.state.users&&((_=this.state.users[l])==null?void 0:_.name)||l||"")},style:{color:this.state.users&&((s=this.state.users[o])==null?void 0:s.color)||void 0,backgroundColor:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getInvertedColor(this.state.users&&((a=this.state.users[o])==null?void 0:a.color),this.props.oContext.themeType)},onChange:l=>this.onChange(this.props.attr,l.target.value)},this.state.users&&Object.keys(this.state.users).map(l=>React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{style:{color:this.state.users[l].color||void 0,backgroundColor:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getInvertedColor(this.state.users[l].color,this.props.oContext.themeType)},key:l,value:l},this.state.users[l].icon?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Icon,{src:this.state.users[l].icon,style:styles$4.icon}):null,this.state.users[l].name))):React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.TextField,{variant:"standard",error:!!e,disabled:!!n,value:o,onChange:l=>this.onChange(this.props.attr,l.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}class ConfigQrCode extends ConfigGeneric{async componentDidMount(){super.componentDidMount();const e=await __vitePreload(()=>import("./react-vendor-BDxB2YBA.js").then(n=>n.b),[],import.meta.url);this.setState({QRCode:e.default})}renderItem(){const e=this.state.QRCode;return e?React$2.createElement(e,{value:this.props.schema.data,size:this.props.schema.size,fgColor:this.props.schema.fgColor,bgColor:this.props.schema.bgColor,level:this.props.schema.level}):null}}const components={accordion:ConfigAccordion,alive:ConfigAlive,autocomplete:ConfigAutocomplete,autocompleteSendTo:ConfigAutocompleteSendTo,certCollection:ConfigCertCollection,certificate:ConfigCertificateSelect,certificates:ConfigCertificates,checkbox:ConfigCheckbox,checkDocker:ConfigCheckDocker,checkLicense:ConfigCheckLicense,chip:ConfigChip,chips:ConfigChip,color:ConfigColor,coordinates:ConfigCoordinates,cron:ConfigCRON,custom:ConfigCustom,datePicker:ConfigDatePicker,deviceManager:ConfigDeviceManager,divider:ConfigStaticDivider,file:ConfigFile,fileSelector:ConfigFileSelector,func:ConfigFunc,header:ConfigStaticHeader,image:ConfigImageUpload,imageSendTo:ConfigImageSendTo,infoBox:ConfigInfoBox,instance:ConfigInstanceSelect,interface:ConfigInterface,ip:ConfigIP,jsonEditor:ConfigJsonEditor,language:ConfigLanguage,license:ConfigLicense,number:ConfigNumber,oauth2:ConfigOAuth2,objectId:ConfigObjectId,password:ConfigPassword,pattern:ConfigPattern,port:ConfigPort,qrCode:ConfigQrCode,room:ConfigRoom,select:ConfigSelect,selectSendTo:ConfigSelectSendTo,sendto:ConfigSendto,sendTo:ConfigSendto,setState:ConfigSetState,slider:ConfigSlider,state:ConfigState,staticImage:ConfigStaticImage,staticInfo:ConfigStaticInfo,staticLink:ConfigStaticText,staticText:ConfigStaticText,table:ConfigTable,text:ConfigText,textSendTo:ConfigTextSendTo,timePicker:ConfigTimePicker,topic:ConfigTopic,uuid:ConfigUUID,user:ConfigUser},styles$3={fullWidth:{width:"100%"},paper:{margin:1,width:"auto !important",overflowY:"auto",paddingBottom:1},paperWithIcons:{height:"calc(100vh - 259px) !important"},paperWithoutIcons:{height:"calc(100vh - 235px) !important"},padding:{padding:"10px"},heading:{},primary:t=>({backgroundColor:t.palette.primary.main,color:t.palette.mode==="dark"?"inherit":"#FFF"}),secondary:t=>({backgroundColor:t.palette.secondary.main})};class ConfigPanel extends ConfigGeneric{componentDidMount(){var e;super.componentDidMount(),(e=this.props.schema)!=null&&e.collapsable&&this.setState({expanded:(window._localStorage||window.localStorage).getItem(`${this.props.oContext.adapterName}.${this.props.attr}`)==="true"})}renderItems(e,n){return e?Object.keys(e).map(o=>{if(this.props.oContext.multiEdit&&e[o].noMultiEdit)return null;const s=e[o].type||"panel";let a,l="Use this.props.oContext.socket!";return s==="custom"?(e[o].url?a=ConfigCustom:this.props.oContext.customs&&this.props.oContext.customs[e[o].component]?a=this.props.oContext.customs[e[o].component]:(console.error(`Cannot find custom component: ${e[o].component}`),a=ConfigGeneric),l=this.props.oContext.socket):s==="panel"?a=ConfigPanel:a=components[s]||ConfigGeneric,React$2.createElement(a,{socket:l,globalData:this.props.globalData,oContext:this.props.oContext,key:`${o}_${this.props.index===void 0?"":this.props.index}`,index:this.props.index,changed:this.props.changed,arrayIndex:this.props.arrayIndex,expertMode:this.props.expertMode,commandRunning:this.props.commandRunning,style:styles$3.panel,common:this.props.common,alive:this.props.alive,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,onError:this.props.onError,onChange:this.props.onChange,disabled:n,customObj:this.props.customObj,custom:this.props.custom,schema:e[o],attr:o,table:this.props.table})}):null}render(){const e=this.props.schema;if(!e)return null;const{disabled:n,hidden:o}=this.calculate(e),s=this.props.schema.items,a=this.props.schema.style||{};if(o){if(e.hideOnlyControl){const d=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{size:{xs:e.xs||void 0,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0},sx:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.oContext.theme,{marginBottom:0,textAlign:"left"},a,this.props.oContext.themeType==="dark"&&e.darkStyle)});return e.newLine?React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{flexBasis:"100%",height:0}}),d):d}return null}if(this.props.table)return this.renderItems(s,n);if(this.props.custom)return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{key:`${this.props.attr}_${this.props.index}`,container:!0,style:styles$3.fullWidth,columnSpacing:2,rowSpacing:1,sx:a},this.renderItems(s,n));let l;if(e.collapsable)l=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Accordion,{key:`${this.props.attr}_${this.props.index}`,style:styles$3.fullWidth,expanded:!!this.state.expanded,onChange:()=>{(window._localStorage||window.localStorage).setItem(`${this.props.oContext.adapterName}.${this.props.attr}`,this.state.expanded?"false":"true"),this.setState({expanded:!this.state.expanded})}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.AccordionSummary,{expandIcon:React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.ExpandMore,null),sx:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.oContext.theme,a,this.props.oContext.themeType&&e.darkStyle,e.color==="primary"?styles$3.primary:e.color==="secondary"&&styles$3.secondary,{width:"100%"})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Typography,{style:styles$3.heading},this.getText(e.label))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.AccordionDetails,null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{container:!0,columnSpacing:2,rowSpacing:1,sx:{...a,width:"100%",padding:"10px"}},this.renderItems(s,n))));else{const d=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.oContext.theme,this.props.style,a,{width:"100%"},this.props.isParentTab&&styles$3.paper,this.props.isParentTab&&(this.props.withoutSaveButtons?this.props.withIcons?{height:"calc(100% - 88px) !important"}:{height:"calc(100% - 64px) !important"}:this.props.withIcons?styles$3.paperWithIcons:styles$3.paperWithoutIcons));l=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{component:"div",key:`${this.props.attr}_${this.props.index}`,className:this.props.className,sx:d},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{container:!0,columnSpacing:2,rowSpacing:1,sx:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.getStyle(this.props.oContext.theme,{width:"100%"},this.props.isParentTab&&styles$3.padding,this.props.schema.innerStyle)},this.renderItems(s,n)))}if(!this.props.isParentTab){const d=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Grid2,{title:this.getText(e.tooltip),size:{xs:e.xs||void 0,sm:e.sm||void 0,md:e.md||void 0,lg:e.lg||void 0,xl:e.xl||void 0},sx:{marginBottom:0,textAlign:"left",...a}},l);return e.newLine?React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{flexBasis:"100%",height:0}}),d):d}return l}}const styles$2={tabs:{height:"100%",width:"100%"},panel:{width:"100%",display:"block"},panelWithIcons:{height:"calc(100% - 72px)"},panelWithoutIcons:{height:"calc(100% - 48px)"}};class ConfigTabs extends ConfigGeneric{resizeTimeout=null;refDiv;constructor(e){super(e);let n;if(this.props.root){const o=(window.location.hash||"").replace(/^#/,"").split("/");if(o.length>=3&&o[1]==="config"){const s=o[3],a=parseInt(s,10);s&&a.toString()===s?a>=0&&a<Object.keys(this.props.schema.items).length&&(n=Object.keys(this.props.schema.items)[a]):s&&Object.keys(this.props.schema.items).includes(s)&&(n=s),window.addEventListener("hashchange",this.onHashTabsChanged,!1)}}n===void 0&&(n=(window._localStorage||window.localStorage).getItem(`${this.props.dialogName||"App"}.${this.props.oContext.adapterName}`)||Object.keys(this.props.schema.items)[0],Object.keys(this.props.schema.items).includes(n)||(n=Object.keys(this.props.schema.items)[0])),this.refDiv=React$2.createRef(),Object.assign(this.state,{tab:n,width:0,openMenu:null,tabErrors:{}})}onTabError=(e,n)=>{const o=this.state.tab;if(!o){this.props.onError(e,n);return}const s={...this.state.tabErrors};s[o]||(s[o]={}),n?s[o][e]=n:(delete s[o][e],Object.keys(s[o]).length===0&&delete s[o]),this.setState({tabErrors:s}),this.props.onError(e,n)};hasTabErrors=e=>!!(this.state.tabErrors[e]&&Object.keys(this.state.tabErrors[e]).length>0);componentWillUnmount(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),window.removeEventListener("hashchange",this.onHashTabsChanged,!1),super.componentWillUnmount()}onHashTabsChanged=()=>{const e=(window.location.hash||"").replace(/^#/,"").split("/");if(e.length>3&&e[1]==="config"){const n=e[3],o=parseInt(n,10);let s;o.toString()===n?o>=0&&o<Object.keys(this.props.schema.items).length&&(s=Object.keys(this.props.schema.items)[o]):Object.keys(this.props.schema.items).includes(n)&&(s=n),s!==void 0&&s!==this.state.tab&&((window._localStorage||window.localStorage).setItem(`${this.props.dialogName||"App"}.${this.props.oContext.adapterName}`,s),this.setState({tab:s}))}};getCurrentBreakpoint(){if(!this.state.width)return"md";if(!this.state.initialBreakpoint){let e;return this.state.width<600?e="xs":this.state.width<900?e="sm":this.state.width<1200?e="md":this.state.width<1536?e="lg":e="xl",setTimeout(()=>{this.setState({initialBreakpoint:e})},50),e}return this.state.initialBreakpoint}componentDidUpdate(){var e;!this.state.initialBreakpoint&&((e=this.refDiv.current)!=null&&e.clientWidth)&&this.refDiv.current.clientWidth!==this.state.width&&(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{var n;this.resizeTimeout=null,this.setState({width:(n=this.refDiv.current)==null?void 0:n.clientWidth})},50))}onMenuChange(e){(window._localStorage||window.localStorage).setItem(`${this.props.dialogName||"App"}.${this.props.oContext.adapterName}`,e),this.setState({tab:e},()=>{if(this.props.root){const n=(window.location.hash||"").split("/");n.length>=3&&n[1]==="config"&&(n[3]=this.state.tab,window.location.hash=n.join("/"))}})}render(){const e=this.props.schema.items;let n=!1;const o=[];Object.keys(e).map(l=>{let d;if(e[l].expertMode&&!this.props.expertMode)return;if(this.props.custom){if(this.executeCustom(e[l].hidden,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.index,this.props.globalData))return;d=this.executeCustom(e[l].disabled,this.props.data,this.props.customObj,this.props.oContext.instanceObj,this.props.index,this.props.globalData)}else{if(this.execute(e[l].hidden,!1,this.props.data,this.props.index,this.props.globalData))return;d=this.execute(e[l].disabled,!1,this.props.data,this.props.index,this.props.globalData)}const h=this.getIcon(e[l].icon);n=n||!!h,o.push({icon:h,disabled:d,label:this.getText(e[l].label),name:l})}),o.find(l=>l.name===this.state.tab)||setTimeout(()=>this.setState({tab:o[0].name}),50);const s=this.getCurrentBreakpoint();let a;return s==="xs"&&o.length>2?a=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Toolbar,{style:{top:2,backgroundColor:this.props.oContext.themeType==="dark"?"#222":"#DDD"},variant:"dense"},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.IconButton,{onClick:l=>this.setState({openMenu:l.currentTarget})},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Menu,null)),this.state.openMenu?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Menu,{open:!0,anchorEl:this.state.openMenu,onClose:()=>this.setState({openMenu:null})},o.map(l=>{const d=this.hasTabErrors(l.name);return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.MenuItem,{disabled:l.disabled,key:l.name,onClick:()=>{this.setState({openMenu:null},()=>this.onMenuChange(l.name))},selected:l.name===this.state.tab,sx:d?{color:"error.main"}:void 0},n?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.ListItemIcon,null,l.icon):null,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{sx:{display:"flex",alignItems:"center",gap:.5,width:"100%"}},l.label,d&&React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,{sx:{fontSize:16,color:"error.main"}})))})):null):a=React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tabs,{variant:"scrollable",scrollButtons:"auto",style:this.props.schema.tabsStyle,value:this.state.tab,onChange:(l,d)=>this.onMenuChange(d)},o.map(l=>{const d=this.hasTabErrors(l.name),h=d?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Box,{sx:{display:"flex",alignItems:"center",gap:.5}},l.label,React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Error,{sx:{fontSize:16,color:"error.main"}})):l.label;return React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tab,{id:l.name,wrapped:!0,disabled:l.disabled,key:l.name,value:l.name,iconPosition:this.props.schema.iconPosition||"start",icon:l.icon,label:h,sx:d?{"& .MuiTab-wrapper":{color:"error.main"}}:void 0})})),React$2.createElement("div",{style:styles$2.tabs,ref:this.refDiv},a,React$2.createElement(ConfigPanel,{oContext:this.props.oContext,withoutSaveButtons:this.props.withoutSaveButtons,isParentTab:!0,changed:this.props.changed,key:this.state.tab,expertMode:this.props.expertMode,index:1001,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,commandRunning:this.props.commandRunning,style:{...styles$2.panel,...n?styles$2.panelWithIcons:styles$2.panelWithoutIcons},common:this.props.common,alive:this.props.alive,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,onChange:this.props.onChange,onError:this.onTabError,customObj:this.props.customObj,custom:this.props.custom,schema:e[this.state.tab],table:this.props.table,withIcons:n}))}}const styles$1={root:{width:"100%",height:"100%"}};class JsonConfigComponent extends AdminComponentEasyAccessSet__loadShare__react__loadShare__.Component{forceUpdateHandlers;errorTimeout=null;errorCached=null;oContext;constructor(e){super(e),this.state={originalData:JSON.stringify(this.props.data),changed:!1,errors:{},updateData:this.props.updateData||0,systemConfig:null,alive:!1,commandRunning:!1,schema:JSON.parse(JSON.stringify(this.props.schema))},this.forceUpdateHandlers={},this.buildDependencies(this.state.schema),this.readData()}static getDerivedStateFromProps(e,n){return e.updateData!==n.updateData?{updateData:e.updateData,originalData:JSON.stringify(e.data),schema:JSON.parse(JSON.stringify(e.schema))}:null}static async loadI18n(e,n,o){if(n===!0||n&&typeof n=="string"){const s=AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.getLanguage(),a=typeof n=="string"?n:"i18n";let l=await e.fileExists(`${o}.admin`,`${a}/${s}.json`),d;if(l?d=`${a}/${s}.json`:(l=await e.fileExists(`${o}.admin`,`${a}/${s}/translations.json`),l?d=`${a}/${s}/translations.json`:s!=="en"&&(l=await e.fileExists(`${o}.admin`,`${a}/en.json`),l?d=`${a}/en.json`:(l=await e.fileExists(`${o}.admin`,`${a}/en/translations.json`),l&&(d=`${a}/en/translations.json`)))),d){const h=await e.readFile(`${o}.admin`,d);let _;h.file!==void 0?_=h.file:_=h;try{const p=JSON.parse(_);AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.extendTranslations(p,s)}catch(p){return console.error(`Cannot parse language file "${o}.admin/${d}: ${p}`),""}return d}return console.warn(`Cannot find i18n for ${o} / ${d}`),""}return n&&typeof n=="object"&&AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.extendTranslations(n),""}onCommandRunning=e=>this.setState({commandRunning:e});readData(){this.props.socket.getCompactSystemConfig().then(e=>this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(n=>this.setState({systemConfig:e.common,alive:!!(n&&n.val)},()=>{this.updateContext(!0),this.props.custom||this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAlive)}))).catch(e=>console.error(`Cannot read system config: ${e}`))}onAlive=(e,n)=>{!!(n!=null&&n.val)!==this.state.alive&&this.setState({alive:!!(n!=null&&n.val)})};onChange=(e,n,o,s)=>{if(this.props.onValueChange)this.props.onValueChange(e,n,s),o&&o();else if(e&&this.props.onChange){const a={changed:JSON.stringify(e)!==this.state.originalData};this.setState(a,()=>{this.props.onChange(e,a.changed,s),o&&o()})}else s&&this.props.onChange(null,null,s)};onError=(e,n)=>{this.errorCached=this.errorCached||JSON.parse(JSON.stringify(this.state.errors));const o=this.errorCached;n?o[e]=n:delete o[e],this.errorTimeout&&clearTimeout(this.errorTimeout),JSON.stringify(o)!==JSON.stringify(this.state.errors)?this.errorTimeout=setTimeout(()=>this.setState({errors:this.errorCached},()=>{this.errorTimeout=null,this.errorCached=null,this.props.onError(!!Object.keys(this.state.errors).length)}),50):this.errorCached=null};flatten(e,n){return n=n||{},e.items&&Object.keys(e.items).forEach(o=>{n[o]=e.items[o],this.flatten(e.items[o],n)}),n}buildDependencies(e){const n=this.flatten(e);Object.keys(n).forEach(o=>{var s,a,l,d,h,_,p,u,m,g;(s=n[o].confirm)!=null&&s.alsoDependsOn&&((a=n[o].confirm)==null||a.alsoDependsOn.forEach(y=>{if(!n[y])console.error(`[JsonConfigComponent] Attribute ${y} does not exist!`),y.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${y.replace(/^data\./,"")}" instead of "${y}"`);else{n[y].confirmDependsOn=n[y].confirmDependsOn||[];const v={...n[o],attr:o};v.confirm&&(v.confirm.cancel="Undo"),n[y].confirmDependsOn.push(v)}})),(l=n[o].onChange)!=null&&l.alsoDependsOn&&((d=n[o].onChange)==null||d.alsoDependsOn.forEach(y=>{if(!n[y])console.error(`[JsonConfigComponent] Attribute ${y} does not exist!`),y.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${y.replace(/^data\./,"")}" instead of "${y}"`);else{n[y].onChangeDependsOn=n[y].onChangeDependsOn||[];const v={...n[o],attr:o};n[y].onChangeDependsOn.push(v)}})),(h=n[o].hidden)!=null&&h.alsoDependsOn&&((_=n[o].hidden)==null||_.alsoDependsOn.forEach(y=>{if(!n[y])console.error(`[JsonConfigComponent] Attribute ${y} does not exist!`),y.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${y.replace(/^data\./,"")}" instead of "${y}"`);else{n[y].hiddenDependsOn=n[y].hiddenDependsOn||[];const v={...n[o],attr:o};n[y].hiddenDependsOn.push(v)}})),(p=n[o].label)!=null&&p.alsoDependsOn&&((u=n[o].label)==null||u.alsoDependsOn.forEach(y=>{if(!n[y])console.error(`[JsonConfigComponent] Attribute ${y} does not exist!`),y.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${y.replace(/^data\./,"")}" instead of "${y}"`);else{n[y].labelDependsOn=n[y].labelDependsOn||[];const v={...n[o],attr:o};n[y].labelDependsOn.push(v)}})),(m=n[o].help)!=null&&m.alsoDependsOn&&((g=n[o].help)==null||g.alsoDependsOn.forEach(y=>{if(!n[y])console.error(`[JsonConfigComponent] Attribute ${y} does not exist!`),y.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${y.replace(/^data\./,"")}" instead of "${y}"`);else{n[y].helpDependsOn=n[y].helpDependsOn||[];const v={...n[o],attr:o};n[y].helpDependsOn.push(v)}}))})}updateContext(e){this.oContext={DeviceManager:this.props.DeviceManager,adapterName:this.props.adapterName,changeLanguage:this.changeLanguage,common:this.props.common,customs:this.props.customs,dateFormat:this.props.dateFormat,embedded:this.props.embedded,forceUpdate:this.forceAttrUpdate,imagePrefix:this.props.imagePrefix,instance:this.props.instance,instanceObj:this.props.instanceObj,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,onBackEndCommand:this.props.onBackEndCommand,onCommandRunning:this.onCommandRunning,onValueChange:this.props.onValueChange,registerOnForceUpdate:this.registerOnForceUpdate,socket:this.props.socket,systemConfig:this.state.systemConfig,theme:this.props.theme,themeType:this.props.themeType,_themeName:this.props.themeName,updateData:this.state.updateData},e&&this.forceUpdate()}renderItem(e){return e.type==="tabs"?React$2.createElement(ConfigTabs,{withoutSaveButtons:this.props.withoutSaveButtons,oContext:this.oContext,alive:this.state.alive,changed:this.state.changed,commandRunning:this.state.commandRunning,common:this.props.common,custom:this.props.custom,customObj:this.props.customObj,data:this.props.data,onChange:this.onChange,onError:(n,o)=>this.onError(n,o),originalData:JSON.parse(this.state.originalData),root:!0,schema:e,expertMode:this.props.expertMode,themeName:this.props.themeName}):e.type==="panel"||!e.type?React$2.createElement(ConfigPanel,{withoutSaveButtons:this.props.withoutSaveButtons,oContext:this.oContext,alive:this.state.alive,changed:this.state.changed,commandRunning:this.state.commandRunning,common:this.props.common,custom:this.props.custom,customObj:this.props.customObj,data:this.props.data,expertMode:this.props.expertMode,index:1e3,isParentTab:!this.props.embedded&&!this.props.withoutSaveButtons,onChange:this.onChange,onError:(n,o)=>this.onError(n,o),originalData:JSON.parse(this.state.originalData),root:!0,schema:e,themeName:this.props.themeName}):(console.error(`Unknown item type in root: ${JSON.stringify(e)}`),null)}changeLanguage=()=>{this.forceUpdate()};forceAttrUpdate=(e,n)=>{Array.isArray(e)?e.forEach(o=>this.forceUpdateHandlers[o]&&this.forceUpdateHandlers[o](n)):this.forceUpdateHandlers[e]&&this.forceUpdateHandlers[e](n)};registerOnForceUpdate=(e,n)=>{n?this.forceUpdateHandlers[e]=n:this.forceUpdateHandlers[e]&&delete this.forceUpdateHandlers[e]};render(){return!this.state.systemConfig||!this.oContext?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.LinearProgress,null):(this.oContext._themeName!==this.props.themeName&&(this.oContext._themeName=this.props.themeName,setTimeout(()=>this.updateContext(!0),0)),React$2.createElement("div",{style:{...!this.props.embedded||this.props.withoutSaveButtons?styles$1.root:void 0,...this.props.style,...this.state.schema.style}},this.renderItem(this.state.schema)))}}const styles={root:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},scroll:{height:"calc(100% - 48px)",overflowY:"auto"},exportImportButtons:{position:"absolute",top:5,right:0,zIndex:3},button:{marginRight:"5px"},tooltip:{pointerEvents:"none"}};function decryptLegacy(t,e){let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(t[o%t.length].charCodeAt(0)^e.charCodeAt(o));return n}function encryptLegacy(t,e){let n="";for(let o=0;o<e.length;o++)n+=String.fromCharCode(t[o%t.length].charCodeAt(0)^e.charCodeAt(o));return n}function decrypt(t,e){if(typeof e!="string")return e;if(!e.startsWith("$/aes-192-cbc:")||!/^[0-9a-f]{48}$/.test(t))return decryptLegacy(t,e);const n=e.split(":",3),o=window.CryptoJS.enc.Hex.parse(t),s=window.CryptoJS.enc.Hex.parse(n[1]),a=window.CryptoJS.lib.CipherParams.create({ciphertext:window.CryptoJS.enc.Hex.parse(n[2])}),l=window.CryptoJS.AES.decrypt(a,o,{iv:s});return window.CryptoJS.enc.Utf8.stringify(l)}function encrypt(t,e,n){if(typeof e!="string")return e;if(!/^[0-9a-f]{48}$/.test(t))return encryptLegacy(t,e);let o;o=window.CryptoJS.lib.WordArray.random(128/8);const s=window.CryptoJS.enc.Hex.parse(t),a=window.CryptoJS.AES.encrypt(e,s,{iv:o}).ciphertext;return`$/aes-192-cbc:${window.CryptoJS.enc.Hex.stringify(o)}:${a}`}function loadScript(t,e){var n;return document.getElementById(e)?(n=document.getElementById(e))==null?void 0:n.onload:new Promise(o=>{const s=document.createElement("script");s.setAttribute("id",e),s.onload=o,s.src=t,document.getElementsByTagName("head")[0].appendChild(s)})}let JsonConfig$1=class extends AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Router{fileSubscribed=[];fileLangSubscribed="";secret;constructor(e){super(e),this.state={updateData:0,changed:!1,confirmDialog:!1,theme:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Theme(e.themeName),saveConfigDialog:!1,hash:"_"},this.secret=e.secret||"",this.getInstanceObject().then(n=>this.getConfigFile().then(o=>JsonConfigComponent.loadI18n(this.props.socket,o==null?void 0:o.i18n,this.props.adapterName).then(s=>{s&&(this.fileLangSubscribed||(this.fileLangSubscribed=s,this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange))),n?this.setState({schema:o,data:n.native,common:n.common,hash:MD5(JSON.stringify(o)).toString()}):window.alert(`Instance system.adapter.${this.props.adapterName}.${this.props.instance} not found!`)})))}componentWillUnmount(){super.componentWillUnmount(),this.fileSubscribed.length&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileSubscribed,this.onFileChange),this.fileSubscribed=[]),this.fileLangSubscribed&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange),this.fileLangSubscribed="")}handleFileSelect=e=>{const n=e.target.files[0];if(n){const o=new FileReader;o.onload=s=>{if(!s.target)return;const a=s.target.result;try{const l=JSON.parse(a);this.setState({data:l,changed:JSON.stringify(l)!==JSON.stringify(this.state.originalData)})}catch{window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("[JsonConfig] Failed to parse JSON file"))}},o.readAsText(n)}else window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("[JsonConfig] Failed to open JSON File"))};getExportImportButtons(){return React$2.createElement("div",{style:styles.exportImportButtons},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:this.props.t("Import settings from JSON file"),slotProps:{popper:{sx:styles.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Fab,{size:"small",sx:{"&.MuiFab-root":styles.button},onClick:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("id","files"),e.setAttribute("opacity",0),e.addEventListener("change",n=>this.handleFileSelect(n),!1),e.click()}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Publish,null))),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Tooltip,{title:this.props.t("Export setting to JSON file"),slotProps:{popper:{sx:styles.tooltip}}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.Fab,{size:"small",sx:{"&.MuiFab-root":styles.button},onClick:()=>{this.state.data&&AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Utils.generateFile(`${this.props.adapterName}.${this.props.instance}.json`,this.state.data)}},React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__.Publish,{style:{transform:"rotate(180deg)"}}))))}onFileChange=async(e,n,o)=>{var s;if(e===`${this.props.adapterName}.admin`&&o){if(n===this.fileLangSubscribed)try{await JsonConfigComponent.loadI18n(this.props.socket,(s=this.state.schema)==null?void 0:s.i18n,this.props.adapterName),this.setState({hash:`${this.state.hash}1`})}catch{}else if(this.fileSubscribed.includes(n))try{const a=await this.getConfigFile(this.fileSubscribed[0]);this.setState({schema:a,hash:MD5(JSON.stringify(a)).toString()})}catch{}}};async getInstanceObject(){var e;try{const n=await this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);if(Array.isArray(n.encryptedNative)){if(!this.secret){const o=await this.props.socket.getSystemConfig();await loadScript("../../lib/js/crypto-js/crypto-js.js","crypto-js"),this.secret=o.native.secret}return(e=n.encryptedNative)==null||e.forEach(o=>{n.native[o]&&(n.native[o]=decrypt(this.secret,n.native[o]))}),n}return n}catch(n){window.alert(`[JsonConfig] Cannot read instance object: ${n}`)}return null}renderDialogConfirm(){return this.state.confirmDialog?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please confirm"),text:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Some data are not stored. Discard?"),ok:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Discard"),cancel:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),onClose:e=>this.setState({confirmDialog:!1},()=>e&&AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Router.doNavigate(null))}):null}async scanForInclude(e,n){if(typeof e["#include"]=="string"){const s=await this._getConfigFile(e["#include"],[...n]);return delete e["#include"],s&&(e={...e,...s}),e}const o=Object.keys(e);for(let s=0;s<o.length;s++)e[o[s]]&&typeof e[o[s]]=="object"&&(e[o[s]]=await this.scanForInclude(e[o[s]],n));return e}async getConfigFile(e){return this._getConfigFile(e)}async _getConfigFile(e,n){if(e=e||"jsonConfig.json5",n=n||[],n.includes(e))return window.alert(`[JsonConfig] Circular reference in file: ${e} => ${n.join(" => ")}`),null;n.push(e);try{await this.props.socket.fileExists(`${this.props.adapterName}.admin`,e)||(e="jsonConfig.json");const s=await this.props.socket.readFile(`${this.props.adapterName}.admin`,e);let a="",l="";if(s.file!==void 0&&(l=s.file),typeof l=="string")a=l;else if(l.type==="Buffer"){let d="";const h=new Uint8Array(l.data),_=h.byteLength;for(let p=0;p<_;p++)d+=String.fromCharCode(h[p]);a=d}this.fileSubscribed.includes(e)||(this.fileSubscribed.push(e),await this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,e,this.onFileChange));try{return await this.scanForInclude(lib.parse(a),n)}catch(d){window.alert("[JsonConfig] Cannot parse json5 config!"),console.log(d)}}catch(o){this.state.schema||window.alert(`[JsonConfig] Cannot read file "${e}: ${o}`)}return null}renderSaveConfigDialog(){return this.state.saveConfigDialog?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.DialogConfirm,{title:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Please confirm"),text:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("Save configuration?"),ok:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Save"),cancel:AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("ra_Cancel"),onClose:e=>this.setState({saveConfigDialog:!1},()=>e&&this.onSave(!0))}):null}findAttr(e,n){if(n=n||this.state.schema,n!=null&&n.items){if(e in n.items)return n.items[e];for(const o of Object.values(n.items)){const s=this.findAttr(e,o);if(s)return s}}return null}postProcessing(e,n,o){if(o=o||this.state.schema,!e){console.error(`Data is empty in postProcessing: ${n}, ${JSON.stringify(o)}`);return}const s=e[n];if(o.items)if(o.type==="table"){const a=s;if(!Array.isArray(a))return;for(const l of a)for(const d of o.items)this.postProcessing(l,d.attr,d)}else for(const[a,l]of Object.entries(o.items)){if(l.type==="panel"||l.type==="tabs"||l.type==="accordion")return;this.postProcessing(e,a,l)}else if(n&&typeof s=="string")if(o.type==="text")o.trim!==!1&&(e[n]=s.trim());else if(o.type==="ip")e[n]=s.trim();else if(o.type==="number"){const a=parseFloat(s.toString().replace(",","."));o.min!==void 0&&a<o.min?e[n]=o.min:o.max!==void 0&&a>o.max?e[n]=o.max:e[n]=a}else if(o.type==="port"){const a=parseInt(s.toString(),10);o.min!==void 0&&a<o.min?e[n]=o.min:o.max!==void 0&&a>o.max&&(e[n]=o.max),e[n]!==0&&a<20?e[n]=20:a>65535?e[n]=65535:e[n]=a}else o.type==="checkbox"&&(e[n]=e[n]===!0||e[n]==="true"||e[n]==="on"||e[n]===1||e[n]==="1")}async onSave(e,n){if(e){const o=await this.getInstanceObject();if(!o){console.error("Something went wrong: may be no connection?"),window.alert("Something went wrong: may be no connection?");return}if(!this.state.data||!this.state.schema)return;const s={};for(const l of Object.keys(this.state.data)){const d=this.findAttr(l);(!d||!d.doNotSave||d.type==="state")&&!l.startsWith("_")?ConfigGeneric.setValue(o.native,l,this.state.data[l]):(ConfigGeneric.setValue(o.native,l,null),s[l]=this.state.data[l])}try{const l=JSON.parse(JSON.stringify(o));if(Array.isArray(l.encryptedNative)){await loadScript("../../lib/js/crypto-js/crypto-js.js","crypto-js");for(const d of l.encryptedNative)l.native[d]&&(l.native[d]=encrypt(this.secret,l.native[d]))}await this.props.socket.setObject(l._id,l)}catch(l){window.alert(`[JsonConfig] Cannot set object: ${l}`)}const a={...o.native,...s};console.log(a),this.setState({changed:!1,data:a,updateData:this.state.updateData+1,originalData:a},()=>n&&AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Router.doNavigate(null))}else this.state.changed?this.setState({confirmDialog:!0}):AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.Router.doNavigate(null)}componentDidUpdate(e,n){n.changed!==this.state.changed&&this.props.configStored(!this.state.changed)}async componentDidMount(){const e=`${window.location.protocol}//${window.location.host}${window.location.pathname}validate_config/${this.props.adapterName}`;console.log(`fetch ${e}`),await fetch(e)}render(){return!this.state.data||!this.state.schema?React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__.LinearProgress,null):React$2.createElement("div",{style:styles.root},this.renderDialogConfirm(),this.getExportImportButtons(),this.renderSaveConfigDialog(),React$2.createElement(JsonConfigComponent,{key:this.state.hash,style:styles.scroll,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,adapterName:this.props.adapterName,instance:this.props.instance,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat,schema:this.state.schema,common:this.state.common,expertMode:this.props.expertMode,data:this.state.data,updateData:this.state.updateData,onError:e=>this.setState({error:e}),onChange:(e,n,o)=>{o&&this.state.error&&(window.alert(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.I18n.t("Cannot save configuration because of error in configuration")),o=!1),o&&!this.state.changed&&!n&&(o=!1),e?this.setState({data:e,changed:n,saveConfigDialog:o}):o!==void 0&&this.setState({saveConfigDialog:o})},DeviceManager:this.props.DeviceManager,theme:this.state.theme}),React$2.createElement(AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__.SaveCloseButtons,{isIFrame:!1,dense:!0,paddingLeft:0,newReact:!0,theme:this.state.theme,noTextOnButtons:this.props.width==="xs"||this.props.width==="sm"||this.props.width==="md",changed:!!(this.state.error||this.state.changed),error:!!this.state.error,onSave:e=>this.onSave(!0,e),onClose:()=>this.onSave(!1)}))}};const{loadShare}=index_cjs$3,{initPromise}=AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__,res=initPromise.then(t=>loadShare("@iobroker/json-config",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),exportModule=await res.then(t=>t());var AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_json_mf_2_config__loadShare__=exportModule;function cc(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,o;n<t.length;n++)(o=cc(t[n]))!==""&&(e+=(e&&" ")+o);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__;function is$1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(t,e){var n=e(),o=useState({inst:{value:n,getSnapshot:e}}),s=o[0].inst,a=o[1];return useLayoutEffect(function(){s.value=n,s.getSnapshot=e,checkIfSnapshotChanged(s)&&a({inst:s})},[t,n,e]),useEffect$1(function(){return checkIfSnapshotChanged(s)&&a({inst:s}),t(function(){checkIfSnapshotChanged(s)&&a({inst:s})})},[t]),useDebugValue$2(n),n}function checkIfSnapshotChanged(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!objectIs$1(t,n)}catch{return!0}}function useSyncExternalStore$1(t,e){return e()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=AdminComponentEasyAccessSet__loadShare__react__loadShare__,shim=shimExports;function is(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(t,e,n,o,s){var a=useRef(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=useMemo(function(){function h(g){if(!_){if(_=!0,p=g,g=o(g),s!==void 0&&l.hasValue){var y=l.value;if(s(y,g))return u=y}return u=g}if(y=u,objectIs(p,g))return y;var v=o(g);return s!==void 0&&s(y,v)?(p=g,y):(p=g,u=v)}var _=!1,p,u,m=n===void 0?null:n;return[function(){return h(e())},m===null?void 0:function(){return h(m())}]},[e,n,o,s]);var d=useSyncExternalStore(t,a[0],a[1]);return useEffect(function(){l.hasValue=!0,l.value=d},[d]),useDebugValue$1(d),d};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={},createStoreImpl=t=>{let e;const n=new Set,o=(p,u)=>{const m=typeof p=="function"?p(e):p;if(!Object.is(m,e)){const g=e;e=u??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,g))}},s=()=>e,h={setState:o,getState:s,getInitialState:()=>_,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},_=e=t(o,s,h);return h},createStore=t=>t?createStoreImpl(t):createStoreImpl,{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity=t=>t;function useStoreWithEqualityFn(t,e=identity,n){const o=useSyncExternalStoreWithSelector(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return useDebugValue(o),o}const createWithEqualityFnImpl=(t,e)=>{const n=createStore(t),o=(s,a=e)=>useStoreWithEqualityFn(n,s,a);return Object.assign(o,n),o},createWithEqualityFn=(t,e)=>t?createWithEqualityFnImpl(t,e):createWithEqualityFnImpl;function shallow$1(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[o,s]of t)if(!Object.is(s,e.get(o)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const o of t)if(!e.has(o))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(e,o)||!Object.is(t[o],e[o]))return!1;return!0}const StoreContext=AdminComponentEasyAccessSet__loadShare__react__loadShare__.createContext(null),Provider$1=StoreContext.Provider,errorMessages={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},zustandErrorMessage=errorMessages.error001();function useStore(t,e){const n=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(StoreContext);if(n===null)throw new Error(zustandErrorMessage);return useStoreWithEqualityFn(n,t,e)}const useStoreApi=()=>{const t=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(StoreContext);if(t===null)throw new Error(zustandErrorMessage);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},selector$g=t=>t.userSelectionActive?"none":"all";function Panel({position:t,children:e,className:n,style:o,...s}){const a=useStore(selector$g),l=`${t}`.split("-");return React$2.createElement("div",{className:cc(["react-flow__panel",n,...l]),style:{...o,pointerEvents:a},...s},e)}function Attribution({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:React$2.createElement(Panel,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},React$2.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const EdgeText=({x:t,y:e,label:n,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:l=[2,4],labelBgBorderRadius:d=2,children:h,className:_,...p})=>{const u=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),[m,g]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState({x:0,y:0,width:0,height:0}),y=cc(["react-flow__edge-textwrapper",_]);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{if(u.current){const v=u.current.getBBox();g({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:React$2.createElement("g",{transform:`translate(${t-m.width/2} ${e-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...p},s&&React$2.createElement("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:d,ry:d}),React$2.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:u,style:o},n),h)};var EdgeText$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(EdgeText);const getDimensions=t=>({width:t.offsetWidth,height:t.offsetHeight}),clamp=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),clampPosition=(t={x:0,y:0},e)=>({x:clamp(t.x,e[0][0],e[1][0]),y:clamp(t.y,e[0][1],e[1][1])}),calcAutoPanVelocity=(t,e,n)=>t<e?clamp(Math.abs(t-e),1,50)/50:t>n?-clamp(Math.abs(t-n),1,50)/50:0,calcAutoPan=(t,e)=>{const n=calcAutoPanVelocity(t.x,35,e.width-35)*20,o=calcAutoPanVelocity(t.y,35,e.height-35)*20;return[n,o]},getHostForElement=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},getBoundsOfBoxes=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),rectToBox=({x:t,y:e,width:n,height:o})=>({x:t,y:e,x2:t+n,y2:e+o}),boxToRect=({x:t,y:e,x2:n,y2:o})=>({x:t,y:e,width:n-t,height:o-e}),nodeToRect=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),getOverlappingArea=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),o=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*o)},isRectObject=t=>isNumeric(t.width)&&isNumeric(t.height)&&isNumeric(t.x)&&isNumeric(t.y),isNumeric=t=>!isNaN(t)&&isFinite(t),internalsSymbol=Symbol.for("internals"),elementSelectionKeys=["Enter"," ","Escape"],devWarn=(t,e)=>{},isReactKeyboardEvent=t=>"nativeEvent"in t;function isInputDOMNode(t){var s,a;const e=isReactKeyboardEvent(t)?t.nativeEvent:t,n=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const isMouseEvent=t=>"clientX"in t,getEventPosition=(t,e)=>{var a,l;const n=isMouseEvent(t),o=n?t.clientX:(a=t.touches)==null?void 0:a[0].clientX,s=n?t.clientY:(l=t.touches)==null?void 0:l[0].clientY;return{x:o-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},isMacOs=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},BaseEdge=({id:t,path:e,labelX:n,labelY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:_,style:p,markerEnd:u,markerStart:m,interactionWidth:g=20})=>React$2.createElement(React$2.Fragment,null,React$2.createElement("path",{id:t,style:p,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:m}),g&&React$2.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&isNumeric(n)&&isNumeric(o)?React$2.createElement(EdgeText$1,{x:n,y:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:_}):null);BaseEdge.displayName="BaseEdge";function getMouseHandler$1(t,e,n){return n===void 0?n:o=>{const s=e().edges.find(a=>a.id===t);s&&n(o,{...s})}}function getEdgeCenter({sourceX:t,sourceY:e,targetX:n,targetY:o}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,l=Math.abs(o-e)/2,d=o<e?o+l:o-l;return[a,d,s,l]}function getBezierEdgeCenter({sourceX:t,sourceY:e,targetX:n,targetY:o,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:d}){const h=t*.125+s*.375+l*.375+n*.125,_=e*.125+a*.375+d*.375+o*.125,p=Math.abs(h-t),u=Math.abs(_-e);return[h,_,p,u]}var ConnectionMode;(function(t){t.Strict="strict",t.Loose="loose"})(ConnectionMode||(ConnectionMode={}));var PanOnScrollMode;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(PanOnScrollMode||(PanOnScrollMode={}));var SelectionMode;(function(t){t.Partial="partial",t.Full="full"})(SelectionMode||(SelectionMode={}));var ConnectionLineType;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ConnectionLineType||(ConnectionLineType={}));var MarkerType;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(MarkerType||(MarkerType={}));var Position;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Position||(Position={}));function getControl({pos:t,x1:e,y1:n,x2:o,y2:s}){return t===Position.Left||t===Position.Right?[.5*(e+o),n]:[e,.5*(n+s)]}function getSimpleBezierPath({sourceX:t,sourceY:e,sourcePosition:n=Position.Bottom,targetX:o,targetY:s,targetPosition:a=Position.Top}){const[l,d]=getControl({pos:n,x1:t,y1:e,x2:o,y2:s}),[h,_]=getControl({pos:a,x1:o,y1:s,x2:t,y2:e}),[p,u,m,g]=getBezierEdgeCenter({sourceX:t,sourceY:e,targetX:o,targetY:s,sourceControlX:l,sourceControlY:d,targetControlX:h,targetControlY:_});return[`M${t},${e} C${l},${d} ${h},${_} ${o},${s}`,p,u,m,g]}const SimpleBezierEdge=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(({sourceX:t,sourceY:e,targetX:n,targetY:o,sourcePosition:s=Position.Bottom,targetPosition:a=Position.Top,label:l,labelStyle:d,labelShowBg:h,labelBgStyle:_,labelBgPadding:p,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:y,interactionWidth:v})=>{const[S,b,C]=getSimpleBezierPath({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:o,targetPosition:a});return React$2.createElement(BaseEdge,{path:S,labelX:b,labelY:C,label:l,labelStyle:d,labelShowBg:h,labelBgStyle:_,labelBgPadding:p,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:y,interactionWidth:v})});SimpleBezierEdge.displayName="SimpleBezierEdge";const handleDirections={[Position.Left]:{x:-1,y:0},[Position.Right]:{x:1,y:0},[Position.Top]:{x:0,y:-1},[Position.Bottom]:{x:0,y:1}},getDirection=({source:t,sourcePosition:e=Position.Bottom,target:n})=>e===Position.Left||e===Position.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},distance=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function getPoints({source:t,sourcePosition:e=Position.Bottom,target:n,targetPosition:o=Position.Top,center:s,offset:a}){const l=handleDirections[e],d=handleDirections[o],h={x:t.x+l.x*a,y:t.y+l.y*a},_={x:n.x+d.x*a,y:n.y+d.y*a},p=getDirection({source:h,sourcePosition:e,target:_}),u=p.x!==0?"x":"y",m=p[u];let g=[],y,v;const S={x:0,y:0},b={x:0,y:0},[C,w,A,$]=getEdgeCenter({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(l[u]*d[u]===-1){y=s.x??C,v=s.y??w;const D=[{x:y,y:h.y},{x:y,y:_.y}],I=[{x:h.x,y:v},{x:_.x,y:v}];l[u]===m?g=u==="x"?D:I:g=u==="x"?I:D}else{const D=[{x:h.x,y:_.y}],I=[{x:_.x,y:h.y}];if(u==="x"?g=l.x===m?I:D:g=l.y===m?D:I,e===o){const k=Math.abs(t[u]-n[u]);if(k<=a){const x=Math.min(a-1,a-k);l[u]===m?S[u]=(h[u]>t[u]?-1:1)*x:b[u]=(_[u]>n[u]?-1:1)*x}}if(e!==o){const k=u==="x"?"y":"x",x=l[u]===d[k],T=h[k]>_[k],L=h[k]<_[k];(l[u]===1&&(!x&&T||x&&L)||l[u]!==1&&(!x&&L||x&&T))&&(g=u==="x"?D:I)}const R={x:h.x+S.x,y:h.y+S.y},O={x:_.x+b.x,y:_.y+b.y},N=Math.max(Math.abs(R.x-g[0].x),Math.abs(O.x-g[0].x)),M=Math.max(Math.abs(R.y-g[0].y),Math.abs(O.y-g[0].y));N>=M?(y=(R.x+O.x)/2,v=g[0].y):(y=g[0].x,v=(R.y+O.y)/2)}return[[t,{x:h.x+S.x,y:h.y+S.y},...g,{x:_.x+b.x,y:_.y+b.y},n],y,v,A,$]}function getBend(t,e,n,o){const s=Math.min(distance(t,e)/2,distance(e,n)/2,o),{x:a,y:l}=e;if(t.x===a&&a===n.x||t.y===l&&l===n.y)return`L${a} ${l}`;if(t.y===l){const _=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${a+s*_},${l}Q ${a},${l} ${a},${l+s*p}`}const d=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${a},${l+s*h}Q ${a},${l} ${a+s*d},${l}`}function getSmoothStepPath({sourceX:t,sourceY:e,sourcePosition:n=Position.Bottom,targetX:o,targetY:s,targetPosition:a=Position.Top,borderRadius:l=5,centerX:d,centerY:h,offset:_=20}){const[p,u,m,g,y]=getPoints({source:{x:t,y:e},sourcePosition:n,target:{x:o,y:s},targetPosition:a,center:{x:d,y:h},offset:_});return[p.reduce((S,b,C)=>{let w="";return C>0&&C<p.length-1?w=getBend(p[C-1],b,p[C+1],l):w=`${C===0?"M":"L"}${b.x} ${b.y}`,S+=w,S},""),u,m,g,y]}const SmoothStepEdge=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(({sourceX:t,sourceY:e,targetX:n,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:_,style:p,sourcePosition:u=Position.Bottom,targetPosition:m=Position.Top,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:S})=>{const[b,C,w]=getSmoothStepPath({sourceX:t,sourceY:e,sourcePosition:u,targetX:n,targetY:o,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset});return React$2.createElement(BaseEdge,{path:b,labelX:C,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:_,style:p,markerEnd:g,markerStart:y,interactionWidth:S})});SmoothStepEdge.displayName="SmoothStepEdge";const StepEdge=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(t=>{var e;return React$2.createElement(SmoothStepEdge,{...t,pathOptions:AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});StepEdge.displayName="StepEdge";function getStraightPath({sourceX:t,sourceY:e,targetX:n,targetY:o}){const[s,a,l,d]=getEdgeCenter({sourceX:t,sourceY:e,targetX:n,targetY:o});return[`M ${t},${e}L ${n},${o}`,s,a,l,d]}const StraightEdge=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(({sourceX:t,sourceY:e,targetX:n,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:_,style:p,markerEnd:u,markerStart:m,interactionWidth:g})=>{const[y,v,S]=getStraightPath({sourceX:t,sourceY:e,targetX:n,targetY:o});return React$2.createElement(BaseEdge,{path:y,labelX:v,labelY:S,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:_,style:p,markerEnd:u,markerStart:m,interactionWidth:g})});StraightEdge.displayName="StraightEdge";function calculateControlOffset(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function getControlWithCurvature({pos:t,x1:e,y1:n,x2:o,y2:s,c:a}){switch(t){case Position.Left:return[e-calculateControlOffset(e-o,a),n];case Position.Right:return[e+calculateControlOffset(o-e,a),n];case Position.Top:return[e,n-calculateControlOffset(n-s,a)];case Position.Bottom:return[e,n+calculateControlOffset(s-n,a)]}}function getBezierPath({sourceX:t,sourceY:e,sourcePosition:n=Position.Bottom,targetX:o,targetY:s,targetPosition:a=Position.Top,curvature:l=.25}){const[d,h]=getControlWithCurvature({pos:n,x1:t,y1:e,x2:o,y2:s,c:l}),[_,p]=getControlWithCurvature({pos:a,x1:o,y1:s,x2:t,y2:e,c:l}),[u,m,g,y]=getBezierEdgeCenter({sourceX:t,sourceY:e,targetX:o,targetY:s,sourceControlX:d,sourceControlY:h,targetControlX:_,targetControlY:p});return[`M${t},${e} C${d},${h} ${_},${p} ${o},${s}`,u,m,g,y]}const BezierEdge=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(({sourceX:t,sourceY:e,targetX:n,targetY:o,sourcePosition:s=Position.Bottom,targetPosition:a=Position.Top,label:l,labelStyle:d,labelShowBg:h,labelBgStyle:_,labelBgPadding:p,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:y,pathOptions:v,interactionWidth:S})=>{const[b,C,w]=getBezierPath({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:o,targetPosition:a,curvature:v==null?void 0:v.curvature});return React$2.createElement(BaseEdge,{path:b,labelX:C,labelY:w,label:l,labelStyle:d,labelShowBg:h,labelBgStyle:_,labelBgPadding:p,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:y,interactionWidth:S})});BezierEdge.displayName="BezierEdge";const NodeIdContext=AdminComponentEasyAccessSet__loadShare__react__loadShare__.createContext(null),Provider=NodeIdContext.Provider;NodeIdContext.Consumer;const useNodeId=()=>AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(NodeIdContext),isEdge=t=>"id"in t&&"source"in t&&"target"in t,getEdgeId=({source:t,sourceHandle:e,target:n,targetHandle:o})=>`reactflow__edge-${t}${e||""}-${n}${o||""}`,getMarkerId=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(o=>`${o}=${t[o]}`).join("&")}`,connectionExists=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),addEdge=(t,e)=>{if(!t.source||!t.target)return e;let n;return isEdge(t)?n={...t}:n={...t,id:getEdgeId(t)},connectionExists(n,e)?e:e.concat(n)},pointToRendererPoint=({x:t,y:e},[n,o,s],a,[l,d])=>{const h={x:(t-n)/s,y:(e-o)/s};return a?{x:l*Math.round(h.x/l),y:d*Math.round(h.y/d)}:h},rendererPointToPoint=({x:t,y:e},[n,o,s])=>({x:t*s+n,y:e*s+o}),getNodePositionWithOrigin=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],o=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-o};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-o}:s}},getNodesBounds=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((o,s)=>{const{x:a,y:l}=getNodePositionWithOrigin(s,e).positionAbsolute;return getBoundsOfBoxes(o,rectToBox({x:a,y:l,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect(n)},getNodesInside=(t,e,[n,o,s]=[0,0,1],a=!1,l=!1,d=[0,0])=>{const h={x:(e.x-n)/s,y:(e.y-o)/s,width:e.width/s,height:e.height/s},_=[];return t.forEach(p=>{const{width:u,height:m,selectable:g=!0,hidden:y=!1}=p;if(l&&!g||y)return!1;const{positionAbsolute:v}=getNodePositionWithOrigin(p,d),S={x:v.x,y:v.y,width:u||0,height:m||0},b=getOverlappingArea(h,S),C=typeof u>"u"||typeof m>"u"||u===null||m===null,w=a&&b>0,A=(u||0)*(m||0);(C||w||b>=A||p.dragging)&&_.push(p)}),_},getConnectedEdges=(t,e)=>{const n=t.map(o=>o.id);return e.filter(o=>n.includes(o.source)||n.includes(o.target))},getViewportForBounds=(t,e,n,o,s,a=.1)=>{const l=e/(t.width*(1+a)),d=n/(t.height*(1+a)),h=Math.min(l,d),_=clamp(h,o,s),p=t.x+t.width/2,u=t.y+t.height/2,m=e/2-p*_,g=n/2-u*_;return{x:m,y:g,zoom:_}},getD3Transition=(t,e=0)=>t.transition().duration(e);function getHandles(t,e,n,o){return(e[n]||[]).reduce((s,a)=>{var l,d;return`${t.id}-${a.id}-${n}`!==o&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(((l=t.positionAbsolute)==null?void 0:l.x)??0)+a.x+a.width/2,y:(((d=t.positionAbsolute)==null?void 0:d.y)??0)+a.y+a.height/2}),s},[])}function getClosestHandle(t,e,n,o,s,a){const{x:l,y:d}=getEventPosition(t),_=e.elementsFromPoint(l,d).find(y=>y.classList.contains("react-flow__handle"));if(_){const y=_.getAttribute("data-nodeid");if(y){const v=getHandleType(void 0,_),S=_.getAttribute("data-handleid"),b=a({nodeId:y,id:S,type:v});if(b){const C=s.find(w=>w.nodeId===y&&w.type===v&&w.id===S);return{handle:{id:S,type:v,nodeId:y,x:(C==null?void 0:C.x)||n.x,y:(C==null?void 0:C.y)||n.y},validHandleResult:b}}}}let p=[],u=1/0;if(s.forEach(y=>{const v=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(v<=o){const S=a(y);v<=u&&(v<u?p=[{handle:y,validHandleResult:S}]:v===u&&p.push({handle:y,validHandleResult:S}),u=v)}}),!p.length)return{handle:null,validHandleResult:defaultResult()};if(p.length===1)return p[0];const m=p.some(({validHandleResult:y})=>y.isValid),g=p.some(({handle:y})=>y.type==="target");return p.find(({handle:y,validHandleResult:v})=>g?y.type==="target":m?v.isValid:!0)||p[0]}const nullConnection={source:null,target:null,sourceHandle:null,targetHandle:null},defaultResult=()=>({handleDomNode:null,isValid:!1,connection:nullConnection,endHandle:null});function isValidHandle(t,e,n,o,s,a,l){const d=s==="target",h=l.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),_={...defaultResult(),handleDomNode:h};if(h){const p=getHandleType(void 0,h),u=h.getAttribute("data-nodeid"),m=h.getAttribute("data-handleid"),g=h.classList.contains("connectable"),y=h.classList.contains("connectableend"),v={source:d?u:n,sourceHandle:d?m:o,target:d?n:u,targetHandle:d?o:m};_.connection=v,g&&y&&(e===ConnectionMode.Strict?d&&p==="source"||!d&&p==="target":u!==n||m!==o)&&(_.endHandle={nodeId:u,handleId:m,type:p},_.isValid=a(v))}return _}function getHandleLookup({nodes:t,nodeId:e,handleId:n,handleType:o}){return t.reduce((s,a)=>{if(a[internalsSymbol]){const{handleBounds:l}=a[internalsSymbol];let d=[],h=[];l&&(d=getHandles(a,l,"source",`${e}-${n}-${o}`),h=getHandles(a,l,"target",`${e}-${n}-${o}`)),s.push(...d,...h)}return s},[])}function getHandleType(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function resetRecentHandle(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function getConnectionStatus(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function handlePointerDown({event:t,handleId:e,nodeId:n,onConnect:o,isTarget:s,getState:a,setState:l,isValidConnection:d,edgeUpdaterType:h,onReconnectEnd:_}){const p=getHostForElement(t.target),{connectionMode:u,domNode:m,autoPanOnConnect:g,connectionRadius:y,onConnectStart:v,panBy:S,getNodes:b,cancelConnection:C}=a();let w=0,A;const{x:$,y:E}=getEventPosition(t),D=p==null?void 0:p.elementFromPoint($,E),I=getHandleType(h,D),R=m==null?void 0:m.getBoundingClientRect();if(!R||!I)return;let O,N=getEventPosition(t,R),M=!1,k=null,x=!1,T=null;const L=getHandleLookup({nodes:b(),nodeId:n,handleId:e,handleType:I}),F=()=>{if(!g)return;const[H,j]=calcAutoPan(N,R);S({x:H,y:j}),w=requestAnimationFrame(F)};l({connectionPosition:N,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:I,connectionStartHandle:{nodeId:n,handleId:e,type:I},connectionEndHandle:null}),v==null||v(t,{nodeId:n,handleId:e,handleType:I});function P(H){const{transform:j}=a();N=getEventPosition(H,R);const{handle:W,validHandleResult:U}=getClosestHandle(H,p,pointToRendererPoint(N,j,!1,[1,1]),y,L,G=>isValidHandle(G,u,n,e,s?"target":"source",d,p));if(A=W,M||(F(),M=!0),T=U.handleDomNode,k=U.connection,x=U.isValid,l({connectionPosition:A&&x?rendererPointToPoint({x:A.x,y:A.y},j):N,connectionStatus:getConnectionStatus(!!A,x),connectionEndHandle:U.endHandle}),!A&&!x&&!T)return resetRecentHandle(O);k.source!==k.target&&T&&(resetRecentHandle(O),O=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",x),T.classList.toggle("react-flow__handle-valid",x))}function B(H){var j,W;(A||T)&&k&&x&&(o==null||o(k)),(W=(j=a()).onConnectEnd)==null||W.call(j,H),h&&(_==null||_(H)),resetRecentHandle(O),C(),cancelAnimationFrame(w),M=!1,x=!1,k=null,T=null,p.removeEventListener("mousemove",P),p.removeEventListener("mouseup",B),p.removeEventListener("touchmove",P),p.removeEventListener("touchend",B)}p.addEventListener("mousemove",P),p.addEventListener("mouseup",B),p.addEventListener("touchmove",P),p.addEventListener("touchend",B)}const alwaysValid=()=>!0,selector$f=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),connectingSelector=(t,e,n)=>o=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:l}=o;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n,clickConnecting:(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.handleId)===e&&(l==null?void 0:l.type)===n}},Handle=AdminComponentEasyAccessSet__loadShare__react__loadShare__.forwardRef(({type:t="source",position:e=Position.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:l,onConnect:d,children:h,className:_,onMouseDown:p,onTouchStart:u,...m},g)=>{var R,O;const y=l||null,v=t==="target",S=useStoreApi(),b=useNodeId(),{connectOnClick:C,noPanClassName:w}=useStore(selector$f,shallow$1),{connecting:A,clickConnecting:$}=useStore(connectingSelector(b,y,t),shallow$1);b||(O=(R=S.getState()).onError)==null||O.call(R,"010",errorMessages.error010());const E=N=>{const{defaultEdgeOptions:M,onConnect:k,hasDefaultEdges:x}=S.getState(),T={...M,...N};if(x){const{edges:L,setEdges:F}=S.getState();F(addEdge(T,L))}k==null||k(T),d==null||d(T)},D=N=>{if(!b)return;const M=isMouseEvent(N);s&&(M&&N.button===0||!M)&&handlePointerDown({event:N,handleId:y,nodeId:b,onConnect:E,isTarget:v,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||alwaysValid}),M?p==null||p(N):u==null||u(N)},I=N=>{const{onClickConnectStart:M,onClickConnectEnd:k,connectionClickStartHandle:x,connectionMode:T,isValidConnection:L}=S.getState();if(!b||!x&&!s)return;if(!x){M==null||M(N,{nodeId:b,handleId:y,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:b,type:t,handleId:y}});return}const F=getHostForElement(N.target),P=n||L||alwaysValid,{connection:B,isValid:H}=isValidHandle({nodeId:b,id:y,type:t},T,x.nodeId,x.handleId||null,x.type,P,F);H&&E(B),k==null||k(N),S.setState({connectionClickStartHandle:null})};return React$2.createElement("div",{"data-handleid":y,"data-nodeid":b,"data-handlepos":e,"data-id":`${b}-${y}-${t}`,className:cc(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",w,_,{source:!v,target:v,connectable:o,connectablestart:s,connectableend:a,connecting:$,connectionindicator:o&&(s&&!A||a&&A)}]),onMouseDown:D,onTouchStart:D,onClick:C?I:void 0,ref:g,...m},h)});Handle.displayName="Handle";var Handle$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(Handle);const DefaultNode=({data:t,isConnectable:e,targetPosition:n=Position.Top,sourcePosition:o=Position.Bottom})=>React$2.createElement(React$2.Fragment,null,React$2.createElement(Handle$1,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,React$2.createElement(Handle$1,{type:"source",position:o,isConnectable:e}));DefaultNode.displayName="DefaultNode";var DefaultNode$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(DefaultNode);const InputNode=({data:t,isConnectable:e,sourcePosition:n=Position.Bottom})=>React$2.createElement(React$2.Fragment,null,t==null?void 0:t.label,React$2.createElement(Handle$1,{type:"source",position:n,isConnectable:e}));InputNode.displayName="InputNode";var InputNode$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(InputNode);const OutputNode=({data:t,isConnectable:e,targetPosition:n=Position.Top})=>React$2.createElement(React$2.Fragment,null,React$2.createElement(Handle$1,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);OutputNode.displayName="OutputNode";var OutputNode$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(OutputNode);const GroupNode=()=>null;GroupNode.displayName="GroupNode";const selector$e=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),selectId=t=>t.id;function areEqual(t,e){return shallow$1(t.selectedNodes.map(selectId),e.selectedNodes.map(selectId))&&shallow$1(t.selectedEdges.map(selectId),e.selectedEdges.map(selectId))}const SelectionListener=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(({onSelectionChange:t})=>{const e=useStoreApi(),{selectedNodes:n,selectedEdges:o}=useStore(selector$e,areEqual);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{const s={nodes:n,edges:o};t==null||t(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,o,t]),null});SelectionListener.displayName="SelectionListener";const changeSelector=t=>!!t.onSelectionChange;function Wrapper$1({onSelectionChange:t}){const e=useStore(changeSelector);return t||e?React$2.createElement(SelectionListener,{onSelectionChange:t}):null}const selector$d=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function useStoreUpdater(t,e){AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function useDirectStoreUpdater(t,e,n){AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const StoreUpdater=({nodes:t,edges:e,defaultNodes:n,defaultEdges:o,onConnect:s,onConnectStart:a,onConnectEnd:l,onClickConnectStart:d,onClickConnectEnd:h,nodesDraggable:_,nodesConnectable:p,nodesFocusable:u,edgesFocusable:m,edgesUpdatable:g,elevateNodesOnSelect:y,minZoom:v,maxZoom:S,nodeExtent:b,onNodesChange:C,onEdgesChange:w,elementsSelectable:A,connectionMode:$,snapGrid:E,snapToGrid:D,translateExtent:I,connectOnClick:R,defaultEdgeOptions:O,fitView:N,fitViewOptions:M,onNodesDelete:k,onEdgesDelete:x,onNodeDrag:T,onNodeDragStart:L,onNodeDragStop:F,onSelectionDrag:P,onSelectionDragStart:B,onSelectionDragStop:H,noPanClassName:j,nodeOrigin:W,rfId:U,autoPanOnConnect:G,autoPanOnNodeDrag:V,onError:X,connectionRadius:q,isValidConnection:Y,nodeDragThreshold:J})=>{const{setNodes:Q,setEdges:ee,setDefaultNodesAndEdges:re,setMinZoom:ae,setMaxZoom:se,setTranslateExtent:ie,setNodeExtent:ce,reset:le}=useStore(selector$d,shallow$1),ne=useStoreApi();return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{const _e=o==null?void 0:o.map(ge=>({...ge,...O}));return re(n,_e),()=>{le()}},[]),useDirectStoreUpdater("defaultEdgeOptions",O,ne.setState),useDirectStoreUpdater("connectionMode",$,ne.setState),useDirectStoreUpdater("onConnect",s,ne.setState),useDirectStoreUpdater("onConnectStart",a,ne.setState),useDirectStoreUpdater("onConnectEnd",l,ne.setState),useDirectStoreUpdater("onClickConnectStart",d,ne.setState),useDirectStoreUpdater("onClickConnectEnd",h,ne.setState),useDirectStoreUpdater("nodesDraggable",_,ne.setState),useDirectStoreUpdater("nodesConnectable",p,ne.setState),useDirectStoreUpdater("nodesFocusable",u,ne.setState),useDirectStoreUpdater("edgesFocusable",m,ne.setState),useDirectStoreUpdater("edgesUpdatable",g,ne.setState),useDirectStoreUpdater("elementsSelectable",A,ne.setState),useDirectStoreUpdater("elevateNodesOnSelect",y,ne.setState),useDirectStoreUpdater("snapToGrid",D,ne.setState),useDirectStoreUpdater("snapGrid",E,ne.setState),useDirectStoreUpdater("onNodesChange",C,ne.setState),useDirectStoreUpdater("onEdgesChange",w,ne.setState),useDirectStoreUpdater("connectOnClick",R,ne.setState),useDirectStoreUpdater("fitViewOnInit",N,ne.setState),useDirectStoreUpdater("fitViewOnInitOptions",M,ne.setState),useDirectStoreUpdater("onNodesDelete",k,ne.setState),useDirectStoreUpdater("onEdgesDelete",x,ne.setState),useDirectStoreUpdater("onNodeDrag",T,ne.setState),useDirectStoreUpdater("onNodeDragStart",L,ne.setState),useDirectStoreUpdater("onNodeDragStop",F,ne.setState),useDirectStoreUpdater("onSelectionDrag",P,ne.setState),useDirectStoreUpdater("onSelectionDragStart",B,ne.setState),useDirectStoreUpdater("onSelectionDragStop",H,ne.setState),useDirectStoreUpdater("noPanClassName",j,ne.setState),useDirectStoreUpdater("nodeOrigin",W,ne.setState),useDirectStoreUpdater("rfId",U,ne.setState),useDirectStoreUpdater("autoPanOnConnect",G,ne.setState),useDirectStoreUpdater("autoPanOnNodeDrag",V,ne.setState),useDirectStoreUpdater("onError",X,ne.setState),useDirectStoreUpdater("connectionRadius",q,ne.setState),useDirectStoreUpdater("isValidConnection",Y,ne.setState),useDirectStoreUpdater("nodeDragThreshold",J,ne.setState),useStoreUpdater(t,Q),useStoreUpdater(e,ee),useStoreUpdater(v,ae),useStoreUpdater(S,se),useStoreUpdater(I,ie),useStoreUpdater(b,ce),null},style={display:"none"},ariaLiveStyle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ARIA_NODE_DESC_KEY="react-flow__node-desc",ARIA_EDGE_DESC_KEY="react-flow__edge-desc",ARIA_LIVE_MESSAGE="react-flow__aria-live",selector$c=t=>t.ariaLiveMessage;function AriaLiveMessage({rfId:t}){const e=useStore(selector$c);return React$2.createElement("div",{id:`${ARIA_LIVE_MESSAGE}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:ariaLiveStyle},e)}function A11yDescriptions({rfId:t,disableKeyboardA11y:e}){return React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{id:`${ARIA_NODE_DESC_KEY}-${t}`,style},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),React$2.createElement("div",{id:`${ARIA_EDGE_DESC_KEY}-${t}`,style},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&React$2.createElement(AriaLiveMessage,{rfId:t}))}var useKeyPress=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,o]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState(!1),s=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),a=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(new Set([])),[l,d]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>{if(t!==null){const _=(Array.isArray(t)?t:[t]).filter(u=>typeof u=="string").map(u=>u.split("+")),p=_.reduce((u,m)=>u.concat(...m),[]);return[_,p]}return[[],[]]},[t]);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{const h=typeof document<"u"?document:null,_=(e==null?void 0:e.target)||h;if(t!==null){const p=g=>{if(s.current=g.ctrlKey||g.metaKey||g.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&isInputDOMNode(g))return!1;const v=useKeyOrCode(g.code,d);a.current.add(g[v]),isMatchingKey(l,a.current,!1)&&(g.preventDefault(),o(!0))},u=g=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&isInputDOMNode(g))return!1;const v=useKeyOrCode(g.code,d);isMatchingKey(l,a.current,!0)?(o(!1),a.current.clear()):a.current.delete(g[v]),g.key==="Meta"&&a.current.clear(),s.current=!1},m=()=>{a.current.clear(),o(!1)};return _==null||_.addEventListener("keydown",p),_==null||_.addEventListener("keyup",u),window.addEventListener("blur",m),()=>{_==null||_.removeEventListener("keydown",p),_==null||_.removeEventListener("keyup",u),window.removeEventListener("blur",m)}}},[t,o]),n};function isMatchingKey(t,e,n){return t.filter(o=>n||o.length===e.size).some(o=>o.every(s=>e.has(s)))}function useKeyOrCode(t,e){return e.includes(t)?"code":"key"}function calculateXYZPosition(t,e,n,o){var d,h;const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),l=getNodePositionWithOrigin(a,o);return calculateXYZPosition(a,e,{x:(n.x??0)+l.x,y:(n.y??0)+l.y,z:(((d=a[internalsSymbol])==null?void 0:d.z)??0)>(n.z??0)?((h=a[internalsSymbol])==null?void 0:h.z)??0:n.z??0},o)}function updateAbsoluteNodePositions(t,e,n){t.forEach(o=>{var a;const s=o.parentNode||o.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[o.id]){const{x:l,y:d,z:h}=calculateXYZPosition(o,t,{...o.position,z:((a=o[internalsSymbol])==null?void 0:a.z)??0},e);o.positionAbsolute={x:l,y:d},o[internalsSymbol].z=h,n!=null&&n[o.id]&&(o[internalsSymbol].isParent=!0)}})}function createNodeInternals(t,e,n,o){const s=new Map,a={},l=o?1e3:0;return t.forEach(d=>{var g;const h=(isNumeric(d.zIndex)?d.zIndex:0)+(d.selected?l:0),_=e.get(d.id),p={...d,positionAbsolute:{x:d.position.x,y:d.position.y}},u=d.parentNode||d.parentId;u&&(a[u]=!0);const m=(_==null?void 0:_.type)&&(_==null?void 0:_.type)!==d.type;Object.defineProperty(p,internalsSymbol,{enumerable:!1,value:{handleBounds:m||(g=_==null?void 0:_[internalsSymbol])==null?void 0:g.handleBounds,z:h}}),s.set(d.id,p)}),updateAbsoluteNodePositions(s,n,a),s}function fitView(t,e={}){const{getNodes:n,width:o,height:s,minZoom:a,maxZoom:l,d3Zoom:d,d3Selection:h,fitViewOnInitDone:_,fitViewOnInit:p,nodeOrigin:u}=t(),m=e.initial&&!_&&p;if(d&&h&&(m||!e.initial)){const y=n().filter(S=>{var C;const b=e.includeHiddenNodes?S.width&&S.height:!S.hidden;return(C=e.nodes)!=null&&C.length?b&&e.nodes.some(w=>w.id===S.id):b}),v=y.every(S=>S.width&&S.height);if(y.length>0&&v){const S=getNodesBounds(y,u),{x:b,y:C,zoom:w}=getViewportForBounds(S,o,s,e.minZoom??a,e.maxZoom??l,e.padding??.1),A=identity$5.translate(b,C).scale(w);return typeof e.duration=="number"&&e.duration>0?d.transform(getD3Transition(h,e.duration),A):d.transform(h,A),!0}}return!1}function handleControlledNodeSelectionChange(t,e){return t.forEach(n=>{const o=e.get(n.id);o&&e.set(o.id,{...o,[internalsSymbol]:o[internalsSymbol],selected:n.selected})}),new Map(e)}function handleControlledEdgeSelectionChange(t,e){return e.map(n=>{const o=t.find(s=>s.id===n.id);return o&&(n.selected=o.selected),n})}function updateNodesAndEdgesSelections({changedNodes:t,changedEdges:e,get:n,set:o}){const{nodeInternals:s,edges:a,onNodesChange:l,onEdgesChange:d,hasDefaultNodes:h,hasDefaultEdges:_}=n();t!=null&&t.length&&(h&&o({nodeInternals:handleControlledNodeSelectionChange(t,s)}),l==null||l(t)),e!=null&&e.length&&(_&&o({edges:handleControlledEdgeSelectionChange(e,a)}),d==null||d(e))}const noop=()=>{},initialViewportHelper={zoomIn:noop,zoomOut:noop,zoomTo:noop,getZoom:()=>1,setViewport:noop,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:noop,fitBounds:noop,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},selector$b=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),useViewportHelper=()=>{const t=useStoreApi(),{d3Zoom:e,d3Selection:n}=useStore(selector$b,shallow$1);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(getD3Transition(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(getD3Transition(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(getD3Transition(n,a==null?void 0:a.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[l,d,h]=t.getState().transform,_=identity$5.translate(s.x??l,s.y??d).scale(s.zoom??h);e.transform(getD3Transition(n,a==null?void 0:a.duration),_)},getViewport:()=>{const[s,a,l]=t.getState().transform;return{x:s,y:a,zoom:l}},fitView:s=>fitView(t.getState,s),setCenter:(s,a,l)=>{const{width:d,height:h,maxZoom:_}=t.getState(),p=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:_,u=d/2-s*p,m=h/2-a*p,g=identity$5.translate(u,m).scale(p);e.transform(getD3Transition(n,l==null?void 0:l.duration),g)},fitBounds:(s,a)=>{const{width:l,height:d,minZoom:h,maxZoom:_}=t.getState(),{x:p,y:u,zoom:m}=getViewportForBounds(s,l,d,h,_,(a==null?void 0:a.padding)??.1),g=identity$5.translate(p,u).scale(m);e.transform(getD3Transition(n,a==null?void 0:a.duration),g)},project:s=>{const{transform:a,snapToGrid:l,snapGrid:d}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),pointToRendererPoint(s,a,l,d)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:l,snapGrid:d,domNode:h}=t.getState();if(!h)return s;const{x:_,y:p}=h.getBoundingClientRect(),u={x:s.x-_,y:s.y-p};return pointToRendererPoint(u,a,l,d)},flowToScreenPosition:s=>{const{transform:a,domNode:l}=t.getState();if(!l)return s;const{x:d,y:h}=l.getBoundingClientRect(),_=rendererPointToPoint(s,a);return{x:_.x+d,y:_.y+h}},viewportInitialized:!0}:initialViewportHelper,[e,n])};function useReactFlow(){const t=useViewportHelper(),e=useStoreApi(),n=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(()=>e.getState().getNodes().map(v=>({...v})),[]),o=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>e.getState().nodeInternals.get(v),[]),s=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(()=>{const{edges:v=[]}=e.getState();return v.map(S=>({...S}))},[]),a=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>{const{edges:S=[]}=e.getState();return S.find(b=>b.id===v)},[]),l=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>{const{getNodes:S,setNodes:b,hasDefaultNodes:C,onNodesChange:w}=e.getState(),A=S(),$=typeof v=="function"?v(A):v;if(C)b($);else if(w){const E=$.length===0?A.map(D=>({type:"remove",id:D.id})):$.map(D=>({item:D,type:"reset"}));w(E)}},[]),d=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>{const{edges:S=[],setEdges:b,hasDefaultEdges:C,onEdgesChange:w}=e.getState(),A=typeof v=="function"?v(S):v;if(C)b(A);else if(w){const $=A.length===0?S.map(E=>({type:"remove",id:E.id})):A.map(E=>({item:E,type:"reset"}));w($)}},[]),h=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>{const S=Array.isArray(v)?v:[v],{getNodes:b,setNodes:C,hasDefaultNodes:w,onNodesChange:A}=e.getState();if(w){const E=[...b(),...S];C(E)}else if(A){const $=S.map(E=>({item:E,type:"add"}));A($)}},[]),_=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>{const S=Array.isArray(v)?v:[v],{edges:b=[],setEdges:C,hasDefaultEdges:w,onEdgesChange:A}=e.getState();if(w)C([...b,...S]);else if(A){const $=S.map(E=>({item:E,type:"add"}));A($)}},[]),p=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(()=>{const{getNodes:v,edges:S=[],transform:b}=e.getState(),[C,w,A]=b;return{nodes:v().map($=>({...$})),edges:S.map($=>({...$})),viewport:{x:C,y:w,zoom:A}}},[]),u=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(({nodes:v,edges:S})=>{const{nodeInternals:b,getNodes:C,edges:w,hasDefaultNodes:A,hasDefaultEdges:$,onNodesDelete:E,onEdgesDelete:D,onNodesChange:I,onEdgesChange:R}=e.getState(),O=(v||[]).map(T=>T.id),N=(S||[]).map(T=>T.id),M=C().reduce((T,L)=>{const F=L.parentNode||L.parentId,P=!O.includes(L.id)&&F&&T.find(H=>H.id===F);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(O.includes(L.id)||P)&&T.push(L),T},[]),k=w.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),x=k.filter(T=>N.includes(T.id));if(M||x){const T=getConnectedEdges(M,k),L=[...x,...T],F=L.reduce((P,B)=>(P.includes(B.id)||P.push(B.id),P),[]);if(($||A)&&($&&e.setState({edges:w.filter(P=>!F.includes(P.id))}),A&&(M.forEach(P=>{b.delete(P.id)}),e.setState({nodeInternals:new Map(b)}))),F.length>0&&(D==null||D(L),R&&R(F.map(P=>({id:P,type:"remove"})))),M.length>0&&(E==null||E(M),I)){const P=M.map(B=>({id:B.id,type:"remove"}));I(P)}}},[]),m=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(v=>{const S=isRectObject(v),b=S?null:e.getState().nodeInternals.get(v.id);return!S&&!b?[null,null,S]:[S?v:nodeToRect(b),b,S]},[]),g=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback((v,S=!0,b)=>{const[C,w,A]=m(v);return C?(b||e.getState().getNodes()).filter($=>{if(!A&&($.id===w.id||!$.positionAbsolute))return!1;const E=nodeToRect($),D=getOverlappingArea(E,C);return S&&D>0||D>=C.width*C.height}):[]},[]),y=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback((v,S,b=!0)=>{const[C]=m(v);if(!C)return!1;const w=getOverlappingArea(C,S);return b&&w>0||w>=C.width*C.height},[]);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>({...t,getNodes:n,getNode:o,getEdges:s,getEdge:a,setNodes:l,setEdges:d,addNodes:h,addEdges:_,toObject:p,deleteElements:u,getIntersectingNodes:g,isNodeIntersecting:y}),[t,n,o,s,a,l,d,h,_,p,u,g,y])}const deleteKeyOptions={actInsideInputWithModifier:!1};var useGlobalKeyHandler=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=useStoreApi(),{deleteElements:o}=useReactFlow(),s=useKeyPress(t,deleteKeyOptions),a=useKeyPress(e);AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{if(s){const{edges:l,getNodes:d}=n.getState(),h=d().filter(p=>p.selected),_=l.filter(p=>p.selected);o({nodes:h,edges:_}),n.setState({nodesSelectionActive:!1})}},[s]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function useResizeHandler(t){const e=useStoreApi();AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{let n;const o=()=>{var a,l;if(!t.current)return;const s=getDimensions(t.current);(s.height===0||s.width===0)&&((l=(a=e.getState()).onError)==null||l.call(a,"004",errorMessages.error004())),e.setState({width:s.width||500,height:s.height||500})};return o(),window.addEventListener("resize",o),t.current&&(n=new ResizeObserver(()=>o()),n.observe(t.current)),()=>{window.removeEventListener("resize",o),n&&t.current&&n.unobserve(t.current)}},[])}const containerStyle={position:"absolute",width:"100%",height:"100%",top:0,left:0},viewChanged=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,eventToFlowTransform=t=>({x:t.x,y:t.y,zoom:t.k}),isWrappedWithClass=(t,e)=>t.target.closest(`.${e}`),isRightClickPan=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),wheelDelta=t=>{const e=t.ctrlKey&&isMacOs()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},selector$a=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),ZoomPane=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:l=!1,panOnScrollSpeed:d=.5,panOnScrollMode:h=PanOnScrollMode.Free,zoomOnDoubleClick:_=!0,elementsSelectable:p,panOnDrag:u=!0,defaultViewport:m,translateExtent:g,minZoom:y,maxZoom:v,zoomActivationKeyCode:S,preventScrolling:b=!0,children:C,noWheelClassName:w,noPanClassName:A})=>{const $=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(),E=useStoreApi(),D=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),I=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),R=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),O=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef({x:0,y:0,zoom:0}),{d3Zoom:N,d3Selection:M,d3ZoomHandler:k,userSelectionActive:x}=useStore(selector$a,shallow$1),T=useKeyPress(S),L=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(0),F=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),P=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef();return useResizeHandler(R),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{if(R.current){const B=R.current.getBoundingClientRect(),H=zoom().scaleExtent([y,v]).translateExtent(g),j=select(R.current).call(H),W=identity$5.translate(m.x,m.y).scale(clamp(m.zoom,y,v)),U=[[0,0],[B.width,B.height]],G=H.constrain()(W,U,g);H.transform(j,G),H.wheelDelta(wheelDelta),E.setState({d3Zoom:H,d3Selection:j,d3ZoomHandler:j.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:R.current.closest(".react-flow")})}},[]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{M&&N&&(l&&!T&&!x?M.on("wheel.zoom",B=>{if(isWrappedWithClass(B,w))return!1;B.preventDefault(),B.stopImmediatePropagation();const H=M.property("__zoom").k||1;if(B.ctrlKey&&a){const Y=pointer(B),J=wheelDelta(B),Q=H*Math.pow(2,J);N.scaleTo(M,Q,Y,B);return}const j=B.deltaMode===1?20:1;let W=h===PanOnScrollMode.Vertical?0:B.deltaX*j,U=h===PanOnScrollMode.Horizontal?0:B.deltaY*j;!isMacOs()&&B.shiftKey&&h!==PanOnScrollMode.Vertical&&(W=B.deltaY*j,U=0),N.translateBy(M,-(W/H)*d,-(U/H)*d,{internal:!0});const G=eventToFlowTransform(M.property("__zoom")),{onViewportChangeStart:V,onViewportChange:X,onViewportChangeEnd:q}=E.getState();clearTimeout(P.current),F.current||(F.current=!0,e==null||e(B,G),V==null||V(G)),F.current&&(t==null||t(B,G),X==null||X(G),P.current=setTimeout(()=>{n==null||n(B,G),q==null||q(G),F.current=!1},150))},{passive:!1}):typeof k<"u"&&M.on("wheel.zoom",function(B,H){if(!b&&B.type==="wheel"&&!B.ctrlKey||isWrappedWithClass(B,w))return null;B.preventDefault(),k.call(this,B,H)},{passive:!1}))},[x,l,h,M,N,k,T,a,b,w,e,t,n]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{N&&N.on("start",B=>{var W,U;if(!B.sourceEvent||B.sourceEvent.internal)return null;L.current=(W=B.sourceEvent)==null?void 0:W.button;const{onViewportChangeStart:H}=E.getState(),j=eventToFlowTransform(B.transform);D.current=!0,O.current=j,((U=B.sourceEvent)==null?void 0:U.type)==="mousedown"&&E.setState({paneDragging:!0}),H==null||H(j),e==null||e(B.sourceEvent,j)})},[N,e]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{N&&(x&&!D.current?N.on("zoom",null):x||N.on("zoom",B=>{var j;const{onViewportChange:H}=E.getState();if(E.setState({transform:[B.transform.x,B.transform.y,B.transform.k]}),I.current=!!(o&&isRightClickPan(u,L.current??0)),(t||H)&&!((j=B.sourceEvent)!=null&&j.internal)){const W=eventToFlowTransform(B.transform);H==null||H(W),t==null||t(B.sourceEvent,W)}}))},[x,N,t,u,o]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{N&&N.on("end",B=>{if(!B.sourceEvent||B.sourceEvent.internal)return null;const{onViewportChangeEnd:H}=E.getState();if(D.current=!1,E.setState({paneDragging:!1}),o&&isRightClickPan(u,L.current??0)&&!I.current&&o(B.sourceEvent),I.current=!1,(n||H)&&viewChanged(O.current,B.transform)){const j=eventToFlowTransform(B.transform);O.current=j,clearTimeout($.current),$.current=setTimeout(()=>{H==null||H(j),n==null||n(B.sourceEvent,j)},l?150:0)}})},[N,l,u,n,o]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{N&&N.filter(B=>{const H=T||s,j=a&&B.ctrlKey;if((u===!0||Array.isArray(u)&&u.includes(1))&&B.button===1&&B.type==="mousedown"&&(isWrappedWithClass(B,"react-flow__node")||isWrappedWithClass(B,"react-flow__edge")))return!0;if(!u&&!H&&!l&&!_&&!a||x||!_&&B.type==="dblclick"||isWrappedWithClass(B,w)&&B.type==="wheel"||isWrappedWithClass(B,A)&&(B.type!=="wheel"||l&&B.type==="wheel"&&!T)||!a&&B.ctrlKey&&B.type==="wheel"||!H&&!l&&!j&&B.type==="wheel"||!u&&(B.type==="mousedown"||B.type==="touchstart")||Array.isArray(u)&&!u.includes(B.button)&&B.type==="mousedown")return!1;const W=Array.isArray(u)&&u.includes(B.button)||!B.button||B.button<=1;return(!B.ctrlKey||B.type==="wheel")&&W})},[x,N,s,a,l,_,u,p,T]),React$2.createElement("div",{className:"react-flow__renderer",ref:R,style:containerStyle},C)},selector$9=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function UserSelection(){const{userSelectionActive:t,userSelectionRect:e}=useStore(selector$9,shallow$1);return t&&e?React$2.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function handleParentExpand(t,e){const n=e.parentNode||e.parentId,o=t.find(s=>s.id===n);if(o){const s=e.position.x+e.width-o.width,a=e.position.y+e.height-o.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,s>0&&(o.style.width+=s),a>0&&(o.style.height+=a),e.position.x<0){const l=Math.abs(e.position.x);o.position.x=o.position.x-l,o.style.width+=l,e.position.x=0}if(e.position.y<0){const l=Math.abs(e.position.y);o.position.y=o.position.y-l,o.style.height+=l,e.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function applyChanges(t,e){if(t.some(o=>o.type==="reset"))return t.filter(o=>o.type==="reset").map(o=>o.item);const n=t.filter(o=>o.type==="add").map(o=>o.item);return e.reduce((o,s)=>{const a=t.filter(d=>d.id===s.id);if(a.length===0)return o.push(s),o;const l={...s};for(const d of a)if(d)switch(d.type){case"select":{l.selected=d.selected;break}case"position":{typeof d.position<"u"&&(l.position=d.position),typeof d.positionAbsolute<"u"&&(l.positionAbsolute=d.positionAbsolute),typeof d.dragging<"u"&&(l.dragging=d.dragging),l.expandParent&&handleParentExpand(o,l);break}case"dimensions":{typeof d.dimensions<"u"&&(l.width=d.dimensions.width,l.height=d.dimensions.height),typeof d.updateStyle<"u"&&(l.style={...l.style||{},...d.dimensions}),typeof d.resizing=="boolean"&&(l.resizing=d.resizing),l.expandParent&&handleParentExpand(o,l);break}case"remove":return o}return o.push(l),o},n)}function applyNodeChanges(t,e){return applyChanges(t,e)}function applyEdgeChanges(t,e){return applyChanges(t,e)}const createSelectionChange=(t,e)=>({id:t,type:"select",selected:e});function getSelectionChanges(t,e){return t.reduce((n,o)=>{const s=e.includes(o.id);return!o.selected&&s?(o.selected=!0,n.push(createSelectionChange(o.id,!0))):o.selected&&!s&&(o.selected=!1,n.push(createSelectionChange(o.id,!1))),n},[])}const wrapHandler=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},selector$8=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Pane=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(({isSelecting:t,selectionMode:e=SelectionMode.Full,panOnDrag:n,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:d,onPaneMouseEnter:h,onPaneMouseMove:_,onPaneMouseLeave:p,children:u})=>{const m=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),g=useStoreApi(),y=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(0),v=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(0),S=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(),{userSelectionActive:b,elementsSelectable:C,dragging:w}=useStore(selector$8,shallow$1),A=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},$=k=>{a==null||a(k),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},E=k=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){k.preventDefault();return}l==null||l(k)},D=d?k=>d(k):void 0,I=k=>{const{resetSelectedElements:x,domNode:T}=g.getState();if(S.current=T==null?void 0:T.getBoundingClientRect(),!C||!t||k.button!==0||k.target!==m.current||!S.current)return;const{x:L,y:F}=getEventPosition(k,S.current);x(),g.setState({userSelectionRect:{width:0,height:0,startX:L,startY:F,x:L,y:F}}),o==null||o(k)},R=k=>{const{userSelectionRect:x,nodeInternals:T,edges:L,transform:F,onNodesChange:P,onEdgesChange:B,nodeOrigin:H,getNodes:j}=g.getState();if(!t||!S.current||!x)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const W=getEventPosition(k,S.current),U=x.startX??0,G=x.startY??0,V={...x,x:W.x<U?W.x:U,y:W.y<G?W.y:G,width:Math.abs(W.x-U),height:Math.abs(W.y-G)},X=j(),q=getNodesInside(T,V,F,e===SelectionMode.Partial,!0,H),Y=getConnectedEdges(q,L).map(Q=>Q.id),J=q.map(Q=>Q.id);if(y.current!==J.length){y.current=J.length;const Q=getSelectionChanges(X,J);Q.length&&(P==null||P(Q))}if(v.current!==Y.length){v.current=Y.length;const Q=getSelectionChanges(L,Y);Q.length&&(B==null||B(Q))}g.setState({userSelectionRect:V})},O=k=>{if(k.button!==0)return;const{userSelectionRect:x}=g.getState();!b&&x&&k.target===m.current&&($==null||$(k)),g.setState({nodesSelectionActive:y.current>0}),A(),s==null||s(k)},N=k=>{b&&(g.setState({nodesSelectionActive:y.current>0}),s==null||s(k)),A()},M=C&&(t||b);return React$2.createElement("div",{className:cc(["react-flow__pane",{dragging:w,selection:t}]),onClick:M?void 0:wrapHandler($,m),onContextMenu:wrapHandler(E,m),onWheel:wrapHandler(D,m),onMouseEnter:M?void 0:h,onMouseDown:M?I:void 0,onMouseMove:M?R:_,onMouseUp:M?O:void 0,onMouseLeave:M?N:p,ref:m,style:containerStyle},u,React$2.createElement(UserSelection,null))});Pane.displayName="Pane";function isParentSelected(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const o=e.get(n);return o?o.selected?!0:isParentSelected(o,e):!1}function hasSelector(t,e,n){let o=t;do{if(o!=null&&o.matches(e))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function getDragItems(t,e,n,o){return Array.from(t.values()).filter(s=>(s.selected||s.id===o)&&(!s.parentNode||s.parentId||!isParentSelected(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var a,l;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=s.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((l=s.positionAbsolute)==null?void 0:l.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function clampNodeExtent(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function calcNextPosition(t,e,n,o,s=[0,0],a){const l=clampNodeExtent(t,t.extent||o);let d=l;const h=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(h&&t.width&&t.height){const u=n.get(h),{x:m,y:g}=getNodePositionWithOrigin(u,s).positionAbsolute;d=u&&isNumeric(m)&&isNumeric(g)&&isNumeric(u.width)&&isNumeric(u.height)?[[m+t.width*s[0],g+t.height*s[1]],[m+u.width-t.width+t.width*s[0],g+u.height-t.height+t.height*s[1]]]:d}else a==null||a("005",errorMessages.error005()),d=l;else if(t.extent&&h&&t.extent!=="parent"){const u=n.get(h),{x:m,y:g}=getNodePositionWithOrigin(u,s).positionAbsolute;d=[[t.extent[0][0]+m,t.extent[0][1]+g],[t.extent[1][0]+m,t.extent[1][1]+g]]}let _={x:0,y:0};if(h){const u=n.get(h);_=getNodePositionWithOrigin(u,s).positionAbsolute}const p=d&&d!=="parent"?clampPosition(e,d):e;return{position:{x:p.x-_.x,y:p.y-_.y},positionAbsolute:p}}function getEventHandlerParams({nodeId:t,dragItems:e,nodeInternals:n}){const o=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?o.find(s=>s.id===t):o[0],o]}const getHandleBounds=(t,e,n,o)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),l=e.getBoundingClientRect(),d={x:l.width*o[0],y:l.height*o[1]};return a.map(h=>{const _=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(_.left-l.left-d.x)/n,y:(_.top-l.top-d.y)/n,...getDimensions(h)}})};function getMouseHandler(t,e,n){return n===void 0?n:o=>{const s=e().nodeInternals.get(t);s&&n(o,{...s})}}function handleNodeClick({id:t,store:e,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:l,nodeInternals:d,onError:h}=e.getState(),_=d.get(t);if(!_){h==null||h("012",errorMessages.error012(t));return}e.setState({nodesSelectionActive:!1}),_.selected?(n||_.selected&&l)&&(a({nodes:[_],edges:[]}),requestAnimationFrame(()=>{var p;return(p=o==null?void 0:o.current)==null?void 0:p.blur()})):s([t])}function useGetPointerPosition(){const t=useStoreApi();return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(({sourceEvent:n})=>{const{transform:o,snapGrid:s,snapToGrid:a}=t.getState(),l=n.touches?n.touches[0].clientX:n.clientX,d=n.touches?n.touches[0].clientY:n.clientY,h={x:(l-o[0])/o[2],y:(d-o[1])/o[2]};return{xSnapped:a?s[0]*Math.round(h.x/s[0]):h.x,ySnapped:a?s[1]*Math.round(h.y/s[1]):h.y,...h}},[])}function wrapSelectionDragFunc(t){return(e,n,o)=>t==null?void 0:t(e,o)}function useDrag({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:o,nodeId:s,isSelectable:a,selectNodesOnDrag:l}){const d=useStoreApi(),[h,_]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState(!1),p=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef([]),u=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef({x:null,y:null}),m=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(0),g=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),y=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef({x:0,y:0}),v=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),S=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),b=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),C=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1),w=useGetPointerPosition();return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{if(t!=null&&t.current){const A=select(t.current),$=({x:I,y:R})=>{const{nodeInternals:O,onNodeDrag:N,onSelectionDrag:M,updateNodePositions:k,nodeExtent:x,snapGrid:T,snapToGrid:L,nodeOrigin:F,onError:P}=d.getState();u.current={x:I,y:R};let B=!1,H={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&x){const W=getNodesBounds(p.current,F);H=rectToBox(W)}if(p.current=p.current.map(W=>{const U={x:I-W.distance.x,y:R-W.distance.y};L&&(U.x=T[0]*Math.round(U.x/T[0]),U.y=T[1]*Math.round(U.y/T[1]));const G=[[x[0][0],x[0][1]],[x[1][0],x[1][1]]];p.current.length>1&&x&&!W.extent&&(G[0][0]=W.positionAbsolute.x-H.x+x[0][0],G[1][0]=W.positionAbsolute.x+(W.width??0)-H.x2+x[1][0],G[0][1]=W.positionAbsolute.y-H.y+x[0][1],G[1][1]=W.positionAbsolute.y+(W.height??0)-H.y2+x[1][1]);const V=calcNextPosition(W,U,O,G,F,P);return B=B||W.position.x!==V.position.x||W.position.y!==V.position.y,W.position=V.position,W.positionAbsolute=V.positionAbsolute,W}),!B)return;k(p.current,!0,!0),_(!0);const j=s?N:wrapSelectionDragFunc(M);if(j&&v.current){const[W,U]=getEventHandlerParams({nodeId:s,dragItems:p.current,nodeInternals:O});j(v.current,W,U)}},E=()=>{if(!g.current)return;const[I,R]=calcAutoPan(y.current,g.current);if(I!==0||R!==0){const{transform:O,panBy:N}=d.getState();u.current.x=(u.current.x??0)-I/O[2],u.current.y=(u.current.y??0)-R/O[2],N({x:I,y:R})&&$(u.current)}m.current=requestAnimationFrame(E)},D=I=>{var F;const{nodeInternals:R,multiSelectionActive:O,nodesDraggable:N,unselectNodesAndEdges:M,onNodeDragStart:k,onSelectionDragStart:x}=d.getState();b.current=!0;const T=s?k:wrapSelectionDragFunc(x);(!l||!a)&&!O&&s&&((F=R.get(s))!=null&&F.selected||M()),s&&a&&l&&handleNodeClick({id:s,store:d,nodeRef:t});const L=w(I);if(u.current=L,p.current=getDragItems(R,N,L,s),T&&p.current){const[P,B]=getEventHandlerParams({nodeId:s,dragItems:p.current,nodeInternals:R});T(I.sourceEvent,P,B)}};if(e)A.on(".drag",null);else{const I=drag().on("start",R=>{const{domNode:O,nodeDragThreshold:N}=d.getState();N===0&&D(R),C.current=!1;const M=w(R);u.current=M,g.current=(O==null?void 0:O.getBoundingClientRect())||null,y.current=getEventPosition(R.sourceEvent,g.current)}).on("drag",R=>{var k,x;const O=w(R),{autoPanOnNodeDrag:N,nodeDragThreshold:M}=d.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(C.current=!0),!C.current){if(!S.current&&b.current&&N&&(S.current=!0,E()),!b.current){const T=O.xSnapped-(((k=u==null?void 0:u.current)==null?void 0:k.x)??0),L=O.ySnapped-(((x=u==null?void 0:u.current)==null?void 0:x.y)??0);Math.sqrt(T*T+L*L)>M&&D(R)}(u.current.x!==O.xSnapped||u.current.y!==O.ySnapped)&&p.current&&b.current&&(v.current=R.sourceEvent,y.current=getEventPosition(R.sourceEvent,g.current),$(O))}}).on("end",R=>{if(!(!b.current||C.current)&&(_(!1),S.current=!1,b.current=!1,cancelAnimationFrame(m.current),p.current)){const{updateNodePositions:O,nodeInternals:N,onNodeDragStop:M,onSelectionDragStop:k}=d.getState(),x=s?M:wrapSelectionDragFunc(k);if(O(p.current,!1,!1),x){const[T,L]=getEventHandlerParams({nodeId:s,dragItems:p.current,nodeInternals:N});x(R.sourceEvent,T,L)}}}).filter(R=>{const O=R.target;return!R.button&&(!n||!hasSelector(O,`.${n}`,t))&&(!o||hasSelector(O,o,t))});return A.call(I),()=>{A.on(".drag",null)}}}},[t,e,n,o,a,d,s,l,w]),h}function useUpdateNodePositions(){const t=useStoreApi();return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(n=>{const{nodeInternals:o,nodeExtent:s,updateNodePositions:a,getNodes:l,snapToGrid:d,snapGrid:h,onError:_,nodesDraggable:p}=t.getState(),u=l().filter(C=>C.selected&&(C.draggable||p&&typeof C.draggable>"u")),m=d?h[0]:5,g=d?h[1]:5,y=n.isShiftPressed?4:1,v=n.x*m*y,S=n.y*g*y,b=u.map(C=>{if(C.positionAbsolute){const w={x:C.positionAbsolute.x+v,y:C.positionAbsolute.y+S};d&&(w.x=h[0]*Math.round(w.x/h[0]),w.y=h[1]*Math.round(w.y/h[1]));const{positionAbsolute:A,position:$}=calcNextPosition(C,w,o,s,void 0,_);C.position=$,C.positionAbsolute=A}return C});a(b,!0,!1)},[])}const arrowKeyDiffs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var wrapNode=t=>{const e=({id:n,type:o,data:s,xPos:a,yPos:l,xPosOrigin:d,yPosOrigin:h,selected:_,onClick:p,onMouseEnter:u,onMouseMove:m,onMouseLeave:g,onContextMenu:y,onDoubleClick:v,style:S,className:b,isDraggable:C,isSelectable:w,isConnectable:A,isFocusable:$,selectNodesOnDrag:E,sourcePosition:D,targetPosition:I,hidden:R,resizeObserver:O,dragHandle:N,zIndex:M,isParent:k,noDragClassName:x,noPanClassName:T,initialized:L,disableKeyboardA11y:F,ariaLabel:P,rfId:B,hasHandleBounds:H})=>{const j=useStoreApi(),W=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),U=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),G=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(D),V=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(I),X=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(o),q=w||C||p||u||m||g,Y=useUpdateNodePositions(),J=getMouseHandler(n,j.getState,u),Q=getMouseHandler(n,j.getState,m),ee=getMouseHandler(n,j.getState,g),re=getMouseHandler(n,j.getState,y),ae=getMouseHandler(n,j.getState,v),se=le=>{const{nodeDragThreshold:ne}=j.getState();if(w&&(!E||!C||ne>0)&&handleNodeClick({id:n,store:j,nodeRef:W}),p){const _e=j.getState().nodeInternals.get(n);_e&&p(le,{..._e})}},ie=le=>{if(!isInputDOMNode(le)&&!F)if(elementSelectionKeys.includes(le.key)&&w){const ne=le.key==="Escape";handleNodeClick({id:n,store:j,unselect:ne,nodeRef:W})}else C&&_&&Object.prototype.hasOwnProperty.call(arrowKeyDiffs,le.key)&&(j.setState({ariaLiveMessage:`Moved selected node ${le.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~l}`}),Y({x:arrowKeyDiffs[le.key].x,y:arrowKeyDiffs[le.key].y,isShiftPressed:le.shiftKey}))};AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>()=>{U.current&&(O==null||O.unobserve(U.current),U.current=null)},[]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{if(W.current&&!R){const le=W.current;(!L||!H||U.current!==le)&&(U.current&&(O==null||O.unobserve(U.current)),O==null||O.observe(le),U.current=le)}},[R,L,H]),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{const le=X.current!==o,ne=G.current!==D,_e=V.current!==I;W.current&&(le||ne||_e)&&(le&&(X.current=o),ne&&(G.current=D),_e&&(V.current=I),j.getState().updateNodeDimensions([{id:n,nodeElement:W.current,forceUpdate:!0}]))},[n,o,D,I]);const ce=useDrag({nodeRef:W,disabled:R||!C,noDragClassName:x,handleSelector:N,nodeId:n,isSelectable:w,selectNodesOnDrag:E});return R?null:React$2.createElement("div",{className:cc(["react-flow__node",`react-flow__node-${o}`,{[T]:C},b,{selected:_,selectable:w,parent:k,dragging:ce}]),ref:W,style:{zIndex:M,transform:`translate(${d}px,${h}px)`,pointerEvents:q?"all":"none",visibility:L?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:J,onMouseMove:Q,onMouseLeave:ee,onContextMenu:re,onClick:se,onDoubleClick:ae,onKeyDown:$?ie:void 0,tabIndex:$?0:void 0,role:$?"button":void 0,"aria-describedby":F?void 0:`${ARIA_NODE_DESC_KEY}-${B}`,"aria-label":P},React$2.createElement(Provider,{value:n},React$2.createElement(t,{id:n,data:s,type:o,xPos:a,yPos:l,selected:_,isConnectable:A,sourcePosition:D,targetPosition:I,dragging:ce,dragHandle:N,zIndex:M})))};return e.displayName="NodeWrapper",AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(e)};const selector$7=t=>{const e=t.getNodes().filter(n=>n.selected);return{...getNodesBounds(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function NodesSelection({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const o=useStoreApi(),{width:s,height:a,x:l,y:d,transformString:h,userSelectionActive:_}=useStore(selector$7,shallow$1),p=useUpdateNodePositions(),u=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null);if(AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{var y;n||(y=u.current)==null||y.focus({preventScroll:!0})},[n]),useDrag({nodeRef:u}),_||!s||!a)return null;const m=t?y=>{const v=o.getState().getNodes().filter(S=>S.selected);t(y,v)}:void 0,g=y=>{Object.prototype.hasOwnProperty.call(arrowKeyDiffs,y.key)&&p({x:arrowKeyDiffs[y.key].x,y:arrowKeyDiffs[y.key].y,isShiftPressed:y.shiftKey})};return React$2.createElement("div",{className:cc(["react-flow__nodesselection","react-flow__container",e]),style:{transform:h}},React$2.createElement("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:s,height:a,top:d,left:l}}))}var NodesSelection$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(NodesSelection);const selector$6=t=>t.nodesSelectionActive,FlowRenderer=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,deleteKeyCode:d,onMove:h,onMoveStart:_,onMoveEnd:p,selectionKeyCode:u,selectionOnDrag:m,selectionMode:g,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:b,zoomActivationKeyCode:C,elementsSelectable:w,zoomOnScroll:A,zoomOnPinch:$,panOnScroll:E,panOnScrollSpeed:D,panOnScrollMode:I,zoomOnDoubleClick:R,panOnDrag:O,defaultViewport:N,translateExtent:M,minZoom:k,maxZoom:x,preventScrolling:T,onSelectionContextMenu:L,noWheelClassName:F,noPanClassName:P,disableKeyboardA11y:B})=>{const H=useStore(selector$6),j=useKeyPress(u),W=useKeyPress(b),U=W||O,G=W||E,V=j||m&&U!==!0;return useGlobalKeyHandler({deleteKeyCode:d,multiSelectionKeyCode:S}),React$2.createElement(ZoomPane,{onMove:h,onMoveStart:_,onMoveEnd:p,onPaneContextMenu:a,elementsSelectable:w,zoomOnScroll:A,zoomOnPinch:$,panOnScroll:G,panOnScrollSpeed:D,panOnScrollMode:I,zoomOnDoubleClick:R,panOnDrag:!j&&U,defaultViewport:N,translateExtent:M,minZoom:k,maxZoom:x,zoomActivationKeyCode:C,preventScrolling:T,noWheelClassName:F,noPanClassName:P},React$2.createElement(Pane,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:U,isSelecting:!!V,selectionMode:g},t,H&&React$2.createElement(NodesSelection$1,{onSelectionContextMenu:L,noPanClassName:P,disableKeyboardA11y:B})))};FlowRenderer.displayName="FlowRenderer";var FlowRenderer$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(FlowRenderer);function useVisibleNodes(t){return useStore(AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(n=>t?getNodesInside(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function createNodeTypes(t){const e={input:wrapNode(t.input||InputNode$1),default:wrapNode(t.default||DefaultNode$1),output:wrapNode(t.output||OutputNode$1),group:wrapNode(t.group||GroupNode)},n={},o=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=wrapNode(t[a]||DefaultNode$1),s),n);return{...e,...o}}const getPositionWithOrigin=({x:t,y:e,width:n,height:o,origin:s})=>!n||!o?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-o*s[1]},selector$5=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),NodeRenderer=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,updateNodeDimensions:a,onError:l}=useStore(selector$5,shallow$1),d=useVisibleNodes(t.onlyRenderVisibleElements),h=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(),_=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const p=new ResizeObserver(u=>{const m=u.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));a(m)});return h.current=p,p},[]);return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>()=>{var p;(p=h==null?void 0:h.current)==null||p.disconnect()},[]),React$2.createElement("div",{className:"react-flow__nodes",style:containerStyle},d.map(p=>{var $,E,D;let u=p.type||"default";t.nodeTypes[u]||(l==null||l("003",errorMessages.error003(u)),u="default");const m=t.nodeTypes[u]||t.nodeTypes.default,g=!!(p.draggable||e&&typeof p.draggable>"u"),y=!!(p.selectable||s&&typeof p.selectable>"u"),v=!!(p.connectable||n&&typeof p.connectable>"u"),S=!!(p.focusable||o&&typeof p.focusable>"u"),b=t.nodeExtent?clampPosition(p.positionAbsolute,t.nodeExtent):p.positionAbsolute,C=(b==null?void 0:b.x)??0,w=(b==null?void 0:b.y)??0,A=getPositionWithOrigin({x:C,y:w,width:p.width??0,height:p.height??0,origin:t.nodeOrigin});return React$2.createElement(m,{key:p.id,id:p.id,className:p.className,style:p.style,type:u,data:p.data,sourcePosition:p.sourcePosition||Position.Bottom,targetPosition:p.targetPosition||Position.Top,hidden:p.hidden,xPos:C,yPos:w,xPosOrigin:A.x,yPosOrigin:A.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!p.selected,isDraggable:g,isSelectable:y,isConnectable:v,isFocusable:S,resizeObserver:_,dragHandle:p.dragHandle,zIndex:(($=p[internalsSymbol])==null?void 0:$.z)??0,isParent:!!((E=p[internalsSymbol])!=null&&E.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!p.width&&!!p.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:p.ariaLabel,hasHandleBounds:!!((D=p[internalsSymbol])!=null&&D.handleBounds)})}))};NodeRenderer.displayName="NodeRenderer";var NodeRenderer$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(NodeRenderer);const shiftX=(t,e,n)=>n===Position.Left?t-e:n===Position.Right?t+e:t,shiftY=(t,e,n)=>n===Position.Top?t-e:n===Position.Bottom?t+e:t,EdgeUpdaterClassName="react-flow__edgeupdater",EdgeAnchor=({position:t,centerX:e,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:a,onMouseOut:l,type:d})=>React$2.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:l,className:cc([EdgeUpdaterClassName,`${EdgeUpdaterClassName}-${d}`]),cx:shiftX(e,o,t),cy:shiftY(n,o,t),r:o,stroke:"transparent",fill:"transparent"}),alwaysValidConnection=()=>!0;var wrapEdge=t=>{const e=({id:n,className:o,type:s,data:a,onClick:l,onEdgeDoubleClick:d,selected:h,animated:_,label:p,labelStyle:u,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,style:S,source:b,target:C,sourceX:w,sourceY:A,targetX:$,targetY:E,sourcePosition:D,targetPosition:I,elementsSelectable:R,hidden:O,sourceHandleId:N,targetHandleId:M,onContextMenu:k,onMouseEnter:x,onMouseMove:T,onMouseLeave:L,reconnectRadius:F,onReconnect:P,onReconnectStart:B,onReconnectEnd:H,markerEnd:j,markerStart:W,rfId:U,ariaLabel:G,isFocusable:V,isReconnectable:X,pathOptions:q,interactionWidth:Y,disableKeyboardA11y:J})=>{const Q=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),[ee,re]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState(!1),[ae,se]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState(!1),ie=useStoreApi(),ce=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>`url('#${getMarkerId(W,U)}')`,[W,U]),le=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>`url('#${getMarkerId(j,U)}')`,[j,U]);if(O)return null;const ne=fe=>{var Ae;const{edges:Ce,addSelectedEdges:We,unselectNodesAndEdges:He,multiSelectionActive:De}=ie.getState(),Re=Ce.find(Ye=>Ye.id===n);Re&&(R&&(ie.setState({nodesSelectionActive:!1}),Re.selected&&De?(He({nodes:[],edges:[Re]}),(Ae=Q.current)==null||Ae.blur()):We([n])),l&&l(fe,Re))},_e=getMouseHandler$1(n,ie.getState,d),ge=getMouseHandler$1(n,ie.getState,k),Te=getMouseHandler$1(n,ie.getState,x),Oe=getMouseHandler$1(n,ie.getState,T),Me=getMouseHandler$1(n,ie.getState,L),be=(fe,Ce)=>{if(fe.button!==0)return;const{edges:We,isValidConnection:He}=ie.getState(),De=Ce?C:b,Re=(Ce?M:N)||null,Ae=Ce?"target":"source",Ye=He||alwaysValidConnection,Ne=Ce,Xe=We.find(Pe=>Pe.id===n);se(!0),B==null||B(fe,Xe,Ae);const rt=Pe=>{se(!1),H==null||H(Pe,Xe,Ae)};handlePointerDown({event:fe,handleId:Re,nodeId:De,onConnect:Pe=>P==null?void 0:P(Xe,Pe),isTarget:Ne,getState:ie.getState,setState:ie.setState,isValidConnection:Ye,edgeUpdaterType:Ae,onReconnectEnd:rt})},Le=fe=>be(fe,!0),xe=fe=>be(fe,!1),Ee=()=>re(!0),$e=()=>re(!1),Ue=!R&&!l,ve=fe=>{var Ce;if(!J&&elementSelectionKeys.includes(fe.key)&&R){const{unselectNodesAndEdges:We,addSelectedEdges:He,edges:De}=ie.getState();fe.key==="Escape"?((Ce=Q.current)==null||Ce.blur(),We({edges:[De.find(Ae=>Ae.id===n)]})):He([n])}};return React$2.createElement("g",{className:cc(["react-flow__edge",`react-flow__edge-${s}`,o,{selected:h,animated:_,inactive:Ue,updating:ee}]),onClick:ne,onDoubleClick:_e,onContextMenu:ge,onMouseEnter:Te,onMouseMove:Oe,onMouseLeave:Me,onKeyDown:V?ve:void 0,tabIndex:V?0:void 0,role:V?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":G===null?void 0:G||`Edge from ${b} to ${C}`,"aria-describedby":V?`${ARIA_EDGE_DESC_KEY}-${U}`:void 0,ref:Q},!ae&&React$2.createElement(t,{id:n,source:b,target:C,selected:h,animated:_,label:p,labelStyle:u,labelShowBg:m,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:v,data:a,style:S,sourceX:w,sourceY:A,targetX:$,targetY:E,sourcePosition:D,targetPosition:I,sourceHandleId:N,targetHandleId:M,markerStart:ce,markerEnd:le,pathOptions:q,interactionWidth:Y}),X&&React$2.createElement(React$2.Fragment,null,(X==="source"||X===!0)&&React$2.createElement(EdgeAnchor,{position:D,centerX:w,centerY:A,radius:F,onMouseDown:Le,onMouseEnter:Ee,onMouseOut:$e,type:"source"}),(X==="target"||X===!0)&&React$2.createElement(EdgeAnchor,{position:I,centerX:$,centerY:E,radius:F,onMouseDown:xe,onMouseEnter:Ee,onMouseOut:$e,type:"target"})))};return e.displayName="EdgeWrapper",AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(e)};function createEdgeTypes(t){const e={default:wrapEdge(t.default||BezierEdge),straight:wrapEdge(t.bezier||StraightEdge),step:wrapEdge(t.step||StepEdge),smoothstep:wrapEdge(t.step||SmoothStepEdge),simplebezier:wrapEdge(t.simplebezier||SimpleBezierEdge)},n={},o=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=wrapEdge(t[a]||BezierEdge),s),n);return{...e,...o}}function getHandlePosition(t,e,n=null){const o=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,a=(n==null?void 0:n.width)||e.width,l=(n==null?void 0:n.height)||e.height;switch(t){case Position.Top:return{x:o+a/2,y:s};case Position.Right:return{x:o+a,y:s+l/2};case Position.Bottom:return{x:o+a/2,y:s+l};case Position.Left:return{x:o,y:s+l/2}}}function getHandle(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const getEdgePositions=(t,e,n,o,s,a)=>{const l=getHandlePosition(n,t,e),d=getHandlePosition(a,o,s);return{sourceX:l.x,sourceY:l.y,targetX:d.x,targetY:d.y}};function isEdgeVisible({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:o,targetWidth:s,targetHeight:a,width:l,height:d,transform:h}){const _={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+o,e.y+a)};_.x===_.x2&&(_.x2+=1),_.y===_.y2&&(_.y2+=1);const p=rectToBox({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:l/h[2],height:d/h[2]}),u=Math.max(0,Math.min(p.x2,_.x2)-Math.max(p.x,_.x)),m=Math.max(0,Math.min(p.y2,_.y2)-Math.max(p.y,_.y));return Math.ceil(u*m)>0}function getNodeData(t){var o,s,a,l,d;const e=((o=t==null?void 0:t[internalsSymbol])==null?void 0:o.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((l=t==null?void 0:t.positionAbsolute)==null?void 0:l.x)||0,y:((d=t==null?void 0:t.positionAbsolute)==null?void 0:d.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const defaultEdgeTree=[{level:0,isMaxLevel:!0,edges:[]}];function groupEdgesByZLevel(t,e,n=!1){let o=-1;const s=t.reduce((l,d)=>{var p,u;const h=isNumeric(d.zIndex);let _=h?d.zIndex:0;if(n){const m=e.get(d.target),g=e.get(d.source),y=d.selected||(m==null?void 0:m.selected)||(g==null?void 0:g.selected),v=Math.max(((p=g==null?void 0:g[internalsSymbol])==null?void 0:p.z)||0,((u=m==null?void 0:m[internalsSymbol])==null?void 0:u.z)||0,1e3);_=(h?d.zIndex:0)+(y?v:0)}return l[_]?l[_].push(d):l[_]=[d],o=_>o?_:o,l},{}),a=Object.entries(s).map(([l,d])=>{const h=+l;return{edges:d,level:h,isMaxLevel:h===o}});return a.length===0?defaultEdgeTree:a}function useVisibleEdges(t,e,n){const o=useStore(AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(s=>t?s.edges.filter(a=>{const l=e.get(a.source),d=e.get(a.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(d==null?void 0:d.width)&&(d==null?void 0:d.height)&&isEdgeVisible({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:d.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:d.width,targetHeight:d.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return groupEdgesByZLevel(o,e,n)}const ArrowSymbol=({color:t="none",strokeWidth:e=1})=>React$2.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ArrowClosedSymbol=({color:t="none",strokeWidth:e=1})=>React$2.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),MarkerSymbols={[MarkerType.Arrow]:ArrowSymbol,[MarkerType.ArrowClosed]:ArrowClosedSymbol};function useMarkerSymbol(t){const e=useStoreApi();return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>{var s,a;return Object.prototype.hasOwnProperty.call(MarkerSymbols,t)?MarkerSymbols[t]:((a=(s=e.getState()).onError)==null||a.call(s,"009",errorMessages.error009(t)),null)},[t])}const Marker=({id:t,type:e,color:n,width:o=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:d="auto-start-reverse"})=>{const h=useMarkerSymbol(e);return h?React$2.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:d,refX:"0",refY:"0"},React$2.createElement(h,{color:n,strokeWidth:l})):null},markerSelector=({defaultColor:t,rfId:e})=>n=>{const o=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const d=getMarkerId(l,e);o.includes(d)||(s.push({id:d,color:l.color||t,...l}),o.push(d))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},MarkerDefinitions=({defaultColor:t,rfId:e})=>{const n=useStore(AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(markerSelector({defaultColor:t,rfId:e}),[t,e]),(o,s)=>!(o.length!==s.length||o.some((a,l)=>a.id!==s[l].id)));return React$2.createElement("defs",null,n.map(o=>React$2.createElement(Marker,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(MarkerDefinitions);const selector$4=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),EdgeRenderer=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:o,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:l,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:_,onEdgeClick:p,onEdgeDoubleClick:u,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:v,children:S,disableKeyboardA11y:b})=>{const{edgesFocusable:C,edgesUpdatable:w,elementsSelectable:A,width:$,height:E,connectionMode:D,nodeInternals:I,onError:R}=useStore(selector$4,shallow$1),O=useVisibleEdges(e,I,n);return $?React$2.createElement(React$2.Fragment,null,O.map(({level:N,edges:M,isMaxLevel:k})=>React$2.createElement("svg",{key:N,style:{zIndex:N},width:$,height:E,className:"react-flow__edges react-flow__container"},k&&React$2.createElement(MarkerDefinitions$1,{defaultColor:t,rfId:o}),React$2.createElement("g",null,M.map(x=>{const[T,L,F]=getNodeData(I.get(x.source)),[P,B,H]=getNodeData(I.get(x.target));if(!F||!H)return null;let j=x.type||"default";s[j]||(R==null||R("011",errorMessages.error011(j)),j="default");const W=s[j]||s.default,U=D===ConnectionMode.Strict?B.target:(B.target??[]).concat(B.source??[]),G=getHandle(L.source,x.sourceHandle),V=getHandle(U,x.targetHandle),X=(G==null?void 0:G.position)||Position.Bottom,q=(V==null?void 0:V.position)||Position.Top,Y=!!(x.focusable||C&&typeof x.focusable>"u"),J=x.reconnectable||x.updatable,Q=typeof m<"u"&&(J||w&&typeof J>"u");if(!G||!V)return R==null||R("008",errorMessages.error008(G,x)),null;const{sourceX:ee,sourceY:re,targetX:ae,targetY:se}=getEdgePositions(T,G,X,P,V,q);return React$2.createElement(W,{key:x.id,id:x.id,className:cc([x.className,a]),type:j,data:x.data,selected:!!x.selected,animated:!!x.animated,hidden:!!x.hidden,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,style:x.style,source:x.source,target:x.target,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerEnd:x.markerEnd,markerStart:x.markerStart,sourceX:ee,sourceY:re,targetX:ae,targetY:se,sourcePosition:X,targetPosition:q,elementsSelectable:A,onContextMenu:l,onMouseEnter:d,onMouseMove:h,onMouseLeave:_,onClick:p,onEdgeDoubleClick:u,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:v,rfId:o,ariaLabel:x.ariaLabel,isFocusable:Y,isReconnectable:Q,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth,disableKeyboardA11y:b})})))),S):null};EdgeRenderer.displayName="EdgeRenderer";var EdgeRenderer$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(EdgeRenderer);const selector$3=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Viewport({children:t}){const e=useStore(selector$3);return React$2.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function useOnInitHandler(t){const e=useReactFlow(),n=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(!1);AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const oppositePosition={[Position.Left]:Position.Right,[Position.Right]:Position.Left,[Position.Top]:Position.Bottom,[Position.Bottom]:Position.Top},ConnectionLine=({nodeId:t,handleType:e,style:n,type:o=ConnectionLineType.Bezier,CustomComponent:s,connectionStatus:a})=>{var E,D,I;const{fromNode:l,handleId:d,toX:h,toY:_,connectionMode:p}=useStore(AdminComponentEasyAccessSet__loadShare__react__loadShare__.useCallback(R=>({fromNode:R.nodeInternals.get(t),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[t]),shallow$1),u=(E=l==null?void 0:l[internalsSymbol])==null?void 0:E.handleBounds;let m=u==null?void 0:u[e];if(p===ConnectionMode.Loose&&(m=m||(u==null?void 0:u[e==="source"?"target":"source"])),!l||!m)return null;const g=d?m.find(R=>R.id===d):m[0],y=g?g.x+g.width/2:(l.width??0)/2,v=g?g.y+g.height/2:l.height??0,S=(((D=l.positionAbsolute)==null?void 0:D.x)??0)+y,b=(((I=l.positionAbsolute)==null?void 0:I.y)??0)+v,C=g==null?void 0:g.position,w=C?oppositePosition[C]:null;if(!C||!w)return null;if(s)return React$2.createElement(s,{connectionLineType:o,connectionLineStyle:n,fromNode:l,fromHandle:g,fromX:S,fromY:b,toX:h,toY:_,fromPosition:C,toPosition:w,connectionStatus:a});let A="";const $={sourceX:S,sourceY:b,sourcePosition:C,targetX:h,targetY:_,targetPosition:w};return o===ConnectionLineType.Bezier?[A]=getBezierPath($):o===ConnectionLineType.Step?[A]=getSmoothStepPath({...$,borderRadius:0}):o===ConnectionLineType.SmoothStep?[A]=getSmoothStepPath($):o===ConnectionLineType.SimpleBezier?[A]=getSimpleBezierPath($):A=`M${S},${b} ${h},${_}`,React$2.createElement("path",{d:A,fill:"none",className:"react-flow__connection-path",style:n})};ConnectionLine.displayName="ConnectionLine";const selector$2=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function ConnectionLineWrapper({containerStyle:t,style:e,type:n,component:o}){const{nodeId:s,handleType:a,nodesConnectable:l,width:d,height:h,connectionStatus:_}=useStore(selector$2,shallow$1);return!(s&&a&&d&&l)?null:React$2.createElement("svg",{style:t,width:d,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},React$2.createElement("g",{className:cc(["react-flow__connection",_])},React$2.createElement(ConnectionLine,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:o,connectionStatus:_})))}function useNodeOrEdgeTypes(t,e){return AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),useStoreApi(),AdminComponentEasyAccessSet__loadShare__react__loadShare__.useMemo(()=>e(t),[t])}const GraphView=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:o,onMoveEnd:s,onInit:a,onNodeClick:l,onEdgeClick:d,onNodeDoubleClick:h,onEdgeDoubleClick:_,onNodeMouseEnter:p,onNodeMouseMove:u,onNodeMouseLeave:m,onNodeContextMenu:g,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:S,connectionLineType:b,connectionLineStyle:C,connectionLineComponent:w,connectionLineContainerStyle:A,selectionKeyCode:$,selectionOnDrag:E,selectionMode:D,multiSelectionKeyCode:I,panActivationKeyCode:R,zoomActivationKeyCode:O,deleteKeyCode:N,onlyRenderVisibleElements:M,elementsSelectable:k,selectNodesOnDrag:x,defaultViewport:T,translateExtent:L,minZoom:F,maxZoom:P,preventScrolling:B,defaultMarkerColor:H,zoomOnScroll:j,zoomOnPinch:W,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:V,zoomOnDoubleClick:X,panOnDrag:q,onPaneClick:Y,onPaneMouseEnter:J,onPaneMouseMove:Q,onPaneMouseLeave:ee,onPaneScroll:re,onPaneContextMenu:ae,onEdgeContextMenu:se,onEdgeMouseEnter:ie,onEdgeMouseMove:ce,onEdgeMouseLeave:le,onReconnect:ne,onReconnectStart:_e,onReconnectEnd:ge,reconnectRadius:Te,noDragClassName:Oe,noWheelClassName:Me,noPanClassName:be,elevateEdgesOnSelect:Le,disableKeyboardA11y:xe,nodeOrigin:Ee,nodeExtent:$e,rfId:Ue})=>{const ve=useNodeOrEdgeTypes(t,createNodeTypes),fe=useNodeOrEdgeTypes(e,createEdgeTypes);return useOnInitHandler(a),React$2.createElement(FlowRenderer$1,{onPaneClick:Y,onPaneMouseEnter:J,onPaneMouseMove:Q,onPaneMouseLeave:ee,onPaneContextMenu:ae,onPaneScroll:re,deleteKeyCode:N,selectionKeyCode:$,selectionOnDrag:E,selectionMode:D,onSelectionStart:v,onSelectionEnd:S,multiSelectionKeyCode:I,panActivationKeyCode:R,zoomActivationKeyCode:O,elementsSelectable:k,onMove:n,onMoveStart:o,onMoveEnd:s,zoomOnScroll:j,zoomOnPinch:W,zoomOnDoubleClick:X,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:V,panOnDrag:q,defaultViewport:T,translateExtent:L,minZoom:F,maxZoom:P,onSelectionContextMenu:y,preventScrolling:B,noDragClassName:Oe,noWheelClassName:Me,noPanClassName:be,disableKeyboardA11y:xe},React$2.createElement(Viewport,null,React$2.createElement(EdgeRenderer$1,{edgeTypes:fe,onEdgeClick:d,onEdgeDoubleClick:_,onlyRenderVisibleElements:M,onEdgeContextMenu:se,onEdgeMouseEnter:ie,onEdgeMouseMove:ce,onEdgeMouseLeave:le,onReconnect:ne,onReconnectStart:_e,onReconnectEnd:ge,reconnectRadius:Te,defaultMarkerColor:H,noPanClassName:be,elevateEdgesOnSelect:!!Le,disableKeyboardA11y:xe,rfId:Ue},React$2.createElement(ConnectionLineWrapper,{style:C,type:b,component:w,containerStyle:A})),React$2.createElement("div",{className:"react-flow__edgelabel-renderer"}),React$2.createElement(NodeRenderer$1,{nodeTypes:ve,onNodeClick:l,onNodeDoubleClick:h,onNodeMouseEnter:p,onNodeMouseMove:u,onNodeMouseLeave:m,onNodeContextMenu:g,selectNodesOnDrag:x,onlyRenderVisibleElements:M,noPanClassName:be,noDragClassName:Oe,disableKeyboardA11y:xe,nodeOrigin:Ee,nodeExtent:$e,rfId:Ue})))};GraphView.displayName="GraphView";var GraphView$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(GraphView);const infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],initialState={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:infiniteExtent,nodeExtent:infiniteExtent,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:devWarn,isValidConnection:void 0},createRFStore=()=>createWithEqualityFn((t,e)=>({...initialState,setNodes:n=>{const{nodeInternals:o,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:createNodeInternals(n,o,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=e();t({edges:n.map(s=>({...o,...s}))})},setDefaultNodesAndEdges:(n,o)=>{const s=typeof n<"u",a=typeof o<"u",l=s?createNodeInternals(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:l,edges:a?o:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:l,fitViewOnInitOptions:d,domNode:h,nodeOrigin:_}=e(),p=h==null?void 0:h.querySelector(".react-flow__viewport");if(!p)return;const u=window.getComputedStyle(p),{m22:m}=new window.DOMMatrixReadOnly(u.transform),g=n.reduce((v,S)=>{const b=s.get(S.id);if(b!=null&&b.hidden)s.set(b.id,{...b,[internalsSymbol]:{...b[internalsSymbol],handleBounds:void 0}});else if(b){const C=getDimensions(S.nodeElement);!!(C.width&&C.height&&(b.width!==C.width||b.height!==C.height||S.forceUpdate))&&(s.set(b.id,{...b,[internalsSymbol]:{...b[internalsSymbol],handleBounds:{source:getHandleBounds(".source",S.nodeElement,m,_),target:getHandleBounds(".target",S.nodeElement,m,_)}},...C}),v.push({id:b.id,type:"dimensions",dimensions:C}))}return v},[]);updateAbsoluteNodePositions(s,_);const y=l||a&&!l&&fitView(e,{initial:!0,...d});t({nodeInternals:new Map(s),fitViewOnInitDone:y}),(g==null?void 0:g.length)>0&&(o==null||o(g))},updateNodePositions:(n,o=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),l=n.map(d=>{const h={id:d.id,type:"position",dragging:s};return o&&(h.positionAbsolute=d.positionAbsolute,h.position=d.position),h});a(l)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:l,getNodes:d,elevateNodesOnSelect:h}=e();if(n!=null&&n.length){if(a){const _=applyNodeChanges(n,d()),p=createNodeInternals(_,s,l,h);t({nodeInternals:p})}o==null||o(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:s,getNodes:a}=e();let l,d=null;o?l=n.map(h=>createSelectionChange(h,!0)):(l=getSelectionChanges(a(),n),d=getSelectionChanges(s,[])),updateNodesAndEdgesSelections({changedNodes:l,changedEdges:d,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:s,getNodes:a}=e();let l,d=null;o?l=n.map(h=>createSelectionChange(h,!0)):(l=getSelectionChanges(s,n),d=getSelectionChanges(a(),[])),updateNodesAndEdgesSelections({changedNodes:d,changedEdges:l,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:o}={})=>{const{edges:s,getNodes:a}=e(),l=n||a(),d=o||s,h=l.map(p=>(p.selected=!1,createSelectionChange(p.id,!1))),_=d.map(p=>createSelectionChange(p.id,!1));updateNodesAndEdgesSelections({changedNodes:h,changedEdges:_,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:s}=e();o==null||o.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:s}=e();o==null||o.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var o;(o=e().d3Zoom)==null||o.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=e(),a=o().filter(d=>d.selected).map(d=>createSelectionChange(d.id,!1)),l=n.filter(d=>d.selected).map(d=>createSelectionChange(d.id,!1));updateNodesAndEdgesSelections({changedNodes:a,changedEdges:l,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:o}=e();o.forEach(s=>{s.positionAbsolute=clampPosition(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(o)})},panBy:n=>{const{transform:o,width:s,height:a,d3Zoom:l,d3Selection:d,translateExtent:h}=e();if(!l||!d||!n.x&&!n.y)return!1;const _=identity$5.translate(o[0]+n.x,o[1]+n.y).scale(o[2]),p=[[0,0],[s,a]],u=l==null?void 0:l.constrain()(_,p,h);return l.transform(d,u),o[0]!==u.x||o[1]!==u.y||o[2]!==u.k},cancelConnection:()=>t({connectionNodeId:initialState.connectionNodeId,connectionHandleId:initialState.connectionHandleId,connectionHandleType:initialState.connectionHandleType,connectionStatus:initialState.connectionStatus,connectionStartHandle:initialState.connectionStartHandle,connectionEndHandle:initialState.connectionEndHandle}),reset:()=>t({...initialState})}),Object.is),ReactFlowProvider=({children:t})=>{const e=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null);return e.current||(e.current=createRFStore()),React$2.createElement(Provider$1,{value:e.current},t)};ReactFlowProvider.displayName="ReactFlowProvider";const Wrapper=({children:t})=>AdminComponentEasyAccessSet__loadShare__react__loadShare__.useContext(StoreContext)?React$2.createElement(React$2.Fragment,null,t):React$2.createElement(ReactFlowProvider,null,t);Wrapper.displayName="ReactFlowWrapper";const defaultNodeTypes={input:InputNode$1,default:DefaultNode$1,output:OutputNode$1,group:GroupNode},defaultEdgeTypes={default:BezierEdge,straight:StraightEdge,step:StepEdge,smoothstep:SmoothStepEdge,simplebezier:SimpleBezierEdge},initNodeOrigin=[0,0],initSnapGrid=[15,15],initDefaultViewport={x:0,y:0,zoom:1},wrapperStyle={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ReactFlow=AdminComponentEasyAccessSet__loadShare__react__loadShare__.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:o,className:s,nodeTypes:a=defaultNodeTypes,edgeTypes:l=defaultEdgeTypes,onNodeClick:d,onEdgeClick:h,onInit:_,onMove:p,onMoveStart:u,onMoveEnd:m,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:b,onNodeMouseEnter:C,onNodeMouseMove:w,onNodeMouseLeave:A,onNodeContextMenu:$,onNodeDoubleClick:E,onNodeDragStart:D,onNodeDrag:I,onNodeDragStop:R,onNodesDelete:O,onEdgesDelete:N,onSelectionChange:M,onSelectionDragStart:k,onSelectionDrag:x,onSelectionDragStop:T,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:P,connectionMode:B=ConnectionMode.Strict,connectionLineType:H=ConnectionLineType.Bezier,connectionLineStyle:j,connectionLineComponent:W,connectionLineContainerStyle:U,deleteKeyCode:G="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:X=!1,selectionMode:q=SelectionMode.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:J=isMacOs()?"Meta":"Control",zoomActivationKeyCode:Q=isMacOs()?"Meta":"Control",snapToGrid:ee=!1,snapGrid:re=initSnapGrid,onlyRenderVisibleElements:ae=!1,selectNodesOnDrag:se=!0,nodesDraggable:ie,nodesConnectable:ce,nodesFocusable:le,nodeOrigin:ne=initNodeOrigin,edgesFocusable:_e,edgesUpdatable:ge,elementsSelectable:Te,defaultViewport:Oe=initDefaultViewport,minZoom:Me=.5,maxZoom:be=2,translateExtent:Le=infiniteExtent,preventScrolling:xe=!0,nodeExtent:Ee,defaultMarkerColor:$e="#b1b1b7",zoomOnScroll:Ue=!0,zoomOnPinch:ve=!0,panOnScroll:fe=!1,panOnScrollSpeed:Ce=.5,panOnScrollMode:We=PanOnScrollMode.Free,zoomOnDoubleClick:He=!0,panOnDrag:De=!0,onPaneClick:Re,onPaneMouseEnter:Ae,onPaneMouseMove:Ye,onPaneMouseLeave:Ne,onPaneScroll:Xe,onPaneContextMenu:rt,children:dt,onEdgeContextMenu:Pe,onEdgeDoubleClick:Je,onEdgeMouseEnter:ot,onEdgeMouseMove:at,onEdgeMouseLeave:st,onEdgeUpdate:Qe,onEdgeUpdateStart:Et,onEdgeUpdateEnd:Ct,onReconnect:$t,onReconnectStart:At,onReconnectEnd:wt,reconnectRadius:pt=10,edgeUpdaterRadius:lt=10,onNodesChange:Ge,onEdgesChange:Tt,noDragClassName:xt="nodrag",noWheelClassName:Dt="nowheel",noPanClassName:ft="nopan",fitView:Rt=!1,fitViewOptions:Fe,connectOnClick:It=!0,attributionPosition:kt,proOptions:Ot,defaultEdgeOptions:Mt,elevateNodesOnSelect:Lt=!0,elevateEdgesOnSelect:ze=!1,disableKeyboardA11y:mt=!1,autoPanOnConnect:Nt=!0,autoPanOnNodeDrag:Pt=!0,connectionRadius:Ft=20,isValidConnection:Bt,onError:tt,style:Ht,id:_t,nodeDragThreshold:je,...jt},Ut)=>{const ct=_t||"1";return React$2.createElement("div",{...jt,style:{...Ht,...wrapperStyle},ref:Ut,className:cc(["react-flow",s]),"data-testid":"rf__wrapper",id:_t},React$2.createElement(Wrapper,null,React$2.createElement(GraphView$1,{onInit:_,onMove:p,onMoveStart:u,onMoveEnd:m,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:C,onNodeMouseMove:w,onNodeMouseLeave:A,onNodeContextMenu:$,onNodeDoubleClick:E,nodeTypes:a,edgeTypes:l,connectionLineType:H,connectionLineStyle:j,connectionLineComponent:W,connectionLineContainerStyle:U,selectionKeyCode:V,selectionOnDrag:X,selectionMode:q,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:Y,zoomActivationKeyCode:Q,onlyRenderVisibleElements:ae,selectNodesOnDrag:se,defaultViewport:Oe,translateExtent:Le,minZoom:Me,maxZoom:be,preventScrolling:xe,zoomOnScroll:Ue,zoomOnPinch:ve,zoomOnDoubleClick:He,panOnScroll:fe,panOnScrollSpeed:Ce,panOnScrollMode:We,panOnDrag:De,onPaneClick:Re,onPaneMouseEnter:Ae,onPaneMouseMove:Ye,onPaneMouseLeave:Ne,onPaneScroll:Xe,onPaneContextMenu:rt,onSelectionContextMenu:L,onSelectionStart:F,onSelectionEnd:P,onEdgeContextMenu:Pe,onEdgeDoubleClick:Je,onEdgeMouseEnter:ot,onEdgeMouseMove:at,onEdgeMouseLeave:st,onReconnect:$t??Qe,onReconnectStart:At??Et,onReconnectEnd:wt??Ct,reconnectRadius:pt??lt,defaultMarkerColor:$e,noDragClassName:xt,noWheelClassName:Dt,noPanClassName:ft,elevateEdgesOnSelect:ze,rfId:ct,disableKeyboardA11y:mt,nodeOrigin:ne,nodeExtent:Ee}),React$2.createElement(StoreUpdater,{nodes:t,edges:e,defaultNodes:n,defaultEdges:o,onConnect:g,onConnectStart:y,onConnectEnd:v,onClickConnectStart:S,onClickConnectEnd:b,nodesDraggable:ie,nodesConnectable:ce,nodesFocusable:le,edgesFocusable:_e,edgesUpdatable:ge,elementsSelectable:Te,elevateNodesOnSelect:Lt,minZoom:Me,maxZoom:be,nodeExtent:Ee,onNodesChange:Ge,onEdgesChange:Tt,snapToGrid:ee,snapGrid:re,connectionMode:B,translateExtent:Le,connectOnClick:It,defaultEdgeOptions:Mt,fitView:Rt,fitViewOptions:Fe,onNodesDelete:O,onEdgesDelete:N,onNodeDragStart:D,onNodeDrag:I,onNodeDragStop:R,onSelectionDrag:x,onSelectionDragStart:k,onSelectionDragStop:T,noPanClassName:ft,nodeOrigin:ne,rfId:ct,autoPanOnConnect:Nt,autoPanOnNodeDrag:Pt,onError:tt,connectionRadius:Ft,isValidConnection:Bt,nodeDragThreshold:je}),React$2.createElement(Wrapper$1,{onSelectionChange:M}),dt,React$2.createElement(Attribution,{proOptions:Ot,position:kt}),React$2.createElement(A11yDescriptions,{rfId:ct,disableKeyboardA11y:mt})))});ReactFlow.displayName="ReactFlow";function PlusIcon(){return React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},React$2.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function MinusIcon(){return React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},React$2.createElement("path",{d:"M0 0h32v4.2H0z"}))}function FitViewIcon(){return React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},React$2.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function LockIcon(){return React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},React$2.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function UnlockIcon(){return React$2.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},React$2.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ControlButton=({children:t,className:e,...n})=>React$2.createElement("button",{type:"button",className:cc(["react-flow__controls-button",e]),...n},t);ControlButton.displayName="ControlButton";const selector$1=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Controls=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:l,onFitView:d,onInteractiveChange:h,className:_,children:p,position:u="bottom-left"})=>{const m=useStoreApi(),[g,y]=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useState(!1),{isInteractive:v,minZoomReached:S,maxZoomReached:b}=useStore(selector$1,shallow$1),{zoomIn:C,zoomOut:w,fitView:A}=useReactFlow();if(AdminComponentEasyAccessSet__loadShare__react__loadShare__.useEffect(()=>{y(!0)},[]),!g)return null;const $=()=>{C(),a==null||a()},E=()=>{w(),l==null||l()},D=()=>{A(s),d==null||d()},I=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),h==null||h(!v)};return React$2.createElement(Panel,{className:cc(["react-flow__controls",_]),position:u,style:t,"data-testid":"rf__controls"},e&&React$2.createElement(React$2.Fragment,null,React$2.createElement(ControlButton,{onClick:$,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},React$2.createElement(PlusIcon,null)),React$2.createElement(ControlButton,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},React$2.createElement(MinusIcon,null))),n&&React$2.createElement(ControlButton,{className:"react-flow__controls-fitview",onClick:D,title:"fit view","aria-label":"fit view"},React$2.createElement(FitViewIcon,null)),o&&React$2.createElement(ControlButton,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity"},v?React$2.createElement(UnlockIcon,null):React$2.createElement(LockIcon,null)),p)};Controls.displayName="Controls";var Controls$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(Controls),BackgroundVariant;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(BackgroundVariant||(BackgroundVariant={}));function LinePattern({color:t,dimensions:e,lineWidth:n}){return React$2.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function DotPattern({color:t,radius:e}){return React$2.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const defaultColor={[BackgroundVariant.Dots]:"#91919a",[BackgroundVariant.Lines]:"#eee",[BackgroundVariant.Cross]:"#e2e2e2"},defaultSize={[BackgroundVariant.Dots]:1,[BackgroundVariant.Lines]:1,[BackgroundVariant.Cross]:6},selector=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Background({id:t,variant:e=BackgroundVariant.Dots,gap:n=20,size:o,lineWidth:s=1,offset:a=2,color:l,style:d,className:h}){const _=AdminComponentEasyAccessSet__loadShare__react__loadShare__.useRef(null),{transform:p,patternId:u}=useStore(selector,shallow$1),m=l||defaultColor[e],g=o||defaultSize[e],y=e===BackgroundVariant.Dots,v=e===BackgroundVariant.Cross,S=Array.isArray(n)?n:[n,n],b=[S[0]*p[2]||1,S[1]*p[2]||1],C=g*p[2],w=v?[C,C]:b,A=y?[C/a,C/a]:[w[0]/a,w[1]/a];return React$2.createElement("svg",{className:cc(["react-flow__background",h]),style:{...d,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:_,"data-testid":"rf__background"},React$2.createElement("pattern",{id:u+t,x:p[0]%b[0],y:p[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},y?React$2.createElement(DotPattern,{color:m,radius:C/a}):React$2.createElement(LinePattern,{dimensions:w,color:m,lineWidth:s})),React$2.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u+t})`}))}Background.displayName="Background";var Background$1=AdminComponentEasyAccessSet__loadShare__react__loadShare__.memo(Background),ErrorCorrectLevel={L:1,M:0,Q:3,H:2},mode$1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},mode=mode$1;function QR8bitByte(t){this.mode=mode.MODE_8BIT_BYTE,this.data=t}QR8bitByte.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var _8BitByte=QR8bitByte,ECL=ErrorCorrectLevel;function QRRSBlock(t,e){this.totalCount=t,this.dataCount=e}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(t,e){var n=QRRSBlock.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var o=n.length/3,s=new Array,a=0;a<o;a++)for(var l=n[a*3+0],d=n[a*3+1],h=n[a*3+2],_=0;_<l;_++)s.push(new QRRSBlock(d,h));return s};QRRSBlock.getRsBlockTable=function(t,e){switch(e){case ECL.L:return QRRSBlock.RS_BLOCK_TABLE[(t-1)*4+0];case ECL.M:return QRRSBlock.RS_BLOCK_TABLE[(t-1)*4+1];case ECL.Q:return QRRSBlock.RS_BLOCK_TABLE[(t-1)*4+2];case ECL.H:return QRRSBlock.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var RSBlock$1=QRRSBlock;function QRBitBuffer(){this.buffer=new Array,this.length=0}QRBitBuffer.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var BitBuffer$1=QRBitBuffer,QRMath={glog:function(t){if(t<1)throw new Error("glog("+t+")");return QRMath.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return QRMath.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;var math$2=QRMath,math$1=math$2;function QRPolynomial(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var o=0;o<t.length-n;o++)this.num[o]=t[o+n]}QRPolynomial.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=math$1.gexp(math$1.glog(this.get(n))+math$1.glog(t.get(o)));return new QRPolynomial(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=math$1.glog(this.get(0))-math$1.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(var o=0;o<t.getLength();o++)n[o]^=math$1.gexp(math$1.glog(t.get(o))+e);return new QRPolynomial(n,0).mod(t)}};var Polynomial$2=QRPolynomial,Mode=mode$1,Polynomial$1=Polynomial$2,math=math$2,QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)e^=QRUtil.G15<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G15);return(t<<10|e)^QRUtil.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)e^=QRUtil.G18<<QRUtil.getBCHDigit(e)-QRUtil.getBCHDigit(QRUtil.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return QRUtil.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case QRMaskPattern.PATTERN000:return(e+n)%2==0;case QRMaskPattern.PATTERN001:return e%2==0;case QRMaskPattern.PATTERN010:return n%3==0;case QRMaskPattern.PATTERN011:return(e+n)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case QRMaskPattern.PATTERN101:return e*n%2+e*n%3==0;case QRMaskPattern.PATTERN110:return(e*n%2+e*n%3)%2==0;case QRMaskPattern.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Polynomial$1([1],0),n=0;n<t;n++)e=e.multiply(new Polynomial$1([1,math.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Mode.MODE_NUMBER:return 10;case Mode.MODE_ALPHA_NUM:return 9;case Mode.MODE_8BIT_BYTE:return 8;case Mode.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Mode.MODE_NUMBER:return 12;case Mode.MODE_ALPHA_NUM:return 11;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Mode.MODE_NUMBER:return 14;case Mode.MODE_ALPHA_NUM:return 13;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,o=0;o<e;o++)for(var s=0;s<e;s++){for(var a=0,l=t.isDark(o,s),d=-1;d<=1;d++)if(!(o+d<0||e<=o+d))for(var h=-1;h<=1;h++)s+h<0||e<=s+h||d==0&&h==0||l==t.isDark(o+d,s+h)&&a++;a>5&&(n+=3+a-5)}for(var o=0;o<e-1;o++)for(var s=0;s<e-1;s++){var _=0;t.isDark(o,s)&&_++,t.isDark(o+1,s)&&_++,t.isDark(o,s+1)&&_++,t.isDark(o+1,s+1)&&_++,(_==0||_==4)&&(n+=3)}for(var o=0;o<e;o++)for(var s=0;s<e-6;s++)t.isDark(o,s)&&!t.isDark(o,s+1)&&t.isDark(o,s+2)&&t.isDark(o,s+3)&&t.isDark(o,s+4)&&!t.isDark(o,s+5)&&t.isDark(o,s+6)&&(n+=40);for(var s=0;s<e;s++)for(var o=0;o<e-6;o++)t.isDark(o,s)&&!t.isDark(o+1,s)&&t.isDark(o+2,s)&&t.isDark(o+3,s)&&t.isDark(o+4,s)&&!t.isDark(o+5,s)&&t.isDark(o+6,s)&&(n+=40);for(var p=0,s=0;s<e;s++)for(var o=0;o<e;o++)t.isDark(o,s)&&p++;var u=Math.abs(100*p/e/e-50)/5;return n+=u*10,n}},util$1=QRUtil,BitByte=_8BitByte,RSBlock=RSBlock$1,BitBuffer=BitBuffer$1,util=util$1,Polynomial=Polynomial$2;function QRCode(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var proto=QRCode.prototype;proto.addData=function(t){var e=new BitByte(t);this.dataList.push(e),this.dataCache=null};proto.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};proto.getModuleCount=function(){return this.moduleCount};proto.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=RSBlock.getRSBlocks(t,this.errorCorrectLevel),n=new BitBuffer,o=0,s=0;s<e.length;s++)o+=e[s].dataCount;for(var s=0;s<this.dataList.length;s++){var a=this.dataList[s];n.put(a.mode,4),n.put(a.getLength(),util.getLengthInBits(a.mode,t)),a.write(n)}if(n.getLengthInBits()<=o*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};proto.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};proto.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(0<=n&&n<=6&&(o==0||o==6)||0<=o&&o<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=o&&o<=4?this.modules[t+n][e+o]=!0:this.modules[t+n][e+o]=!1)};proto.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var o=util.getLostPoint(this);(n==0||t>o)&&(t=o,e=n)}return e};proto.createMovieClip=function(t,e,n){var o=t.createEmptyMovieClip(e,n),s=1;this.make();for(var a=0;a<this.modules.length;a++)for(var l=a*s,d=0;d<this.modules[a].length;d++){var h=d*s,_=this.modules[a][d];_&&(o.beginFill(0,100),o.moveTo(h,l),o.lineTo(h+s,l),o.lineTo(h+s,l+s),o.lineTo(h,l+s),o.endFill())}return o};proto.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};proto.setupPositionAdjustPattern=function(){for(var t=util.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var o=t[e],s=t[n];if(this.modules[o][s]==null)for(var a=-2;a<=2;a++)for(var l=-2;l<=2;l++)a==-2||a==2||l==-2||l==2||a==0&&l==0?this.modules[o+a][s+l]=!0:this.modules[o+a][s+l]=!1}};proto.setupTypeNumber=function(t){for(var e=util.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var o=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=o}for(var n=0;n<18;n++){var o=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=o}};proto.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,o=util.getBCHTypeInfo(n),s=0;s<15;s++){var a=!t&&(o>>s&1)==1;s<6?this.modules[s][8]=a:s<8?this.modules[s+1][8]=a:this.modules[this.moduleCount-15+s][8]=a}for(var s=0;s<15;s++){var a=!t&&(o>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=a:s<9?this.modules[8][15-s-1+1]=a:this.modules[8][15-s-1]=a}this.modules[this.moduleCount-8][8]=!t};proto.mapData=function(t,e){for(var n=-1,o=this.moduleCount-1,s=7,a=0,l=this.moduleCount-1;l>0;l-=2)for(l==6&&l--;;){for(var d=0;d<2;d++)if(this.modules[o][l-d]==null){var h=!1;a<t.length&&(h=(t[a]>>>s&1)==1);var _=util.getMask(e,o,l-d);_&&(h=!h),this.modules[o][l-d]=h,s--,s==-1&&(a++,s=7)}if(o+=n,o<0||this.moduleCount<=o){o-=n,n=-n;break}}};QRCode.PAD0=236;QRCode.PAD1=17;QRCode.createData=function(t,e,n){for(var o=RSBlock.getRSBlocks(t,e),s=new BitBuffer,a=0;a<n.length;a++){var l=n[a];s.put(l.mode,4),s.put(l.getLength(),util.getLengthInBits(l.mode,t)),l.write(s)}for(var d=0,a=0;a<o.length;a++)d+=o[a].dataCount;if(s.getLengthInBits()>d*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+d*8+")");for(s.getLengthInBits()+4<=d*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=d*8||(s.put(QRCode.PAD0,8),s.getLengthInBits()>=d*8));)s.put(QRCode.PAD1,8);return QRCode.createBytes(s,o)};QRCode.createBytes=function(t,e){for(var n=0,o=0,s=0,a=new Array(e.length),l=new Array(e.length),d=0;d<e.length;d++){var h=e[d].dataCount,_=e[d].totalCount-h;o=Math.max(o,h),s=Math.max(s,_),a[d]=new Array(h);for(var p=0;p<a[d].length;p++)a[d][p]=255&t.buffer[p+n];n+=h;var u=util.getErrorCorrectPolynomial(_),m=new Polynomial(a[d],u.getLength()-1),g=m.mod(u);l[d]=new Array(u.getLength()-1);for(var p=0;p<l[d].length;p++){var y=p+g.getLength()-l[d].length;l[d][p]=y>=0?g.get(y):0}}for(var v=0,p=0;p<e.length;p++)v+=e[p].totalCount;for(var S=new Array(v),b=0,p=0;p<o;p++)for(var d=0;d<e.length;d++)p<a[d].length&&(S[b++]=a[d][p]);for(var p=0;p<s;p++)for(var d=0;d<e.length;d++)p<l[d].length&&(S[b++]=l[d][p]);return S};var QRCode_1=QRCode;export{blue as $,AdminComponentEasyAccessSet__loadShare__react__loadShare__ as A,removeClass$1 as B,Connection as C,_assertThisInitialized as D,ERRORS as E,map_1 as F,Global as G,isPlainObject_1 as H,forOwn_1 as I,isString_1 as J,cloneDeep_1 as K,merge as L,throttle as M,tinycolor as N,forEach$1 as O,PROGRESS as P,debounce as Q,React$2 as R,StyleSheet as S,ThemeContext as T,map as U,red as V,pink as W,purple as X,deepPurple as Y,indigo as Z,_objectWithoutPropertiesLoose as _,AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__ as a,lightBlue as a0,cyan as a1,teal as a2,green as a3,lightGreen as a4,lime as a5,yellow as a6,amber as a7,orange as a8,deepOrange as a9,Handle$1 as aA,Position as aB,getBezierPath as aC,JsonConfig as aD,brown as aa,blueGrey as ab,_default$2 as ac,isUndefined$1 as ad,_default$1 as ae,_default as af,fromEvent as ag,Cropper as ah,aceExports as ai,lodash_isequalExports as aj,propTypesExports as ak,extSplitExports as al,lodash_get as am,diffMatchPatchExports as an,ErrorCorrectLevel as ao,QRCode_1 as ap,__vitePreload as aq,init_1 as ar,AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__ as as,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__ as at,AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_json_mf_2_config__loadShare__ as au,applyNodeChanges as av,applyEdgeChanges as aw,ReactFlow as ax,Controls$1 as ay,Background$1 as az,AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_icons_mf_2_material__loadShare__ as b,cronstrue as c,dedupeIntegration as d,PERMISSION_ERROR as e,AdminConnection as f,getCurrentScope as g,PropTypes as h,init as i,React$3 as j,clsx as k,hoistNonReactStatics$1 as l,_extends$2 as m,CacheProvider as n,createCache as o,serializeStyles as p,keyframes as q,css as r,styled as s,typeDetector as t,AdminComponentEasyAccessSet__loadShare__react_mf_2_dom__loadShare__ as u,createPopper as v,schedulerExports as w,_inheritsLoose as x,ReactDOM as y,addClass$1 as z};
